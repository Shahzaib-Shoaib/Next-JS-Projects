var Ts=Object.defineProperty,Ls=Object.defineProperties;var Ps=Object.getOwnPropertyDescriptors;var oa=Object.getOwnPropertySymbols;var Os=Object.prototype.hasOwnProperty,Rs=Object.prototype.propertyIsEnumerable;var Zl=(e,t,n)=>t in e?Ts(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pe=(e,t)=>{for(var n in t||(t={}))Os.call(t,n)&&Zl(e,n,t[n]);if(oa)for(var n of oa(t))Rs.call(t,n)&&Zl(e,n,t[n]);return e},Ve=(e,t)=>Ls(e,Ps(t));var vt=(e,t,n)=>(Zl(e,typeof t!="symbol"?t+"":t,n),n);import{d as Tt,s as Rt,c as js,l as U,b as Ms,e as Us,f as Ns,g as Bs,h as qs,i as zs,j as Ks,k as Hs,B as vl,n as z,u as J,o as F,r as c,p as m,q as C,w as d,t as i,v as E,y as ye,z as S,A as b,C as xe,D as be,E as it,F as Jl,G as At,H as ct,I as ke,J as Q,K as Ae,L as R,M as Pt,N as ae,O as qe,P as Je,Q as et,R as mt,S as T,T as Hn,U as Kt,V as Xe,W as I,X as aa,Y as Ws,Z as x,_ as Ht,$ as Vn,a0 as $e,a1 as Me,a2 as He,a3 as We,a4 as xt,a5 as Gs,a6 as Zs,a7 as Js,a8 as Ql,a9 as ia,aa as ra,ab as sa,ac as Ct,ad as Xl,ae as da,af as yl,ag as hl,ah as Wn,ai as Qs,aj as Xs,ak as Wt,al as ua,am as gl,an as ca,ao as rn,ap as Ys,aq as xs,ar as yt,as as ed,at as td,au as nd,av as ld,aw as od,ax as Ue,ay as pa,az as ad,aA as It,aB as Vt,aC as Yl,aD as id,aE as Ot,aF as xl,aG as ma,aH as eo,aI as fa,aJ as to,aK as _a,aL as rd,aM as sd,aN as dd,aO as ud,aP as cd,aQ as pd,aR as md,aS as fd,aT as _d,aU as vd,aV as yd,aW as hd,aX as gd,aY as bd,aZ as wd,a_ as va,a$ as bl,b0 as $d,b1 as Gn,b2 as kd,b3 as Sd,b4 as Cd,b5 as Vd,b6 as Fd,b7 as Ad,b8 as Id,b9 as Ed,ba as Dd,bb as Td,bc as ya,bd as Ld,be as Pd,bf as Od,bg as Rd,bh as jd,bi as Nt,bj as Md,bk as ha,bl as sn,bm as Ud,bn as Nd,bo as Fn,bp as ga,bq as Bd,br as Bt,bs as qd,bt as zd,bu as Kd,bv as no,bw as ba,bx as Hd,by as Wd,bz as Gd,bA as Zd,bB as Jd,bC as Qd,bD as Xd,bE as Yd,bF as xd}from"./vendor.f59145b7.js";import{u as je,a as dn,d as un,b as ot,g as ht,S as eu,A as tu,E as nu,c as lu,e as wl,f as gt,h as Ne,i as $l,j as kl}from"./use-sync.04f09f9e.js";const ou=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerpolicy&&(u.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?u.credentials="include":o.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}};ou();const wa="9.5.2",bt=Tt({id:"appStore",state:()=>({sidebarOpen:!1,notificationsDrawerOpen:!1,fullScreen:!1,hydrated:!1,hydrating:!1,error:null,authenticated:!1,accessTokenExpiry:0,basemap:"OpenStreetMap"})}),au="modulepreload",$a={},iu="",j=function(t,n){return!n||n.length===0?t():Promise.all(n.map(l=>{if(l=`${iu}${l}`,l in $a)return;$a[l]=!0;const o=l.endsWith(".css"),u=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":au,o||(a.as="script",a.crossOrigin=""),a.href=l,document.head.appendChild(a),o)return new Promise((r,s)=>{a.addEventListener("load",r),a.addEventListener("error",s)})})).then(()=>t())},ru=Rt([]),ka=Rt([]);function Sl(){return{displays:ka,displaysRaw:ru}}function Zn(e){return e?ka.value.find(({id:t})=>t===e):void 0}const su=Rt([]),Sa=Rt([]);function cn(){return{interfaces:Sa,interfacesRaw:su}}function Et(e){return e?Sa.value.find(({id:t})=>t===e):void 0}const du=Rt([]),Ca=Rt([]);function Jn(){return{panels:Ca,panelsRaw:du}}function Va(e){return e?Ca.value.find(({id:t})=>t===e):void 0}const uu=Rt([]),Fa=Rt([]);function An(){return{layouts:Fa,layoutsRaw:uu}}function lo(e){return e?Fa.value.find(({id:t})=>t===e):void 0}const cu=Rt([]),pu=Rt([]);function Cl(){return{modules:pu,modulesRaw:cu}}var mu={"en-US":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!0}},"bg-BG":{short:{year:"numeric",month:"numeric",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"cs-CZ":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"de-DE":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"fr-FR":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"it-IT":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"ms-MY":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"nl-NL":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"pl-PL":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"pt-BR":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"ru-RU":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"zh-CN":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!0}}},fu={"en-US":{currency:{style:"currency",currency:"USD",notation:"standard"},decimal:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2},percent:{style:"percent",useGrouping:!1}}},$={identifier:"Identifier",avatar:"Avatar",application:"Application",default_provider:"Default",published:"Published",draft:"Draft",archived:"Archived",modules:"Modules",module_bar:"Module Bar",tile_size:"Tile Size",edit_field:"Edit Field",conditions:"Conditions",maps:"Maps",switch_user:"Switch User",item_creation:"Item Creation",item_revision:"Item Revision",enter_a_name:"Enter a Name...",duplicate_field:"Duplicate Field",half_width:"Half Width",full_width:"Full Width",group:"Group",and:"And",or:"Or",fill_width:"Fill Width",field_name_translations:"Field Name Translations",enter_password_to_enable_tfa:"Enter your password to enable Two-Factor Authentication",add_field:"Add Field",role_name:"Role Name",branch:"Branch",leaf:"Leaf",indeterminate:"Indeterminate",edit_collection:"Edit Collection",exclusive:"Exclusive",children:"Children",db_only_click_to_configure:"Database Only: Click to Configure",show_active_items:"Show Active Items",show_archived_items:"Show Archived Items",show_all_items:"Show All Items",edited:"Value Edited",required:"Required",required_for_app_access:"Required for App Access",requires_value:"Requires value",create_preset:"Create Preset",create_panel:"Create Panel",create_role:"Create Role",create_user:"Create User",delete_panel:"Delete Panel",create_webhook:"Create Webhook",invite_users:"Invite Users",invite:"Invite",email_already_invited:'Email "{email}" has already been invited',subject:"Subject",inbox:"Inbox",emails:"Emails",connection_excellent:"Excellent Connection",connection_good:"Good Connection",connection_fair:"Fair Connection",connection_poor:"Poor Connection",primary:"Primary",rename_folder:"Rename Folder",delete_folder:"Delete Folder",prefix:"Prefix",suffix:"Suffix",reset_bookmark:"Reset Bookmark",rename_bookmark:"Rename Bookmark",update_bookmark:"Update Bookmark",delete_bookmark:"Delete Bookmark",delete_bookmark_copy:'Are you sure you want to delete the "{bookmark}" bookmark? This action cannot be undone.',logoutReason:{SIGN_OUT:"Signed out",SESSION_EXPIRED:"Session expired"},public_label:"Public",public_description:"Controls what API data is available without authenticating.",admin_description:"Initial administrative role with unrestricted App/API access.",not_allowed:"Not Allowed",directus_version:"Directus Version",node_version:"Node Version",node_uptime:"Node Uptime",os_type:"OS Type",os_version:"OS Version",os_uptime:"OS Uptime",os_totalmem:"OS Memory",archive:"Archive",archive_confirm:"Are you sure you want to archive this item?",archive_confirm_count:"No Items Selected | Are you sure you want to archive this item? | Are you sure you want to archive these {count} items?",reset_system_permissions_to:"Reset System Permissions to:",reset_system_permissions_copy:"This action will overwrite any custom permissions you may have applied to the system collections. Are you sure?",the_following_are_minimum_permissions:'The following are minimum permissions required when "App Access" is enabled. You can extend permissions beyond this, but not below.',app_access_minimum:"App Access Minimum",recommended_defaults:"Recommended Defaults",unarchive:"Unarchive",unarchive_confirm:"Are you sure you want to unarchive this item?",nested_files_folders_will_be_moved:"Nested files and folders will be moved one level up.",unknown_validation_errors:"There were validation errors for the following hidden fields:",validationError:{eq:"Value has to be {valid}",neq:"Value can't be {invalid}",in:"Value has to be one of {valid}",nin:"Value can't be one of {invalid}",contains:"Value has to contain {substring}",ncontains:"Value can't contain {substring}",gt:"Value has to be greater than {valid}",gte:"Value has to be greater than or equal to {valid}",lt:"Value has to be less than {valid}",lte:"Value has to be less than or equal to {valid}",empty:"Value has to be empty",nempty:"Value can't be empty",null:"Value has to be null",nnull:"Value can't be null",required:"Value is required",unique:"Value has to be unique",regex:"Value doesn't have the correct format"},all_access:"All Access",no_access:"No Access",use_custom:"Use Custom",nullable:"Nullable",allow_null_value:"Allow NULL value",allow_multiple:"Allow Multiple",allow_multiple_to_be_open:"Allow Multiple to be Opened",enter_value_to_replace_nulls:"Please enter a new value to replace any NULLs currently within this field.",field_standard:"Standard",field_presentation:"Presentation & Aliases",field_file:"Single File",field_files:"Multiple Files",field_m2o:"M2O Relationship",field_m2a:"M2A Relationship",field_o2m:"O2M Relationship",field_m2m:"M2M Relationship",field_translations:"Translations",field_group:"Field Group",item_permissions:"Item Permissions",field_permissions:"Field Permissions",field_validation:"Field Validation",field_presets:"Field Presets",permissions_for_role:"Items the {role} Role can {action}.",fields_for_role:"Fields the {role} Role can {action}.",validation_for_role:"Field {action} rules the {role} Role must obey.",presets_for_role:"Field value defaults for the {role} Role.",presentation_and_aliases:"Presentation & Aliases",revision_post_create:"Here is what this item looked like when it was created.",revision_post_update:"Here is what this item looked like after the update.",changes_made:"Below are the specific changes made in this revision.",no_relational_data:"Keep in mind that relational data is not included here.",hide_field_on_detail:"Hide Field on Detail",show_field_on_detail:"Show Field on Detail",delete_field:"Delete Field",fields_and_layout:"Fields & Layout",field_create_success:'Created Field: "{field}"',field_update_success:'Updated Field: "{field}"',duplicate_where_to:"Where would you like to duplicate this field to?",language:"Language",aggregate_function:"Aggregate Function",aggregate_precision:"Aggregate Precision",group_aggregation:"Group Aggregation",group_precision:"Group Precision",global:"Global",admins_have_all_permissions:"Admins have all permissions",camera:"Camera",show_zero:"Show Zero",create_in_advanced_field_creation_mode:"Create Field in Advanced Mode",continue_in_advanced_field_creation_mode:"Continue in Advanced Field Creation Mode",sum:"Sum",sum_distinct:"Sum Distinct",avg:"Average",avg_distinct:"Average Distinct",count:"Count",count_distinct:"Count Distinct",min:"Min",max:"Max",exposure:"Exposure",shutter:"Shutter",iso:"ISO",focal_length:"Focal Length",schema_setup_key:"This field's database column name and API key",create_field:"Create Field",creating_new_field:"New Field ({collection})",field_in_collection:"{field} ({collection})",reset_page_preferences:"Reset Page Preferences",hidden_field:"Hidden Field",hidden_on_detail:"Hidden on Detail",disabled_editing_value:"Disable editing value",key:"Key",alias:"Alias",bigInteger:"Big Integer",boolean:"Boolean",date:"Date",date_range:"Date Range",datetime:"DateTime",dateTime:"DateTime",precision:"Precision",decimal:"Decimal",float:"Float",integer:"Integer",json:"JSON",xml:"XML",string:"String",text:"Text",time:"Time",timestamp:"Timestamp",uuid:"UUID",hash:"Hash",geometry:"Geometry (All)","geometry.Point":"Point","geometry.LineString":"LineString","geometry.Polygon":"Polygon","geometry.MultiPoint":"MultiPoint","geometry.MultiLineString":"MultiLineString","geometry.MultiPolygon":"MultiPolygon",not_available_for_type:"Not Available for this Type",create_translations:"Create Translations",auto_refresh:"Auto Refresh",refresh_interval:"Refresh Interval",no_refresh:"Do not refresh",refresh_interval_seconds:"Refresh Instantly | Every Second | Every {seconds} Seconds",refresh_interval_minutes:"Every Minute | Every {minutes} Minutes",auto_generate:"Auto-Generate",this_will_auto_setup_fields_relations:"This will automatically setup all required fields and relations.",click_here:"Click here",to_manually_setup_translations:"to manually setup translations.",click_to_manage_translated_fields:"There are no translated fields yet. Click here to create them. | There is one translated field. Click here to manage it. | There are {count} translated fields. Click here to manage them.",fields_group:"Fields Group",no_collections_found:"No collections found.",new_data_alert:"The following will be created within your Data Model:",search_collection:"Search Collection...",new_field:"New Field",new_collection:"New Collection",add_m2o_to_collection:'Add M2O to "{collection}"',add_o2m_to_collection:'Add O2M to "{collection}"',add_m2m_to_collection:'Add M2M to "{collection}"',choose_a_type:"Choose a Type...",determined_by_relationship:"Determined by Relationship",add_note:"Add a helpful note for users...",add_link:"Add Link",custom_link:"Custom Link",default_value:"Default Value",standard_field:"Standard Field",single_file:"Single File",multiple_files:"Multiple Files",m2o_relationship:"Many to One Relationship",o2m_relationship:"One to Many Relationship",m2m_relationship:"Many to Many Relationship",m2a_relationship:"Many to Any Relationship",invalid_item:"Invalid Item",next:"Next",field_name:"Field Name",translations:"Translations",no_translations:"No Translations",note:"Note",enter_a_value:"Enter a value...",enter_a_placeholder:"Enter a placeholder...",length:"Length",soft_length:"Soft Limit",precision_scale:"Precision & Scale",readonly:"Readonly",unique:"Unique",updated_on:"Updated On",updated_by:"Updated By",primary_key:"Primary Key",foreign_key:"Foreign Key",finish_setup:"Finish Setup",dismiss:"Dismiss",raw_value:"Raw value",copy_raw_value:"Copy Raw Value",copy_raw_value_success:"Copied",copy_raw_value_fail:"Copy Failed",paste_raw_value:"Paste Raw Value",paste_raw_value_success:"Pasted",paste_raw_value_fail:"Paste Failed",view_raw_value:"View Raw Value",edit_raw_value:"Edit Raw Value",enter_raw_value:"Enter raw value...",clear_value:"Clear Value",clear_changes:"Clear Changes",reset_to_default:"Reset to Default",undo_changes:"Undo Changes",notifications:"Notifications",show_all_activity:"Show All Activity",page_not_found:"Page Not Found",page_not_found_body:"The page you are looking for doesn't seem to exist.",confirm_revert:"Confirm Revert",confirm_revert_body:"This will revert the item to the selected state.",display:"Display",settings_update_success:"Settings updated",title:"Title",revision_delta_created:"Created",revision_delta_created_externally:"Created Externally",revision_delta_updated:"Updated 1 Field | Updated {count} Fields",revision_delta_deleted:"Deleted",revision_delta_reverted:"Reverted",revision_delta_other:"Revision",revision_delta_by:"{date} by {user}",private_user:"Private User",creation_preview:"Creation Preview",revision_preview:"Revision Preview",updates_made:"Updates Made",leave_comment:"Leave a comment...",post_comment_success:"Comment posted",item_create_success:"Item Created | Items Created",item_update_success:"Item Updated | Items Updated",item_delete_success:"Item Deleted | Items Deleted",this_collection:"This Collection",related_collection:"Related Collection",related_collections:"Related Collections",translations_collection:"Translation Collection",languages_collection:"Languages Collection",import_data_input_placeholder:"CSV or JSON...",import_data_button:"Start Import",import_data_indeterminate:"Importing Data...",import_data_success:"Data successfully imported from {filename}",import_data_error:"This file's data structure doesn't match the collection.",label_import:"Import",label_export:"Export",import_export:"Import / Export",format:"Format",use_current_filters_settings:"Use Current Filters & Settings",export_data_button:"Start Export",last_page:"Last Page",last_access:"Last Access",fill_template:"Fill with Template Value",a_unique_table_name:"A unique table name...",a_unique_column_name:"A unique column name...",enable_custom_values:"Enable custom values",submit:"Submit",move_to_folder:"Move to Folder",move:"Move",system:"System",add_field_related:"Add Field to Related Collection",interface_label:"Interface",today:"Today",yesterday:"Yesterday",delete_comment:"Delete Comment",delete_share:"Delete Share","date-fns_date":"PPP","date-fns_time":"h:mm:ss a","date-fns_time_no_seconds":"h:mm a","date-fns_time_24hour":"HH:mm:ss","date-fns_time_no_seconds_24hour":"HH:mm","date-fns_date_short":"MMM d, u","date-fns_time_short":"h:mma","date-fns_date_short_no_year":"MMM d",minutes:"Minutes",hours:"Hours",month:"Month",year:"Year",select_all:"Select All",months:{january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},drag_mode:"Drag Mode",cancel_crop:"Cancel Crop",original:"Original",url:"URL",import_label:"Import",file_details:"File Details",dimensions:"Dimensions",size:"Size",created:"Created",modified:"Modified",checksum:"Checksum",owner:"Owner",edited_by:"Edited by",folder:"Folder",zoom:"Zoom",download:"Download",open:"Open",open_in_new_window:"Open in New Window",open_folder:'Open "{folder}" folder',foreground_color:"Foreground Color",background_color:"Background Color",upload_from_device:"Upload File from Device",choose_from_library:"Choose File from Library",import_from_url:"Import File from URL",replace_from_device:"Replace File from Device",replace_from_library:"Replace File from Library",replace_from_url:"Replace File from URL",no_file_selected:"No File Selected",download_file:"Download File",collection_key:"Collection Key",name:"Name",primary_key_field:"Primary Key Field",type:"Type",creating_new_collection:"Creating New Collection",created_by:"Created By",created_on:"Created On",creating_collection_info:"Name the collection and setup its unique \u201Ckey\u201D field...",creating_collection_system:"Enable and rename any of these optional fields.",auto_increment_integer:"Auto-incremented integer",generated_uuid:"Generated UUID",manual_string:"Manually entered string",save_and_create_new:"Save and Create New",save_and_stay:"Save and Stay",save_as_copy:"Save as Copy",add_existing:"Add Existing",creating_items:"Creating Items",enable_create_button:"Enable Create Button",selecting_items:"Selecting Items",enable_select_button:"Enable Select Button",comments:"Comments",no_comments:"No Comments Yet",click_to_expand:"Click to Expand",select_item:"Select Item",no_items:"No items",search_items:"Search items...",disabled:"Disabled",information:"Information",report_bug:"Report Bug",request_feature:"Request Feature",interface_not_found:'Interface "{interface}" not found.',reset_interface:"Reset Interface",display_not_found:'Display "{display}" not found.',reset_display:"Reset Display","list-m2a":"Builder (M2A)",item_count:"No Items | One Item | {count} Items",no_items_copy:"There are no items in this collection yet.",file_count:"No Files | One File | {count} Files",no_files_copy:"There are no files here.",user_count:"No Users | One User | {count} Users",no_users_copy:"There are no users in this role yet.",webhooks_count:"No Webhooks | One Webhook | {count} Webhooks",no_webhooks_copy:"No webhooks have been configured yet. Get started by creating one below.",no_notifications:"No Notifications",no_notifications_copy:"You're all caught up!",activity_log:"Activity Log",all_items:"All Items",any:"Any",csv:"CSV",no_collections:"No Collections",create_collection:"Create Collection",no_collections_copy_admin:"You don\u2019t have any Collections yet. Click the button below to get started.",no_collections_copy:"You don\u2019t have any Collections yet. Please contact your system administrator.",relationship_not_setup:"The relationship hasn't been configured correctly",display_template_not_setup:"The display template option is misconfigured",collection_field_not_setup:"The collection field option is misconfigured",select_a_collection:"Select a Collection",select_a_field:"Select a Field",active:"Active",move_to:"Move To...",copy:"Copy",copy_to:"Copy To...",no_other_dashboards_copy:"You don't have any other Dashboards yet.",inactive:"Inactive",users:"Users",activity:"Activity",activity_item:"Activity Item",action:"Action",ip_address:"IP Address",user_agent:"User Agent",webhooks:"Webhooks",decimals:"Decimals",value_decimals:"Value Decimals",min_value:"Min Value",max_value:"Max Value",automatic:"Automatic",field_width:"Field Width",add_filter:"Add Filter",upper_limit:"Upper limit...",lower_limit:"Lower limit...",user_directory:"User Directory",documentation:"Documentation",sidebar:"Sidebar",duration:"Duration",charset:"Charset",second:"second",file_moved:"File Moved",collection_created:"Collection Created",modified_on:"Modified On",card_size:"Card Size",sort_field:"Sort Field",add_sort_field:"Add Sort Field",sort:"Sort",status:"Status",remove:"Remove",toggle_manual_sorting:"Toggle Manual Sorting",bookmark_doesnt_exist:"Bookmark Doesn't Exist",bookmark_doesnt_exist_copy:"The bookmark you're trying to open couldn't be found.",bookmark_doesnt_exist_cta:"Return to collection",select_an_item:"Select an item...",edit:"Edit",enabled:"Enabled",disable_tfa:"Disable 2FA",tfa_scan_code:"Scan the code in your authenticator app to finish setting up 2FA",enter_otp_to_disable_tfa:"Enter the OTP to disable 2FA",create_account:"Create Account",account_created_successfully:"Account Created Successfully",auto_fill:"Auto Fill",corresponding_field:"Corresponding Field",errors:{COLLECTION_NOT_FOUND:"Collection doesn't exist",FIELD_NOT_FOUND:"Field not found",FORBIDDEN:"Forbidden",INVALID_CREDENTIALS:"Wrong username or password",INVALID_OTP:"Wrong one-time password",INVALID_PAYLOAD:"Invalid payload",INVALID_QUERY:"Invalid query",ITEM_LIMIT_REACHED:"Item limit reached",ITEM_NOT_FOUND:"Item not found",ROUTE_NOT_FOUND:"Not found",RECORD_NOT_UNIQUE:"Duplicate value detected",USER_SUSPENDED:"User Suspended",CONTAINS_NULL_VALUES:"Field contains null values",UNPROCESSABLE_ENTITY:"Unprocessable entity",INTERNAL_SERVER_ERROR:"Unexpected Error",NOT_NULL_VIOLATION:"Value can't be null",ILLEGAL_ASSET_TRANSFORMATION:"Image source too large to preview",VALUE_TOO_LONG:"Value is too long",VALUE_OUT_OF_RANGE:"Value is out of range",INVALID_FOREIGN_KEY:"Invalid foreign key",UNKNOWN:"Unexpected Error"},security:"Security",value_hashed:"Value Securely Hashed",bookmark_name:"Bookmark name...",create_bookmark:"Create Bookmark",edit_bookmark:"Edit Bookmark",bookmarks:"Bookmarks",presets:"Presets",unexpected_error:"Unexpected Error",unexpected_error_copy:"An unexpected error has occurred. Please try again later.",copy_details:"Copy Details",no_app_access:"No App Access",no_app_access_copy:"This user isn't allowed to use the admin app.",password_reset_sent:"We've sent you a secure link to reset your password",password_reset_successful:"Password successfully reset",back:"Back",filter:"Filter",editing_image:"Editing Image",square:"Square",free:"Free",flip_horizontal:"Flip Horizontal",flip_vertical:"Flip Vertical",aspect_ratio:"Aspect Ratio",rotate:"Rotate",all_users:"All Users",delete_collection:"Delete Collection",update_collection_success:"Updated Collection",delete_collection_success:"Deleted Collection",make_collection_visible:"Make Collection Visible",make_collection_hidden:"Make Collection Hidden",make_folder_visible:"Make Folder Visible",make_folder_hidden:"Make Folder Hidden",start_end_of_count_items:"{start}-{end} of {count} items",start_end_of_count_filtered_items:"{start}-{end} of {count} filtered items",one_item:"1 item",one_filtered_item:"1 filtered item",delete_collection_are_you_sure:"Are you sure you want to delete this collection? This will delete the collection and all items in it. This action is permanent.",delete_folder_are_you_sure:"Are you sure you want to delete this folder? Nested folders and collections will be moved to the top most level.",collections_shown:"Collections Shown",visible_collections:"Visible Collections",hidden_collections:"Hidden Collections",show_hidden_collections:"Show Hidden Collections",hide_hidden_collections:"Hide Hidden Collections",show_header:"Show Header",unmanaged_collections:"Unconfigured Collections",system_collections:"System Collections",placeholder:"Placeholder",icon_left:"Icon Left",icon_right:"Icon Right",count_other_revisions:"{count} Other Revisions",font:"Font",sans_serif:"Sans Serif",serif:"Serif",monospace:"Monospace",divider:"Divider",color:"Color",circle:"Circle",empty_item:"Empty Item",log_in_with:"Log In with {provider}",conditional_styles:"Conditional Styles",advanced_settings:"Advanced Settings",advanced_filter:"Advanced Filter",delete_advanced_filter:"Delete Filter",change_advanced_filter_operator:"Change Operator",operators:{eq:"Equals",neq:"Doesn't equal",lt:"Less than",gt:"Greater than",lte:"Less than or equal to",gte:"Greater than or equal to",in:"Is one of",nin:"Is not one of",null:"Is null",nnull:"Isn't null",contains:"Contains",ncontains:"Doesn't contain",starts_with:"Starts with",nstarts_with:"Doesn't start with",ends_with:"Ends with",nends_with:"Doesn't end with",between:"Is between",nbetween:"Isn't between",empty:"Is empty",nempty:"Isn't empty",all:"Contains these keys",has:"Contains some of these keys",intersects:"Intersects",nintersects:"Doesn't intersect",intersects_bbox:"Intersects bounding box",nintersects_bbox:"Doesn't intersect bounding box"},loading:"Loading...",drop_to_upload:"Drop to Upload",item:"Item",items:"Items",upload_file:"Upload File",upload_file_indeterminate:"Uploading File...",upload_file_success:"File Uploaded",upload_files_indeterminate:"Uploading files {done}/{total}",upload_files_success:"{count} Files Uploaded",upload_pending:"Upload Pending",drag_file_here:"Drag & Drop a File Here",click_to_browse:"Click to Browse",interface_options:"Interface Options",layout_options:"Layout Options",rows:"Rows",columns:"Columns",collection_setup:"Collection Setup",optional_system_fields:"Optional System Fields",value_unique:"Value has to be unique",all_activity:"All Activity",create_item:"Create Item",display_template:"Display Template",language_display_template:"Language Display Template",translations_display_template:"Translations Display Template",n_items_selected:"No Items Selected | 1 Item Selected | {n} Items Selected",per_page:"Per Page",all_files:"All Files",my_files:"My Files",recent_files:"Recent Files",create_folder:"Create Folder",edit_folder:"Edit Folder",folder_name:"Folder Name...",folder_key:"Folder Key...",add_file:"Add File",replace_file:"Replace File",no_results:"No Results",no_results_copy:"Adjust or clear search filters to see results.",clear_filters:"Clear Filters",saves_automatically:"Saves Automatically",role:"Role",rule:"Rule",user:"User",no_presets:"No Presets",no_presets_copy:"No presets or bookmarks have been saved yet.",no_presets_cta:"Add Preset",presets_only:"Presets Only",create:"Create",on_create:"On Create",on_update:"On Update",read:"Read",update:"Update",select_fields:"Select Fields",format_text:"Format Text",format_value:"Format Value",abbreviate_value:"Abbreviate Value",operator:"Operator",bold:"Bold",toggle:"Toggle",icon_on:"Icon On",icon_off:"Icon Off",label:"Label",insights:"Insights",dashboard:"Dashboard",panel:"Panel",panel_options:"Panel Options",panel_header:"Panel Header",panel_name_placeholder:"Name this panel...",panel_note_placeholder:"Optional details about this panel...",panel_delete_confirm:"Are you sure you want to delete this panel? This action can not be undone.",dashboard_delete_confirm:"Are you sure you want to delete this dashboard? This action can not be undone.",edit_dashboard:"Edit Dashboard",delete_dashboard:"Delete Dashboard",visible:"Visible",prefix_placeholder:"Text before value...",suffix_placeholder:"Text after value...",decimals_placeholder:"Number of decimal places...",no_dashboards:"No Dashboards",no_dashboards_copy:"You don\u2019t have any Dashboards yet.",no_data:"No Data",create_dashboard:"Create Dashboard",dashboard_name:"Dashboard Name",full_screen:"Full Screen",edit_panels:"Edit Panels",fit_to_screen:"Fit to Screen",image_url:"Image Url",alt_text:"Alternative Text",media:"Media",quality:"Quality",width:"Width",height:"Height",source:"Source",url_placeholder:"Enter an url...",display_text:"Display Text",display_text_placeholder:"Enter a display text...",interface_group_text_and_numbers:"Text & Numbers",interface_group_selection:"Selection",interface_group_relational:"Relational",interface_group_presentation:"Presentation",interface_group_groups:"Groups",interface_group_other:"Other",tooltip:"Tooltip",tooltip_placeholder:"Enter a tooltip...",unlimited:"Unlimited",open_link_in:"Open link in",new_tab:"New tab",current_tab:"Current tab",save_image:"Save Image",save_media:"Save Media",wysiwyg_options:{aligncenter:"Align Center",alignjustify:"Align Justify",alignleft:"Align Left",alignnone:"Align None",alignright:"Align Right",forecolor:"Foreground Color",backcolor:"Background Color",bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",codeblock:"Code",blockquote:"Blockquote",bullist:"Bullet List",numlist:"Numbered List",hr:"Horizontal Rule",link:"Add/Edit Link",unlink:"Remove Link",media:"Add/Edit Media",image:"Add/Edit Image",copy:"Copy",cut:"Cut",paste:"Paste",heading:"Heading",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",fontselect:"Select Font",fontsizeselect:"Select Font Size",indent:"Indent",outdent:"Outdent",undo:"Undo",redo:"Redo",remove:"Remove",removeformat:"Remove Format",selectall:"Select All",table:"Table",visualaid:"View invisible elements",source_code:"Edit Source Code",fullscreen:"Full Screen",directionality:"Directionality"},dropdown:"Dropdown",choices:"Choices",choices_option_configured_incorrectly:"Choices configured incorrectly",deselect:"Deselect",deselect_all:"Deselect All",other:"Other...",adding_user:"Adding User",unknown_user:"Unknown User",creating_in:"Creating Item in {collection}",editing_in:"Editing Item in {collection}",viewing_in:"Viewing Item in {collection}",creating_unit:"Creating {unit}",editing_unit:"Editing {unit}",editing_in_batch:"Batch Editing {count} Items",no_options_available:"No options available",settings_data_model:"Data Model",settings_permissions:"Roles & Permissions",settings_project:"Project Settings",settings_webhooks:"Webhooks",settings_presets:"Presets & Bookmarks",one_or_more_options_are_missing:"One or more options are missing",scope:"Scope",select:"Select...",layout:"Layout",tree_view:"Tree View",changes_are_permanent:"Changes are permanent",preset_name_placeholder:"Serves as default when empty...",preset_search_placeholder:"Search query...",editing_preset:"Editing Preset",layout_preview:"Layout Preview",layout_setup:"Layout Setup",unsaved_changes:"Unsaved Changes",unsaved_changes_copy:"Are you sure you want to leave this page?",discard_changes:"Discard Changes",discard_all_changes:"Discard All Changes",discard_changes_copy:"Are you sure you want to discard all the changes made?",show_x_axis:"Show X Axis",show_y_axis:"Show Y Axis",keep_editing:"Keep Editing",page_help_collections_overview:"**Collections Overview** \u2014 List of all collections you have access to.",page_help_collections_collection:"**Browse Items** \u2014 Lists all {collection} items you have access to. Customize layout, filters, and sorting to tailor your view, and even save bookmarks of these different configurations for quick access.",page_help_collections_item:"**Item Detail** \u2014 A form for viewing and managing this item. This sidebar also contains a full history of revisions, and embedded comments.",page_help_activity_collection:"**Browse Activity** \u2014 A comprehensive listing of all your user's system and content activity.",page_help_docs_global:"**Documentation Overview** \u2014 Docs tailored specifically to this project's version and schema.",page_help_files_collection:"**File Library** \u2014 Lists all file assets uploaded to this project. Customize layout, filters, and sorting to tailor your view, and even save bookmarks of these different configurations for quick access.",page_help_files_item:"**File Detail** \u2014 A form for managing file metadata, editing the original asset, and updating access settings.",page_help_settings_project:"**Project Settings** \u2014 Your project's global configuration options.",page_help_settings_datamodel_collections:"**Data Model: Collections** \u2014 Lists all collections available. This includes visible, hidden, and system collections, as well as unmanaged database tables that can be added.",page_help_settings_datamodel_fields:"**Data Model: Collection** \u2014 A form for managing this collection and its fields.",page_help_settings_roles_collection:"**Browse Roles** \u2014 Lists the Admin, Public and custom User Roles.",page_help_settings_roles_item:"**Role Detail** \u2014 Manage a role's permissions and other settings.",page_help_settings_presets_collection:"**Browse Presets** \u2014 Lists all presets in the project, including: user, role, and global bookmarks, as well as default views.",page_help_settings_presets_item:"**Preset Detail** \u2014 A form for managing bookmarks and default collection presets.",page_help_settings_webhooks_collection:"**Browse Webhooks** \u2014 Lists all webhooks within the project.",page_help_settings_webhooks_item:"**Webhook Detail** \u2014 A form for creating and managing project webhooks.",page_help_users_collection:"**User Directory** \u2014 Lists all system users within this project.",page_help_users_item:"**User Detail** \u2014 Manage your account information, or view the details of other users.",page_help_insights_overview:"**Insights** \u2014 List of dashboards you have access to.",page_help_insights_dashboard:"**Dashboard** \u2014 Workspace for managing one or more panels",activity_feed:"Activity Feed",add_new:"Add New",create_new:"Create New",all:"All",none:"None",no_layout_collection_selected_yet:"No layout/collection selected yet",batch_delete_confirm:"No items have been selected | Are you sure you want to delete this item? This action can not be undone. | Are you sure you want to delete these {count} items? This action can not be undone.",cancel:"Cancel",no_upscale:"Don't upscale images",collection:"Collection",collections:"Collections",content:"Content",singleton:"Singleton",singleton_label:"Treat as single object",system_fields_locked:"System fields are locked and can't be edited",directus_collection:{directus_activity:"Accountability logs for all events",directus_collections:"Additional collection configuration and metadata",directus_dashboards:"Dashboards within the Insights module",directus_fields:"Additional field configuration and metadata",directus_files:"Metadata for all managed file assets",directus_folders:"Provides virtual directories for files",directus_migrations:"What version of the database you're using",directus_panels:"Individual panels within Insights dashboards",directus_permissions:"Access permissions for each role",directus_notifications:"Notifications sent to users",directus_presets:"Presets for collection defaults and bookmarks",directus_relations:"Relationship configuration and metadata",directus_revisions:"Data snapshots for all activity",directus_roles:"Permission groups for system users",directus_sessions:"User session information",directus_settings:"Project configuration options",directus_users:"System users for the platform",directus_webhooks:"Configuration for event-based HTTP requests"},fields:{directus_activity:{item:"Item Primary Key",action:"Action",collection:"Collection",timestamp:"Action On",user:"Action By",comment:"Comment",user_agent:"User Agent",ip:"IP Address",revisions:"Revisions"},directus_collections:{collection:"Collection",icon:"Icon",note:"Note",color:"Color",display_template:"Display Template",hidden:"Hidden",singleton:"Singleton",translations:"Collection Naming Translations",archive_app_filter:"Archive App Filter",archive_value:"Archive Value",unarchive_value:"Unarchive Value",sort_field:"Sort Field",accountability:"Activity & Revision Tracking",archive_field:"Archive Field",item_duplication_fields:"Item Duplication Fields"},directus_files:{$thumbnail:"Thumbnail",title:"Title",description:"Description",tags:"Tags",location:"Location",storage:"Storage",filename_disk:"Filename (Disk)",filename_download:"Filename (Download)",metadata:"Metadata",type:"Mime Type",filesize:"Filesize",modified_by:"Modified By",modified_on:"Modified On",created_on:"Created On",created_by:"Created By",embed:"Embed",uploaded_by:"Uploaded By",folder:"Folder",width:"Width",uploaded_on:"Uploaded On",height:"Height",charset:"Charset",duration:"Duration"},directus_users:{first_name:"First Name",last_name:"Last Name",email:"Email",password:"Password",avatar:"Avatar",location:"Location",title:"Title",description:"Description",tags:"Tags",user_preferences:"User Preferences",language:"Language",theme:"Theme",theme_auto:"Automatic (Based on System)",theme_light:"Light Mode",theme_dark:"Dark Mode",tfa_secret:"Two-Factor Authentication",admin_options:"Admin Options",status:"Status",status_draft:"Draft",status_invited:"Invited",status_active:"Active",status_suspended:"Suspended",status_archived:"Archived",role:"Role",token:"Token",token_placeholder:"Enter a secure access token...",provider:"Provider",external_identifier:"External Identifier",last_page:"Last Page",last_access:"Last Access",email_notifications:"Email Notifications"},directus_settings:{jpg:"JPEG",png:"PNG",webP:"WebP",tiff:"Tiff",mapping:"Mapping",basemaps:"Basemaps",basemaps_raster:"Raster",basemaps_tile:"Raster TileJSON",basemaps_style:"Mapbox Style",mapbox_key:"Mapbox Access Token",mapbox_placeholder:"pk.eyJ1Ijo.....",attribution:"Attribution",attribution_placeholder:"\xA9 OpenStreetMap contributors",transforms_note:"The Sharp method name and its arguments. See https://sharp.pixelplumbing.com/api-constructor for more information.",additional_transforms:"Additional Transformations",project_name:"Project Name",project_descriptor:"Project Descriptor",project_url:"Project URL",project_color:"Project Color",project_logo:"Project Logo",branding:"Branding & Style",public_foreground:"Public Foreground",public_background:"Public Background",public_note:"Public Note",auth_password_policy:"Auth Password Policy",auth_login_attempts:"Auth Login Attempts",files_and_thumbnails:"Files & Storage",storage_default_folder:"Default Folder",storage_asset_presets:"Transformation Presets",storage_asset_transform:"Allowed Transformations",overrides:"App Overrides",custom_css:"Custom CSS",module_bar:"Module Bar",transformations_all:"Allow all transformations",transformations_none:"Disable transformations",transformations_presets:"Limit transformations to presets below"},directus_shares:{name:"Name",role:"Role",password:"Password",date_start:"Date Start",date_end:"Date End",max_uses:"Max Uses",times_used:"Times Used"},directus_fields:{collection:"Collection Name",icon:"Collection Icon",note:"Note",hidden:"Hidden",singleton:"Singleton",translation:"Field Name Translations",display_template:"Template"},directus_roles:{name:"Role Name",icon:"Role Icon",description:"Description",app_access:"App Access",admin_access:"Admin Access",ip_access:"IP Access",enforce_tfa:"Require 2FA",users:"Users in Role",module_list:"Module Navigation"},directus_webhooks:{name:"Name",method:"Method",status:"Status",data:"Data",header:"Header",value:"Value",headers:"Request Headers",data_label:"Send Event Data",triggers:"Triggers",actions:"Actions",collections:"Collections"}},field_options:{directus_settings:{project_name_placeholder:"My project...",project_color_note:"Login & Logo Background",project_logo_note:"White 40x40 SVG/PNG",public_note_placeholder:"A short, public message that supports markdown formatting...",security_divider_title:"Security",auth_password_policy:{none_text:"None \u2013 Not Recommended",weak_text:"Weak \u2013 Minimum 8 Characters",strong_text:"Strong \u2013 Upper / Lowercase / Numbers / Special"},storage_asset_presets:{fit_label:"Fit",upscaling:"Upscaling",fit:{contain_text:"Contain (preserve aspect ratio)",cover_text:"Cover (forces exact size)",fit_text:"Fit inside",outside_text:"Fit outside"}},additional_transforms:"Additional Transformations",transforms_note:"The Sharp method name and its arguments. See https://sharp.pixelplumbing.com/api-constructor for more information.",mapbox_key:"Mapbox Access Token",mapbox_placeholder:"pk.eyJ1Ijo.....",basemaps:"Basemaps",basemaps_name_placeholder:"Enter the basemap name...",basemaps_raster:"Raster",basemaps_tile:"Raster TileJSON",basemaps_style:"Mapbox Style",files_divider_title:"Files & Thumbnails",overrides_divider_title:"App Overrides"},directus_activity:{login:"Login",create:"Create",update:"Update",delete:"Delete"},directus_collections:{track_activity_revisions:"Track Activity & Revisions",only_track_activity:"Only Track Activity",do_not_track_anything:"Do Not Track Anything",collection_setup:"Collection Setup",note_placeholder:"A description of this collection...",hidden_label:"Hide within the App",singleton:"Treat as single object",language:"Language",translation:"Translation",translation_placeholder:"Enter a translation...",collection_name:"Collection Name",singular_unit:"Singular Unit",plural_unit:"Plural Unit",archive_divider:"Archive",archive_field_placeholder:"Choose a field...",archive_app_filter:"Enable App Archive Filter",archive_value:"Value set when archiving...",unarchive_value:"Value set when unarchiving...",sort_divider:"Sort",sort_field:"Choose a field...",accountability_divider:"Accountability",duplication_divider:"Duplication"},directus_files:{title:"A unique title...",description:"An optional description...",location:"An optional location...",storage_divider:"File Naming",filename_disk:"Name on disk storage...",filename_download:"Name when downloading..."},directus_roles:{name:"The unique name for this role...",description:"A description of this role...",ip_access:"Add allowed IP addresses, leave empty to allow all...",fields:{icon_name:"Icon",name_name:"Name",name_placeholder:"Enter a title...",link_name:"Link",link_placeholder:"Relative or absolute URL..."},collections_name:"Collections",collections_addLabel:"Add Collection..."},directus_users:{preferences_divider:"User Preferences",dropdown_auto:"Automatic (Based on System)",dropdown_light:"Light Mode",dropdown_dark:"Dark Mode",admin_divider:"Admin Options",status_dropdown_draft:"Draft",status_dropdown_invited:"Invited",status_dropdown_active:"Active",status_dropdown_suspended:"Suspended",status_dropdown_archived:"Archived",token:"Enter a secure access token..."},directus_webhooks:{status_options_active:"Active",status_options_inactive:"Inactive",data_label:"Send Event Data",triggers_divider:"Triggers",actions_create:"Create",actions_update:"Update",actions_delete:"Delete",actions_login:"Login",headers:{header:"Header",value:"Value",add:"Add Header"}}},no_fields_in_collection:'There are no fields in "{collection}" yet',no_value:"No value",do_nothing:"Do Nothing",generate_and_save_uuid:"Generate and Save UUID",save_current_user_id:"Save Current User ID",save_current_user_role:"Save Current User Role",save_current_datetime:"Save Current Date/Time",always_open:"Always Open",start_open:"Start Open",start_collapsed:"Start Collapsed",block:"Block",inline:"Inline",comment:"Comment",shares:"Shares",unlimited_usage:"Unlimited usage",uses_left:"No uses left | 1 use left | {n} uses left",no_shares:"No shares to show",new_share:"New Share",expired:"Expired",upcoming:"Upcoming",share:"Share",share_item:"Share Item",shared_with_you:"An item has been shared with you",shared_enter_passcode:"Enter your passcode to continue...",shared_leave_blank_for_unlimited:"Leave blank for unlimited",shared_times_remaining:"This link can only be used {n} times",shared_last_remaining:"This link can only be used once",shared_uses_left:"For added security, this shared page has been configured with a limited number of views. There are currently {n} views remaining, after which, the page will no longer be accessible.",share_access_page:"Access Shared Page",share_access_not_found:"This shared page either does not exist or has already exceeded the maximum number of allowed uses.",share_access_not_found_desc:"Please contact an authorized user of this project to request access.",share_access_not_found_title:"Unknown Share Page",share_copy_link:"Copy Link",share_copy_link_success:"Link Copied",share_copy_link_error:"Unable to Copy Link",share_send_link:"Send Link",relational_triggers:"Relational Triggers",referential_action_field_label_m2o:"On Delete of {collection}...",referential_action_field_label_o2m:"On Deselect of {collection}...",referential_action_no_action:"Prevent the deletion",referential_action_cascade:"Delete the {collection} item (cascade)",referential_action_set_null:"Nullify the {field} field",referential_action_set_default:"Set {field} to its default value",choose_action:"Choose Action",continue_label:"Continue",continue_as:"{name} is currently authenticated. If you recognize this account, press continue.",editing_role:"{role} Role",creating_webhook:"Creating Webhook",default_label:"Default",delete_label:"Delete",delete_are_you_sure:"This action is permanent and can not be undone. Are you sure you would like to proceed?",delete_field_are_you_sure:'Are you sure you want to delete the field "{field}"? This action can not be undone.',description:"Description",done:"Done",duplicate:"Duplicate",limit:"Limit",email:"Email",embed:"Embed",fallback_icon:"Fallback Icon",field:"Field | Fields",file:"File",file_library:"File Library",forgot_password:"Forgot Password",hidden:"Hidden",icon:"Icon",info:"Info",normal:"Normal",success:"Success",warning:"Warning",danger:"Danger",junction_collection:"Junction Collection",latency:"Latency",login:"Log in",my_activity:"My Activity",not_authenticated:"Not Authenticated",authenticated:"Authenticated",options:"Options",otp:"One-Time Password",password:"Password",permissions:"Permissions",relationship:"Relationship",reset:"Reset",reset_password:"Reset Password",revisions:"Revisions",no_revisions:"No Revisions Yet",revert:"Revert",save:"Save",schema:"Schema",search:"Search",select_existing:"Select Existing",select_field_type:"Select a field type",select_interface:"Select an interface",settings:"Settings",sign_in:"Sign In",sign_out:"Sign Out",sign_out_confirm:"Are you sure you want to sign out?",something_went_wrong:"Something went wrong.",sort_direction:"Sort Direction",sort_asc:"Sort Ascending",sort_desc:"Sort Descending",template:"Template",require_value_to_be_set:"Require value to be set",translation:"Translation",translation_placeholder:"Enter a translation...",value:"Value",view_project:"View Project",weeks:{},report_error:"Report Error",start:"Start",interfaces:{filter:{name:"Filter",description:"Configure a filter object.",add_filter:"Add Filter",add_group:"And / Or group",add_value:"Add Value",logic_type_and:"AND",logic_type_or:"OR",all:"All",any:"Any",and:"and",of_the_following:"of the following",no_rules:"No configured rules",change_value:"Click to change value",placeholder:"Drag rules here"},"group-accordion":{name:"Accordion",description:"Display fields or groups as accordion sections",start:"Start",all_closed:"All Closed",first_opened:"First Opened",all_opened:"All Opened",accordion_mode:"Accordion Mode",max_one_section_open:"Max 1 Section Open"},"presentation-links":{"presentation-links":"Button Links",links:"Links",description:"Configurable link buttons for launching dynamic URLs",style:"Style",primary:"Primary",link:"Links",button:"Buttons",error:"Cannot perform action"},"select-multiple-checkbox":{checkboxes:"Checkboxes",description:"Choose between multiple options via checkboxes",allow_other:"Allow Other",show_more:"Show {count} more",items_shown:"Items Shown"},"select-multiple-checkbox-tree":{name:"Checkboxes (Tree)",description:"Choose between multiple options via nested checkboxes",value_combining:"Value Combining",value_combining_note:"Controls what value is stored when nested selections are made.",show_all:"Show All",show_selected:"Show Selected"},"input-code":{code:"Code",description:"Write or share code snippets",line_number:"Line Number",line_wrapping:"Line Wrapping",placeholder:"Enter code here..."},"system-collection":{collection:"Collection",description:"Select between existing collections",include_system_collections:"Include System Collections"},"system-collections":{collections:"Collections",description:"Select between existing collections",include_system_collections:"Include System Collections"},"select-color":{color:"Color",description:"Enter or select a color value",placeholder:"Choose a color...",preset_colors:"Preset Colors",opacity:"Opacity",preset_colors_add_label:"Add new color...",name_placeholder:"Enter color name..."},datetime:{datetime:"Datetime",description:"Enter dates and times",include_seconds:"Include Seconds",set_to_now:"Set to Now",use_24:"Use 24-Hour Format"},"system-display-template":{"display-template":"Display Template",description:"Mix static text and dynamic field values",collection_field:"Collection field",collection_field_not_setup:"The collection field option is misconfigured",select_a_collection:"Select a Collection"},"presentation-divider":{divider:"Divider",description:"Label and divide fields into sections",title_placeholder:"Enter a title, or leave blank to only show a line...",inline_title:"Inline Title",inline_title_label:"Show title inside line",margin_top:"Margin Top",margin_top_label:"Increase Top Margin"},"select-dropdown":{description:"Select a value from a dropdown",choices_placeholder:"Add a new choice",allow_other:"Allow Other",allow_other_label:"Allow Other Values",allow_none:"Allow None",allow_none_label:"Allow No Selection",choices_name_placeholder:"Enter a name...",choices_value_placeholder:"Enter a value..."},"select-multiple-dropdown":{"select-multiple-dropdown":"Dropdown (Multiple)",description:"Select multiple values from a dropdown"},file:{file:"File",description:"Select or upload a file"},files:{files:"Files",description:"Select or upload multiple files"},"input-hash":{hash:"Hash",description:"Enter a value to be hashed",masked:"Masked",masked_label:"Hide the true values"},"select-icon":{icon:"Icon",description:"Select an icon from a dropdown",search_for_icon:"Search for icon..."},"file-image":{image:"Image",description:"Select or upload an image",crop:"Crop to Fit",crop_label:"Crop image as needed"},"system-interface":{interface:"Interface",description:"Select an existing interface",placeholder:"Select an interface..."},"system-interface-options":{"interface-options":"Interface Options",description:"A modal for selecting options of an interface"},"list-m2m":{"many-to-many":"Many to Many",description:"Select multiple related junction items",display_template_configure_notice:"You can configure the display template after creating this field."},"select-dropdown-m2o":{"many-to-one":"Many to One",description:"Select a single related item",display_template:"Display Template"},"input-rich-text-md":{markdown:"Markdown",description:"Enter and preview markdown",edit:"Edit",preview:"Preview",editorFont:"Editor Font",previewFont:"Preview Font",customSyntax:"Custom Blocks",customSyntax_label:"Add custom syntax types",customSyntax_add:"Add custom syntax",box:"Block / Inline",imageToken:"Static Access Token",imageToken_label:"Static access token is appended to the assets' URL"},map:{map:"Map",description:"Select a location on a map",zoom:"Zoom",geometry_type:"Geometry Type",geometry_format:"Geometry Format",default_view:"Default View",invalid_options:"Invalid options",invalid_format:"Invalid format ({format})",unexpected_geometry:"Expected {expected}, got {got}.",fit_bounds:"Fit view to data",native:"Native",geojson:"GeoJSON",lnglat:"Longitude, Latitude",wkt:"WKT",wkb:"WKB",click_to_select:"Click to select {geometry}"},"presentation-notice":{notice:"Notice",description:"Display a short notice",text:"Enter notice content here..."},"list-o2m":{"one-to-many":"One to Many",description:"Select multiple related items",no_collection:"The collection could not be found"},"system-folder":{folder:"Folder",description:"Select a folder",field_hint:"Folder for uploaded files. Does not affect existing files.",root_name:"File Library Root",system_default:"System Defaults"},"select-radio":{"radio-buttons":"Radio Buttons",description:"Select one of multiple choices"},list:{repeater:"Repeater",description:"Create multiple entries of the same structure",edit_fields:"Edit Fields",add_label:'"Create New" Label',field_name_placeholder:"Enter field name...",field_note_placeholder:"Enter field note..."},slider:{slider:"Slider",description:"Select a number using a slider",always_show_value:"Always show value"},tags:{tags:"Tags",description:"Select or add tags",whitespace:"Whitespace",hyphen:"Replace with hyphen",underscore:"Replace with underscore",remove:"Remove whitespace",capitalization:"Capitalization",uppercase:"Convert Uppercase",lowercase:"Convert Lowercase",auto_formatter:"Use Title Auto-Formatter",alphabetize:"Alphabetize",alphabetize_label:"Force Alphabetical Order",add_tags:"Add tags..."},input:{input:"Input",description:"Manually enter a value",trim:"Trim",trim_label:"Trim the start and end",mask:"Masked",mask_label:"Hide the real value",clear:"Cleared Value",clear_label:"Save as empty string",minimum_value:"Minimum Value",maximum_value:"Maximum Value",step_interval:"Step Interval",slug:"Slugify",slug_label:"Make entered value URL safe"},"input-multiline":{textarea:"Textarea",description:"Enter multiline plain-text"},boolean:{toggle:"Toggle",description:"Switch between on and off",color_on:"Color On",color_off:"Color Off",label_placeholder:"Enter a label...",label_default:"Enabled"},translations:{display_template:"Display Template",no_collection:"No Collection",toggle_split_view:"Toggle Split View",language_field:"Language Indicator Field"},"list-o2m-tree-view":{description:"Tree view for nested recursive one-to-many items",recursive_only:"The tree view interface only works for recursive relationships."},user:{user:"User",description:"Select an existing directus user",select_mode:"Select Mode",modes:{auto:"Auto",dropdown:"Dropdown",modal:"Modal"}},"input-rich-text-html":{wysiwyg:"WYSIWYG",description:"A rich-text editor writing HTML content",toolbar:"Toolbar",custom_formats:"Custom Formats",options_override:"Options Override",folder_note:"Folder for uploaded files. Does not affect existing files.",imageToken:"Static Access Token",imageToken_label:"Static access token is appended to the assets' URL"},"input-autocomplete-api":{"input-autocomplete-api":"Autocomplete Input (API)",description:"A search typeahead for external API values.",results_path:"Results Path",value_path:"Value Path",text_path:"Text Path",trigger:"Trigger",rate:"Rate"},"group-raw":{name:"Raw Group",description:"Render the fields as-is"},"group-detail":{name:"Detail Group",description:"Render the fields as a collapsable section",show_header:"Show Group Header",header_icon:"Header Icon",header_color:"Header Color",start_open:"Start Open",start_closed:"Start Closed"}},displays:{translations:{translations:"Translations",description:"Preview translations",enable:"Enable",user_language:"Use Current User Language",default_language:"Default Language",language_field:"Language Indicator Field"},boolean:{boolean:"Boolean",description:"Display on and off states",label_on:"Label On",label_on_placeholder:"Enter an on label...",label_off:"Label Off",label_off_placeholder:"Enter an off label...",icon_on:"Icon On",icon_off:"Icon Off",color_on:"Color On",color_off:"Color Off"},collection:{collection:"Collection",description:"Display a collection",icon_label:"Show the collection's icon"},color:{color:"Color",description:"Display a colored dot",default_color:"Default Color"},datetime:{datetime:"Datetime",description:"Display values related to time",format:"Format",format_note:"The custom format accepts the __[Date Field Symbol Table](https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table)__",long:"Long",short:"Short",relative:"Relative",relative_label:"Show relative time, eg: 5 minutes ago"},file:{file:"File",description:"Display files"},filesize:{filesize:"File Size",description:"Display the size of a file"},"formatted-value":{"formatted-value":"Formatted Value",description:"Display a formatted version of the text",format:"Format",format_label:"Auto format",font:"Font",font_sans_serif:"Sans serif",font_serif:"Serif",font_monospace:"Monospace",bold:"Bold",bold_label:"Use bold style",italic:"Italic",italic_label:"Use italic style",prefix:"Prefix",prefix_label:"Prepend text",suffix:"Suffix",suffix_label:"Appended Text",color:"Color",background:"Background",icon:"Icon",border:"Border",border_label:"Show border",text:"Text",text_placeholder:"Optional value override..."},"formatted-json-value":{"formatted-json-value":"Formatted JSON value",description:"Display a formatted version of the object"},icon:{icon:"Icon",description:"Display an icon",filled:"Filled",filled_label:"Use the filled variant"},image:{image:"Image",description:"Display a tiny image preview",circle:"Circle",circle_label:"Display as a circle"},labels:{labels:"Labels",description:"Display either a single or a list of labels",default_foreground:"Default Foreground",default_background:"Default Background",format_label:"Format each label",show_as_dot:"Show As Dot",choices_value_placeholder:"Enter a value...",choices_text_placeholder:"Enter a text..."},"mime-type":{"mime-type":"MIME Type",description:"Show the MIME-Type of a file",extension_only:"Extension Only",extension_only_label:"Only show the file extension"},rating:{rating:"Rating",description:"Visualize a number as stars relative to the max-value",simple:"Simple",simple_label:"Show stars in a simple format"},raw:{raw:"Raw Value"},"related-values":{"related-values":"Related Values",description:"Display relative values",display_template_configure_notice:"You can configure the display template after creating this field."},user:{user:"User",description:"Display a directus user",avatar:"Avatar",name:"Name",both:"Both",circle_label:"Show user in a circle"}},layouts:{cards:{cards:"Cards",image_source:"Image Source",image_fit:"Image Fit",crop:"Crop",contain:"Contain",title:"Title",subtitle:"Subtitle"},tabular:{tabular:"Table",fields:"Fields",spacing:"Spacing",comfortable:"Comfortable",compact:"Compact",cozy:"Cozy"},calendar:{calendar:"Calendar",start_date_field:"Start Date Field",end_date_field:"End Date Field"},map:{map:"Map",basemap:"Basemap",layers:"Layers",cluster_options:"Clustering options",cluster:"Cluster Nearby Data",cluster_radius:"Cluster radius",cluster_minpoints:"Cluster minimum size",cluster_maxzoom:"Maximum zoom for clustering",field:"Geospatial Field",invalid_geometry:"Invalid geometry",find_location:"Find location...",default_template:"Using Collection Default...",no_compatible_fields:"No compatible fields"}},panels:{metric:{name:"Metric",description:"Show a single value based on a query",field:"Field"},time_series:{name:"Time Series",description:"Render a line chart based on values over time",date_field:"Date Field",value_field:"Value Field",fill_type:"Fill Type",curve_type:"Curve Type"},label:{name:"Label",description:"Show some text"},list:{name:"List",description:"Filter and list fields from a collection"}}},_u=$.identifier,vu=$.avatar,yu=$.application,hu=$.default_provider,gu=$.published,bu=$.draft,wu=$.archived,$u=$.modules,ku=$.module_bar,Su=$.tile_size,Cu=$.edit_field,Vu=$.conditions,Fu=$.maps,Au=$.switch_user,Iu=$.item_creation,Eu=$.item_revision,Du=$.enter_a_name,Tu=$.duplicate_field,Lu=$.half_width,Pu=$.full_width,Ou=$.group,Ru=$.and,ju=$.or,Mu=$.fill_width,Uu=$.field_name_translations,Nu=$.enter_password_to_enable_tfa,Bu=$.add_field,qu=$.role_name,zu=$.branch,Ku=$.leaf,Hu=$.indeterminate,Wu=$.edit_collection,Gu=$.exclusive,Zu=$.children,Ju=$.db_only_click_to_configure,Qu=$.show_active_items,Xu=$.show_archived_items,Yu=$.show_all_items,xu=$.edited,ec=$.required,tc=$.required_for_app_access,nc=$.requires_value,lc=$.create_preset,oc=$.create_panel,ac=$.create_role,ic=$.create_user,rc=$.delete_panel,sc=$.create_webhook,dc=$.invite_users,uc=$.invite,cc=$.email_already_invited,pc=$.subject,mc=$.inbox,fc=$.emails,_c=$.connection_excellent,vc=$.connection_good,yc=$.connection_fair,hc=$.connection_poor,gc=$.primary,bc=$.rename_folder,wc=$.delete_folder,$c=$.prefix,kc=$.suffix,Sc=$.reset_bookmark,Cc=$.rename_bookmark,Vc=$.update_bookmark,Fc=$.delete_bookmark,Ac=$.delete_bookmark_copy,Ic=$.logoutReason,Ec=$.public_label,Dc=$.public_description,Tc=$.admin_description,Lc=$.not_allowed,Pc=$.directus_version,Oc=$.node_version,Rc=$.node_uptime,jc=$.os_type,Mc=$.os_version,Uc=$.os_uptime,Nc=$.os_totalmem,Bc=$.archive,qc=$.archive_confirm,zc=$.archive_confirm_count,Kc=$.reset_system_permissions_to,Hc=$.reset_system_permissions_copy,Wc=$.the_following_are_minimum_permissions,Gc=$.app_access_minimum,Zc=$.recommended_defaults,Jc=$.unarchive,Qc=$.unarchive_confirm,Xc=$.nested_files_folders_will_be_moved,Yc=$.unknown_validation_errors,xc=$.validationError,ep=$.all_access,tp=$.no_access,np=$.use_custom,lp=$.nullable,op=$.allow_null_value,ap=$.allow_multiple,ip=$.allow_multiple_to_be_open,rp=$.enter_value_to_replace_nulls,sp=$.field_standard,dp=$.field_presentation,up=$.field_file,cp=$.field_files,pp=$.field_m2o,mp=$.field_m2a,fp=$.field_o2m,_p=$.field_m2m,vp=$.field_translations,yp=$.field_group,hp=$.item_permissions,gp=$.field_permissions,bp=$.field_validation,wp=$.field_presets,$p=$.permissions_for_role,kp=$.fields_for_role,Sp=$.validation_for_role,Cp=$.presets_for_role,Vp=$.presentation_and_aliases,Fp=$.revision_post_create,Ap=$.revision_post_update,Ip=$.changes_made,Ep=$.no_relational_data,Dp=$.hide_field_on_detail,Tp=$.show_field_on_detail,Lp=$.delete_field,Pp=$.fields_and_layout,Op=$.field_create_success,Rp=$.field_update_success,jp=$.duplicate_where_to,Mp=$.language,Up=$.aggregate_function,Np=$.aggregate_precision,Bp=$.group_aggregation,qp=$.group_precision,zp=$.global,Kp=$.admins_have_all_permissions,Hp=$.camera,Wp=$.show_zero,Gp=$.create_in_advanced_field_creation_mode,Zp=$.continue_in_advanced_field_creation_mode,Jp=$.sum,Qp=$.sum_distinct,Xp=$.avg,Yp=$.avg_distinct,xp=$.count,em=$.count_distinct,tm=$.min,nm=$.max,lm=$.exposure,om=$.shutter,am=$.iso,im=$.focal_length,rm=$.schema_setup_key,sm=$.create_field,dm=$.creating_new_field,um=$.field_in_collection,cm=$.reset_page_preferences,pm=$.hidden_field,mm=$.hidden_on_detail,fm=$.disabled_editing_value,_m=$.key,vm=$.alias,ym=$.bigInteger,hm=$.boolean,gm=$.date,bm=$.date_range,wm=$.datetime,$m=$.dateTime,km=$.precision,Sm=$.decimal,Cm=$.float,Vm=$.integer,Fm=$.json,Am=$.xml,Im=$.string,Em=$.text,Dm=$.time,Tm=$.timestamp,Lm=$.uuid,Pm=$.hash,Om=$.geometry,Rm=$.not_available_for_type,jm=$.create_translations,Mm=$.auto_refresh,Um=$.refresh_interval,Nm=$.no_refresh,Bm=$.refresh_interval_seconds,qm=$.refresh_interval_minutes,zm=$.auto_generate,Km=$.this_will_auto_setup_fields_relations,Hm=$.click_here,Wm=$.to_manually_setup_translations,Gm=$.click_to_manage_translated_fields,Zm=$.fields_group,Jm=$.no_collections_found,Qm=$.new_data_alert,Xm=$.search_collection,Ym=$.new_field,xm=$.new_collection,ef=$.add_m2o_to_collection,tf=$.add_o2m_to_collection,nf=$.add_m2m_to_collection,lf=$.choose_a_type,of=$.determined_by_relationship,af=$.add_note,rf=$.add_link,sf=$.custom_link,df=$.default_value,uf=$.standard_field,cf=$.single_file,pf=$.multiple_files,mf=$.m2o_relationship,ff=$.o2m_relationship,_f=$.m2m_relationship,vf=$.m2a_relationship,yf=$.invalid_item,hf=$.next,gf=$.field_name,bf=$.translations,wf=$.no_translations,$f=$.note,kf=$.enter_a_value,Sf=$.enter_a_placeholder,Cf=$.length,Vf=$.soft_length,Ff=$.precision_scale,Af=$.readonly,If=$.unique,Ef=$.updated_on,Df=$.updated_by,Tf=$.primary_key,Lf=$.foreign_key,Pf=$.finish_setup,Of=$.dismiss,Rf=$.raw_value,jf=$.copy_raw_value,Mf=$.copy_raw_value_success,Uf=$.copy_raw_value_fail,Nf=$.paste_raw_value,Bf=$.paste_raw_value_success,qf=$.paste_raw_value_fail,zf=$.view_raw_value,Kf=$.edit_raw_value,Hf=$.enter_raw_value,Wf=$.clear_value,Gf=$.clear_changes,Zf=$.reset_to_default,Jf=$.undo_changes,Qf=$.notifications,Xf=$.show_all_activity,Yf=$.page_not_found,xf=$.page_not_found_body,e_=$.confirm_revert,t_=$.confirm_revert_body,n_=$.display,l_=$.settings_update_success,o_=$.title,a_=$.revision_delta_created,i_=$.revision_delta_created_externally,r_=$.revision_delta_updated,s_=$.revision_delta_deleted,d_=$.revision_delta_reverted,u_=$.revision_delta_other,c_=$.revision_delta_by,p_=$.private_user,m_=$.creation_preview,f_=$.revision_preview,__=$.updates_made,v_=$.leave_comment,y_=$.post_comment_success,h_=$.item_create_success,g_=$.item_update_success,b_=$.item_delete_success,w_=$.this_collection,$_=$.related_collection,k_=$.related_collections,S_=$.translations_collection,C_=$.languages_collection,V_=$.import_data_input_placeholder,F_=$.import_data_button,A_=$.import_data_indeterminate,I_=$.import_data_success,E_=$.import_data_error,D_=$.label_import,T_=$.label_export,L_=$.import_export,P_=$.format,O_=$.use_current_filters_settings,R_=$.export_data_button,j_=$.last_page,M_=$.last_access,U_=$.fill_template,N_=$.a_unique_table_name,B_=$.a_unique_column_name,q_=$.enable_custom_values,z_=$.submit,K_=$.move_to_folder,H_=$.move,W_=$.system,G_=$.add_field_related,Z_=$.interface_label,J_=$.today,Q_=$.yesterday,X_=$.delete_comment,Y_=$.delete_share,x_=$.minutes,ev=$.hours,tv=$.month,nv=$.year,lv=$.select_all,ov=$.months,av=$.drag_mode,iv=$.cancel_crop,rv=$.original,sv=$.url,dv=$.import_label,uv=$.file_details,cv=$.dimensions,pv=$.size,mv=$.created,fv=$.modified,_v=$.checksum,vv=$.owner,yv=$.edited_by,hv=$.folder,gv=$.zoom,bv=$.download,wv=$.open,$v=$.open_in_new_window,kv=$.open_folder,Sv=$.foreground_color,Cv=$.background_color,Vv=$.upload_from_device,Fv=$.choose_from_library,Av=$.import_from_url,Iv=$.replace_from_device,Ev=$.replace_from_library,Dv=$.replace_from_url,Tv=$.no_file_selected,Lv=$.download_file,Pv=$.collection_key,Ov=$.name,Rv=$.primary_key_field,jv=$.type,Mv=$.creating_new_collection,Uv=$.created_by,Nv=$.created_on,Bv=$.creating_collection_info,qv=$.creating_collection_system,zv=$.auto_increment_integer,Kv=$.generated_uuid,Hv=$.manual_string,Wv=$.save_and_create_new,Gv=$.save_and_stay,Zv=$.save_as_copy,Jv=$.add_existing,Qv=$.creating_items,Xv=$.enable_create_button,Yv=$.selecting_items,xv=$.enable_select_button,ey=$.comments,ty=$.no_comments,ny=$.click_to_expand,ly=$.select_item,oy=$.no_items,ay=$.search_items,iy=$.disabled,ry=$.information,sy=$.report_bug,dy=$.request_feature,uy=$.interface_not_found,cy=$.reset_interface,py=$.display_not_found,my=$.reset_display,fy=$.item_count,_y=$.no_items_copy,vy=$.file_count,yy=$.no_files_copy,hy=$.user_count,gy=$.no_users_copy,by=$.webhooks_count,wy=$.no_webhooks_copy,$y=$.no_notifications,ky=$.no_notifications_copy,Sy=$.activity_log,Cy=$.all_items,Vy=$.any,Fy=$.csv,Ay=$.no_collections,Iy=$.create_collection,Ey=$.no_collections_copy_admin,Dy=$.no_collections_copy,Ty=$.relationship_not_setup,Ly=$.display_template_not_setup,Py=$.collection_field_not_setup,Oy=$.select_a_collection,Ry=$.select_a_field,jy=$.active,My=$.move_to,Uy=$.copy,Ny=$.copy_to,By=$.no_other_dashboards_copy,qy=$.inactive,zy=$.users,Ky=$.activity,Hy=$.activity_item,Wy=$.action,Gy=$.ip_address,Zy=$.user_agent,Jy=$.webhooks,Qy=$.decimals,Xy=$.value_decimals,Yy=$.min_value,xy=$.max_value,eh=$.automatic,th=$.field_width,nh=$.add_filter,lh=$.upper_limit,oh=$.lower_limit,ah=$.user_directory,ih=$.documentation,rh=$.sidebar,sh=$.duration,dh=$.charset,uh=$.second,ch=$.file_moved,ph=$.collection_created,mh=$.modified_on,fh=$.card_size,_h=$.sort_field,vh=$.add_sort_field,yh=$.sort,hh=$.status,gh=$.remove,bh=$.toggle_manual_sorting,wh=$.bookmark_doesnt_exist,$h=$.bookmark_doesnt_exist_copy,kh=$.bookmark_doesnt_exist_cta,Sh=$.select_an_item,Ch=$.edit,Vh=$.enabled,Fh=$.disable_tfa,Ah=$.tfa_scan_code,Ih=$.enter_otp_to_disable_tfa,Eh=$.create_account,Dh=$.account_created_successfully,Th=$.auto_fill,Lh=$.corresponding_field,Ph=$.errors,Oh=$.security,Rh=$.value_hashed,jh=$.bookmark_name,Mh=$.create_bookmark,Uh=$.edit_bookmark,Nh=$.bookmarks,Bh=$.presets,qh=$.unexpected_error,zh=$.unexpected_error_copy,Kh=$.copy_details,Hh=$.no_app_access,Wh=$.no_app_access_copy,Gh=$.password_reset_sent,Zh=$.password_reset_successful,Jh=$.back,Qh=$.filter,Xh=$.editing_image,Yh=$.square,xh=$.free,eg=$.flip_horizontal,tg=$.flip_vertical,ng=$.aspect_ratio,lg=$.rotate,og=$.all_users,ag=$.delete_collection,ig=$.update_collection_success,rg=$.delete_collection_success,sg=$.make_collection_visible,dg=$.make_collection_hidden,ug=$.make_folder_visible,cg=$.make_folder_hidden,pg=$.start_end_of_count_items,mg=$.start_end_of_count_filtered_items,fg=$.one_item,_g=$.one_filtered_item,vg=$.delete_collection_are_you_sure,yg=$.delete_folder_are_you_sure,hg=$.collections_shown,gg=$.visible_collections,bg=$.hidden_collections,wg=$.show_hidden_collections,$g=$.hide_hidden_collections,kg=$.show_header,Sg=$.unmanaged_collections,Cg=$.system_collections,Vg=$.placeholder,Fg=$.icon_left,Ag=$.icon_right,Ig=$.count_other_revisions,Eg=$.font,Dg=$.sans_serif,Tg=$.serif,Lg=$.monospace,Pg=$.divider,Og=$.color,Rg=$.circle,jg=$.empty_item,Mg=$.log_in_with,Ug=$.conditional_styles,Ng=$.advanced_settings,Bg=$.advanced_filter,qg=$.delete_advanced_filter,zg=$.change_advanced_filter_operator,Kg=$.operators,Hg=$.loading,Wg=$.drop_to_upload,Gg=$.item,Zg=$.items,Jg=$.upload_file,Qg=$.upload_file_indeterminate,Xg=$.upload_file_success,Yg=$.upload_files_indeterminate,xg=$.upload_files_success,e1=$.upload_pending,t1=$.drag_file_here,n1=$.click_to_browse,l1=$.interface_options,o1=$.layout_options,a1=$.rows,i1=$.columns,r1=$.collection_setup,s1=$.optional_system_fields,d1=$.value_unique,u1=$.all_activity,c1=$.create_item,p1=$.display_template,m1=$.language_display_template,f1=$.translations_display_template,_1=$.n_items_selected,v1=$.per_page,y1=$.all_files,h1=$.my_files,g1=$.recent_files,b1=$.create_folder,w1=$.edit_folder,$1=$.folder_name,k1=$.folder_key,S1=$.add_file,C1=$.replace_file,V1=$.no_results,F1=$.no_results_copy,A1=$.clear_filters,I1=$.saves_automatically,E1=$.role,D1=$.rule,T1=$.user,L1=$.no_presets,P1=$.no_presets_copy,O1=$.no_presets_cta,R1=$.presets_only,j1=$.create,M1=$.on_create,U1=$.on_update,N1=$.read,B1=$.update,q1=$.select_fields,z1=$.format_text,K1=$.format_value,H1=$.abbreviate_value,W1=$.operator,G1=$.bold,Z1=$.toggle,J1=$.icon_on,Q1=$.icon_off,X1=$.label,Y1=$.insights,x1=$.dashboard,eb=$.panel,tb=$.panel_options,nb=$.panel_header,lb=$.panel_name_placeholder,ob=$.panel_note_placeholder,ab=$.panel_delete_confirm,ib=$.dashboard_delete_confirm,rb=$.edit_dashboard,sb=$.delete_dashboard,db=$.visible,ub=$.prefix_placeholder,cb=$.suffix_placeholder,pb=$.decimals_placeholder,mb=$.no_dashboards,fb=$.no_dashboards_copy,_b=$.no_data,vb=$.create_dashboard,yb=$.dashboard_name,hb=$.full_screen,gb=$.edit_panels,bb=$.fit_to_screen,wb=$.image_url,$b=$.alt_text,kb=$.media,Sb=$.quality,Cb=$.width,Vb=$.height,Fb=$.source,Ab=$.url_placeholder,Ib=$.display_text,Eb=$.display_text_placeholder,Db=$.interface_group_text_and_numbers,Tb=$.interface_group_selection,Lb=$.interface_group_relational,Pb=$.interface_group_presentation,Ob=$.interface_group_groups,Rb=$.interface_group_other,jb=$.tooltip,Mb=$.tooltip_placeholder,Ub=$.unlimited,Nb=$.open_link_in,Bb=$.new_tab,qb=$.current_tab,zb=$.save_image,Kb=$.save_media,Hb=$.wysiwyg_options,Wb=$.dropdown,Gb=$.choices,Zb=$.choices_option_configured_incorrectly,Jb=$.deselect,Qb=$.deselect_all,Xb=$.other,Yb=$.adding_user,xb=$.unknown_user,e0=$.creating_in,t0=$.editing_in,n0=$.viewing_in,l0=$.creating_unit,o0=$.editing_unit,a0=$.editing_in_batch,i0=$.no_options_available,r0=$.settings_data_model,s0=$.settings_permissions,d0=$.settings_project,u0=$.settings_webhooks,c0=$.settings_presets,p0=$.one_or_more_options_are_missing,m0=$.scope,f0=$.select,_0=$.layout,v0=$.tree_view,y0=$.changes_are_permanent,h0=$.preset_name_placeholder,g0=$.preset_search_placeholder,b0=$.editing_preset,w0=$.layout_preview,$0=$.layout_setup,k0=$.unsaved_changes,S0=$.unsaved_changes_copy,C0=$.discard_changes,V0=$.discard_all_changes,F0=$.discard_changes_copy,A0=$.show_x_axis,I0=$.show_y_axis,E0=$.keep_editing,D0=$.page_help_collections_overview,T0=$.page_help_collections_collection,L0=$.page_help_collections_item,P0=$.page_help_activity_collection,O0=$.page_help_docs_global,R0=$.page_help_files_collection,j0=$.page_help_files_item,M0=$.page_help_settings_project,U0=$.page_help_settings_datamodel_collections,N0=$.page_help_settings_datamodel_fields,B0=$.page_help_settings_roles_collection,q0=$.page_help_settings_roles_item,z0=$.page_help_settings_presets_collection,K0=$.page_help_settings_presets_item,H0=$.page_help_settings_webhooks_collection,W0=$.page_help_settings_webhooks_item,G0=$.page_help_users_collection,Z0=$.page_help_users_item,J0=$.page_help_insights_overview,Q0=$.page_help_insights_dashboard,X0=$.activity_feed,Y0=$.add_new,x0=$.create_new,e2=$.all,t2=$.none,n2=$.no_layout_collection_selected_yet,l2=$.batch_delete_confirm,o2=$.cancel,a2=$.no_upscale,i2=$.collection,r2=$.collections,s2=$.content,d2=$.singleton,u2=$.singleton_label,c2=$.system_fields_locked,p2=$.directus_collection,m2=$.fields,f2=$.field_options,_2=$.no_fields_in_collection,v2=$.no_value,y2=$.do_nothing,h2=$.generate_and_save_uuid,g2=$.save_current_user_id,b2=$.save_current_user_role,w2=$.save_current_datetime,$2=$.always_open,k2=$.start_open,S2=$.start_collapsed,C2=$.block,V2=$.inline,F2=$.comment,A2=$.shares,I2=$.unlimited_usage,E2=$.uses_left,D2=$.no_shares,T2=$.new_share,L2=$.expired,P2=$.upcoming,O2=$.share,R2=$.share_item,j2=$.shared_with_you,M2=$.shared_enter_passcode,U2=$.shared_leave_blank_for_unlimited,N2=$.shared_times_remaining,B2=$.shared_last_remaining,q2=$.shared_uses_left,z2=$.share_access_page,K2=$.share_access_not_found,H2=$.share_access_not_found_desc,W2=$.share_access_not_found_title,G2=$.share_copy_link,Z2=$.share_copy_link_success,J2=$.share_copy_link_error,Q2=$.share_send_link,X2=$.relational_triggers,Y2=$.referential_action_field_label_m2o,x2=$.referential_action_field_label_o2m,ew=$.referential_action_no_action,tw=$.referential_action_cascade,nw=$.referential_action_set_null,lw=$.referential_action_set_default,ow=$.choose_action,aw=$.continue_label,iw=$.continue_as,rw=$.editing_role,sw=$.creating_webhook,dw=$.default_label,uw=$.delete_label,cw=$.delete_are_you_sure,pw=$.delete_field_are_you_sure,mw=$.description,fw=$.done,_w=$.duplicate,vw=$.limit,yw=$.email,hw=$.embed,gw=$.fallback_icon,bw=$.field,ww=$.file,$w=$.file_library,kw=$.forgot_password,Sw=$.hidden,Cw=$.icon,Vw=$.info,Fw=$.normal,Aw=$.success,Iw=$.warning,Ew=$.danger,Dw=$.junction_collection,Tw=$.latency,Lw=$.login,Pw=$.my_activity,Ow=$.not_authenticated,Rw=$.authenticated,jw=$.options,Mw=$.otp,Uw=$.password,Nw=$.permissions,Bw=$.relationship,qw=$.reset,zw=$.reset_password,Kw=$.revisions,Hw=$.no_revisions,Ww=$.revert,Gw=$.save,Zw=$.schema,Jw=$.search,Qw=$.select_existing,Xw=$.select_field_type,Yw=$.select_interface,xw=$.settings,e$=$.sign_in,t$=$.sign_out,n$=$.sign_out_confirm,l$=$.something_went_wrong,o$=$.sort_direction,a$=$.sort_asc,i$=$.sort_desc,r$=$.template,s$=$.require_value_to_be_set,d$=$.translation,u$=$.translation_placeholder,c$=$.value,p$=$.view_project,m$=$.weeks,f$=$.report_error,_$=$.start,v$=$.interfaces,y$=$.displays,h$=$.layouts,g$=$.panels,b$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$,identifier:_u,avatar:vu,application:yu,default_provider:hu,published:gu,draft:bu,archived:wu,modules:$u,module_bar:ku,tile_size:Su,edit_field:Cu,conditions:Vu,maps:Fu,switch_user:Au,item_creation:Iu,item_revision:Eu,enter_a_name:Du,duplicate_field:Tu,half_width:Lu,full_width:Pu,group:Ou,and:Ru,or:ju,fill_width:Mu,field_name_translations:Uu,enter_password_to_enable_tfa:Nu,add_field:Bu,role_name:qu,branch:zu,leaf:Ku,indeterminate:Hu,edit_collection:Wu,exclusive:Gu,children:Zu,db_only_click_to_configure:Ju,show_active_items:Qu,show_archived_items:Xu,show_all_items:Yu,edited:xu,required:ec,required_for_app_access:tc,requires_value:nc,create_preset:lc,create_panel:oc,create_role:ac,create_user:ic,delete_panel:rc,create_webhook:sc,invite_users:dc,invite:uc,email_already_invited:cc,subject:pc,inbox:mc,emails:fc,connection_excellent:_c,connection_good:vc,connection_fair:yc,connection_poor:hc,primary:gc,rename_folder:bc,delete_folder:wc,prefix:$c,suffix:kc,reset_bookmark:Sc,rename_bookmark:Cc,update_bookmark:Vc,delete_bookmark:Fc,delete_bookmark_copy:Ac,logoutReason:Ic,public_label:Ec,public_description:Dc,admin_description:Tc,not_allowed:Lc,directus_version:Pc,node_version:Oc,node_uptime:Rc,os_type:jc,os_version:Mc,os_uptime:Uc,os_totalmem:Nc,archive:Bc,archive_confirm:qc,archive_confirm_count:zc,reset_system_permissions_to:Kc,reset_system_permissions_copy:Hc,the_following_are_minimum_permissions:Wc,app_access_minimum:Gc,recommended_defaults:Zc,unarchive:Jc,unarchive_confirm:Qc,nested_files_folders_will_be_moved:Xc,unknown_validation_errors:Yc,validationError:xc,all_access:ep,no_access:tp,use_custom:np,nullable:lp,allow_null_value:op,allow_multiple:ap,allow_multiple_to_be_open:ip,enter_value_to_replace_nulls:rp,field_standard:sp,field_presentation:dp,field_file:up,field_files:cp,field_m2o:pp,field_m2a:mp,field_o2m:fp,field_m2m:_p,field_translations:vp,field_group:yp,item_permissions:hp,field_permissions:gp,field_validation:bp,field_presets:wp,permissions_for_role:$p,fields_for_role:kp,validation_for_role:Sp,presets_for_role:Cp,presentation_and_aliases:Vp,revision_post_create:Fp,revision_post_update:Ap,changes_made:Ip,no_relational_data:Ep,hide_field_on_detail:Dp,show_field_on_detail:Tp,delete_field:Lp,fields_and_layout:Pp,field_create_success:Op,field_update_success:Rp,duplicate_where_to:jp,language:Mp,aggregate_function:Up,aggregate_precision:Np,group_aggregation:Bp,group_precision:qp,global:zp,admins_have_all_permissions:Kp,camera:Hp,show_zero:Wp,create_in_advanced_field_creation_mode:Gp,continue_in_advanced_field_creation_mode:Zp,sum:Jp,sum_distinct:Qp,avg:Xp,avg_distinct:Yp,count:xp,count_distinct:em,min:tm,max:nm,exposure:lm,shutter:om,iso:am,focal_length:im,schema_setup_key:rm,create_field:sm,creating_new_field:dm,field_in_collection:um,reset_page_preferences:cm,hidden_field:pm,hidden_on_detail:mm,disabled_editing_value:fm,key:_m,alias:vm,bigInteger:ym,boolean:hm,date:gm,date_range:bm,datetime:wm,dateTime:$m,precision:km,decimal:Sm,float:Cm,integer:Vm,json:Fm,xml:Am,string:Im,text:Em,time:Dm,timestamp:Tm,uuid:Lm,hash:Pm,geometry:Om,not_available_for_type:Rm,create_translations:jm,auto_refresh:Mm,refresh_interval:Um,no_refresh:Nm,refresh_interval_seconds:Bm,refresh_interval_minutes:qm,auto_generate:zm,this_will_auto_setup_fields_relations:Km,click_here:Hm,to_manually_setup_translations:Wm,click_to_manage_translated_fields:Gm,fields_group:Zm,no_collections_found:Jm,new_data_alert:Qm,search_collection:Xm,new_field:Ym,new_collection:xm,add_m2o_to_collection:ef,add_o2m_to_collection:tf,add_m2m_to_collection:nf,choose_a_type:lf,determined_by_relationship:of,add_note:af,add_link:rf,custom_link:sf,default_value:df,standard_field:uf,single_file:cf,multiple_files:pf,m2o_relationship:mf,o2m_relationship:ff,m2m_relationship:_f,m2a_relationship:vf,invalid_item:yf,next:hf,field_name:gf,translations:bf,no_translations:wf,note:$f,enter_a_value:kf,enter_a_placeholder:Sf,length:Cf,soft_length:Vf,precision_scale:Ff,readonly:Af,unique:If,updated_on:Ef,updated_by:Df,primary_key:Tf,foreign_key:Lf,finish_setup:Pf,dismiss:Of,raw_value:Rf,copy_raw_value:jf,copy_raw_value_success:Mf,copy_raw_value_fail:Uf,paste_raw_value:Nf,paste_raw_value_success:Bf,paste_raw_value_fail:qf,view_raw_value:zf,edit_raw_value:Kf,enter_raw_value:Hf,clear_value:Wf,clear_changes:Gf,reset_to_default:Zf,undo_changes:Jf,notifications:Qf,show_all_activity:Xf,page_not_found:Yf,page_not_found_body:xf,confirm_revert:e_,confirm_revert_body:t_,display:n_,settings_update_success:l_,title:o_,revision_delta_created:a_,revision_delta_created_externally:i_,revision_delta_updated:r_,revision_delta_deleted:s_,revision_delta_reverted:d_,revision_delta_other:u_,revision_delta_by:c_,private_user:p_,creation_preview:m_,revision_preview:f_,updates_made:__,leave_comment:v_,post_comment_success:y_,item_create_success:h_,item_update_success:g_,item_delete_success:b_,this_collection:w_,related_collection:$_,related_collections:k_,translations_collection:S_,languages_collection:C_,import_data_input_placeholder:V_,import_data_button:F_,import_data_indeterminate:A_,import_data_success:I_,import_data_error:E_,label_import:D_,label_export:T_,import_export:L_,format:P_,use_current_filters_settings:O_,export_data_button:R_,last_page:j_,last_access:M_,fill_template:U_,a_unique_table_name:N_,a_unique_column_name:B_,enable_custom_values:q_,submit:z_,move_to_folder:K_,move:H_,system:W_,add_field_related:G_,interface_label:Z_,today:J_,yesterday:Q_,delete_comment:X_,delete_share:Y_,minutes:x_,hours:ev,month:tv,year:nv,select_all:lv,months:ov,drag_mode:av,cancel_crop:iv,original:rv,url:sv,import_label:dv,file_details:uv,dimensions:cv,size:pv,created:mv,modified:fv,checksum:_v,owner:vv,edited_by:yv,folder:hv,zoom:gv,download:bv,open:wv,open_in_new_window:$v,open_folder:kv,foreground_color:Sv,background_color:Cv,upload_from_device:Vv,choose_from_library:Fv,import_from_url:Av,replace_from_device:Iv,replace_from_library:Ev,replace_from_url:Dv,no_file_selected:Tv,download_file:Lv,collection_key:Pv,name:Ov,primary_key_field:Rv,type:jv,creating_new_collection:Mv,created_by:Uv,created_on:Nv,creating_collection_info:Bv,creating_collection_system:qv,auto_increment_integer:zv,generated_uuid:Kv,manual_string:Hv,save_and_create_new:Wv,save_and_stay:Gv,save_as_copy:Zv,add_existing:Jv,creating_items:Qv,enable_create_button:Xv,selecting_items:Yv,enable_select_button:xv,comments:ey,no_comments:ty,click_to_expand:ny,select_item:ly,no_items:oy,search_items:ay,disabled:iy,information:ry,report_bug:sy,request_feature:dy,interface_not_found:uy,reset_interface:cy,display_not_found:py,reset_display:my,item_count:fy,no_items_copy:_y,file_count:vy,no_files_copy:yy,user_count:hy,no_users_copy:gy,webhooks_count:by,no_webhooks_copy:wy,no_notifications:$y,no_notifications_copy:ky,activity_log:Sy,all_items:Cy,any:Vy,csv:Fy,no_collections:Ay,create_collection:Iy,no_collections_copy_admin:Ey,no_collections_copy:Dy,relationship_not_setup:Ty,display_template_not_setup:Ly,collection_field_not_setup:Py,select_a_collection:Oy,select_a_field:Ry,active:jy,move_to:My,copy:Uy,copy_to:Ny,no_other_dashboards_copy:By,inactive:qy,users:zy,activity:Ky,activity_item:Hy,action:Wy,ip_address:Gy,user_agent:Zy,webhooks:Jy,decimals:Qy,value_decimals:Xy,min_value:Yy,max_value:xy,automatic:eh,field_width:th,add_filter:nh,upper_limit:lh,lower_limit:oh,user_directory:ah,documentation:ih,sidebar:rh,duration:sh,charset:dh,second:uh,file_moved:ch,collection_created:ph,modified_on:mh,card_size:fh,sort_field:_h,add_sort_field:vh,sort:yh,status:hh,remove:gh,toggle_manual_sorting:bh,bookmark_doesnt_exist:wh,bookmark_doesnt_exist_copy:$h,bookmark_doesnt_exist_cta:kh,select_an_item:Sh,edit:Ch,enabled:Vh,disable_tfa:Fh,tfa_scan_code:Ah,enter_otp_to_disable_tfa:Ih,create_account:Eh,account_created_successfully:Dh,auto_fill:Th,corresponding_field:Lh,errors:Ph,security:Oh,value_hashed:Rh,bookmark_name:jh,create_bookmark:Mh,edit_bookmark:Uh,bookmarks:Nh,presets:Bh,unexpected_error:qh,unexpected_error_copy:zh,copy_details:Kh,no_app_access:Hh,no_app_access_copy:Wh,password_reset_sent:Gh,password_reset_successful:Zh,back:Jh,filter:Qh,editing_image:Xh,square:Yh,free:xh,flip_horizontal:eg,flip_vertical:tg,aspect_ratio:ng,rotate:lg,all_users:og,delete_collection:ag,update_collection_success:ig,delete_collection_success:rg,make_collection_visible:sg,make_collection_hidden:dg,make_folder_visible:ug,make_folder_hidden:cg,start_end_of_count_items:pg,start_end_of_count_filtered_items:mg,one_item:fg,one_filtered_item:_g,delete_collection_are_you_sure:vg,delete_folder_are_you_sure:yg,collections_shown:hg,visible_collections:gg,hidden_collections:bg,show_hidden_collections:wg,hide_hidden_collections:$g,show_header:kg,unmanaged_collections:Sg,system_collections:Cg,placeholder:Vg,icon_left:Fg,icon_right:Ag,count_other_revisions:Ig,font:Eg,sans_serif:Dg,serif:Tg,monospace:Lg,divider:Pg,color:Og,circle:Rg,empty_item:jg,log_in_with:Mg,conditional_styles:Ug,advanced_settings:Ng,advanced_filter:Bg,delete_advanced_filter:qg,change_advanced_filter_operator:zg,operators:Kg,loading:Hg,drop_to_upload:Wg,item:Gg,items:Zg,upload_file:Jg,upload_file_indeterminate:Qg,upload_file_success:Xg,upload_files_indeterminate:Yg,upload_files_success:xg,upload_pending:e1,drag_file_here:t1,click_to_browse:n1,interface_options:l1,layout_options:o1,rows:a1,columns:i1,collection_setup:r1,optional_system_fields:s1,value_unique:d1,all_activity:u1,create_item:c1,display_template:p1,language_display_template:m1,translations_display_template:f1,n_items_selected:_1,per_page:v1,all_files:y1,my_files:h1,recent_files:g1,create_folder:b1,edit_folder:w1,folder_name:$1,folder_key:k1,add_file:S1,replace_file:C1,no_results:V1,no_results_copy:F1,clear_filters:A1,saves_automatically:I1,role:E1,rule:D1,user:T1,no_presets:L1,no_presets_copy:P1,no_presets_cta:O1,presets_only:R1,create:j1,on_create:M1,on_update:U1,read:N1,update:B1,select_fields:q1,format_text:z1,format_value:K1,abbreviate_value:H1,operator:W1,bold:G1,toggle:Z1,icon_on:J1,icon_off:Q1,label:X1,insights:Y1,dashboard:x1,panel:eb,panel_options:tb,panel_header:nb,panel_name_placeholder:lb,panel_note_placeholder:ob,panel_delete_confirm:ab,dashboard_delete_confirm:ib,edit_dashboard:rb,delete_dashboard:sb,visible:db,prefix_placeholder:ub,suffix_placeholder:cb,decimals_placeholder:pb,no_dashboards:mb,no_dashboards_copy:fb,no_data:_b,create_dashboard:vb,dashboard_name:yb,full_screen:hb,edit_panels:gb,fit_to_screen:bb,image_url:wb,alt_text:$b,media:kb,quality:Sb,width:Cb,height:Vb,source:Fb,url_placeholder:Ab,display_text:Ib,display_text_placeholder:Eb,interface_group_text_and_numbers:Db,interface_group_selection:Tb,interface_group_relational:Lb,interface_group_presentation:Pb,interface_group_groups:Ob,interface_group_other:Rb,tooltip:jb,tooltip_placeholder:Mb,unlimited:Ub,open_link_in:Nb,new_tab:Bb,current_tab:qb,save_image:zb,save_media:Kb,wysiwyg_options:Hb,dropdown:Wb,choices:Gb,choices_option_configured_incorrectly:Zb,deselect:Jb,deselect_all:Qb,other:Xb,adding_user:Yb,unknown_user:xb,creating_in:e0,editing_in:t0,viewing_in:n0,creating_unit:l0,editing_unit:o0,editing_in_batch:a0,no_options_available:i0,settings_data_model:r0,settings_permissions:s0,settings_project:d0,settings_webhooks:u0,settings_presets:c0,one_or_more_options_are_missing:p0,scope:m0,select:f0,layout:_0,tree_view:v0,changes_are_permanent:y0,preset_name_placeholder:h0,preset_search_placeholder:g0,editing_preset:b0,layout_preview:w0,layout_setup:$0,unsaved_changes:k0,unsaved_changes_copy:S0,discard_changes:C0,discard_all_changes:V0,discard_changes_copy:F0,show_x_axis:A0,show_y_axis:I0,keep_editing:E0,page_help_collections_overview:D0,page_help_collections_collection:T0,page_help_collections_item:L0,page_help_activity_collection:P0,page_help_docs_global:O0,page_help_files_collection:R0,page_help_files_item:j0,page_help_settings_project:M0,page_help_settings_datamodel_collections:U0,page_help_settings_datamodel_fields:N0,page_help_settings_roles_collection:B0,page_help_settings_roles_item:q0,page_help_settings_presets_collection:z0,page_help_settings_presets_item:K0,page_help_settings_webhooks_collection:H0,page_help_settings_webhooks_item:W0,page_help_users_collection:G0,page_help_users_item:Z0,page_help_insights_overview:J0,page_help_insights_dashboard:Q0,activity_feed:X0,add_new:Y0,create_new:x0,all:e2,none:t2,no_layout_collection_selected_yet:n2,batch_delete_confirm:l2,cancel:o2,no_upscale:a2,collection:i2,collections:r2,content:s2,singleton:d2,singleton_label:u2,system_fields_locked:c2,directus_collection:p2,fields:m2,field_options:f2,no_fields_in_collection:_2,no_value:v2,do_nothing:y2,generate_and_save_uuid:h2,save_current_user_id:g2,save_current_user_role:b2,save_current_datetime:w2,always_open:$2,start_open:k2,start_collapsed:S2,block:C2,inline:V2,comment:F2,shares:A2,unlimited_usage:I2,uses_left:E2,no_shares:D2,new_share:T2,expired:L2,upcoming:P2,share:O2,share_item:R2,shared_with_you:j2,shared_enter_passcode:M2,shared_leave_blank_for_unlimited:U2,shared_times_remaining:N2,shared_last_remaining:B2,shared_uses_left:q2,share_access_page:z2,share_access_not_found:K2,share_access_not_found_desc:H2,share_access_not_found_title:W2,share_copy_link:G2,share_copy_link_success:Z2,share_copy_link_error:J2,share_send_link:Q2,relational_triggers:X2,referential_action_field_label_m2o:Y2,referential_action_field_label_o2m:x2,referential_action_no_action:ew,referential_action_cascade:tw,referential_action_set_null:nw,referential_action_set_default:lw,choose_action:ow,continue_label:aw,continue_as:iw,editing_role:rw,creating_webhook:sw,default_label:dw,delete_label:uw,delete_are_you_sure:cw,delete_field_are_you_sure:pw,description:mw,done:fw,duplicate:_w,limit:vw,email:yw,embed:hw,fallback_icon:gw,field:bw,file:ww,file_library:$w,forgot_password:kw,hidden:Sw,icon:Cw,info:Vw,normal:Fw,success:Aw,warning:Iw,danger:Ew,junction_collection:Dw,latency:Tw,login:Lw,my_activity:Pw,not_authenticated:Ow,authenticated:Rw,options:jw,otp:Mw,password:Uw,permissions:Nw,relationship:Bw,reset:qw,reset_password:zw,revisions:Kw,no_revisions:Hw,revert:Ww,save:Gw,schema:Zw,search:Jw,select_existing:Qw,select_field_type:Xw,select_interface:Yw,settings:xw,sign_in:e$,sign_out:t$,sign_out_confirm:n$,something_went_wrong:l$,sort_direction:o$,sort_asc:a$,sort_desc:i$,template:r$,require_value_to_be_set:s$,translation:d$,translation_placeholder:u$,value:c$,view_project:p$,weeks:m$,report_error:f$,start:_$,interfaces:v$,displays:y$,layouts:h$,panels:g$});const ze=js({legacy:!1,locale:"en-US",fallbackLocale:"en-US",messages:{"en-US":$},silentTranslationWarn:!0,datetimeFormats:mu,numberFormats:fu}),Aa=["en-US"];function Gt(e){var u,a,r,s,p;const t=ze.global.t("unexpected_error");let n=e;if(typeof e=="object"&&(n=(p=(s=(r=(a=(u=e==null?void 0:e.response)==null?void 0:u.data)==null?void 0:a.errors)==null?void 0:r[0])==null?void 0:s.extensions)==null?void 0:p.code),!e||!n===void 0)return t;const l=`errors.${n}`;return ze.global.te(l)===!1?t:ze.global.t(l)}function Ia(e){let t=e;return typeof e=="string"&&e.startsWith("$t:")&&(t=ze.global.t(e.replace("$t:",""))),t}function Ft(e){const t=U.exports.cloneDeep(e);return Object.entries(t).forEach(([n,l])=>{l&&typeof l=="object"&&(t[n]=Ft(l)),l&&typeof l=="string"&&(t[n]=Ia(l))}),t}var Ea={"af-ZA":"Afrikaans (South Africa)","ar-SA":"Arabic (Saudi Arabia)","bn-IN":"Bengali (India)","br-FR":"Breton (France)","bg-BG":"Bulgarian (Bulgaria)","ca-ES":"Catalan (Spain)","zh-CN":"Chinese (Simplified)","cs-CZ":"Czech (Czech Republic)","da-DK":"Danish (Denmark)","nl-NL":"Dutch (Netherlands)","en-CA":"English (Canada)","en-GB":"English (United Kingdom)","en-US":"English (United States)","et-EE":"Estonian (Estonia)","fo-FO":"Faroese (Faroe Islands)","fi-FI":"Finnish (Finland)","fr-CA":"French (Canada)","fr-FR":"French (France)","ka-GE":"Georgian (Georgia)","de-DE":"German (Germany)","el-GR":"Greek (Greece)","he-IL":"Hebrew (Israel)","hi-IN":"Hindi (India)","hu-HU":"Hungarian (Hungary)","is-IS":"Icelandic (Iceland)","id-ID":"Indonesian (Indonesia)","it-IT":"Italian (Italy)","ja-JP":"Japanese (Japan)","ko-KR":"Korean (Korea)","lt-LT":"Lithuanian (Lithuania)","ms-MY":"Malay (Malaysia)","no-NO":"Norwegian (Norway)","fa-IR":"Farci (Iran)","pl-PL":"Polish (Poland)","pt-BR":"Portuguese (Brazil)","pt-PT":"Portuguese (Portugal)","ro-RO":"Romanian (Romania)","ru-RU":"Russian (Russian Federation)","sr-SP":"Serbian (Cyrillic) (Serbia and Montenegro)","sr-CS":"Serbian (Latin) (Serbia and Montenegro)","si-LK":"Sinhala (Sri Lanka)","sk-SK":"Slovak (Slovakia)","sl-SI":"Slovenian (Slovenia)","es-ES":"Spanish (Spain)","es-419":"Spanish (Latin America)","es-cl":"Spanish (Chile)","sv-SE":"Swedish (Sweden)","zh-TW":"Taiwanese Mandarin (Taiwan)","th-TH":"Thai (Thailand)","tr-TR":"Turkish (Turkey)","uk-UA":"Ukrainian (Ukraine)","vi-VN":"Vietnamese (Vietnam)"};function w$(e){switch(e){case"./translations/af-ZA.yaml":return j(()=>import("./af-ZA.71af2276.js"),[]);case"./translations/ar-SA.yaml":return j(()=>import("./ar-SA.ea40e3a9.js"),[]);case"./translations/bg-BG.yaml":return j(()=>import("./bg-BG.0d877a81.js"),[]);case"./translations/bn-IN.yaml":return j(()=>import("./bn-IN.1385676c.js"),[]);case"./translations/br-FR.yaml":return j(()=>import("./br-FR.b5bf22f7.js"),[]);case"./translations/ca-ES.yaml":return j(()=>import("./ca-ES.4ec66903.js"),[]);case"./translations/cs-CZ.yaml":return j(()=>import("./cs-CZ.8dfd2141.js"),[]);case"./translations/da-DK.yaml":return j(()=>import("./da-DK.e4e3715f.js"),[]);case"./translations/de-DE.yaml":return j(()=>import("./de-DE.2f3867e9.js"),[]);case"./translations/el-GR.yaml":return j(()=>import("./el-GR.e46c7385.js"),[]);case"./translations/en-CA.yaml":return j(()=>import("./en-CA.54b75dac.js"),[]);case"./translations/en-GB.yaml":return j(()=>import("./en-GB.5d984991.js"),[]);case"./translations/en-US.yaml":return j(()=>Promise.resolve().then(function(){return b$}),void 0);case"./translations/es-419.yaml":return j(()=>import("./es-419.768b23e7.js"),[]);case"./translations/es-CL.yaml":return j(()=>import("./es-CL.fd6804fd.js"),[]);case"./translations/es-ES.yaml":return j(()=>import("./es-ES.2a2421e3.js"),[]);case"./translations/et-EE.yaml":return j(()=>import("./et-EE.3c82a2a7.js"),[]);case"./translations/fa-IR.yaml":return j(()=>import("./fa-IR.bc4949d0.js"),[]);case"./translations/fi-FI.yaml":return j(()=>import("./fi-FI.ea8c811c.js"),[]);case"./translations/fo-FO.yaml":return j(()=>import("./fo-FO.9d2669e3.js"),[]);case"./translations/fr-CA.yaml":return j(()=>import("./fr-CA.98b1ca99.js"),[]);case"./translations/fr-FR.yaml":return j(()=>import("./fr-FR.76a38bd1.js"),[]);case"./translations/he-IL.yaml":return j(()=>import("./he-IL.80c0db1b.js"),[]);case"./translations/hi-IN.yaml":return j(()=>import("./hi-IN.89190874.js"),[]);case"./translations/hr-HR.yaml":return j(()=>import("./hr-HR.4258bbeb.js"),[]);case"./translations/hu-HU.yaml":return j(()=>import("./hu-HU.94582835.js"),[]);case"./translations/id-ID.yaml":return j(()=>import("./id-ID.73df63e3.js"),[]);case"./translations/is-IS.yaml":return j(()=>import("./is-IS.35706417.js"),[]);case"./translations/it-IT.yaml":return j(()=>import("./it-IT.93477255.js"),[]);case"./translations/ja-JP.yaml":return j(()=>import("./ja-JP.8078d1fc.js"),[]);case"./translations/ka-GE.yaml":return j(()=>import("./ka-GE.0bf65322.js"),[]);case"./translations/ko-KR.yaml":return j(()=>import("./ko-KR.b5ed9ca7.js"),[]);case"./translations/ku-TR.yaml":return j(()=>import("./ku-TR.d790a5bf.js"),[]);case"./translations/lt-LT.yaml":return j(()=>import("./lt-LT.2ee93d0f.js"),[]);case"./translations/mn-MN.yaml":return j(()=>import("./mn-MN.9d75cba3.js"),[]);case"./translations/ms-MY.yaml":return j(()=>import("./ms-MY.3db62076.js"),[]);case"./translations/nl-NL.yaml":return j(()=>import("./nl-NL.a0c67bbb.js"),[]);case"./translations/no-NO.yaml":return j(()=>import("./no-NO.13f7014c.js"),[]);case"./translations/pl-PL.yaml":return j(()=>import("./pl-PL.65bde531.js"),[]);case"./translations/pt-BR.yaml":return j(()=>import("./pt-BR.fcdcd0d6.js"),[]);case"./translations/pt-PT.yaml":return j(()=>import("./pt-PT.76e3ba8f.js"),[]);case"./translations/ro-RO.yaml":return j(()=>import("./ro-RO.e9e3a460.js"),[]);case"./translations/ru-RU.yaml":return j(()=>import("./ru-RU.799cee27.js"),[]);case"./translations/si-LK.yaml":return j(()=>import("./si-LK.f9ef55b1.js"),[]);case"./translations/sk-SK.yaml":return j(()=>import("./sk-SK.5761e1d9.js"),[]);case"./translations/sl-SI.yaml":return j(()=>import("./sl-SI.59c76b0a.js"),[]);case"./translations/sr-CS.yaml":return j(()=>import("./sr-CS.9a714a93.js"),[]);case"./translations/sr-SP.yaml":return j(()=>import("./sr-SP.e7aaced7.js"),[]);case"./translations/sv-SE.yaml":return j(()=>import("./sv-SE.7051901e.js"),[]);case"./translations/th-TH.yaml":return j(()=>import("./th-TH.ed8c9ce8.js"),[]);case"./translations/tr-TR.yaml":return j(()=>import("./tr-TR.51f6d3f2.js"),[]);case"./translations/uk-UA.yaml":return j(()=>import("./uk-UA.1bd8aa98.js"),[]);case"./translations/vi-VN.yaml":return j(()=>import("./vi-VN.b39fb470.js"),[]);case"./translations/zh-CN.yaml":return j(()=>import("./zh-CN.c2a147a6.js"),[]);case"./translations/zh-TW.yaml":return j(()=>import("./zh-TW.ed00cc7a.js"),[]);default:return new Promise(function(t,n){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}const{modules:$$,modulesRaw:k$}=Cl(),{layouts:S$,layoutsRaw:C$}=An(),{interfaces:V$,interfacesRaw:F$}=cn(),{panels:A$,panelsRaw:I$}=Jn(),{displays:E$,displaysRaw:D$}=Sl();async function Da(e){const t=Ke(),n=Le();if(Object.keys(Ea).includes(e)===!1)console.warn(`"${e}" is not an available language in the Directus app.`);else{if(Aa.includes(e)===!1)try{const{default:l}=await w$(`./translations/${e}.yaml`);ze.global.mergeLocaleMessage(e,l),Aa.push(e)}catch(l){console.warn(l)}ze.global.locale.value=e,document.querySelector("html").setAttribute("lang",e)}return $$.value=Ft(k$.value),S$.value=Ft(C$.value),V$.value=Ft(F$.value),A$.value=Ft(I$.value),E$.value=Ft(D$.value),t.translateCollections(),n.translateFields(),!0}function T$(e,t){var n;e=U.exports.clone(e);const l=/^((?:-|\+)?\d*?\.?\d+?) *?(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mth|mo|years?|yrs?|y)?$/i.exec(t.trim());if(!l||!l[1])return;const o=parseFloat(l[1]);switch(((n=l[2])!==null&&n!==void 0?n:"days").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return Hs(e,o);case"months":case"month":case"mth":case"mo":return Ks(e,o);case"weeks":case"week":case"w":return zs(e,o);case"days":case"day":case"d":return qs(e,o);case"hours":case"hour":case"hrs":case"hr":case"h":return Bs(e,o);case"minutes":case"minute":case"mins":case"min":case"m":return Ns(e,o);case"seconds":case"second":case"secs":case"sec":case"s":return Us(e,o);case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return Ms(e,o);default:return}}function In(e,t,n){if(Array.isArray(e))return e.map(function(l,o){return U.exports.isObjectLike(l)?In(l,t,n):t.call(n,l,o)});if(U.exports.isObjectLike(e)){const l={};for(const o in e){const u=e[o];U.exports.isObjectLike(u)?l[o]=In(u,t,n):l[o]=t.call(n,u,o)}return l}else return e}const pn=vl.extend({type:"string",base:vl.string(),messages:{"string.contains":"{{#label}} must contain [{{#substring}}]","string.ncontains":"{{#label}} can't contain [{{#substring}}]"},rules:{contains:{args:[{name:"substring",ref:!0,assert:e=>typeof e=="string",message:"must be a string"}],method(e){return this.$_addRule({name:"contains",args:{substring:e}})},validate(e,t,{substring:n}){return e.includes(n)===!1?t.error("string.contains",{substring:n}):e}},ncontains:{args:[{name:"substring",ref:!0,assert:e=>typeof e=="string",message:"must be a string"}],method(e){return this.$_addRule({name:"ncontains",args:{substring:e}})},validate(e,t,{substring:n}){return e.includes(n)===!0?t.error("string.ncontains",{substring:n}):e}}}}),L$={requireAll:!1};function Ta(e,t){var n,l;e=e||{},t=U.exports.merge({},L$,t);const o={},u=Object.keys(e)[0];if(!u)throw new Error(`[generateJoi] Filter doesn't contain field key. Passed filter: ${JSON.stringify(e)}`);const a=Object.values(e)[0];if(!a)throw new Error(`[generateJoi] Filter doesn't contain filter rule. Passed filter: ${JSON.stringify(e)}`);if(((n=Object.keys(a)[0])===null||n===void 0?void 0:n.startsWith("_"))===!1)o[u]=pn.object({[u]:Ta(a,t)});else{const r=Object.keys(a)[0],s=Object.values(a)[0],p=()=>{var v;return(v=o[u])!==null&&v!==void 0?v:pn.any()},f=()=>{var v;return(v=o[u])!==null&&v!==void 0?v:pn.string()},_=()=>{var v;return(v=o[u])!==null&&v!==void 0?v:pn.number()},y=()=>{var v;return(v=o[u])!==null&&v!==void 0?v:pn.date()};if(r==="_eq"&&(o[u]=p().equal(s)),r==="_neq"&&(o[u]=p().not(s)),r==="_contains"&&(o[u]=f().contains(s)),r==="_ncontains"&&(o[u]=f().ncontains(s)),r==="_starts_with"&&(o[u]=f().pattern(new RegExp(`^${U.exports.escapeRegExp(s)}.*`),{name:"starts_with"})),r==="_nstarts_with"&&(o[u]=f().pattern(new RegExp(`^${U.exports.escapeRegExp(s)}.*`),{name:"starts_with",invert:!0})),r==="_ends_with"&&(o[u]=f().pattern(new RegExp(`.*${U.exports.escapeRegExp(s)}$`),{name:"ends_with"})),r==="_nends_with"&&(o[u]=f().pattern(new RegExp(`.*${U.exports.escapeRegExp(s)}$`),{name:"ends_with",invert:!0})),r==="_in"&&(o[u]=p().equal(...s)),r==="_nin"&&(o[u]=p().not(...s)),r==="_gt"&&(o[u]=Number.isSafeInteger(s)?_().greater(s):y().greater(s)),r==="_gte"&&(o[u]=Number.isSafeInteger(s)?_().min(s):y().min(s)),r==="_lt"&&(o[u]=Number.isSafeInteger(s)?_().less(s):y().less(s)),r==="_lte"&&(o[u]=Number.isSafeInteger(s)?_().max(s):y().max(s)),r==="_null"&&(o[u]=p().valid(null)),r==="_nnull"&&(o[u]=p().invalid(null)),r==="_empty"&&(o[u]=p().valid("")),r==="_nempty"&&(o[u]=p().invalid("")),r==="_between")if(s.every(v=>Number.isSafeInteger(v))){const v=s;o[u]=_().greater(v[0]).less(v[1])}else{const v=s;o[u]=y().greater(v[0]).less(v[1])}if(r==="_nbetween")if(s.every(v=>Number.isSafeInteger(v))){const v=s;o[u]=_().less(v[0]).greater(v[1])}else{const v=s;o[u]=y().less(v[0]).greater(v[1])}if(r==="_submitted"&&(o[u]=p().required()),r==="_regex"){const v=s.startsWith("/")&&s.endsWith("/");o[u]=f().regex(new RegExp(v?s.slice(1,-1):s))}}return o[u]=(l=o[u])!==null&&l!==void 0?l:pn.any(),t.requireAll&&(o[u]=o[u].required()),pn.object(o).unknown()}function P$(e){return e.schema?"table":e.meta?"alias":"unknown"}function La(e){switch(e){case"binary":case"hash":case"string":case"csv":return["contains","ncontains","starts_with","nstarts_with","ends_with","nends_with","eq","neq","empty","nempty","null","nnull","in","nin"];case"uuid":return["eq","neq","null","nnull","in","nin"];case"json":return["null","nnull"];case"boolean":return["eq","neq","null","nnull"];case"bigInteger":case"integer":case"decimal":case"float":return["eq","neq","lt","lte","gt","gte","between","nbetween","null","nnull","in","nin"];case"dateTime":case"date":case"time":return["eq","neq","null","nnull","lt","lte","gt","gte","between","nbetween","null","nnull","in","nin"];case"geometry":return["null","nnull","intersects","nintersects","intersects_bbox","nintersects_bbox"];default:return["contains","ncontains","eq","neq","lt","lte","gt","gte","between","nbetween","empty","nempty","null","nnull","in","nin"]}}const O$=["$NOW","$CURRENT_USER","$CURRENT_ROLE"];function R$(e){return typeof e=="string"&&O$.some(t=>e.startsWith(t))}const j$=["alias","bigInteger","boolean","date","dateTime","decimal","float","integer","json","string","text","time","timestamp","binary","uuid","hash","csv","geometry","geometry.Point","geometry.LineString","geometry.Polygon","geometry.MultiPoint","geometry.MultiLineString","geometry.MultiPolygon","unknown"],Pa=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"],M$=["standard","file","files","m2o","o2m","m2m","m2a","presentation","translations","group"],U$=/\(([^)]+)\)/;function Vl(e,t,n="and"){return e?t?{[`_${n}`]:[e,t]}:e:t}function Fl(e){return typeof e=="string"?e.split(","):Array.isArray(e)?e:[e]}function oo(e,t,n={}){var l;if(e==null)return null;if(!U.exports.isObjectLike(e))return{_eq:ao(e,t,n)};const o=Object.entries(e).map(u=>N$(u,t,n));return o.length===0?{}:o.length===1?(l=o[0])!==null&&l!==void 0?l:null:{_and:o}}function N$([e,t],n,l){return["_or","_and"].includes(String(e))?{[e]:t.map(o=>oo(o,n,l))}:["_in","_nin","_between","_nbetween"].includes(String(e))?{[e]:Fl(t).flatMap(o=>ao(o,n,l))}:String(e).startsWith("_")?{[e]:ao(t,n,l)}:{[e]:oo(t,n,l)}}function ao(e,t,n){return e==="true"?!0:e==="false"?!1:e==="null"||e==="NULL"?null:R$(e)?B$(e,t,n):e}function B$(e,t,n){var l,o,u;if(e.startsWith("$NOW")){if(e.includes("(")&&e.includes(")")){const a=(l=e.match(U$))===null||l===void 0?void 0:l[1];return a?T$(new Date,a):new Date}return new Date}if(e.startsWith("$CURRENT_USER"))return e==="$CURRENT_USER"?(o=t==null?void 0:t.user)!==null&&o!==void 0?o:null:io(n,e,null);if(e.startsWith("$CURRENT_ROLE"))return e==="$CURRENT_ROLE"?(u=t==null?void 0:t.role)!==null&&u!==void 0?u:null:io(n,e,null)}function io(e,t,n){const[l,...o]=t.split("."),u=Array.isArray(e)?e.map(a=>a[l]):e==null?void 0:e[l];return o.length>0?io(u,o.join("."),n):u!=null?u:n}function Al(e,t,n){const l=[];if(Object.keys(e)[0]==="_and"){const o=Object.values(e)[0],u=U.exports.flatten(o.map(a=>Al(a,t,n))).filter(a=>a);l.push(...u)}else if(Object.keys(e)[0]==="_or"){const o=Object.values(e)[0],u=U.exports.flatten(o.map(r=>Al(r,t,n)));o.length===u.length&&l.push(...u)}else{const o=Ta(e,n),{error:u}=o.validate(t,{abortEarly:!1});u&&l.push(u)}return l}function wt(e){return e?e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:e.first_name?e.first_name:e.email?e.email:ze.global.t("unknown_user"):ze.global.t("unknown_user")}const Ze=Tt({id:"userStore",state:()=>({currentUser:null,loading:!1,error:null}),getters:{fullName(){return this.currentUser===null||"share"in this.currentUser?null:wt(this.currentUser)},isAdmin(){var e;return((e=this.currentUser)==null?void 0:e.role.admin_access)===!0||!1}},actions:{async hydrate(){this.loading=!0;try{const e=["id","language","first_name","last_name","email","last_page","theme","avatar.id","role.admin_access","role.app_access","role.id"],{data:t}=await re.get("/users/me",{params:{fields:e}});this.currentUser=t.data}catch(e){this.error=e}finally{this.loading=!1}},async dehydrate(){this.$reset()},async trackPage(e){const t=Wo(),n=performance.now();await re.patch("/users/me/track/page",{last_page:e});const l=performance.now();t.save({timestamp:new Date,latency:l-n}),this.currentUser&&!("share"in this.currentUser)&&(this.currentUser.last_page=e)}}});var q=(e,t)=>{const n=e.__vccOpts||e;for(const[l,o]of t)n[l]=o;return n};const q$=z({props:{filter:{type:Object,default:null}},emits:["update:filter"],setup(e,{emit:t}){const{t:n}=J(),l=Ze(),o=F(()=>{var p;return(p=l.currentUser)==null?void 0:p.id}),u=F(()=>{var p,f;return(f=Object.keys((p=e.filter)!=null?p:{})[0])!=null?f:null}),a=F(()=>{var p,f,_;return(_=(f=Object.values((p=e.filter)!=null?p:{})[0])==null?void 0:f._eq)!=null?_:null});return{t:n,currentUserID:o,setNavFilter:r,clearNavFilter:s,filterField:u,filterValue:a};function r(p,f){t("update:filter",{[p]:{_eq:f}})}function s(){t("update:filter",null)}}});function z$(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-list-item-icon"),s=c("v-text-overflow"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("v-divider"),y=c("v-list");return m(),C(y,{nav:""},{default:d(()=>[i(f,{clickable:"",active:!e.filterField,onClick:e.clearNavFilter},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"access_time"})]),_:1}),i(p,null,{default:d(()=>[i(s,{text:e.t("all_activity")},null,8,["text"])]),_:1})]),_:1},8,["active","onClick"]),i(f,{clickable:"",active:e.filterField==="user"&&e.filterValue===e.currentUserID,onClick:t[0]||(t[0]=v=>e.setNavFilter("user",e.currentUserID))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"face"})]),_:1}),i(p,null,{default:d(()=>[i(s,{text:e.t("my_activity")},null,8,["text"])]),_:1})]),_:1},8,["active"]),i(_),i(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="create",onClick:t[1]||(t[1]=v=>e.setNavFilter("action","create"))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"add"})]),_:1}),i(p,null,{default:d(()=>[i(s,{text:e.t("create")},null,8,["text"])]),_:1})]),_:1},8,["active"]),i(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="update",onClick:t[2]||(t[2]=v=>e.setNavFilter("action","update"))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"check"})]),_:1}),i(p,null,{default:d(()=>[i(s,{text:e.t("update")},null,8,["text"])]),_:1})]),_:1},8,["active"]),i(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="delete",onClick:t[3]||(t[3]=v=>e.setNavFilter("action","delete"))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"clear"})]),_:1}),i(p,null,{default:d(()=>[i(s,{text:e.t("delete_label")},null,8,["text"])]),_:1})]),_:1},8,["active"]),i(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="comment",onClick:t[4]||(t[4]=v=>e.setNavFilter("action","comment"))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"chat_bubble_outline"})]),_:1}),i(p,null,{default:d(()=>[i(s,{text:e.t("comment")},null,8,["text"])]),_:1})]),_:1},8,["active"]),i(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="login",onClick:t[5]||(t[5]=v=>e.setNavFilter("action","login"))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"login"})]),_:1}),i(p,null,{default:d(()=>[i(s,{text:e.t("login")},null,8,["text"])]),_:1})]),_:1},8,["active"])]),_:1})}var K$=q(q$,[["render",z$]]);function En(e,t=E(null),n=!1){const l=kn(),o=Ze(),u=E(!1),a=F(()=>t.value?!!l.getBookmark(t.value):!1),r=E({});B();const s=E(!0),p=F(()=>r.value.user===o.currentUser.id),f=async M=>{if(n)return;u.value=!0;const N=await l.savePreset(M||r.value);return r.value=Ve(pe({},r.value),{id:N.id,user:N.user}),s.value=!0,u.value=!1,N},_=U.exports.debounce(async()=>{f()},450);function y(){if(a.value){const M=l.getBookmark(Number(t.value));s.value=U.exports.isEqual(r.value,M)}else _()}function v(M,N){r.value=U.exports.assign({},r.value,M),N?f():y()}ye([e,t],()=>{B()});const h=F({get(){var M;return((M=r.value.layout_options)==null?void 0:M[g.value])||null},set(M){const{layout_options:N}=r.value;v({layout_options:U.exports.assign({},N,{[g.value]:M})})}}),w=F({get(){var M;return((M=r.value.layout_query)==null?void 0:M[g.value])||null},set(M){const{layout_query:N}=r.value;v({layout_query:U.exports.assign({},N,{[g.value]:M})})}}),g=F({get:()=>r.value.layout||"tabular",set:M=>v({layout:M})}),k=F({get:()=>{var M;return(M=r.value.filter)!=null?M:null},set:M=>v({filter:M})}),A=F({get:()=>r.value.refresh_interval||null,set:M=>v({refresh_interval:M})}),V=F({get:()=>r.value.search||null,set:M=>v({search:M})}),D=F({get:()=>{var M;return((M=r.value)==null?void 0:M.bookmark)||null},set:M=>v({bookmark:M},!0)});return{bookmarkExists:a,layout:g,layoutOptions:h,layoutQuery:w,filter:k,search:V,refreshInterval:A,savePreset:f,saveCurrentAsBookmark:O,bookmarkTitle:D,resetPreset:L,bookmarkSaved:s,bookmarkIsMine:p,busy:u,clearLocalSave:P,localPreset:r};function P(){const M=l.getBookmark(Number(t.value));M&&(r.value=pe({},M)),s.value=!0}async function L(){v({layout_query:null,layout_options:null,layout:"tabular",filter:null,search:null,refresh_interval:null},!0)}function B(){const M={layout:"tabular"};t.value===null?U.exports.assign(M,l.getPresetForCollection(e.value)):a.value&&U.exports.assign(M,l.getBookmark(Number(t.value))),r.value=M}async function O(M){const N=pe(pe({},r.value),M);return N.id&&delete N.id,N.user=o.currentUser.id,await f(N)}}const H$=z({props:{modelValue:{type:String,default:"tabular"}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:n}=J(),{layouts:l}=An(),o=F(()=>{var a;return(a=lo(e.modelValue))!=null?a:lo("tabular")}),u=je(e,"modelValue",t);return{t:n,currentLayout:o,layouts:l,layout:u}}}),W$={class:"layout-options"},G$={class:"field"},Z$={class:"type-label"};function J$(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-select"),s=c("sidebar-detail");return m(),C(s,{icon:"layers",title:e.t("layout_options")},{default:d(()=>[S("div",W$,[S("div",G$,[S("div",Z$,b(e.t("layout")),1),i(r,{modelValue:e.layout,"onUpdate:modelValue":t[0]||(t[0]=p=>e.layout=p),items:e.layouts,"item-text":"name","item-value":"id","item-icon":"icon"},xe({_:2},[e.currentLayout.icon?{name:"prepend",fn:d(()=>[i(a,{name:e.currentLayout.icon},null,8,["name"])])}:void 0]),1032,["modelValue","items"])]),be(e.$slots,"default",{},void 0,!0)])]),_:3},8,["title"])}var Qn=q(H$,[["render",J$],["__scopeId","data-v-4f5e1a28"]]);function Oa(e){return e==null||e===void 0}function qt(e){return e!=null}function mn(e){const t=E(0),n=E(0),l=new ResizeObserver(([o])=>{t.value=o.contentRect.width,n.value=o.contentRect.height});return it(()=>{const o=Jl(e)?e.value:e;qt(o)&&l.observe(o)}),At(()=>{l.disconnect()}),{width:t,height:n}}const Q$=z({props:{modelValue:{type:String,default:null},collection:{type:String,required:!0},filter:{type:Object,default:null}},emits:["update:modelValue","update:filter"],setup(e,{emit:t}){const{t:n}=J(),l=E(null),o=E(e.modelValue!==null),u=E(!1),a=E(!1),r=ct("main-element"),s=E(),{width:p}=mn(r),{width:f}=mn(s);ye([p,f],()=>{var V;if(!s.value)return;const w=s.value.parentElement,g=w.offsetWidth-4;f.value>g?s.value.style.borderTopLeftRadius=f.value>g+22?22+"px":f.value-g+"px":s.value.style.borderTopLeftRadius="0px";const k=(V=r==null?void 0:r.value)==null?void 0:V.firstElementChild;if(!k)return;const A=w.getBoundingClientRect().right-(k.getBoundingClientRect().left+Number(window.getComputedStyle(k).paddingLeft.replace("px","")));s.value.style.maxWidth=A>g?`${String(A)}px`:"0px"},{immediate:!0}),ye(o,w=>{w===!0&&l.value!==null&&l.value.focus()});const _=F(()=>{if(!e.filter)return 0;let w=[];return g(e.filter),w.length;function g(k){for(const[A,V]of Object.entries(k))A==="_and"||A==="_or"?V.forEach(g):A.startsWith("_")?w.push(A):U.exports.isObject(V)&&g(V)}});return{t:n,active:o,disable:v,input:l,emitValue:h,activeFilterCount:_,filterActive:u,onClickOutside:y,filterBorder:a,filterElement:s};function y(w){return!(w.path||w.composedPath()).some(k=>{var A;return(A=k==null?void 0:k.classList)==null?void 0:A.contains("v-menu-content")})}function v(){o.value=!1,u.value=!1}function h(){var g;if(!l.value)return;const w=(g=l.value)==null?void 0:g.value;t("update:modelValue",w)}}}),X$=["value","placeholder"],Y$={ref:"filterElement",class:"filter"};function x$(e,t,n,l,o,u){const a=c("v-icon"),r=c("interface-system-filter"),s=c("transition-expand"),p=c("v-badge"),f=ke("tooltip"),_=ke("click-outside");return m(),C(p,{bottom:"",right:"",class:"search-badge",value:e.activeFilterCount,disabled:!e.activeFilterCount||e.filterActive},{default:d(()=>[Q(S("div",{class:ae(["search-input",{active:e.active,"filter-active":e.filterActive,"has-content":!!e.modelValue,"filter-border":e.filterBorder}]),onClick:t[7]||(t[7]=y=>e.active=!0)},[Q(i(a,{name:"search",class:"icon-search",clickable:!e.active},null,8,["clickable"]),[[f,e.active?null:e.t("search"),void 0,{bottom:!0}]]),S("input",{ref:"input",value:e.modelValue,placeholder:e.t("search_items"),onInput:t[0]||(t[0]=(...y)=>e.emitValue&&e.emitValue(...y)),onPaste:t[1]||(t[1]=(...y)=>e.emitValue&&e.emitValue(...y))},null,40,X$),e.modelValue?(m(),C(a,{key:0,clickable:"",class:"icon-empty",name:"close",onClick:t[2]||(t[2]=Ae(y=>e.$emit("update:modelValue",null),["stop"]))})):R("",!0),Q(i(a,{clickable:"",class:"icon-filter",name:"filter_list",onClick:t[3]||(t[3]=y=>e.filterActive=!e.filterActive)},null,512),[[f,e.t("filter"),void 0,{bottom:!0}]]),i(s,{onBeforeEnter:t[5]||(t[5]=y=>e.filterBorder=!0),onAfterLeave:t[6]||(t[6]=y=>e.filterBorder=!1)},{default:d(()=>[Q(S("div",Y$,[i(r,{class:"filter-input",inline:"",value:e.filter,"collection-name":e.collection,onInput:t[4]||(t[4]=y=>e.$emit("update:filter",y))},null,8,["value","collection-name"])],512),[[Pt,e.filterActive]])]),_:1})],2),[[_,{handler:e.disable,middleware:e.onClickOutside}]])]),_:1},8,["value","disabled"])}var Dn=q(Q$,[["render",x$],["__scopeId","data-v-b600dbae"]]);const ek=z({name:"ActivityCollection",components:{ActivityNavigation:K$,LayoutSidebarDetail:Qn,SearchInput:Dn},props:{primaryKey:{type:String,default:null}},setup(){const{t:e}=J(),{layout:t,layoutOptions:n,layoutQuery:l,filter:o,search:u}=En(E("directus_activity")),{breadcrumb:a}=p(),{layoutWrapper:r}=dn(t),s=E(null);return{t:e,breadcrumb:a,layout:t,layoutWrapper:r,layoutOptions:n,layoutQuery:l,search:u,filter:o,roleFilter:s,mergeFilters:Vl};function p(){return{breadcrumb:F(()=>[{name:e("collection",2),to:"/content"}])}}}}),tk={class:"page-description"};function nk(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-button"),s=c("search-input"),p=c("activity-navigation"),f=c("v-info"),_=c("router-view"),y=c("sidebar-detail"),v=c("layout-sidebar-detail"),h=c("private-view"),w=ke("md");return m(),C(qe(e.layoutWrapper),{"layout-options":e.layoutOptions,"onUpdate:layout-options":t[4]||(t[4]=g=>e.layoutOptions=g),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[5]||(t[5]=g=>e.layoutQuery=g),filter:e.mergeFilters(e.filter,e.roleFilter),"filter-user":e.filter,"filter-system":e.roleFilter,search:e.search,"show-select":"none",collection:"directus_activity"},{default:d(({layoutState:g})=>[i(h,{title:e.t("activity_feed")},{"title-outer:prepend":d(()=>[i(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[i(a,{name:"access_time"})]),_:1})]),"actions:prepend":d(()=>[(m(),C(qe(`layout-actions-${e.layout}`),Je(et(g)),null,16))]),actions:d(()=>[i(s,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=k=>e.search=k),filter:e.filter,"onUpdate:filter":t[1]||(t[1]=k=>e.filter=k),collection:"directus_activity"},null,8,["modelValue","filter"])]),navigation:d(()=>[i(p,{filter:e.roleFilter,"onUpdate:filter":t[2]||(t[2]=k=>e.roleFilter=k)},null,8,["filter"])]),sidebar:d(()=>[i(y,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[Q(S("div",tk,null,512),[[w,e.t("page_help_activity_collection")]])]),_:1},8,["title"]),i(v,{modelValue:e.layout,"onUpdate:modelValue":t[3]||(t[3]=k=>e.layout=k)},{default:d(()=>[(m(),C(qe(`layout-options-${e.layout}`),Je(et(g)),null,16))]),_:2},1032,["modelValue"]),(m(),C(qe(`layout-sidebar-${e.layout}`),Je(et(g)),null,16))]),default:d(()=>[(m(),C(qe(`layout-${e.layout}`),mt(g,{class:"layout"}),{"no-results":d(()=>[i(f,{title:e.t("no_results"),icon:"search",center:""},{default:d(()=>[T(b(e.t("no_results_copy")),1)]),_:1},8,["title"])]),"no-items":d(()=>[i(f,{title:e.t("item_count",0),icon:"access_time",center:""},{default:d(()=>[T(b(e.t("no_items_copy")),1)]),_:1},8,["title"])]),_:2},1040)),i(_,{name:"detail","primary-key":e.primaryKey},null,8,["primary-key"])]),_:2},1032,["title"])]),_:1},8,["layout-options","layout-query","filter","filter-user","filter-system","search"])}var lk=q(ek,[["render",nk],["__scopeId","data-v-40e36dc2"]]);const Ra=Symbol();function fn(){const e=E(!1);let t;const n=new Promise(o=>{t=o});return it(()=>{e.value=!0}),Hn(()=>(e.value=!1,n)),Kt(Ra,l),e;function l(){t()}}function ok(){return ct(Ra,void 0)}const ak=z({name:"ActivityDetail",props:{primaryKey:{type:String,required:!0}},setup(e){const{t,te:n}=J(),l=Xe(),o=fn(),u=E(),a=E(!1),r=E(null),s=F(()=>{if(!(!u.value||u.value.collection.startsWith("directus_")))return`/content/${u.value.collection}/${encodeURIComponent(u.value.item)}`});return ye(()=>e.primaryKey,p,{immediate:!0}),{t,isOpen:o,item:u,loading:a,error:r,close:f,openItemLink:s,userName:wt};async function p(){a.value=!0;try{const _=await re.get(`/activity/${e.primaryKey}`,{params:{fields:["user.id","user.email","user.first_name","user.last_name","action","timestamp","ip","user_agent","collection","item"]}});u.value=_.data.data,u.value&&(n(`field_options.directus_activity.${u.value.action}`)&&(u.value.action=t(`field_options.directus_activity.${u.value.action}`)),u.value.timestamp=new Date(u.value.timestamp).toLocaleString(ze.global.locale.value))}catch(_){r.value=_}finally{a.value=!1}}function f(){l.push("/activity")}}}),ik={key:1,class:"content"},rk={key:2,class:"content"},sk={class:"type-label"},dk={class:"type-label"},uk={class:"type-label"},ck={class:"type-label"},pk={class:"type-label"},mk={class:"type-label"},fk={class:"type-label"};function _k(e,t,n,l,o,u){const a=c("v-progress-circular"),r=c("v-notice"),s=c("user-popover"),p=c("v-icon"),f=c("v-button"),_=c("v-drawer"),y=ke("tooltip");return m(),C(_,{"model-value":e.isOpen,title:e.t("activity_item"),"onUpdate:modelValue":e.close,onCancel:e.close},{actions:d(()=>[e.openItemLink?Q((m(),C(f,{key:0,to:e.openItemLink,icon:"",rounded:""},{default:d(()=>[i(p,{name:"launch"})]),_:1},8,["to"])),[[y,e.t("open"),void 0,{bottom:!0}]]):R("",!0),Q(i(f,{to:"/activity",icon:"",rounded:""},{default:d(()=>[i(p,{name:"check"})]),_:1},512),[[y,e.t("done"),void 0,{bottom:!0}]])]),default:d(()=>[e.loading?(m(),C(a,{key:0,indeterminate:""})):e.error?(m(),I("div",ik,[i(r,{type:"danger"},{default:d(()=>[T(b(e.error),1)]),_:1})])):(m(),I("div",rk,[S("p",sk,b(e.t("user"))+":",1),e.item.user?(m(),C(s,{key:0,user:e.item.user.id},{default:d(()=>[T(b(e.userName(e.item.user)),1)]),_:1},8,["user"])):R("",!0),S("p",dk,b(e.t("action"))+":",1),S("p",null,b(e.item.action),1),S("p",uk,b(e.t("date"))+":",1),S("p",null,b(e.item.timestamp),1),S("p",ck,b(e.t("ip_address"))+":",1),S("p",null,b(e.item.ip),1),S("p",pk,b(e.t("user_agent"))+":",1),S("p",null,b(e.item.user_agent),1),S("p",mk,b(e.t("collection"))+":",1),S("p",null,b(e.item.collection),1),S("p",fk,b(e.t("item"))+":",1),S("p",null,b(e.item.item),1)]))]),_:1},8,["model-value","title","onUpdate:modelValue","onCancel"])}var vk=q(ak,[["render",_k],["__scopeId","data-v-4615f290"]]),yk=un({id:"activity",hidden:!0,name:"$t:activity",icon:"notifications",routes:[{name:"activity-collection",path:"",component:lk,props:!0,children:[{name:"activity-item",path:":primaryKey",components:{detail:vk}}]}]}),hk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yk});function ro(e,t){const n=new URLSearchParams(e.split("?")[1]||"");for(const[l,o]of Object.entries(t))n.set(l,o);return e.split("?")[0]+"?"+n}const _n=()=>aa(Ws);_n.displayName="router-passthrough";let so,Tn;function ja(e){const t=Ke();return Tn||(Tn=E(t.collections.filter(n=>{var l,o;return((l=n.meta)==null?void 0:l.collapse)==="open"||((o=n.meta)==null?void 0:o.collapse)==="locked"}).map(({collection:n})=>n))),so===void 0&&(so=E(!1)),ye(e,n=>{var u;if(n===null)return;let l=t.getCollection(n);const o=[];for(;(u=l==null?void 0:l.meta)==null?void 0:u.group;)Tn.value.includes(l.meta.group)===!1&&o.push(l.meta.group),l=t.getCollection(l.meta.group);Tn.value=[...Tn.value,...o]},{immediate:!0}),{showHidden:so,activeGroups:Tn}}const gk=z({props:{icon:{type:String,default:"label"},color:{type:String,default:"var(--foreground-normal)"},name:{type:String,required:!0},search:{type:String,default:null}}});function bk(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-list-item-icon"),s=c("v-text-overflow"),p=c("v-list-item-content");return m(),I(x,null,[i(r,null,{default:d(()=>{var f;return[i(a,{name:(f=e.icon)!=null?f:"label",color:e.color},null,8,["name","color"])]}),_:1}),i(p,null,{default:d(()=>[i(s,{text:e.name,highlight:e.search},null,8,["text","highlight"])]),_:1})],64)}var wk=q(gk,[["render",bk]]);let uo;function Se(e){var l,o,u,a,r,s,p,f,_,y;uo||(uo=dl());const t=((r=(a=(u=(o=(l=e.response)==null?void 0:l.data)==null?void 0:o.errors)==null?void 0:u[0])==null?void 0:a.extensions)==null?void 0:r.code)||((s=e==null?void 0:e.extensions)==null?void 0:s.code)||"UNKNOWN",n=((y=(_=(f=(p=e.response)==null?void 0:p.data)==null?void 0:f.errors)==null?void 0:_[0])==null?void 0:y.message)||e.message||void 0;console.warn(e),uo.add({title:ze.global.t(`errors.${t}`),text:n,type:"error",dialog:!0,error:e})}const $k=z({props:{bookmark:{type:Object,required:!0}},setup(e){const{t}=J(),n=Xe(),l=Ht(),o=Ze(),u=kn(),a=F(()=>e.bookmark.user===o.currentUser.id),{renameActive:r,renameValue:s,renameSave:p,renameSaving:f}=w(),{deleteActive:_,deleteValue:y,deleteSave:v,deleteSaving:h}=g();return{t,isMine:a,renameActive:r,renameValue:s,renameSave:p,renameSaving:f,deleteActive:_,deleteValue:y,deleteSave:v,deleteSaving:h};function w(){const k=E(!1),A=E(e.bookmark.bookmark),V=E(!1);return{renameActive:k,renameValue:A,renameSave:D,renameSaving:V};async function D(){V.value=!0;try{await u.savePreset(Ve(pe({},e.bookmark),{bookmark:A.value})),k.value=!1}catch(P){Se(P)}finally{V.value=!1}}}function g(){const k=E(!1),A=E(e.bookmark.bookmark),V=E(!1);return{deleteActive:k,deleteValue:A,deleteSave:D,deleteSaving:V};async function D(){var P;V.value=!0;try{let L=null;+((P=l.query)==null?void 0:P.bookmark)===e.bookmark.id&&(L=`/content/${e.bookmark.collection}`),await u.delete([e.bookmark.id]),k.value=!1,L&&n.replace(L)}catch(L){Se(L)}finally{V.value=!1}}}}});function kk(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-list-item-icon"),s=c("v-text-overflow"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("v-list"),y=c("v-menu"),v=c("v-card-title"),h=c("v-input"),w=c("v-card-text"),g=c("v-button"),k=c("v-card-actions"),A=c("v-card"),V=c("v-dialog"),D=ke("context-menu");return Q((m(),C(f,{to:`/content/${e.bookmark.collection}?bookmark=${e.bookmark.id}`,query:"",class:"bookmark",clickable:""},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"bookmark_outline"})]),_:1}),i(p,null,{default:d(()=>[i(s,{text:e.bookmark.bookmark},null,8,["text"])]),_:1}),i(y,{ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:d(()=>[i(_,null,{default:d(()=>[i(f,{clickable:"",disabled:e.isMine===!1,onClick:t[0]||(t[0]=P=>e.renameActive=!0)},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"edit",outline:""})]),_:1}),i(p,null,{default:d(()=>[i(s,{text:e.t("rename_bookmark")},null,8,["text"])]),_:1})]),_:1},8,["disabled"]),i(f,{clickable:"",class:"danger",disabled:e.isMine===!1,onClick:t[1]||(t[1]=P=>e.deleteActive=!0)},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"delete",outline:""})]),_:1}),i(p,null,{default:d(()=>[i(s,{text:e.t("delete_bookmark")},null,8,["text"])]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1},512),i(V,{modelValue:e.renameActive,"onUpdate:modelValue":t[4]||(t[4]=P=>e.renameActive=P),persistent:"",onEsc:t[5]||(t[5]=P=>e.renameActive=!1)},{default:d(()=>[i(A,null,{default:d(()=>[i(v,null,{default:d(()=>[T(b(e.t("rename_bookmark")),1)]),_:1}),i(w,null,{default:d(()=>[i(h,{modelValue:e.renameValue,"onUpdate:modelValue":t[2]||(t[2]=P=>e.renameValue=P),autofocus:"",onKeyup:Vn(e.renameSave,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),i(k,null,{default:d(()=>[i(g,{secondary:"",onClick:t[3]||(t[3]=P=>e.renameActive=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(g,{disabled:e.renameValue===null,loading:e.renameSaving,onClick:e.renameSave},{default:d(()=>[T(b(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),i(V,{modelValue:e.deleteActive,"onUpdate:modelValue":t[7]||(t[7]=P=>e.deleteActive=P),persistent:"",onEsc:t[8]||(t[8]=P=>e.deleteActive=!1)},{default:d(()=>[i(A,null,{default:d(()=>[i(v,null,{default:d(()=>[T(b(e.t("delete_bookmark_copy",{bookmark:e.bookmark.bookmark})),1)]),_:1}),i(k,null,{default:d(()=>[i(g,{secondary:"",onClick:t[6]||(t[6]=P=>e.deleteActive=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(g,{loading:e.deleteSaving,kind:"danger",onClick:e.deleteSave},{default:d(()=>[T(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["to"])),[[D,"contextMenu"]])}var Sk=q($k,[["render",kk],["__scopeId","data-v-1d9b3a1b"]]);const Ck=z({name:"NavigationItem",components:{NavigationItemContent:wk,NavigationBookmark:Sk},props:{collection:{type:Object,required:!0},showHidden:{type:Boolean,default:!1},search:{type:String,default:null}},setup(e){const{t}=J(),{isAdmin:n}=Ze(),l=Ke(),o=kn(),u=F(()=>_(e.collection)),a=F(()=>y(e.collection)),r=F(()=>u.value.length>0||a.value.length>0),s=F(()=>e.collection.schema?`/content/${e.collection.collection}`:""),p=F(()=>{if(!e.search||e.search.length<3)return!0;const v=e.search.toLowerCase();return w(e.collection)||h(u.value,a.value);function h(k,A){return k.some(V=>{const D=_(V),P=y(V);return w(V)||h(D,P)})||A.some(V=>g(V))}function w(k){return k.collection.includes(v)||k.name.toLowerCase().includes(v)}function g(k){var A;return(A=k.bookmark)==null?void 0:A.toLowerCase().includes(v)}}),f=F(()=>n);return{childCollections:u,childBookmarks:a,isGroup:r,to:s,matchesSearch:p,isAdmin:n,t,hasContextMenu:f};function _(v){let h=l.collections.filter(w=>{var g;return((g=w.meta)==null?void 0:g.group)===v.collection});return e.showHidden===!1&&(h=h.filter(w=>{var g;return((g=w.meta)==null?void 0:g.hidden)!==!0})),U.exports.orderBy(h,["meta.sort","collection"])}function y(v){return o.bookmarks.filter(h=>h.collection===v.collection)}}});function Vk(e,t,n,l,o,u){var A,V;const a=c("navigation-item-content"),r=c("navigation-item",!0),s=c("navigation-bookmark"),p=c("v-list-group"),f=c("v-list-item"),_=c("v-icon"),y=c("v-list-item-icon"),v=c("v-text-overflow"),h=c("v-list-item-content"),w=c("v-list"),g=c("v-menu"),k=ke("context-menu");return m(),I(x,null,[e.isGroup&&e.matchesSearch?Q((m(),C(p,{key:0,to:e.to,scope:"content-navigation",value:e.collection.collection,query:"","arrow-placement":((A=e.collection.meta)==null?void 0:A.collapse)==="locked"?!1:"after"},{activator:d(()=>{var D,P;return[i(a,{search:e.search,name:e.collection.name,icon:(D=e.collection.meta)==null?void 0:D.icon,color:(P=e.collection.meta)==null?void 0:P.color},null,8,["search","name","icon","color"])]}),default:d(()=>[(m(!0),I(x,null,$e(e.childCollections,D=>(m(),C(r,{key:D.collection,collection:D,search:e.search},null,8,["collection","search"]))),128)),(m(!0),I(x,null,$e(e.childBookmarks,D=>(m(),C(s,{key:D.id,bookmark:D},null,8,["bookmark"]))),128))]),_:1},8,["to","value","arrow-placement"])),[[k,"contextMenu"]]):e.matchesSearch?Q((m(),C(f,{key:1,to:e.to,value:e.collection.collection,class:ae({hidden:(V=e.collection.meta)==null?void 0:V.hidden}),query:""},{default:d(()=>{var D,P;return[i(a,{search:e.search,name:e.collection.name,icon:(D=e.collection.meta)==null?void 0:D.icon,color:(P=e.collection.meta)==null?void 0:P.color},null,8,["search","name","icon","color"])]}),_:1},8,["to","value","class"])),[[k,e.hasContextMenu?"contextMenu":null]]):R("",!0),e.hasContextMenu?(m(),C(g,{key:2,ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:d(()=>[i(w,null,{default:d(()=>[e.isAdmin?(m(),C(f,{key:0,clickable:"",to:`/settings/data-model/${e.collection.collection}`},{default:d(()=>[i(y,null,{default:d(()=>[i(_,{name:"list_alt"})]),_:1}),i(h,null,{default:d(()=>[i(v,{text:e.t("edit_collection")},null,8,["text"])]),_:1})]),_:1},8,["to"])):R("",!0)]),_:1})]),_:1},512)):R("",!0)],64)}var Fk=q(Ck,[["render",Vk],["__scopeId","data-v-3a890f15"]]);const Ak=z({components:{NavigationItem:Fk},props:{currentCollection:{type:String,default:null}},setup(e){const{t}=J(),{currentCollection:n}=Me(e),{activeGroups:l,showHidden:o}=ja(n),u=E(""),a=Ke(),r=F(()=>{const _=o.value?a.allCollections:a.visibleCollections;return U.exports.orderBy(_.filter(y=>{var v;return U.exports.isNil((v=y==null?void 0:y.meta)==null?void 0:v.group)}),["meta.sort","collection"])}),s=F(()=>a.visibleCollections.length>5),p=F(()=>a.visibleCollections.length>20),f=F(()=>a.allCollections.length>a.visibleCollections.length);return{t,activeGroups:l,showHidden:o,rootItems:r,dense:s,search:u,showSearch:p,hasHiddenCollections:f}}}),Ik={class:"content-navigation-wrapper"},Ek={key:0,class:"search-input"};function Dk(e,t,n,l,o,u){const a=c("v-input"),r=c("navigation-item"),s=c("v-icon"),p=c("v-list-item-icon"),f=c("v-text-overflow"),_=c("v-list-item-content"),y=c("v-list-item"),v=c("v-menu"),h=c("v-list"),w=ke("context-menu");return m(),I("div",Ik,[e.showSearch?(m(),I("div",Ek,[i(a,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=g=>e.search=g),type:"search",placeholder:e.t("search_collection")},null,8,["modelValue","placeholder"])])):R("",!0),Q(i(h,{modelValue:e.activeGroups,"onUpdate:modelValue":t[2]||(t[2]=g=>e.activeGroups=g),scope:"content-navigation",class:"content-navigation",tabindex:"-1",nav:"",mandatory:!1,dense:e.dense},{default:d(()=>[(m(!0),I(x,null,$e(e.rootItems,g=>(m(),C(r,{key:g.collection,"show-hidden":e.showHidden,collection:g,search:e.search},null,8,["show-hidden","collection","search"]))),128)),e.hasHiddenCollections?(m(),C(v,{key:0,ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:d(()=>[i(y,{clickable:"",onClick:t[1]||(t[1]=g=>e.showHidden=!e.showHidden)},{default:d(()=>[i(p,null,{default:d(()=>[i(s,{name:e.showHidden?"visibility_off":"visibility"},null,8,["name"])]),_:1}),i(_,null,{default:d(()=>[i(f,{text:e.showHidden?e.t("hide_hidden_collections"):e.t("show_hidden_collections")},null,8,["text"])]),_:1})]),_:1})]),_:1},512)):R("",!0)]),_:1},8,["modelValue","dense"]),[[w,"contextMenu"]])])}var Il=q(Ak,[["render",Dk],["__scopeId","data-v-970f0324"]]);const Tk=z({components:{ContentNavigation:Il},setup(){const{t:e}=J();return{t:e}}}),Lk={class:"not-found"};function Pk(e,t,n,l,o,u){const a=c("content-navigation"),r=c("v-info"),s=c("private-view");return m(),C(s,{title:e.t("page_not_found")},{navigation:d(()=>[i(a)]),default:d(()=>[S("div",Lk,[i(r,{title:e.t("page_not_found"),icon:"not_interested"},{default:d(()=>[T(b(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var co=q(Tk,[["render",Pk],["__scopeId","data-v-cc545b6a"]]);const Ok=z({props:{collection:{type:String,default:null},archive:{type:String,default:null}},setup(e){const{t}=J(),n=Xe(),l=E(e.archive),o=[{text:t("show_active_items"),value:null},{text:t("show_archived_items"),value:"archived"},{text:t("show_all_items"),value:"all"}],u=F(()=>l.value!==null);return ye(()=>l.value,()=>{l.value===null?n.push(`/content/${e.collection}`):n.push(`/content/${e.collection}?${l.value}`)}),{t,active:u,selectedItem:l,items:o}}}),Rk={class:"fields"},jk={class:"field full"};function Mk(e,t,n,l,o,u){const a=c("v-radio"),r=c("sidebar-detail");return m(),C(r,{icon:"archive",title:e.t("archive"),badge:e.active},{default:d(()=>[S("div",Rk,[S("div",jk,[(m(!0),I(x,null,$e(e.items,s=>(m(),C(a,{key:s.value,value:s.value,label:s.text,"model-value":e.selectedItem,"onUpdate:modelValue":t[0]||(t[0]=p=>e.selectedItem=p)},null,8,["value","label","model-value"]))),128))])])]),_:1},8,["title","badge"])}var Uk=q(Ok,[["render",Mk],["__scopeId","data-v-4f18ad5e"]]);const Nk=z({props:{modelValue:{type:Number,default:null}},emits:["update:modelValue","refresh"],setup(e,{emit:t}){const{t:n}=J(),l=F({get(){return e.modelValue},set(r){t("update:modelValue",r)}}),o=E(null);ye(l,r=>{o.value!==null&&clearInterval(o.value),r!==null&&r>0&&(o.value=setInterval(()=>{t("refresh")},r*1e3))},{immediate:!0});const u=F(()=>[null,10,30,60,300].map(s=>s===null?{text:n("no_refresh"),value:null}:s>=60&&s%60==0?{text:n("refresh_interval_minutes",{minutes:s/60},s/60),value:s}:{text:n("refresh_interval_seconds",{seconds:s},s),value:s})),a=F(()=>l.value!==null);return{t:n,active:a,interval:l,items:u}}}),Bk={class:"fields"},qk={class:"field full"},zk={class:"type-label"};function Kk(e,t,n,l,o,u){const a=c("v-select"),r=c("sidebar-detail");return m(),C(r,{icon:e.active?"sync":"sync_disabled",title:e.t("auto_refresh"),badge:e.active},{default:d(()=>[S("div",Bk,[S("div",qk,[S("p",zk,b(e.t("refresh_interval")),1),i(a,{modelValue:e.interval,"onUpdate:modelValue":t[0]||(t[0]=s=>e.interval=s),items:e.items},null,8,["modelValue","items"])])])]),_:1},8,["icon","title","badge"])}var Hk=q(Nk,[["render",Kk],["__scopeId","data-v-3c22b9bc"]]);function Ge(){const t=window.location.pathname.split("/"),n=t.indexOf("admin");return t.slice(0,n).join("/")+"/"}function Wk(){const t=window.location.href.split("/"),n=t.indexOf("admin");return t.slice(0,n).join("/")+"/"}var Gk={"audio/aac":"aac","application/x-abiword":"abw","application/x-freearc":"arc","video/x-msvideo":"avi","application/vnd.amazon.ebook":"azw","application/octet-stream":"file","image/bmp":"bmp","application/x-bzip":"bz","application/x-bzip2":"bz2","application/x-csh":"csh","text/css":"css","text/csv":"csv","application/msword":"doc","application/sql":"sql","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.ms-fontobject":"eot","application/epub+zip":"epub","application/gzip":"gz","image/gif":"gif","text/html":"html","image/vnd.microsoft.icon":"ico","text/calendar":"ics","application/java-archive":"jar","image/jpeg":"jpg","text/javascript":"js","application/json":"json","application/ld+json":"jsonld","audio/midi audio/x-midi":"midi","audio/mpeg":"mp3","video/mpeg":"mpeg","application/vnd.apple.installer+xml":"mpkg","application/vnd.oasis.opendocument.presentation":"odp","application/vnd.oasis.opendocument.spreadsheet":"ods","application/vnd.oasis.opendocument.text":"odt","audio/ogg":"oga","video/ogg":"ogv","application/ogg":"ogx","audio/opus":"opus","font/otf":"otf","image/png":"png","application/pdf":"pdf","application/x-httpd-php":"php","application/vnd.ms-powerpoint":"ppt","application/vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","application/vnd.rar":"rar","application/rtf":"rtf","application/x-sh":"sh","image/svg+xml":"svg","application/x-shockwave-flash":"swf","application/x-tar":"tar","image/tiff":"tiff","video/mp2t":"ts","font/ttf":"ttf","text/plain":"txt","application/vnd.visio":"vsd","audio/wav":"wav","audio/webm":"weba","video/webm":"webm","image/webp":"webp","font/woff":"woff","font/woff2":"woff2","application/xhtml+xml":"xhtml","application/vnd.ms-excel":"xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","application/xml":"xml","application/vnd.mozilla.xul+xml":"xul","application/zip":"zip","video/3gpp":"3gp","video/3gpp2":"3g2","audio/3gpp":"3gp","audio/3gpp2":"3g2","application/x-7z-compressed":"7z"},Zk={"application/vnd.hzn-3d-crossword":"3D Crossword Plugin","video/3gpp":"3GP","video/3gpp2":"3GP2","application/vnd.mseq":"3GPP MSEQ File","application/vnd.3m.post-it-notes":"3M Post It Notes","application/vnd.3gpp.pic-bw-large":"3rd Generation Partnership Project - Pic Large","application/vnd.3gpp.pic-bw-small":"3rd Generation Partnership Project - Pic Small","application/vnd.3gpp.pic-bw-var":"3rd Generation Partnership Project - Pic Var","application/vnd.3gpp2.tcap":"3rd Generation Partnership Project - Transaction Capabilities Application Part","application/x-7z-compressed":"7-Zip","application/x-abiword":"AbiWord","application/x-ace-compressed":"Ace Archive","application/vnd.americandynamics.acc":"Active Content Compression","application/vnd.acucobol":"ACU Cobol","application/vnd.acucorp":"ACU Cobol","audio/adpcm":"Adaptive differential pulse-code modulation","application/x-authorware-bin":"Adobe (Macropedia) Authorware - Binary File","application/x-authorware-map":"Adobe (Macropedia) Authorware - Map","application/x-authorware-seg":"Adobe (Macropedia) Authorware - Segment File","application/vnd.adobe.air-application-installer-package+zip":"Adobe AIR Application","application/x-shockwave-flash":"Adobe Flash","application/vnd.adobe.fxp":"Adobe Flex Project","application/pdf":"PDF","application/sql":"SQL","application/vnd.cups-ppd":"Adobe PostScript Printer Description File Format","application/x-director":"Adobe Shockwave Player","application/vnd.adobe.xdp+xml":"Adobe XML Data Package","application/vnd.adobe.xfdf":"Adobe XML Forms Data Format","audio/x-aac":"Advanced Audio Coding (AAC)","application/vnd.ahead.space":"Ahead AIR Application","application/vnd.airzip.filesecure.azf":"AirZip FileSECURE","application/vnd.airzip.filesecure.azs":"AirZip FileSECURE","application/vnd.amazon.ebook":"Amazon Kindle eBook format","application/vnd.amiga.ami":"AmigaDE","application/andrew-inset":"Andrew Toolkit","application/vnd.android.package-archive":"Android Package Archive","application/vnd.anser-web-certificate-issue-initiation":"ANSER-WEB Terminal Client - Certificate Issue","application/vnd.anser-web-funds-transfer-initiation":"ANSER-WEB Terminal Client - Web Funds Transfer","application/vnd.antix.game-component":"Antix Game Player","application/x-apple-diskimage":"Apple Disk Image","application/vnd.apple.installer+xml":"Apple Installer Package","application/applixware":"Applixware","application/vnd.hhe.lesson-player":"Archipelago Lesson Player","application/vnd.aristanetworks.swi":"Arista Networks Software Image","text/x-asm":"Assembler Source File","application/atomcat+xml":"Atom Publishing Protocol","application/atomsvc+xml":"Atom Publishing Protocol Service Document","application/atom+xml":"Atom Syndication Format","application/pkix-attr-cert":"Attribute Certificate","audio/x-aiff":"AIFF","video/x-msvideo":"AVI","application/vnd.audiograph":"Audiograph","image/vnd.dxf":"AutoCAD DXF","model/vnd.dwf":"Autodesk Design Web Format (DWF)","text/plain-bas":"BAS Partitur Format","application/x-bcpio":"Binary CPIO Archive","application/octet-stream":"Binary Data","image/bmp":"Bitmap Image","application/x-bittorrent":"BitTorrent","application/vnd.rim.cod":"Blackberry COD File","application/vnd.blueice.multipass":"Blueice Research Multipass","application/vnd.bmi":"BMI Drawing Data Interchange","application/x-sh":"Bourne Shell Script","image/prs.btif":"BTIF","application/vnd.businessobjects":"BusinessObjects","application/x-bzip":"Bzip Archive","application/x-bzip2":"Bzip2 Archive","application/x-csh":"C Shell Script","text/x-c":"C Source File","application/vnd.chemdraw+xml":"CambridgeSoft Chem Draw","text/css":"Cascading Style Sheets (CSS)","chemical/x-cdx":"ChemDraw eXchange file","chemical/x-cml":"Chemical Markup Language","chemical/x-csml":"Chemical Style Markup Language","application/vnd.contact.cmsg":"CIM Database","application/vnd.claymore":"Claymore Data Files","application/vnd.clonk.c4group":"Clonk Game","image/vnd.dvb.subtitle":"Close Captioning - Subtitle","application/cdmi-capability":"Cloud Data Management Interface (CDMI) - Capability","application/cdmi-container":"Cloud Data Management Interface (CDMI) - Contaimer","application/cdmi-domain":"Cloud Data Management Interface (CDMI) - Domain","application/cdmi-object":"Cloud Data Management Interface (CDMI) - Object","application/cdmi-queue":"Cloud Data Management Interface (CDMI) - Queue","application/vnd.cluetrust.cartomobile-config":"ClueTrust CartoMobile - Config","application/vnd.cluetrust.cartomobile-config-pkg":"ClueTrust CartoMobile - Config Package","image/x-cmu-raster":"CMU Image","model/vnd.collada+xml":"COLLADA","text/csv":"CSV","application/mac-compactpro":"Compact Pro","application/vnd.wap.wmlc":"Compiled Wireless Markup Language (WMLC)","image/cgm":"Computer Graphics Metafile","x-conference/x-cooltalk":"CoolTalk","image/x-cmx":"Corel Metafile Exchange (CMX)","application/vnd.xara":"CorelXARA","application/vnd.cosmocaller":"CosmoCaller","application/x-cpio":"CPIO Archive","application/vnd.crick.clicker":"CrickSoftware - Clicker","application/vnd.crick.clicker.keyboard":"CrickSoftware - Clicker - Keyboard","application/vnd.crick.clicker.palette":"CrickSoftware - Clicker - Palette","application/vnd.crick.clicker.template":"CrickSoftware - Clicker - Template","application/vnd.crick.clicker.wordbank":"CrickSoftware - Clicker - Wordbank","application/vnd.criticaltools.wbs+xml":"Critical Tools - PERT Chart EXPERT","application/vnd.rig.cryptonote":"CryptoNote","chemical/x-cif":"Crystallographic Interchange Format","chemical/x-cmdf":"CrystalMaker Data Format","application/cu-seeme":"CU-SeeMe","application/prs.cww":"CU-Writer","text/vnd.curl":"Curl - Applet","text/vnd.curl.dcurl":"Curl - Detached Applet","text/vnd.curl.mcurl":"Curl - Manifest File","text/vnd.curl.scurl":"Curl - Source Code","application/vnd.curl.car":"CURL Applet","application/vnd.curl.pcurl":"CURL Applet","application/vnd.yellowriver-custom-menu":"CustomMenu","application/dssc+der":"Data Structure for the Security Suitability of Cryptographic Algorithms","application/dssc+xml":"Data Structure for the Security Suitability of Cryptographic Algorithms","application/x-debian-package":"Debian Package","audio/vnd.dece.audio":"DECE Audio","image/vnd.dece.graphic":"DECE Graphic","video/vnd.dece.hd":"DECE High Definition Video","video/vnd.dece.mobile":"DECE Mobile Video","video/vnd.uvvu.mp4":"DECE MP4","video/vnd.dece.pd":"DECE PD Video","video/vnd.dece.sd":"DECE SD Video","video/vnd.dece.video":"DECE Video","application/x-dvi":"DVI","application/vnd.fdsn.seed":"Digital Siesmograph Networks - SEED Datafiles","application/x-dtbook+xml":"Digital Talking Book","application/x-dtbresource+xml":"Digital Talking Book - Resource File","application/vnd.dvb.ait":"Digital Video Broadcasting","application/vnd.dvb.service":"Digital Video Broadcasting","audio/vnd.digital-winds":"Digital Winds Music","image/vnd.djvu":"DjVu","application/xml-dtd":"Document Type Definition","application/vnd.dolby.mlp":"Dolby Meridian Lossless Packing","application/x-doom":"Doom Video Game","application/vnd.dpgraph":"DPGraph","audio/vnd.dra":"DRA Audio","application/vnd.dreamfactory":"DreamFactory","audio/vnd.dts":"DTS Audio","audio/vnd.dts.hd":"DTS High Definition Audio","image/vnd.dwg":"DWG Drawing","application/vnd.dynageo":"DynaGeo","application/ecmascript":"ECMAScript","application/vnd.ecowin.chart":"EcoWin Chart","image/vnd.fujixerox.edmics-mmr":"EDMICS 2000","image/vnd.fujixerox.edmics-rlc":"EDMICS 2000","application/exi":"Efficient XML Interchange","application/vnd.proteus.magazine":"EFI Proteus","application/epub+zip":"Electronic Publication","message/rfc822":"Email Message","application/vnd.enliven":"Enliven Viewer","application/vnd.is-xpr":"Express by Infoseek","image/vnd.xiff":"eXtended Image File Format (XIFF)","application/vnd.xfdl":"Extensible Forms Description Language","application/emma+xml":"Extensible MultiModal Annotation","application/vnd.ezpix-album":"EZPix Secure Photo Album","application/vnd.ezpix-package":"EZPix Secure Photo Album","image/vnd.fst":"FAST Search & Transfer ASA","video/vnd.fvt":"FAST Search & Transfer ASA","image/vnd.fastbidsheet":"FastBid Sheet","application/vnd.denovo.fcselayout-link":"FCS Express Layout Link","video/x-f4v":"Flash Video","video/x-flv":"Flash Video","image/vnd.fpx":"FlashPix","image/vnd.net-fpx":"FlashPix","text/vnd.fmi.flexstor":"FLEXSTOR","video/x-fli":"FLI/FLC Animation Format","application/vnd.fluxtime.clip":"FluxTime Clip","application/vnd.fdf":"Forms Data Format","text/x-fortran":"Fortran Source File","application/vnd.mif":"FrameMaker Interchange Format","application/vnd.framemaker":"FrameMaker Normal Format","image/x-freehand":"FreeHand MX","application/vnd.fsc.weblaunch":"Friendly Software Corporation","application/vnd.frogans.fnc":"Frogans Player","application/vnd.frogans.ltf":"Frogans Player","application/vnd.fujixerox.ddd":"Fujitsu - Xerox 2D CAD Data","application/vnd.fujixerox.docuworks":"Fujitsu - Xerox DocuWorks","application/vnd.fujixerox.docuworks.binder":"Fujitsu - Xerox DocuWorks Binder","application/vnd.fujitsu.oasys":"Fujitsu Oasys","application/vnd.fujitsu.oasys2":"Fujitsu Oasys","application/vnd.fujitsu.oasys3":"Fujitsu Oasys","application/vnd.fujitsu.oasysgp":"Fujitsu Oasys","application/vnd.fujitsu.oasysprs":"Fujitsu Oasys","application/x-futuresplash":"FutureSplash Animator","application/vnd.fuzzysheet":"FuzzySheet","image/g3fax":"G3 Fax Image","application/vnd.gmx":"GameMaker ActiveX","model/vnd.gtw":"Gen-Trix Studio","application/vnd.genomatix.tuxedo":"Genomatix Tuxedo Framework","application/vnd.geogebra.file":"GeoGebra","application/vnd.geogebra.tool":"GeoGebra","model/vnd.gdl":"Geometric Description Language (GDL)","application/vnd.geometry-explorer":"GeoMetry Explorer","application/vnd.geonext":"GEONExT and JSXGraph","application/vnd.geoplan":"GeoplanW","application/vnd.geospace":"GeospacW","application/x-font-ghostscript":"Ghostscript Font","application/x-font-bdf":"Glyph Bitmap Distribution Format","application/x-gtar":"GNU Tar Files","application/x-texinfo":"GNU Texinfo Document","application/x-gnumeric":"Gnumeric","application/vnd.google-earth.kml+xml":"Google Earth - KML","application/vnd.google-earth.kmz":"Google Earth - Zipped KML","application/vnd.grafeq":"GrafEq","image/gif":"GIF","text/vnd.graphviz":"Graphviz","application/vnd.groove-account":"Groove - Account","application/vnd.groove-help":"Groove - Help","application/vnd.groove-identity-message":"Groove - Identity Message","application/vnd.groove-injector":"Groove - Injector","application/vnd.groove-tool-message":"Groove - Tool Message","application/vnd.groove-tool-template":"Groove - Tool Template","application/vnd.groove-vcard":"Groove - Vcard","video/h261":"H.261","video/h263":"H.263","video/h264":"H.264","application/vnd.hp-hpid":"Hewlett Packard Instant Delivery","application/vnd.hp-hps":"Hewlett-Packard's WebPrintSmart","application/x-hdf":"Hierarchical Data Format","audio/vnd.rip":"Hit'n'Mix","application/vnd.hbci":"Homebanking Computer Interface (HBCI)","application/vnd.hp-jlyt":"HP Indigo Digital Press - Job Layout Languate","application/vnd.hp-pcl":"HP Printer Command Language","application/vnd.hp-hpgl":"HP-GL/2 and HP RTL","application/vnd.yamaha.hv-script":"HV Script","application/vnd.yamaha.hv-dic":"HV Voice Dictionary","application/vnd.yamaha.hv-voice":"HV Voice Parameter","application/vnd.hydrostatix.sof-data":"Hydrostatix Master Suite","application/hyperstudio":"Hyperstudio","application/vnd.hal+xml":"Hypertext Application Language","text/html":"HTML","application/vnd.ibm.rights-management":"IBM DB2 Rights Manager","application/vnd.ibm.secure-container":"IBM Electronic Media Management System - Secure Container","text/calendar":"iCalendar","application/vnd.iccprofile":"ICC profile","image/x-icon":"Icon Image","application/vnd.igloader":"igLoader","image/ief":"Image Exchange Format","application/vnd.immervision-ivp":"ImmerVision PURE Players","application/vnd.immervision-ivu":"ImmerVision PURE Players","application/reginfo+xml":"IMS Networks","text/vnd.in3d.3dml":"In3D - 3DML","text/vnd.in3d.spot":"In3D - 3DML","model/iges":"Initial Graphics Exchange Specification (IGES)","application/vnd.intergeo":"Interactive Geometry Software","application/vnd.cinderella":"Interactive Geometry Software Cinderella","application/vnd.intercon.formnet":"Intercon FormNet","application/vnd.isac.fcs":"International Society for Advancement of Cytometry","application/ipfix":"Internet Protocol Flow Information Export","application/pkix-cert":"Internet Public Key Infrastructure - Certificate","application/pkixcmp":"Internet Public Key Infrastructure - Certificate Management Protocole","application/pkix-crl":"Internet Public Key Infrastructure - Certificate Revocation Lists","application/pkix-pkipath":"Internet Public Key Infrastructure - Certification Path","application/vnd.insors.igm":"IOCOM Visimeet","application/vnd.ipunplugged.rcprofile":"IP Unplugged Roaming Client","application/vnd.irepository.package+xml":"iRepository / Lucidoc Editor","text/vnd.sun.j2me.app-descriptor":"J2ME App Descriptor","application/java-archive":"Java Archive","application/java-vm":"Java Bytecode File","application/x-java-jnlp-file":"Java Network Launching Protocol","application/java-serialized-object":"Java Serialized Object","text/x-java-source,java":"Java Source File","application/javascript":"JavaScript","application/json":"JSON","application/vnd.joost.joda-archive":"Joda Archive","video/jpm":"JPG","image/jpeg":"JPG","image/x-citrix-jpeg":"JPG","image/pjpeg":"JPG","video/jpeg":"JPGVideo","application/vnd.kahootz":"Kahootz","application/vnd.chipnuts.karaoke-mmd":"Karaoke on Chipnuts Chipsets","application/vnd.kde.karbon":"KDE KOffice Office Suite - Karbon","application/vnd.kde.kchart":"KDE KOffice Office Suite - KChart","application/vnd.kde.kformula":"KDE KOffice Office Suite - Kformula","application/vnd.kde.kivio":"KDE KOffice Office Suite - Kivio","application/vnd.kde.kontour":"KDE KOffice Office Suite - Kontour","application/vnd.kde.kpresenter":"KDE KOffice Office Suite - Kpresenter","application/vnd.kde.kspread":"KDE KOffice Office Suite - Kspread","application/vnd.kde.kword":"KDE KOffice Office Suite - Kword","application/vnd.kenameaapp":"Kenamea App","application/vnd.kidspiration":"Kidspiration","application/vnd.kinar":"Kinar Applications","application/vnd.kodak-descriptor":"Kodak Storyshare","application/vnd.las.las+xml":"Laser App Enterprise","application/x-latex":"LaTeX","application/vnd.llamagraphics.life-balance.desktop":"Life Balance - Desktop Edition","application/vnd.llamagraphics.life-balance.exchange+xml":"Life Balance - Exchange Format","application/vnd.jam":"Lightspeed Audio Lab","application/vnd.lotus-1-2-3":"Lotus 1-2-3","application/vnd.lotus-approach":"Lotus Approach","application/vnd.lotus-freelance":"Lotus Freelance","application/vnd.lotus-notes":"Lotus Notes","application/vnd.lotus-organizer":"Lotus Organizer","application/vnd.lotus-screencam":"Lotus Screencam","application/vnd.lotus-wordpro":"Lotus Wordpro","audio/vnd.lucent.voice":"Lucent Voice","audio/x-mpegurl":"M3U (Multimedia Playlist)","video/x-m4v":"M4v","application/mac-binhex40":"Macintosh BinHex 4.0","application/vnd.macports.portpkg":"MacPorts Port System","application/vnd.osgeo.mapguide.package":"MapGuide DBXML","application/marc":"MARC Formats","application/marcxml+xml":"MARC21 XML Schema","application/mxf":"Material Exchange Format","application/vnd.wolfram.player":"Mathematica Notebook Player","application/mathematica":"Mathematica Notebooks","application/mathml+xml":"Mathematical Markup Language","application/mbox":"Mbox database files","application/vnd.medcalcdata":"MedCalc","application/mediaservercontrol+xml":"Media Server Control Markup Language","application/vnd.mediastation.cdkey":"MediaRemote","application/vnd.mfer":"Medical Waveform Encoding Format","application/vnd.mfmp":"Melody Format for Mobile Platform","model/mesh":"Mesh Data Type","application/mads+xml":"Metadata Authority  Description Schema","application/mets+xml":"Metadata Encoding and Transmission Standard","application/mods+xml":"Metadata Object Description Schema","application/metalink4+xml":"Metalink","application/vnd.mcd":"Micro CADAM Helix D&D","application/vnd.micrografx.flo":"Micrografx","application/vnd.micrografx.igx":"Micrografx iGrafx Professional","application/vnd.eszigno3+xml":"MICROSEC e-Szign\xA2","application/x-msaccess":"Access","video/x-ms-asf":"MS ASF","application/x-msdownload":"MS App","application/vnd.ms-artgalry":"MS Artgalry","application/vnd.ms-cab-compressed":"MS Cabinet File","application/vnd.ms-ims":"MS Class Server","application/x-ms-application":"MS ClickOnce","application/x-msclip":"MS Clipboard Clip","image/vnd.ms-modi":"MS Document Imaging Format","application/vnd.ms-fontobject":"MS Embedded OpenType","application/vnd.ms-excel":"Excel","application/vnd.ms-excel.addin.macroenabled.12":"MS Excel - Add-In File","application/vnd.ms-excel.sheet.binary.macroenabled.12":"MS Excel - Binary Workbook","application/vnd.ms-excel.template.macroenabled.12":"MS Excel - Macro-Enabled Template File","application/vnd.ms-excel.sheet.macroenabled.12":"MS Excel - Macro-Enabled Workbook","application/vnd.ms-htmlhelp":"MS Html Help File","application/x-mscardfile":"MS Information Card","application/vnd.ms-lrm":"MS Learning Resource Module","application/x-msmediaview":"MS MediaView","application/x-msmoney":"MS Money","application/vnd.openxmlformats-officedocument.presentationml.presentation":"MS Office - OOXML - Presentation","application/vnd.openxmlformats-officedocument.presentationml.slide":"MS Office - OOXML - Presentation (Slide)","application/vnd.openxmlformats-officedocument.presentationml.slideshow":"MS Office - OOXML - Presentation (Slideshow)","application/vnd.openxmlformats-officedocument.presentationml.template":"MS Office - OOXML - Presentation Template","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"MS Office - OOXML - Spreadsheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template":"MS Office - OOXML - Spreadsheet Template","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"MS Office - OOXML - Word Document","application/vnd.openxmlformats-officedocument.wordprocessingml.template":"MS Office - OOXML - Word Document Template","application/x-msbinder":"MS Office Binder","application/vnd.ms-officetheme":"MS Office System Release Theme","application/onenote":"OneNote","audio/vnd.ms-playready.media.pya":"MS PlayReady Ecosystem","video/vnd.ms-playready.media.pyv":"MS PlayReady Ecosystem Video","application/vnd.ms-powerpoint":"PowerPoint","application/vnd.ms-powerpoint.addin.macroenabled.12":"PowerPoint - Add-in file","application/vnd.ms-powerpoint.slide.macroenabled.12":"PowerPoint - Macro-Enabled Open XML Slide","application/vnd.ms-powerpoint.presentation.macroenabled.12":"PowerPoint - Macro-Enabled Presentation File","application/vnd.ms-powerpoint.slideshow.macroenabled.12":"PowerPoint - Macro-Enabled Slide Show File","application/vnd.ms-powerpoint.template.macroenabled.12":"PowerPoint - Macro-Enabled Template File","application/vnd.ms-project":"MS Project","application/x-mspublisher":"MS Publisher","application/x-msschedule":"MS Schedule+","application/x-silverlight-app":"MS Silverlight","application/vnd.ms-pki.stl":"MS Trust UI Provider - Certificate Trust Link","application/vnd.ms-pki.seccat":"MS Trust UI Provider - Security Catalog","application/vnd.visio":"Visio","application/vnd.visio2013":"Visio 2013","video/x-ms-wm":"MS Windows Media","audio/x-ms-wma":"WMA","audio/x-ms-wax":"MS Windows Media Audio Redirector","video/x-ms-wmx":"MS Windows Media Audio/Video Playlist","application/x-ms-wmd":"MS Windows Media Player Download Package","application/vnd.ms-wpl":"MS Windows Media Player Playlist","application/x-ms-wmz":"MS Windows Media Player Skin Package","video/x-ms-wmv":"WMV","video/x-ms-wvx":"MS Windows Media Video Playlist","application/x-msmetafile":"MS Windows Metafile","application/x-msterminal":"MS Windows Terminal Services","application/msword":"Word","application/vnd.ms-word.document.macroenabled.12":"MS Word - Macro-Enabled Document","application/vnd.ms-word.template.macroenabled.12":"MS Word - Macro-Enabled Template","application/x-mswrite":"MS Wordpad","application/vnd.ms-works":"MS Works","application/x-ms-xbap":"MS XAML Browser Application","application/vnd.ms-xpsdocument":"MS XML Paper Specification","audio/midi":"MIDI","application/vnd.ibm.minipay":"MiniPay","application/vnd.ibm.modcap":"MO:DCA-P","application/vnd.jcp.javame.midlet-rms":"Mobile Information Device Profile","application/vnd.tmobile-livetv":"MobileTV","application/x-mobipocket-ebook":"Mobipocket","application/vnd.mobius.mbk":"Mobius Management Systems - Basket file","application/vnd.mobius.dis":"Mobius Management Systems - Distribution Database","application/vnd.mobius.plc":"Mobius Management Systems - Policy Definition Language File","application/vnd.mobius.mqy":"Mobius Management Systems - Query File","application/vnd.mobius.msl":"Mobius Management Systems - Script Language","application/vnd.mobius.txf":"Mobius Management Systems - Topic Index File","application/vnd.mobius.daf":"Mobius Management Systems - UniversalArchive","text/vnd.fly":"mod_fly / fly.cgi","application/vnd.mophun.certificate":"Mophun Certificate","application/vnd.mophun.application":"Mophun VM","video/mj2":"Motion JPEG 2000","audio/mpeg":"MPEG Audio","video/vnd.mpegurl":"MPEG Url","video/mpeg":"MPEG","application/mp21":"MPEG-21","audio/mp4":"MP4 Audio","video/mp4":"MP4 Video","application/mp4":"MP4","application/vnd.apple.mpegurl":"Multimedia Playlist Unicode","application/vnd.musician":"MUsical Score Interpreted Code Invented for the ASCII designation of Notation","application/vnd.muvee.style":"Muvee Automatic Video Editing","application/xv+xml":"MXML","application/vnd.nokia.n-gage.data":"N-Gage Game Data","application/vnd.nokia.n-gage.symbian.install":"N-Gage Game Installer","application/x-dtbncx+xml":"Navigation Control file for XML (for ePub)","application/x-netcdf":"Network Common Data Form (NetCDF)","application/vnd.neurolanguage.nlu":"neuroLanguage","application/vnd.dna":"New Moon Liftoff/DNA","application/vnd.noblenet-directory":"NobleNet Directory","application/vnd.noblenet-sealer":"NobleNet Sealer","application/vnd.noblenet-web":"NobleNet Web","application/vnd.nokia.radio-preset":"Nokia Radio Application - Preset","application/vnd.nokia.radio-presets":"Nokia Radio Application - Preset","text/n3":"Notation3","application/vnd.novadigm.edm":"Novadigm's RADIA and EDM products","application/vnd.novadigm.edx":"Novadigm's RADIA and EDM products","application/vnd.novadigm.ext":"Novadigm's RADIA and EDM products","application/vnd.flographit":"NpGraphIt","audio/vnd.nuera.ecelp4800":"Nuera ECELP 4800","audio/vnd.nuera.ecelp7470":"Nuera ECELP 7470","audio/vnd.nuera.ecelp9600":"Nuera ECELP 9600","application/oda":"Office Document Architecture","application/ogg":"Ogg","audio/ogg":"Ogg Audio","video/ogg":"Ogg Video","application/vnd.oma.dd2+xml":"OMA Download Agents","application/vnd.oasis.opendocument.text-web":"Open Document Text Web","application/oebps-package+xml":"Open eBook Publication Structure","application/vnd.intu.qbo":"Open Financial Exchange","application/vnd.openofficeorg.extension":"Open Office Extension","application/vnd.yamaha.openscoreformat":"Open Score Format","audio/webm":"WebM Audio","video/webm":"WebM Video","application/vnd.oasis.opendocument.chart":"OpenDocument Chart","application/vnd.oasis.opendocument.chart-template":"OpenDocument Chart Template","application/vnd.oasis.opendocument.database":"OpenDocument Database","application/vnd.oasis.opendocument.formula":"OpenDocument Formula","application/vnd.oasis.opendocument.formula-template":"OpenDocument Formula Template","application/vnd.oasis.opendocument.graphics":"OpenDocument Graphics","application/vnd.oasis.opendocument.graphics-template":"OpenDocument Graphics Template","application/vnd.oasis.opendocument.image":"OpenDocument Image","application/vnd.oasis.opendocument.image-template":"OpenDocument Image Template","application/vnd.oasis.opendocument.presentation":"OpenDocument Presentation","application/vnd.oasis.opendocument.presentation-template":"OpenDocument Presentation Template","application/vnd.oasis.opendocument.spreadsheet":"OpenDocument Spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template":"OpenDocument Spreadsheet Template","application/vnd.oasis.opendocument.text":"OpenDocument Text","application/vnd.oasis.opendocument.text-master":"OpenDocument Text Master","application/vnd.oasis.opendocument.text-template":"OpenDocument Text Template","image/ktx":"OpenGL Textures (KTX)","application/vnd.sun.xml.calc":"OpenOffice - Calc (Spreadsheet)","application/vnd.sun.xml.calc.template":"OpenOffice - Calc Template (Spreadsheet)","application/vnd.sun.xml.draw":"OpenOffice - Draw (Graphics)","application/vnd.sun.xml.draw.template":"OpenOffice - Draw Template (Graphics)","application/vnd.sun.xml.impress":"OpenOffice - Impress (Presentation)","application/vnd.sun.xml.impress.template":"OpenOffice - Impress Template (Presentation)","application/vnd.sun.xml.math":"OpenOffice - Math (Formula)","application/vnd.sun.xml.writer":"OpenOffice - Writer (Text - HTML)","application/vnd.sun.xml.writer.global":"OpenOffice - Writer (Text - HTML)","application/vnd.sun.xml.writer.template":"OpenOffice - Writer Template (Text - HTML)","application/x-font-otf":"OpenType Font File","application/vnd.yamaha.openscoreformat.osfpvg+xml":"OSFPVG","application/vnd.osgi.dp":"OSGi Deployment Package","application/vnd.palm":"PalmOS Data","text/x-pascal":"Pascal Source File","application/vnd.pawaafile":"PawaaFILE","application/vnd.hp-pclxl":"PCL 6 Enhanced (Formely PCL XL)","application/vnd.picsel":"Pcsel eFIF File","image/x-pcx":"PCX Image","image/vnd.adobe.photoshop":"Photoshop Document","application/pics-rules":"PICSRules","image/x-pict":"PICT Image","application/x-chat":"pIRCh","application/pkcs10":"PKCS #10 - Certification Request Standard","application/x-pkcs12":"PKCS #12 - Personal Information Exchange Syntax Standard","application/pkcs7-mime":"PKCS #7 - Cryptographic Message Syntax Standard","application/pkcs7-signature":"PKCS #7 - Cryptographic Message Syntax Standard","application/x-pkcs7-certreqresp":"PKCS #7 - Cryptographic Message Syntax Standard (Certificate Request Response)","application/x-pkcs7-certificates":"PKCS #7 - Cryptographic Message Syntax Standard (Certificates)","application/pkcs8":"PKCS #8 - Private-Key Information Syntax Standard","application/vnd.pocketlearn":"PocketLearn Viewers","image/x-portable-anymap":"Portable Anymap Image","image/x-portable-bitmap":"Portable Bitmap Format","application/x-font-pcf":"Portable Compiled Format","application/font-tdpfr":"Portable Font Resource","application/x-chess-pgn":"Portable Game Notation (Chess Games)","image/x-portable-graymap":"Portable Graymap Format","image/png":"PNG","image/x-citrix-png":"PNG","image/x-png":"PNG","image/x-portable-pixmap":"Portable Pixmap Format","application/pskc+xml":"Portable Symmetric Key Container","application/vnd.ctc-posml":"PosML","application/postscript":"PostScript","application/x-font-type1":"PostScript Fonts","application/vnd.powerbuilder6":"PowerBuilder","application/pgp-encrypted":"Pretty Good Privacy","application/pgp-signature":"Pretty Good Privacy - Signature","application/vnd.previewsystems.box":"Preview Systems ZipLock/VBox","application/vnd.pvi.ptid1":"Princeton Video Image","application/pls+xml":"Pronunciation Lexicon Specification","application/vnd.pg.format":"Proprietary P&G Standard Reporting System","application/vnd.pg.osasli":"Proprietary P&G Standard Reporting System","text/prs.lines.tag":"PRS Lines Tag","application/x-font-linux-psf":"PSF Fonts","application/vnd.publishare-delta-tree":"PubliShare Objects","application/vnd.pmi.widget":"Qualcomm's Plaza Mobile Internet","application/vnd.quark.quarkxpress":"QuarkXpress","application/vnd.epson.esf":"QUASS Stream Player","application/vnd.epson.msf":"QUASS Stream Player","application/vnd.epson.ssf":"QUASS Stream Player","application/vnd.epson.quickanime":"QuickAnime Player","application/vnd.intu.qfx":"Quicken","video/quicktime":"Quicktime Video","application/x-rar-compressed":"RAR Archive","audio/x-pn-realaudio":"Real Audio Sound","audio/x-pn-realaudio-plugin":"Real Audio Sound","application/rsd+xml":"Really Simple Discovery","application/vnd.rn-realmedia":"RealMedia","application/vnd.realvnc.bed":"RealVNC","application/vnd.recordare.musicxml":"Recordare Applications","application/vnd.recordare.musicxml+xml":"Recordare Applications","application/relax-ng-compact-syntax":"Relax NG Compact Syntax","application/vnd.data-vision.rdz":"RemoteDocs R-Viewer","application/rdf+xml":"Resource Description Framework","application/vnd.cloanto.rp9":"RetroPlatform Player","application/vnd.jisp":"RhymBox","application/rtf":"Rich Text","text/richtext":"Rich Text","application/vnd.route66.link66+xml":"ROUTE 66 Location Based Services","application/rss+xml":"RSS","application/shf+xml":"S Hexdump Format","application/vnd.sailingtracker.track":"SailingTracker","image/svg+xml":"SVG","application/vnd.sus-calendar":"ScheduleUs","application/sru+xml":"Search/Retrieve via URL Response Format","application/set-payment-initiation":"Secure Electronic Transaction - Payment","application/set-registration-initiation":"Secure Electronic Transaction - Registration","application/vnd.sema":"Secured eMail","application/vnd.semd":"Secured eMail","application/vnd.semf":"Secured eMail","application/vnd.seemail":"SeeMail","application/x-font-snf":"Server Normal Format","application/scvp-vp-request":"Server-Based Certificate Validation Protocol - Validation Policies - Request","application/scvp-vp-response":"Server-Based Certificate Validation Protocol - Validation Policies - Response","application/scvp-cv-request":"Server-Based Certificate Validation Protocol - Validation Request","application/scvp-cv-response":"Server-Based Certificate Validation Protocol - Validation Response","application/sdp":"Session Description Protocol","text/x-setext":"Setext","video/x-sgi-movie":"SGI Movie","application/vnd.shana.informed.formdata":"Shana Informed Filler","application/vnd.shana.informed.formtemplate":"Shana Informed Filler","application/vnd.shana.informed.interchange":"Shana Informed Filler","application/vnd.shana.informed.package":"Shana Informed Filler","application/thraud+xml":"Sharing Transaction Fraud Data","application/x-shar":"Shell Archive","image/x-rgb":"Silicon Graphics RGB Bitmap","application/vnd.epson.salt":"SimpleAnimeLite Player","application/vnd.accpac.simply.aso":"Simply Accounting","application/vnd.accpac.simply.imp":"Simply Accounting - Data Import","application/vnd.simtech-mindmapper":"SimTech MindMapper","application/vnd.commonspace":"Sixth Floor Media - CommonSpace","application/vnd.yamaha.smaf-audio":"SMAF Audio","application/vnd.smaf":"SMAF File","application/vnd.yamaha.smaf-phrase":"SMAF Phrase","application/vnd.smart.teacher":"SMART Technologies Apps","application/vnd.svd":"SourceView Document","application/sparql-query":"SPARQL - Query","application/sparql-results+xml":"SPARQL - Results","application/srgs":"Speech Recognition Grammar Specification","application/srgs+xml":"Speech Recognition Grammar Specification - XML","application/ssml+xml":"Speech Synthesis Markup Language","application/vnd.koan":"SSEYO Koan Play File","text/sgml":"SGML","application/vnd.stardivision.calc":"StarOffice - Calc","application/vnd.stardivision.draw":"StarOffice - Draw","application/vnd.stardivision.impress":"StarOffice - Impress","application/vnd.stardivision.math":"StarOffice - Math","application/vnd.stardivision.writer":"StarOffice - Writer","application/vnd.stardivision.writer-global":"StarOffice - Writer  (Global)","application/vnd.stepmania.stepchart":"StepMania","application/x-stuffit":"Stuffit Archive","application/x-stuffitx":"Stuffit Archive","application/vnd.solent.sdkm+xml":"SudokuMagic","application/vnd.olpc-sugar":"Sugar Linux Application Bundle","audio/basic":"Sun Audio - Au file format","application/vnd.wqd":"SundaHus WQ","application/vnd.symbian.install":"Symbian Install Package","application/smil+xml":"Synchronized Multimedia Integration Language","application/vnd.syncml+xml":"SyncML","application/vnd.syncml.dm+wbxml":"SyncML - Device Management","application/vnd.syncml.dm+xml":"SyncML - Device Management","application/x-sv4cpio":"System V Release 4 CPIO Archive","application/x-sv4crc":"System V Release 4 CPIO Checksum Data","application/sbml+xml":"Systems Biology Markup Language","text/tab-separated-values":"Tab Seperated Values","image/tiff":"TIFF","application/vnd.tao.intent-module-archive":"Tao Intent","application/x-tar":"Tar File","application/x-tcl":"Tcl Script","application/x-tex":"TeX","application/x-tex-tfm":"TeX Font Metric","application/tei+xml":"Text Encoding and Interchange","text/plain":"Text","application/vnd.spotfire.dxp":"TIBCO Spotfire","application/vnd.spotfire.sfs":"TIBCO Spotfire","application/timestamped-data":"Time Stamped Data Envelope","application/vnd.trid.tpt":"TRI Systems Config","application/vnd.triscape.mxs":"Triscape Map Explorer","text/troff":"troff","application/vnd.trueapp":"True BASIC","application/x-font-ttf":"TrueType Font","text/turtle":"Turtle (Terse RDF Triple Language)","application/vnd.umajin":"UMAJIN","application/vnd.uoml+xml":"Unique Object Markup Language","application/vnd.unity":"Unity 3d","application/vnd.ufdl":"Universal Forms Description Language","text/uri-list":"URI Resolution Services","application/vnd.uiq.theme":"User Interface Quartz - Theme (Symbian)","application/x-ustar":"Ustar (Uniform Standard Tape Archive)","text/x-uuencode":"UUEncode","text/x-vcalendar":"vCalendar","text/x-vcard":"vCard","application/x-cdlink":"Video CD","application/vnd.vsf":"Viewport+","model/vrml":"Virtual Reality Modeling Language","application/vnd.vcx":"VirtualCatalog","model/vnd.mts":"Virtue MTS","model/vnd.vtu":"Virtue VTU","application/vnd.visionary":"Visionary","video/vnd.vivo":"Vivo","application/ccxml+xml,":"Voice Browser Call Control","application/voicexml+xml":"VoiceXML","application/x-wais-source":"WAIS Source","application/vnd.wap.wbxml":"WAP Binary XML (WBXML)","image/vnd.wap.wbmp":"WBMP","audio/x-wav":"WAV","application/davmount+xml":"Web Distributed Authoring and Versioning","application/x-font-woff":"WOFF","application/wspolicy+xml":"Web Services Policy","image/webp":"WebP","application/vnd.webturbo":"WebTurbo","application/widget":"Widget Packaging and XML Configuration","application/winhlp":"WinHelp","text/vnd.wap.wml":"WML","text/vnd.wap.wmlscript":"WMLScript","application/vnd.wap.wmlscriptc":"WMLScript","application/vnd.wordperfect":"Wordperfect","application/vnd.wt.stf":"Worldtalk","application/wsdl+xml":"WSDL","image/x-xbitmap":"X BitMap","image/x-xpixmap":"X PixMap","image/x-xwindowdump":"X Window Dump","application/x-x509-ca-cert":"X.509 Certificate","application/x-xfig":"Xfig","application/xhtml+xml":"XHTML","application/xml":"XML","application/xcap-diff+xml":"XML Configuration Access Protocol - XCAP Diff","application/xenc+xml":"XML Encryption Syntax and Processing","application/patch-ops-error+xml":"XML Patch Framework","application/resource-lists+xml":"XML Resource Lists","application/rls-services+xml":"XML Resource Lists","application/resource-lists-diff+xml":"XML Resource Lists Diff","application/xslt+xml":"XML Transformations","application/xop+xml":"XML-Binary Optimized Packaging","application/x-xpinstall":"XPInstall - Mozilla","application/xspf+xml":"XSPF - XML Shareable Playlist Format","application/vnd.mozilla.xul+xml":"XUL - XML User Interface Language","chemical/x-xyz":"XYZ File Format","text/yaml":"YAML","application/yang":"YANG Data Modeling Language","application/yin+xml":"YIN (YANG - XML)","application/vnd.zul":"Z.U.L. Geometry","application/zip":"Zip Archive","application/vnd.handheld-entertainment+xml":"ZVUE Media Manager","application/vnd.zzazz.deck+xml":"Zzazz Deck"};function Ln(e,t=!1){return t?Gk[e]||null:Zk[e]||null}let po;function st(e){po||(po=dl()),po.add(e)}const Jk=z({props:{layoutQuery:{type:Object,default:()=>({})},filter:{type:Object,default:null},search:{type:String,default:null},collection:{type:String,required:!0}},emits:["refresh"],setup(e,{emit:t}){const{t:n}=J(),l=E("csv"),o=E(!0),u=Ke(),a=F(()=>{var V;return(V=u.getCollection(e.collection))==null?void 0:V.name}),r=E(null),s=E(null),{uploading:p,progress:f,importing:_,uploadFile:y}=k(),v=F(()=>s.value===null?null:Ln(s.value.type,!0));return{t:n,fileInput:r,file:s,fileExtension:v,onChange:h,clearFileInput:w,importData:g,uploading:p,progress:f,importing:_,format:l,useFilters:o,exportData:A,collectionName:a};function h(V){var P;const D=(P=V.target)==null?void 0:P.files;D&&D.length>0&&(s.value=D.item(0))}function w(){r.value&&(r.value.value=""),s.value=null}function g(){y(s.value)}function k(){const V=E(!1),D=E(!1),P=E(0);return{uploading:V,progress:P,importing:D,uploadFile:L};async function L(B){V.value=!0,D.value=!1,P.value=0;const O=new FormData;O.append("file",B);try{await re.post(`/utils/import/${e.collection}`,O,{onUploadProgress:M=>{const N=Math.floor(M.loaded*100/M.total);P.value=N,D.value=N===100}}),w(),t("refresh"),st({title:n("import_data_success",{filename:B.name}),type:"success"})}catch{st({title:n("import_data_error"),type:"error"})}finally{V.value=!1,D.value=!1,P.value=0}}}function A(){var B,O,M;const V=e.collection.startsWith("directus_")?`${e.collection.substring(9)}`:`items/${e.collection}`,D=Ge()+V;let P={access_token:re.defaults.headers.common.Authorization.substring(7),export:l.value||"json"};o.value===!0&&(((B=e.layoutQuery)==null?void 0:B.sort)&&(P.sort=e.layoutQuery.sort),((O=e.layoutQuery)==null?void 0:O.fields)&&(P.fields=e.layoutQuery.fields),((M=e.layoutQuery)==null?void 0:M.limit)&&(P.limit=e.layoutQuery.limit),e.search&&(P.search=e.search),e.filter&&(P.filter=e.filter),e.search&&(P.search=e.search));const L=re.getUri({url:D,params:P});window.open(L)}}}),Qk=e=>(He("data-v-6e9506c0"),e=e(),We(),e),Xk={class:"fields"},Yk={class:"field full"},xk={key:0,class:"uploading"},e8={class:"type-text"},t8={key:0},n8={class:"type-label"},l8={key:0,class:"extension"},o8=Qk(()=>S("label",{for:"import-file",class:"import-file-label"},null,-1)),a8={class:"field full"},i8={class:"field full"},r8={class:"type-label"},s8={class:"field full"};function d8(e,t,n,l,o,u){const a=c("v-progress-linear"),r=c("v-icon"),s=c("v-input"),p=c("v-button"),f=c("v-divider"),_=c("v-select"),y=c("v-checkbox"),v=c("sidebar-detail"),h=ke("tooltip");return m(),C(v,{icon:"import_export",title:e.t("import_export")},{default:d(()=>[S("div",Xk,[S("div",Yk,[e.uploading||e.importing?(m(),I("div",xk,[S("div",e8,[S("span",null,b(e.importing?e.t("import_data_indeterminate"):e.t("upload_file_indeterminate")),1),e.importing?R("",!0):(m(),I("span",t8,b(e.progress)+"%",1))]),i(a,{indeterminate:e.importing,value:e.progress,rounded:""},null,8,["indeterminate","value"])])):(m(),I(x,{key:1},[S("p",n8,b(e.t("label_import")),1),i(s,{clickable:""},{prepend:d(()=>[S("div",{class:ae(["preview",{"has-file":e.file}])},[e.fileExtension?(m(),I("span",l8,b(e.fileExtension),1)):(m(),C(r,{key:1,name:"folder_open"}))],2)]),input:d(()=>[S("input",{id:"import-file",ref:"fileInput",type:"file",accept:"text/csv, application/json",hidden:"",onChange:t[0]||(t[0]=(...w)=>e.onChange&&e.onChange(...w))},null,544),o8,S("span",{class:ae(["import-file-text",{"no-file":!e.file}])},b(e.file?e.file.name:e.t("import_data_input_placeholder")),3)]),append:d(()=>[e.file?Q((m(),C(r,{key:0,class:"deselect",name:"close",onClick:Ae(e.clearFileInput,["stop"])},null,8,["onClick"])),[[h,e.t("deselect")]]):(m(),C(r,{key:1,name:"attach_file"}))]),_:1})],64))]),S("div",a8,[i(p,{small:"","full-width":"",disabled:!e.file,loading:e.uploading||e.importing,onClick:e.importData},{default:d(()=>[T(b(e.t("import_data_button")),1)]),_:1},8,["disabled","loading","onClick"])]),i(f),S("div",i8,[S("p",r8,b(e.t("label_export")),1),i(_,{modelValue:e.format,"onUpdate:modelValue":t[1]||(t[1]=w=>e.format=w),items:[{text:e.t("csv"),value:"csv"},{text:e.t("json"),value:"json"},{text:e.t("xml"),value:"xml"}]},null,8,["modelValue","items"]),i(y,{modelValue:e.useFilters,"onUpdate:modelValue":t[2]||(t[2]=w=>e.useFilters=w),label:e.t("use_current_filters_settings")},null,8,["modelValue","label"])]),S("div",s8,[i(p,{small:"","full-width":"",onClick:e.exportData},{default:d(()=>[T(b(e.t("export_data_button")),1)]),_:1},8,["onClick"])])])]),_:1},8,["title"])}var Ma=q(Jk,[["render",d8],["__scopeId","data-v-6e9506c0"]]);const u8=z({props:{modelValue:{type:Boolean,default:!1},saving:{type:Boolean,default:!1}},emits:["save","update:modelValue"],setup(e,{emit:t}){const{t:n}=J(),l=E(null);return{t:n,bookmarkName:l,cancel:o};function o(){l.value=null,t("update:modelValue",!1)}}});function c8(e,t,n,l,o,u){const a=c("v-card-title"),r=c("v-input"),s=c("v-card-text"),p=c("v-button"),f=c("v-card-actions"),_=c("v-card"),y=c("v-dialog");return m(),C(y,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[3]||(t[3]=v=>e.$emit("update:modelValue",v)),onEsc:e.cancel},{activator:d(v=>[be(e.$slots,"activator",Je(et(v)))]),default:d(()=>[i(_,null,{default:d(()=>[i(a,null,{default:d(()=>[T(b(e.t("create_bookmark")),1)]),_:1}),i(s,null,{default:d(()=>[i(r,{modelValue:e.bookmarkName,"onUpdate:modelValue":t[0]||(t[0]=v=>e.bookmarkName=v),autofocus:"",placeholder:e.t("bookmark_name"),onKeyup:t[1]||(t[1]=Vn(v=>e.$emit("save",e.bookmarkName),["enter"]))},null,8,["modelValue","placeholder"])]),_:1}),i(f,null,{default:d(()=>[i(p,{secondary:"",onClick:e.cancel},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1},8,["onClick"]),i(p,{disabled:e.bookmarkName===null||e.bookmarkName.length===0,loading:e.saving,onClick:t[2]||(t[2]=v=>e.$emit("save",e.bookmarkName))},{default:d(()=>[T(b(e.t("save")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:3},8,["model-value","onEsc"])}var p8=q(u8,[["render",c8]]);const m8=z({props:{modelValue:{type:Boolean,default:!1},saving:{type:Boolean,default:!1},name:{type:String,required:!0}},emits:["save","update:modelValue"],setup(e,{emit:t}){const{t:n}=J(),l=E(e.name);return ye(()=>e.name,u=>l.value=u),{t:n,bookmarkName:l,cancel:o};function o(){t("update:modelValue",!1)}}});function f8(e,t,n,l,o,u){const a=c("v-card-title"),r=c("v-input"),s=c("v-card-text"),p=c("v-button"),f=c("v-card-actions"),_=c("v-card"),y=c("v-dialog");return m(),C(y,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[3]||(t[3]=v=>e.$emit("update:modelValue",v)),onEsc:e.cancel},{activator:d(v=>[be(e.$slots,"activator",Je(et(v)))]),default:d(()=>[i(_,null,{default:d(()=>[i(a,null,{default:d(()=>[T(b(e.t("edit_bookmark")),1)]),_:1}),i(s,null,{default:d(()=>[i(r,{modelValue:e.bookmarkName,"onUpdate:modelValue":t[0]||(t[0]=v=>e.bookmarkName=v),autofocus:"",placeholder:e.t("bookmark_name"),onKeyup:t[1]||(t[1]=Vn(v=>e.$emit("save",e.bookmarkName),["enter"]))},null,8,["modelValue","placeholder"])]),_:1}),i(f,null,{default:d(()=>[i(p,{secondary:"",onClick:e.cancel},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1},8,["onClick"]),i(p,{disabled:e.bookmarkName===null||e.bookmarkName.length===0,loading:e.saving,onClick:t[2]||(t[2]=v=>e.$emit("save",e.bookmarkName))},{default:d(()=>[T(b(e.t("save")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:3},8,["model-value","onEsc"])}var _8=q(m8,[["render",f8]]);const El=["FAILED_VALIDATION","RECORD_NOT_UNIQUE"],v8=`

\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u283B\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28E6\u28E4\u28C0\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u2800\u283B\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28E6\u28C0\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2819\u28FF\u28FF\u28FF\u28F7\u28FE\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u287F\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28E4\u28FF\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u281B\u281B\u283F\u283F\u283F\u283F\u283F\u281B\u281B\u2809\u2800\u28B0\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28B0\u28FF\u28FF\u28FF\u28FF\u28F6\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28F6\u28E6\u28E4\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FE\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u2801\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2808\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28F6\u28F6\u28F6\u28FE\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u287F\u283F\u283F\u281B\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u280B\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28B8\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u284C\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u28E4\u28F6\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u2801\u281B\u281B\u283F\u28BF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28F6\u28E4\u28E4\u28C0\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u281F\u2801\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u281B\u28FF\u28FF\u28FF\u28FF\u28FF\u2846\u28BF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u287F\u283F\u281B\u281B\u280B\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u281B\u283F\u28FF\u28C4\u2808\u283B\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28E6\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FE\u28FF\u28FF\u28FF\u28FF\u280B\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u2809\u2809\u2809\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u28BF\u28FF\u28FF\u28FF\u28F7\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u28E4\u28FF\u28FF\u28FF\u28FF\u281F\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u28F4\u28FF\u28FF\u28FF\u28FF\u281F\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2809\u2809\u2801\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800

`,y8=["directus_activity","directus_collections","directus_fields","directus_migrations","directus_relations","directus_revisions","directus_sessions","directus_settings"],vn=[{type:"module",id:"content",enabled:!0},{type:"module",id:"users",enabled:!0},{type:"module",id:"files",enabled:!0},{type:"module",id:"insights",enabled:!0},{type:"module",id:"docs",enabled:!0},{type:"module",id:"settings",enabled:!0,locked:!0}],h8=[{text:"$t:string",value:"string"},{text:"$t:text",value:"text"},{divider:!0},{text:"$t:boolean",value:"boolean"},{divider:!0},{text:"$t:integer",value:"integer"},{text:"$t:bigInteger",value:"bigInteger"},{text:"$t:float",value:"float"},{text:"$t:decimal",value:"decimal"},{divider:!0},{text:"$t:geometry",value:"geometry"},{divider:!0},{text:"$t:timestamp",value:"timestamp"},{text:"$t:datetime",value:"dateTime"},{text:"$t:date",value:"date"},{text:"$t:time",value:"time"},{divider:!0},{text:"$t:json",value:"json"},{text:"$t:csv",value:"csv"},{text:"$t:uuid",value:"uuid"},{text:"$t:hash",value:"hash"}],mo="default",Ua=["oauth2","openid"];const g8=z({props:{active:{type:Boolean,default:!1},collection:{type:String,required:!0},edits:{type:Object,default:void 0},primaryKeys:{type:Array,required:!0}},emits:["update:active","refresh"],setup(e,{emit:t}){const{t:n}=J(),{internalEdits:l}=f(),{internalActive:o}=_(),{save:u,cancel:a,saving:r,validationErrors:s}=y(),{collection:p}=Me(e);return{t:n,internalActive:o,internalEdits:l,save:u,saving:r,cancel:a,validationErrors:s};function f(){const v=E({});return{internalEdits:F({get(){return e.edits!==void 0?pe(pe({},e.edits),v.value):v.value},set(w){v.value=w}})}}function _(){const v=E(!1);return{internalActive:F({get(){return e.active===void 0?v.value:e.active},set(w){v.value=w,t("update:active",w)}})}}function y(){const v=E(!1),h=E([]),w=F(()=>p.value.startsWith("directus_")?`/${p.value.substring(9)}`:`/items/${p.value}`);return{save:g,cancel:k,saving:v,validationErrors:h};async function g(){v.value=!0;try{await re.patch(w.value,{keys:e.primaryKeys,data:l.value}),t("refresh"),o.value=!1,l.value={}}catch(A){h.value=A.response.data.errors.filter(D=>{var P;return El.includes((P=D==null?void 0:D.extensions)==null?void 0:P.code)}).map(D=>D.extensions);const V=A.response.data.errors.filter(D=>{var P;return El.includes((P=D==null?void 0:D.extensions)==null?void 0:P.code)===!1});V.length>0&&V.forEach(Se)}finally{v.value=!1}}function k(){o.value=!1,l.value={}}}}}),b8={class:"drawer-batch-content"};function w8(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-button"),s=c("v-form"),p=c("v-drawer"),f=ke("tooltip");return m(),C(p,{modelValue:e.internalActive,"onUpdate:modelValue":t[1]||(t[1]=_=>e.internalActive=_),title:e.t("editing_in_batch",{count:e.primaryKeys.length}),persistent:"",onCancel:e.cancel},{actions:d(()=>[Q(i(r,{icon:"",rounded:"",loading:e.saving,onClick:e.save},{default:d(()=>[i(a,{name:"check"})]),_:1},8,["loading","onClick"]),[[f,e.t("save"),void 0,{bottom:!0}]])]),default:d(()=>[S("div",b8,[i(s,{modelValue:e.internalEdits,"onUpdate:modelValue":t[0]||(t[0]=_=>e.internalEdits=_),collection:e.collection,"batch-mode":"","primary-key":"+","validation-errors":e.validationErrors},null,8,["modelValue","collection","validation-errors"])])]),_:1},8,["modelValue","title","onCancel"])}var fo=q(g8,[["render",w8],["__scopeId","data-v-5d0693b1"]]);const $8=z({name:"ContentCollection",components:{ContentNavigation:Il,ContentNotFound:co,LayoutSidebarDetail:Qn,SearchInput:Dn,BookmarkAdd:p8,BookmarkEdit:_8,DrawerBatch:fo,ArchiveSidebarDetail:Uk,RefreshSidebarDetail:Hk,ExportSidebarDetail:Ma},props:{collection:{type:String,required:!0},bookmark:{type:String,default:null},archive:{type:String,default:null}},setup(e){const{t}=J(),n=Xe(),{layouts:l}=An(),o=Ze(),u=Lt(),a=E(),{collection:r}=Me(e),s=F(()=>e.bookmark?+e.bookmark:null),{selection:p}=tt(),{info:f}=ot(r),{addNewLink:_,currentCollectionLink:y}=Oe(),{breadcrumb:v}=De(),{layout:h,layoutOptions:w,layoutQuery:g,filter:k,search:A,savePreset:V,bookmarkExists:D,saveCurrentAsBookmark:P,bookmarkTitle:L,resetPreset:B,bookmarkSaved:O,bookmarkIsMine:M,refreshInterval:N,busy:K,clearLocalSave:G}=En(r,s),{layoutWrapper:ie}=dn(h),{confirmDelete:de,deleting:ne,batchDelete:le,confirmArchive:se,archiveItems:ee,archiving:Z,error:te,batchEditActive:me}=Pe(),{bookmarkDialogActive:H,creatingBookmark:Y,createBookmark:_e,editingBookmark:ve,editBookmark:ue}=Te(),W=F(()=>l.value.find(Ie=>Ie.id===h.value));ye(r,()=>{h.value===null&&(h.value="tabular")},{immediate:!0});const{batchEditAllowed:X,batchArchiveAllowed:ce,batchDeleteAllowed:oe,createAllowed:he}=Be(),ge=F(()=>{var Ie,fe;return f.value&&((Ie=f.value.meta)==null?void 0:Ie.archive_field)&&((fe=f.value.meta)==null?void 0:fe.archive_app_filter)}),we=F(()=>{var Re,Ye,lt;if(!((Re=f.value)==null?void 0:Re.meta)||!((lt=(Ye=f.value)==null?void 0:Ye.meta)==null?void 0:lt.archive_app_filter))return null;const Ie=f.value.meta.archive_field;if(!Ie)return null;let fe=f.value.meta.archive_value;return fe==="true"&&(fe=!0),fe==="false"&&(fe=!1),e.archive==="all"?null:e.archive==="archived"?{[Ie]:{_eq:fe}}:{[Ie]:{_neq:fe}}});return{t,addNewLink:_,batchDelete:le,batchEditActive:me,confirmDelete:de,currentCollection:f,deleting:ne,filter:k,layoutRef:a,layoutWrapper:ie,selection:p,layoutOptions:w,layoutQuery:g,layout:h,search:A,savePreset:V,bookmarkExists:D,currentCollectionLink:y,bookmarkDialogActive:H,creatingBookmark:Y,createBookmark:_e,bookmarkTitle:L,editingBookmark:ve,editBookmark:ue,breadcrumb:v,clearFilters:Qe,confirmArchive:se,archiveItems:ee,archiving:Z,batchEditAllowed:X,batchArchiveAllowed:ce,batchDeleteAllowed:oe,deleteError:te,createAllowed:he,resetPreset:B,bookmarkSaved:O,bookmarkIsMine:M,bookmarkSaving:K,clearLocalSave:G,drawerBatchRefresh:Fe,refresh:Ce,refreshInterval:N,currentLayout:W,hasArchive:ge,archiveFilter:we,mergeFilters:Vl};async function Ce(){var Ie,fe,Re;await((Re=(fe=(Ie=a.value)==null?void 0:Ie.state)==null?void 0:fe.refresh)==null?void 0:Re.call(fe))}async function Fe(){p.value=[],await Ce()}function De(){return{breadcrumb:F(()=>{var fe;return[{name:(fe=f.value)==null?void 0:fe.name,to:`/content/${e.collection}`}]})}}function tt(){const Ie=E([]);return ye(()=>e.collection,()=>Ie.value=[]),{selection:Ie}}function Pe(){const Ie=E(!1),fe=E(!1),Re=E(!1),Ye=E(!1),lt=E(!1),at=E(null);return{batchEditActive:Re,confirmDelete:Ie,deleting:fe,batchDelete:rt,confirmArchive:Ye,archiving:lt,archiveItems:_t,error:at};async function rt(){fe.value=!0;const St=p.value;try{await re.delete(`/items/${e.collection}`,{data:St}),p.value=[],await Ce(),Ie.value=!1}catch(an){at.value=an}finally{fe.value=!1}}async function _t(){var an,la;if(!((la=(an=f.value)==null?void 0:an.meta)==null?void 0:la.archive_field))return;lt.value=!0;let St=f.value.meta.archive_value;St==="true"&&(St=!0),St==="false"&&(St=!1);try{await re.patch(`/items/${e.collection}`,{keys:p.value,data:{[f.value.meta.archive_field]:St}}),p.value=[],await Ce(),Ye.value=!1}catch(Ds){at.value=Ds}finally{lt.value=!1}}}function Oe(){const Ie=F(()=>`/content/${e.collection}/+`),fe=F(()=>`/content/${e.collection}`);return{addNewLink:Ie,currentCollectionLink:fe}}function Te(){const Ie=E(!1),fe=E(!1),Re=E(!1);return{bookmarkDialogActive:Ie,creatingBookmark:fe,createBookmark:Ye,editingBookmark:Re,editBookmark:lt};async function Ye(at){fe.value=!0;try{const rt=await P({bookmark:at});n.push(`/content/${rt.collection}?bookmark=${rt.id}`),Ie.value=!1}catch(rt){Se(rt)}finally{fe.value=!1}}async function lt(at){L.value=at,Ie.value=!1}}function Qe(){k.value=null,A.value=null}function Be(){const Ie=F(()=>{var rt;return((rt=o==null?void 0:o.currentUser)==null?void 0:rt.role.admin_access)===!0?!0:!!u.permissions.find(_t=>_t.action==="update"&&_t.collection===r.value)}),fe=F(()=>{var rt,_t,St;if(!((_t=(rt=f.value)==null?void 0:rt.meta)==null?void 0:_t.archive_field))return!1;if(((St=o==null?void 0:o.currentUser)==null?void 0:St.role.admin_access)===!0)return!0;const at=u.permissions.find(an=>an.action==="update"&&an.collection===r.value);return!at||!at.fields?!1:at.fields.includes("*")?!0:at.fields.includes(f.value.meta.archive_field)}),Re=F(()=>{var rt;return((rt=o==null?void 0:o.currentUser)==null?void 0:rt.role.admin_access)===!0?!0:!!u.permissions.find(_t=>_t.action==="delete"&&_t.collection===r.value)}),Ye=F(()=>{var rt;return((rt=o==null?void 0:o.currentUser)==null?void 0:rt.role.admin_access)===!0?!0:!!u.permissions.find(_t=>_t.action==="create"&&_t.collection===r.value)});return{batchEditAllowed:Ie,batchArchiveAllowed:fe,batchDeleteAllowed:Re,createAllowed:Ye}}}}),k8={class:"bookmark-controls"},S8={class:"page-description"};function C8(e,t,n,l,o,u){const a=c("content-not-found"),r=c("v-icon"),s=c("v-button"),p=c("v-breadcrumb"),f=c("bookmark-add"),_=c("search-input"),y=c("v-card-title"),v=c("v-card-actions"),h=c("v-card"),w=c("v-dialog"),g=c("content-navigation"),k=c("v-info"),A=c("drawer-batch"),V=c("sidebar-detail"),D=c("layout-sidebar-detail"),P=c("archive-sidebar-detail"),L=c("refresh-sidebar-detail"),B=c("export-sidebar-detail"),O=c("v-error"),M=c("v-card-text"),N=c("private-view"),K=ke("tooltip"),G=ke("md");return m(),C(qe(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[16]||(t[16]=ie=>e.selection=ie),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[17]||(t[17]=ie=>e.layoutOptions=ie),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[18]||(t[18]=ie=>e.layoutQuery=ie),"filter-user":e.filter,"filter-system":e.archiveFilter,filter:e.mergeFilters(e.filter,e.archiveFilter),search:e.search,collection:e.collection,"reset-preset":e.resetPreset,"clear-filters":e.clearFilters},{default:d(({layoutState:ie})=>{var de;return[!e.currentCollection||e.collection.startsWith("directus_")?(m(),C(a,{key:0})):(m(),C(N,{key:1,title:e.bookmark?e.bookmarkTitle:e.currentCollection.name,"small-header":(de=e.currentLayout)==null?void 0:de.smallHeader},{"title-outer:prepend":d(()=>[i(s,{class:ae(["header-icon",{archive:e.archive}]),rounded:"",icon:"",secondary:"",disabled:""},{default:d(()=>[i(r,{name:e.archive?"archive":e.currentCollection.icon,color:e.currentCollection.color},null,8,["name","color"])]),_:1},8,["class"])]),headline:d(()=>[e.bookmark?(m(),C(p,{key:0,items:e.breadcrumb},null,8,["items"])):(m(),C(p,{key:1,items:[{name:e.t("content"),to:"/content"}]},null,8,["items"]))]),"title-outer:append":d(()=>[S("div",k8,[e.bookmark?e.bookmarkSaved?(m(),C(r,{key:1,class:"saved",name:"bookmark"})):e.bookmarkIsMine?Q((m(),C(r,{key:2,class:"save",clickable:"",name:"bookmark_save",onClick:t[1]||(t[1]=ne=>e.savePreset())},null,512)),[[K,e.t("update_bookmark"),void 0,{bottom:!0}]]):(m(),C(f,{key:3,modelValue:e.bookmarkDialogActive,"onUpdate:modelValue":t[2]||(t[2]=ne=>e.bookmarkDialogActive=ne),class:"add",saving:e.creatingBookmark,onSave:e.createBookmark},{activator:d(({on:ne})=>[i(r,{class:"toggle",name:"bookmark_outline",clickable:"",onClick:ne},null,8,["onClick"])]),_:1},8,["modelValue","saving","onSave"])):(m(),C(f,{key:0,modelValue:e.bookmarkDialogActive,"onUpdate:modelValue":t[0]||(t[0]=ne=>e.bookmarkDialogActive=ne),class:"add",saving:e.creatingBookmark,onSave:e.createBookmark},{activator:d(({on:ne})=>[Q(i(r,{class:"toggle",clickable:"",name:"bookmark_outline",onClick:ne},null,8,["onClick"]),[[K,e.t("create_bookmark"),void 0,{right:!0}]])]),_:1},8,["modelValue","saving","onSave"])),e.bookmark&&!e.bookmarkSaving&&e.bookmarkSaved===!1?Q((m(),C(r,{key:4,name:"settings_backup_restore",clickable:"",class:"clear",onClick:e.clearLocalSave},null,8,["onClick"])),[[K,e.t("reset_bookmark"),void 0,{bottom:!0}]]):R("",!0)])]),"actions:prepend":d(()=>[(m(),C(qe(`layout-actions-${e.layout||"tabular"}`),Je(et(ie)),null,16))]),actions:d(()=>[i(_,{modelValue:e.search,"onUpdate:modelValue":t[3]||(t[3]=ne=>e.search=ne),filter:e.filter,"onUpdate:filter":t[4]||(t[4]=ne=>e.filter=ne),collection:e.collection},null,8,["modelValue","filter","collection"]),e.selection.length>0?(m(),C(w,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[6]||(t[6]=ne=>e.confirmDelete=ne),onEsc:t[7]||(t[7]=ne=>e.confirmDelete=!1)},{activator:d(({on:ne})=>[Q(i(s,{disabled:e.batchDeleteAllowed!==!0,rounded:"",icon:"",class:"action-delete",onClick:ne},{default:d(()=>[i(r,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[K,e.batchDeleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:d(()=>[i(h,null,{default:d(()=>[i(y,null,{default:d(()=>[T(b(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),i(v,null,{default:d(()=>[i(s,{secondary:"",onClick:t[5]||(t[5]=ne=>e.confirmDelete=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(s,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:d(()=>[T(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>0&&e.currentCollection.meta&&e.currentCollection.meta.archive_field&&e.archive!=="archived"?(m(),C(w,{key:1,modelValue:e.confirmArchive,"onUpdate:modelValue":t[9]||(t[9]=ne=>e.confirmArchive=ne),onEsc:t[10]||(t[10]=ne=>e.confirmArchive=!1)},{activator:d(({on:ne})=>[Q(i(s,{disabled:e.batchArchiveAllowed!==!0,rounded:"",icon:"",class:"action-archive",onClick:ne},{default:d(()=>[i(r,{name:"archive",outline:""})]),_:2},1032,["disabled","onClick"]),[[K,e.batchArchiveAllowed?e.t("archive"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:d(()=>[i(h,null,{default:d(()=>[i(y,null,{default:d(()=>[T(b(e.t("archive_confirm_count",e.selection.length)),1)]),_:1}),i(v,null,{default:d(()=>[i(s,{secondary:"",onClick:t[8]||(t[8]=ne=>e.confirmArchive=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(s,{kind:"warning",loading:e.archiving,onClick:e.archiveItems},{default:d(()=>[T(b(e.t("archive")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>0?Q((m(),C(s,{key:2,rounded:"",icon:"",class:"action-batch",disabled:e.batchEditAllowed===!1,onClick:t[11]||(t[11]=ne=>e.batchEditActive=!0)},{default:d(()=>[i(r,{name:"edit",outline:""})]),_:1},8,["disabled"])),[[K,e.batchEditAllowed?e.t("edit"):e.t("not_allowed"),void 0,{bottom:!0}]]):R("",!0),Q(i(s,{rounded:"",icon:"",to:e.addNewLink,disabled:e.createAllowed===!1},{default:d(()=>[i(r,{name:"add"})]),_:1},8,["to","disabled"]),[[K,e.createAllowed?e.t("create_item"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:d(()=>[i(g,{"current-collection":e.collection},null,8,["current-collection"])]),sidebar:d(()=>[i(V,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[Q(S("div",S8,null,512),[[G,e.t("page_help_collections_collection",{collection:e.currentCollection.name})]])]),_:1},8,["title"]),i(D,{modelValue:e.layout,"onUpdate:modelValue":t[13]||(t[13]=ne=>e.layout=ne)},{default:d(()=>[(m(),C(qe(`layout-options-${e.layout||"tabular"}`),Je(et(ie)),null,16))]),_:2},1032,["modelValue"]),(m(),C(qe(`layout-sidebar-${e.layout||"tabular"}`),Je(et(ie)),null,16)),e.hasArchive?(m(),C(P,{key:0,collection:e.collection,archive:e.archive},null,8,["collection","archive"])):R("",!0),i(L,{modelValue:e.refreshInterval,"onUpdate:modelValue":t[14]||(t[14]=ne=>e.refreshInterval=ne),onRefresh:e.refresh},null,8,["modelValue","onRefresh"]),i(B,{collection:e.collection,filter:e.mergeFilters(e.filter,e.archiveFilter),search:e.search,onRefresh:e.refresh},null,8,["collection","filter","search","onRefresh"])]),default:d(()=>[e.bookmark&&e.bookmarkExists===!1?(m(),C(k,{key:0,type:"warning",title:e.t("bookmark_doesnt_exist"),icon:"bookmark",center:""},{append:d(()=>[i(s,{to:e.currentCollectionLink},{default:d(()=>[T(b(e.t("bookmark_doesnt_exist_cta")),1)]),_:1},8,["to"])]),default:d(()=>[T(b(e.t("bookmark_doesnt_exist_copy"))+" ",1)]),_:1},8,["title"])):(m(),C(qe(`layout-${e.layout||"tabular"}`),mt({key:1,class:"layout"},ie),{"no-results":d(()=>[i(k,{title:e.t("no_results"),icon:"search",center:""},{append:d(()=>[i(s,{onClick:e.clearFilters},{default:d(()=>[T(b(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:d(()=>[T(b(e.t("no_results_copy"))+" ",1)]),_:1},8,["title"])]),"no-items":d(()=>[i(k,{title:e.t("item_count",0),icon:e.currentCollection.icon,center:""},xe({default:d(()=>[T(b(e.t("no_items_copy"))+" ",1)]),_:2},[e.createAllowed?{name:"append",fn:d(()=>[i(s,{to:`/content/${e.collection}/+`},{default:d(()=>[T(b(e.t("create_item")),1)]),_:1},8,["to"])])}:void 0]),1032,["title","icon"])]),_:2},1040)),i(A,{active:e.batchEditActive,"onUpdate:active":t[12]||(t[12]=ne=>e.batchEditActive=ne),"primary-keys":e.selection,collection:e.collection,onRefresh:e.drawerBatchRefresh},null,8,["active","primary-keys","collection","onRefresh"]),i(w,{"model-value":e.deleteError!==null},{default:d(()=>[i(h,null,{default:d(()=>[i(y,null,{default:d(()=>[T(b(e.t("something_went_wrong")),1)]),_:1}),i(M,null,{default:d(()=>[i(O,{error:e.deleteError},null,8,["error"])]),_:1}),i(v,null,{default:d(()=>[i(s,{onClick:t[15]||(t[15]=ne=>e.deleteError=null)},{default:d(()=>[T(b(e.t("done")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])]),_:2},1032,["title","small-header"]))]}),_:1},8,["selection","layout-options","layout-query","filter-user","filter-system","filter","search","collection","reset-preset","clear-filters"])}var V8=q($8,[["render",C8],["__scopeId","data-v-7d793028"]]);function F8(e){switch(e){case"af":return j(()=>import("./index.f2f0b19e.js").then(function(t){return t.i}),["assets/index.f2f0b19e.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ar-DZ":return j(()=>import("./index.ed021a7e.js").then(function(t){return t.i}),["assets/index.ed021a7e.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ar-MA":return j(()=>import("./index.5991f264.js").then(function(t){return t.i}),["assets/index.5991f264.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ar-SA":return j(()=>import("./index.fe41cd97.js").then(function(t){return t.i}),["assets/index.fe41cd97.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"az":return j(()=>import("./index.5792c56d.js").then(function(t){return t.i}),["assets/index.5792c56d.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"be":return j(()=>import("./index.94f09a1f.js").then(function(t){return t.i}),["assets/index.94f09a1f.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"bg":return j(()=>import("./index.c2d5da76.js").then(function(t){return t.i}),["assets/index.c2d5da76.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"bn":return j(()=>import("./index.28c78852.js").then(function(t){return t.i}),["assets/index.28c78852.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ca":return j(()=>import("./index.b42be304.js").then(function(t){return t.i}),["assets/index.b42be304.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"cs":return j(()=>import("./index.3d64863b.js").then(function(t){return t.i}),["assets/index.3d64863b.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"cy":return j(()=>import("./index.a54b3a96.js").then(function(t){return t.i}),["assets/index.a54b3a96.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"da":return j(()=>import("./index.c8f131d2.js").then(function(t){return t.i}),["assets/index.c8f131d2.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"de":return j(()=>import("./index.f4cd1717.js").then(function(t){return t.i}),["assets/index.f4cd1717.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.eedadecd.js","assets/index.ffc6c203.js"]);case"de-AT":return j(()=>import("./index.fd1147cb.js").then(function(t){return t.i}),["assets/index.fd1147cb.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.eedadecd.js","assets/index.ffc6c203.js"]);case"el":return j(()=>import("./index.893a69a1.js").then(function(t){return t.i}),["assets/index.893a69a1.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"en-AU":return j(()=>import("./index.25bd5335.js").then(function(t){return t.i}),["assets/index.25bd5335.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.55d799e2.js","assets/index.ffc6c203.js","assets/index.7b2f54b1.js"]);case"en-CA":return j(()=>import("./index.637ecec8.js").then(function(t){return t.i}),["assets/index.637ecec8.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-GB":return j(()=>import("./index.a6b0b229.js").then(function(t){return t.i}),["assets/index.a6b0b229.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-IN":return j(()=>import("./index.8f1e1fba.js").then(function(t){return t.i}),["assets/index.8f1e1fba.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-NZ":return j(()=>import("./index.b033f81e.js").then(function(t){return t.i}),["assets/index.b033f81e.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-US":return j(()=>import("./index.a0704c57.js").then(function(t){return t.i}),["assets/index.a0704c57.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.55d799e2.js","assets/index.ffc6c203.js","assets/index.7b2f54b1.js"]);case"en-ZA":return j(()=>import("./index.bcedb140.js").then(function(t){return t.i}),["assets/index.bcedb140.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"eo":return j(()=>import("./index.a635ff40.js").then(function(t){return t.i}),["assets/index.a635ff40.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"es":return j(()=>import("./index.6b7b67e0.js").then(function(t){return t.i}),["assets/index.6b7b67e0.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"et":return j(()=>import("./index.284ad9ae.js").then(function(t){return t.i}),["assets/index.284ad9ae.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"eu":return j(()=>import("./index.b883b34b.js").then(function(t){return t.i}),["assets/index.b883b34b.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"fa-IR":return j(()=>import("./index.59d23ad1.js").then(function(t){return t.i}),["assets/index.59d23ad1.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"fi":return j(()=>import("./index.bdc76b24.js").then(function(t){return t.i}),["assets/index.bdc76b24.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"fr":return j(()=>import("./index.a08492e1.js").then(function(t){return t.i}),["assets/index.a08492e1.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.1b3cf886.js","assets/index.ffc6c203.js"]);case"fr-CA":return j(()=>import("./index.a1a28b7c.js").then(function(t){return t.i}),["assets/index.a1a28b7c.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.1b3cf886.js","assets/index.ffc6c203.js"]);case"fr-CH":return j(()=>import("./index.f39fd82c.js").then(function(t){return t.i}),["assets/index.f39fd82c.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"gd":return j(()=>import("./index.b4f1966d.js").then(function(t){return t.i}),["assets/index.b4f1966d.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"gl":return j(()=>import("./index.8305bbeb.js").then(function(t){return t.i}),["assets/index.8305bbeb.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"gu":return j(()=>import("./index.9e12d78b.js").then(function(t){return t.i}),["assets/index.9e12d78b.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"he":return j(()=>import("./index.d1768a4c.js").then(function(t){return t.i}),["assets/index.d1768a4c.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"hi":return j(()=>import("./index.482eee81.js").then(function(t){return t.i}),["assets/index.482eee81.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"hr":return j(()=>import("./index.34ca1f4f.js").then(function(t){return t.i}),["assets/index.34ca1f4f.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ht":return j(()=>import("./index.989d0b7b.js").then(function(t){return t.i}),["assets/index.989d0b7b.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"hu":return j(()=>import("./index.7b7245a9.js").then(function(t){return t.i}),["assets/index.7b7245a9.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"hy":return j(()=>import("./index.b687f719.js").then(function(t){return t.i}),["assets/index.b687f719.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"id":return j(()=>import("./index.6d163e82.js").then(function(t){return t.i}),["assets/index.6d163e82.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"is":return j(()=>import("./index.c5f25555.js").then(function(t){return t.i}),["assets/index.c5f25555.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"it":return j(()=>import("./index.ff3abc12.js").then(function(t){return t.i}),["assets/index.ff3abc12.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"ja":return j(()=>import("./index.7ddd41bb.js").then(function(t){return t.i}),["assets/index.7ddd41bb.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ka":return j(()=>import("./index.9f18eda4.js").then(function(t){return t.i}),["assets/index.9f18eda4.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"kk":return j(()=>import("./index.17858738.js").then(function(t){return t.i}),["assets/index.17858738.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"kn":return j(()=>import("./index.8fc5fb54.js").then(function(t){return t.i}),["assets/index.8fc5fb54.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ko":return j(()=>import("./index.6f216b4a.js").then(function(t){return t.i}),["assets/index.6f216b4a.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"lb":return j(()=>import("./index.1ef15bd0.js").then(function(t){return t.i}),["assets/index.1ef15bd0.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"lt":return j(()=>import("./index.1610ceeb.js").then(function(t){return t.i}),["assets/index.1610ceeb.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"lv":return j(()=>import("./index.4c1678f5.js").then(function(t){return t.i}),["assets/index.4c1678f5.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"mk":return j(()=>import("./index.f969f456.js").then(function(t){return t.i}),["assets/index.f969f456.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"mn":return j(()=>import("./index.f76046f7.js").then(function(t){return t.i}),["assets/index.f76046f7.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ms":return j(()=>import("./index.86c67d5c.js").then(function(t){return t.i}),["assets/index.86c67d5c.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"mt":return j(()=>import("./index.1a2bd336.js").then(function(t){return t.i}),["assets/index.1a2bd336.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"nb":return j(()=>import("./index.30c48506.js").then(function(t){return t.i}),["assets/index.30c48506.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"nl":return j(()=>import("./index.505c3128.js").then(function(t){return t.i}),["assets/index.505c3128.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"nl-BE":return j(()=>import("./index.42cf46e8.js").then(function(t){return t.i}),["assets/index.42cf46e8.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"nn":return j(()=>import("./index.ddf80deb.js").then(function(t){return t.i}),["assets/index.ddf80deb.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"pl":return j(()=>import("./index.65607570.js").then(function(t){return t.i}),["assets/index.65607570.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"pt":return j(()=>import("./index.ec1cae03.js").then(function(t){return t.i}),["assets/index.ec1cae03.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"pt-BR":return j(()=>import("./index.7405e309.js").then(function(t){return t.i}),["assets/index.7405e309.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ro":return j(()=>import("./index.03be9954.js").then(function(t){return t.i}),["assets/index.03be9954.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ru":return j(()=>import("./index.b6d4c7ef.js").then(function(t){return t.i}),["assets/index.b6d4c7ef.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"sk":return j(()=>import("./index.1e433f7c.js").then(function(t){return t.i}),["assets/index.1e433f7c.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"sl":return j(()=>import("./index.17dcd22b.js").then(function(t){return t.i}),["assets/index.17dcd22b.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"sq":return j(()=>import("./index.51e25346.js").then(function(t){return t.i}),["assets/index.51e25346.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"sr":return j(()=>import("./index.d20355f1.js").then(function(t){return t.i}),["assets/index.d20355f1.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"sr-Latn":return j(()=>import("./index.538fe012.js").then(function(t){return t.i}),["assets/index.538fe012.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"sv":return j(()=>import("./index.f1402ddb.js").then(function(t){return t.i}),["assets/index.f1402ddb.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ta":return j(()=>import("./index.e15ede3f.js").then(function(t){return t.i}),["assets/index.e15ede3f.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"te":return j(()=>import("./index.536d6c04.js").then(function(t){return t.i}),["assets/index.536d6c04.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"th":return j(()=>import("./index.53fd3b94.js").then(function(t){return t.i}),["assets/index.53fd3b94.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"tr":return j(()=>import("./index.1760c023.js").then(function(t){return t.i}),["assets/index.1760c023.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ug":return j(()=>import("./index.da8f8bd1.js").then(function(t){return t.i}),["assets/index.da8f8bd1.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"uk":return j(()=>import("./index.43aaad2f.js").then(function(t){return t.i}),["assets/index.43aaad2f.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"uz":return j(()=>import("./index.6019766b.js").then(function(t){return t.i}),["assets/index.6019766b.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"vi":return j(()=>import("./index.91639619.js").then(function(t){return t.i}),["assets/index.91639619.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"zh-CN":return j(()=>import("./index.8cbec1ee.js").then(function(t){return t.i}),["assets/index.8cbec1ee.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"zh-TW":return j(()=>import("./index.1792b218.js").then(function(t){return t.i}),["assets/index.1792b218.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);default:return Promise.resolve()}}async function Na(){const e=ze.global.locale.value,t=[e,e.split("-")[0],"en-US"];let n;for(const l of t)try{n=(await F8(l)).default;break}catch{continue}return n}const $t=async(e,t,n)=>xt(e,t,Ve(pe({},n),{locale:await Na()}));const A8=z({props:{revision:{type:Object,required:!0},last:{type:Boolean,default:!1}},emits:["click"],setup(e){const{t}=J(),n=F(()=>Object.keys(e.revision.delta).length),l=F(()=>{switch(e.revision.activity.action.toLowerCase()){case"create":return t("revision_delta_created");case"update":return t("revision_delta_updated",n.value);case"delete":return t("revision_delta_deleted");case"revert":return t("revision_delta_reverted");default:return t("revision_delta_other")}}),o=F(()=>xt(new Date(e.revision.activity.timestamp),String(t("date-fns_time")))),u=F(()=>{var a,r;return((r=(a=e.revision)==null?void 0:a.activity)==null?void 0:r.user)&&typeof e.revision.activity.user=="object"?wt(e.revision.activity.user):t("private_user")});return{t,headerMessage:l,time:o,user:u}}}),I8={class:"header"},E8={class:"content"},D8={class:"time"},T8=T(" \u2013 "),L8={key:1};function P8(e,t,n,l,o,u){const a=c("user-popover");return m(),I("div",{class:ae(["revision-item",{last:e.last}]),onClick:t[0]||(t[0]=r=>e.$emit("click"))},[S("div",I8,[S("span",{class:ae(["dot",e.revision.activity.action])},null,2),T(" "+b(e.headerMessage),1)]),S("div",E8,[S("span",D8,b(e.time),1),T8,e.revision.activity.user?(m(),C(a,{key:0,class:"user",user:e.revision.activity.user.id},{default:d(()=>[S("span",null,b(e.user),1)]),_:1},8,["user"])):(m(),I("span",L8,b(e.t("private_user")),1))])],2)}var O8=q(A8,[["render",P8],["__scopeId","data-v-552a0966"]]);const R8=z({components:{RevisionItem:O8},props:{group:{type:Object,required:!0}},emits:["click"],setup(){return{expand:E(!0)}}}),j8={class:"scroll-container"};function M8(e,t,n,l,o,u){const a=c("revision-item"),r=c("v-detail");return m(),C(r,{modelValue:e.expand,"onUpdate:modelValue":t[0]||(t[0]=s=>e.expand=s),label:e.group.dateFormatted,class:"revisions-date-group"},{default:d(()=>[Q(S("div",j8,[(m(!0),I(x,null,$e(e.group.revisions,(s,p)=>(m(),C(a,{key:s.id,revision:s,last:p===e.group.revisions.length-1,onClick:f=>e.$emit("click",s.id)},null,8,["revision","last","onClick"]))),128))],512),[[Pt,e.expand]])]),_:1},8,["modelValue","label"])}var U8=q(R8,[["render",M8],["__scopeId","data-v-dcd1ff74"]]);const N8=z({props:{revisions:{type:Array,required:!0},current:{type:Number,required:!0}},emits:["update:current"],setup(e,{emit:t}){const{t:n}=J(),l=je(e,"current",t),o=E(null);ye(()=>e.revisions,async()=>{const r=[];for(const s of e.revisions){const p=await a(s);let f=n("private_user");if(typeof s.activity.user=="object"){const v=s.activity.user;f=wt(v)}const _=String(n("revision_delta_by",{date:p,user:f})),y=s.id;r.push({text:_,value:y})}o.value=r},{immediate:!0});const u=F(()=>{var r;return(r=o.value)==null?void 0:r.find(s=>s.value===l.value)});return{internalCurrent:l,options:o,selectedOption:u};async function a(r){const s=await $t(new Date(r.activity.timestamp),String(n("date-fns_date_short"))),p=await $t(new Date(r.activity.timestamp),String(n("date-fns_time")));return`${s} (${p})`}}}),B8=["onClick"];function q8(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-list-item-content"),s=c("v-list-item"),p=c("v-list"),f=c("v-menu");return m(),C(f,{"show-arrow":""},{activator:d(({toggle:_})=>[S("span",{class:"picker",onClick:_},[T(b(e.selectedOption&&e.selectedOption.text)+" ",1),i(a,{name:"expand_more",small:""})],8,B8)]),default:d(()=>[i(p,{class:"menu"},{default:d(()=>[(m(!0),I(x,null,$e(e.options,_=>(m(),C(s,{key:_.value,clickable:"",active:e.internalCurrent===_.value,onClick:y=>e.internalCurrent=_.value},{default:d(()=>[i(a,{name:"commit_node"}),i(r,null,{default:d(()=>[T(b(_.text),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1})}var z8=q(N8,[["render",q8],["__scopeId","data-v-2f4d8b82"]]);const K8=z({props:{revision:{type:Object,required:!0}},setup(){const{t:e}=J();return{t:e}}}),H8=e=>(He("data-v-2d744eb6"),e=e(),We(),e),W8=H8(()=>S("br",null,null,-1));function G8(e,t,n,l,o,u){const a=c("v-notice"),r=c("v-form");return m(),I("div",null,[i(a,{type:"info"},{default:d(()=>[T(b(e.revision.activity.action==="create"?e.t("revision_post_create"):e.t("revision_post_update"))+" ",1),W8,T(" "+b(e.t("no_relational_data")),1)]),_:1}),i(r,{disabled:"",collection:e.revision.collection,"primary-key":e.revision.item,"initial-values":e.revision.data},null,8,["collection","primary-key","initial-values"])])}var Z8=q(K8,[["render",G8],["__scopeId","data-v-2d744eb6"]]);const J8=z({props:{changes:{type:Array,required:!0},added:{type:Boolean,default:!1},deleted:{type:Boolean,default:!1}},setup(e){const{t}=J(),n=F(()=>e.changes.filter(o=>e.added===!0?o.removed!==!0:o.added!==!0)),l=F(()=>e.changes.length===2);return{t,changesFiltered:n,wholeThing:l}}}),Q8={class:"delta"},X8={key:1,class:"no-value"};function Y8(e,t,n,l,o,u){const a=c("v-icon");return m(),I("div",{class:ae(["change-line",{added:e.added,deleted:e.deleted,"no-highlight":e.wholeThing}])},[i(a,{name:e.added?"add":"remove"},null,8,["name"]),S("div",Q8,[(m(!0),I(x,null,$e(e.changesFiltered,(r,s)=>(m(),I("span",{key:s,class:ae({changed:r.added||r.removed})},[r.value?(m(),I(x,{key:0},[T(b(r.value),1)],64)):(m(),I("span",X8,b(e.t("no_value")),1))],2))),128))])],2)}var x8=q(J8,[["render",Y8],["__scopeId","data-v-481ea258"]]);const e4=z({components:{RevisionsDrawerUpdatesChange:x8},props:{revision:{type:Object,required:!0},revisions:{type:Array,required:!0}},setup(e){const{t}=J(),n=Le(),l=F(()=>{const u=e.revisions.findIndex(a=>a.id===e.revision.id);return e.revisions[u+1]}),o=F(()=>l.value?Object.keys(e.revision.delta).map(a=>{var _;const r=(_=n.getField(e.revision.collection,a))==null?void 0:_.name;if(!r)return null;const s=e.revision.delta[a],p=l.value.data[a];if(U.exports.isEqual(s,p))return null;let f;return typeof p=="string"&&typeof s=="string"&&s.length>25?f=Gs(p,s):Array.isArray(p)&&Array.isArray(s)?f=Zs(p,s):p&&s&&typeof s=="object"&&typeof s=="object"?f=Js(p,s):f=[{removed:!0,value:p},{added:!0,value:s}],{name:r,changes:f}}).filter(a=>a):null);return{t,changes:o,previousRevision:l}}}),t4=e=>(He("data-v-09850b86"),e=e(),We(),e),n4={class:"updates"},l4=t4(()=>S("br",null,null,-1)),o4={class:"type-label"};function a4(e,t,n,l,o,u){const a=c("v-notice"),r=c("revisions-drawer-updates-change");return m(),I("div",n4,[i(a,{type:"info"},{default:d(()=>[T(b(e.t("changes_made"))+" ",1),l4,T(" "+b(e.t("no_relational_data")),1)]),_:1}),(m(!0),I(x,null,$e(e.changes,s=>(m(),I("div",{key:s.name,class:"change"},[S("div",o4,b(s.name),1),i(r,{deleted:"",changes:s.changes},null,8,["changes"]),i(r,{added:"",changes:s.changes},null,8,["changes"])]))),128))])}var i4=q(e4,[["render",a4],["__scopeId","data-v-09850b86"]]);const r4=z({components:{RevisionsDrawerPicker:z8,RevisionsDrawerPreview:Z8,RevisionsDrawerUpdates:i4},props:{revisions:{type:Array,required:!0},current:{type:[Number,String],default:null},active:{type:Boolean,default:!1}},emits:["revert","update:active","update:current"],setup(e,{emit:t}){const{t:n}=J(),l=je(e,"active",t),o=je(e,"current",t),u=E(["updates_made"]),a=F(()=>{var y;return((y=r.value)==null?void 0:y.activity.action)==="create"?n("item_creation"):n("item_revision")}),r=F(()=>e.revisions.find(y=>y.id===e.current)),s=F(()=>{const y=e.revisions.findIndex(v=>v.id===e.current);return e.revisions[y+1]}),p=F(()=>{var y;return((y=r.value)==null?void 0:y.activity.action)==="create"?[{text:n("creation_preview"),value:"revision_preview"}]:[{text:n("updates_made"),value:"updates_made"},{text:n("revision_preview"),value:"revision_preview"}]}),f=F(()=>{var y;return((y=r.value)==null?void 0:y.activity.action)!=="create"});return Ql(()=>u.value=[p.value[0].value]),{t:n,internalActive:l,internalCurrent:o,title:a,currentRevision:r,currentTab:u,tabs:p,hasPastRevision:f,revert:_};function _(){var v,h;if(!r.value)return;const y={};for(const[w,g]of Object.entries(r.value.delta)){const k=(h=(v=s.value)==null?void 0:v.data[w])!=null?h:null;U.exports.isEqual(g,k)||(y[w]=k)}t("revert",y),l.value=!1}}}),s4={class:"content"};function d4(e,t,n,l,o,u){const a=c("revisions-drawer-picker"),r=c("v-tab"),s=c("v-tabs"),p=c("revisions-drawer-updates"),f=c("revisions-drawer-preview"),_=c("v-icon"),y=c("v-button"),v=c("v-drawer"),h=ke("tooltip");return m(),I("div",null,[i(v,{modelValue:e.internalActive,"onUpdate:modelValue":t[3]||(t[3]=w=>e.internalActive=w),title:e.title,icon:"change_history","sidebar-label":e.t(e.currentTab[0]),onCancel:t[4]||(t[4]=w=>e.internalActive=!1)},{subtitle:d(()=>[i(a,{current:e.internalCurrent,"onUpdate:current":t[0]||(t[0]=w=>e.internalCurrent=w),revisions:e.revisions},null,8,["current","revisions"])]),sidebar:d(()=>[i(s,{modelValue:e.currentTab,"onUpdate:modelValue":t[1]||(t[1]=w=>e.currentTab=w),vertical:""},{default:d(()=>[(m(!0),I(x,null,$e(e.tabs,w=>(m(),C(r,{key:w.value,value:w.value},{default:d(()=>[T(b(w.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),actions:d(()=>[e.hasPastRevision?Q((m(),C(y,{key:0,class:"revert",icon:"",rounded:"",onClick:e.revert},{default:d(()=>[i(_,{name:"restore"})]),_:1},8,["onClick"])),[[h,e.t("revert"),void 0,{bottom:!0}]]):R("",!0),Q(i(y,{icon:"",rounded:"",onClick:t[2]||(t[2]=w=>e.internalActive=!1)},{default:d(()=>[i(_,{name:"check"})]),_:1},512),[[h,e.t("done"),void 0,{bottom:!0}]])]),default:d(()=>[S("div",s4,[e.currentTab[0]==="updates_made"?(m(),C(p,{key:0,revision:e.currentRevision,revisions:e.revisions},null,8,["revision","revisions"])):R("",!0),e.currentTab[0]==="revision_preview"?(m(),C(f,{key:1,revision:e.currentRevision},null,8,["revision"])):R("",!0)])]),_:1},8,["modelValue","title","sidebar-label"])])}var u4=q(r4,[["render",d4],["__scopeId","data-v-ca277ace"]]);function _o(e,t=0,n=["K","M","B","T"]){const l=e<0;e=Math.abs(e);let o=String(e);if(e>=1e3){const u=Math.pow(10,t);for(let a=n.length-1;a>=0;a--){const r=Math.pow(10,(a+1)*3);if(r<=e){e=Math.round(e*u/r)/u,e===1e3&&a<n.length-1&&(e=1,a++),o=e.toFixed(t)+n[a];break}}}return l&&(o=`-${o}`),o}const c4=z({components:{RevisionsDrawer:u4,RevisionsDateGroup:U8},props:{collection:{type:String,required:!0},primaryKey:{type:[String,Number],required:!0}},emits:["revert"],setup(e){const{t}=J(),{revisions:n,revisionsByDate:l,loading:o,refresh:u,revisionsCount:a,pagesCount:r,created:s}=v(e.collection,e.primaryKey),p=E(!1),f=E(null),_=E(1);return ye(()=>_.value,h=>{u(h)}),{t,revisions:n,revisionsByDate:l,loading:o,refresh:u,modalActive:p,modalCurrentRevision:f,openModal:y,revisionsCount:a,created:s,page:_,pagesCount:r,abbreviateNumber:_o};function y(h){f.value=h,p.value=!0}function v(h,w){const g=E(null),k=E(null),A=E(!1),V=E(0),D=E(),P=E(0);return L(),{created:D,revisions:g,revisionsByDate:k,loading:A,refresh:B,revisionsCount:V,pagesCount:P};async function L(O=0){var N;A.value=!0;const M=100;try{const K=await re.get("/revisions",{params:{filter:{collection:{_eq:h},item:{_eq:w}},sort:"-id",limit:M,page:O,fields:["id","data","delta","collection","item","activity.action","activity.timestamp","activity.user.id","activity.user.email","activity.user.first_name","activity.user.last_name","activity.ip","activity.user_agent"],meta:["filter_count"]}}),G=await re.get("/revisions",{params:{filter:{collection:{_eq:h},item:{_eq:w},activity:{action:{_eq:"create"}}},sort:"-id",limit:1,fields:["id","data","delta","collection","item","activity.action","activity.timestamp","activity.user.id","activity.user.email","activity.user.first_name","activity.user.last_name","activity.ip","activity.user_agent"],meta:["filter_count"]}});D.value=(N=G.data.data)==null?void 0:N[0];const ie=U.exports.groupBy(K.data.data.filter(ne=>!!ne.activity),ne=>new Date(new Date(ne.activity.timestamp).toDateString())),de=[];for(const[ne,le]of Object.entries(ie)){const se=new Date(ne),ee=ia(se),Z=ra(se),te=sa(se);let me;ee?me=t("today"):Z?me=t("yesterday"):te?me=await $t(se,String(t("date-fns_date_short_no_year"))):me=await $t(se,String(t("date-fns_date_short"))),de.push({date:se,dateFormatted:String(me),revisions:U.exports.orderBy(le,["activity.timestamp"],["desc"])})}k.value=U.exports.orderBy(de,["date"],["desc"]),g.value=U.exports.orderBy(K.data.data,["activity.timestamp"],["desc"]),V.value=K.data.meta.filter_count,P.value=Math.ceil(V.value/M)}catch(K){Se(K)}finally{A.value=!1}}async function B(O=0){await L(O)}}}}),p4={key:1,class:"empty"},m4={class:"content"},f4={class:"external"};function _4(e,t,n,l,o,u){const a=c("v-progress-linear"),r=c("RevisionsDateGroup"),s=c("v-divider"),p=c("v-pagination"),f=c("revisions-drawer"),_=c("sidebar-detail");return m(),C(_,{title:e.t("revisions"),icon:"change_history",badge:!e.loading&&e.revisionsCount>0?e.abbreviateNumber(e.revisionsCount):null},{default:d(()=>[e.loading?(m(),C(a,{key:0,indeterminate:""})):e.revisionsCount===0?(m(),I("div",p4,[S("div",m4,b(e.t("no_revisions")),1)])):(m(),I(x,{key:2},[(m(!0),I(x,null,$e(e.revisionsByDate,y=>(m(),C(r,{key:y.date.toString(),group:y,onClick:e.openModal},null,8,["group","onClick"]))),128)),e.page==e.pagesCount&&!e.created?(m(),I(x,{key:0},[e.revisionsByDate.length>0?(m(),C(s,{key:0})):R("",!0),S("div",f4,b(e.t("revision_delta_created_externally")),1)],64)):R("",!0),e.pagesCount>1?(m(),C(p,{key:1,modelValue:e.page,"onUpdate:modelValue":t[0]||(t[0]=y=>e.page=y),length:e.pagesCount,"total-visible":2},null,8,["modelValue","length"])):R("",!0)],64)),e.revisions?(m(),C(f,{key:3,current:e.modalCurrentRevision,"onUpdate:current":t[1]||(t[1]=y=>e.modalCurrentRevision=y),active:e.modalActive,"onUpdate:active":t[2]||(t[2]=y=>e.modalActive=y),revisions:e.revisions,onRevert:t[3]||(t[3]=y=>e.$emit("revert",y))},null,8,["current","active","revisions"])):R("",!0)]),_:1},8,["title","badge"])}var Xn=q(c4,[["render",_4],["__scopeId","data-v-1fad9e2d"]]);const Dl=new Set([]),Zt={};document.body.addEventListener("keydown",e=>{e.repeat||!e.key||(Dl.add(v4(e)),y4(e))});document.body.addEventListener("keyup",e=>{e.repeat||!e.key||Dl.clear()});function nt(e,t,n=E(document.body)){const l=(o,u)=>{if(!n.value)return;const a=n.value instanceof HTMLElement?n.value:n.value.$el;return document.activeElement===a||a.contains(document.activeElement)||document.activeElement===document.body?(o.preventDefault(),t(o,u)):!1};it(()=>{[e].flat().forEach(o=>{o in Zt?Zt[o].unshift(l):Zt[o]=[l]})}),At(()=>{[e].flat().forEach(o=>{o in Zt&&(Zt[o]=Zt[o].filter(u=>u!==l),Zt[o].length===0&&delete Zt[o])})})}function v4(e){const t={Control:"meta",Command:"meta"},n=/^[a-zA-Z0-9]*?$/g;let l=e.key.match(n)===null?e.code.replace(/(Key|Digit)/g,""):e.key;return l=l in t?t[l]:l,l=l.toLowerCase(),l}function y4(e){Object.entries(Zt).forEach(([t,n])=>{const l=t.split("+");for(t of Dl)if(l.includes(t)===!1)return;for(t of l)if(Dl.has(t)===!1)return;for(let o=0;o<n.length;o++){let u=!1;if(n[o](e,()=>{u=!0}),typeof u=="boolean"&&u)break}})}const h4=z({props:{modelValue:{type:String,default:null},captureGroup:{type:String,required:!0},multiline:{type:Boolean,default:!1},triggerCharacter:{type:String,required:!0},items:{type:Object,required:!0}},emits:["update:modelValue","trigger","deactivate","up","down","enter"],setup(e,{emit:t}){const n=E();let l=!1,o=[],u=0,a=0;return ye(()=>e.modelValue,y=>{!n.value||y!==n.value.innerText&&_(y,!0)}),it(()=>{e.modelValue&&e.modelValue!==n.value.innerText&&_(e.modelValue),n.value&&(n.value.addEventListener("click",p),n.value.addEventListener("keydown",r),n.value.addEventListener("keyup",s))}),At(()=>{n.value&&(n.value.removeEventListener("click",p),n.value.removeEventListener("keydown",r),n.value.removeEventListener("keyup",s))}),{processText:f,input:n};function r(y){var h;const v=((h=window.getSelection())==null?void 0:h.rangeCount)?Ct(n.value).pos:0;if(y.code==="Enter")y.preventDefault(),l?t("enter"):(_(n.value.innerText.substring(0,v)+(v===n.value.innerText.length&&n.value.innerText.charAt(v-1)!==`
`?`

`:`
`)+n.value.innerText.substring(v),!0),Ct(n.value,v+1));else if(y.code==="ArrowUp"&&!y.shiftKey)l&&(y.preventDefault(),t("up"));else if(y.code==="ArrowDown"&&!y.shiftKey)l&&(y.preventDefault(),t("down"));else if(y.code==="ArrowLeft"&&!y.shiftKey){const w=o.indexOf(v-1);w!==-1&&w%2==1&&(y.preventDefault(),Ct(n.value,o[w-1]-1))}else if(y.code==="ArrowRight"&&!y.shiftKey){const w=o.indexOf(v+1);w!==-1&&w%2==0&&(y.preventDefault(),Ct(n.value,o[w+1]+1))}else if(y.code==="Backspace"){const w=o.indexOf(v-1);if(w!==-1&&w%2==1){y.preventDefault();const g=o[w-1];_((n.value.innerText.substring(0,g)+n.value.innerText.substring(v)).replaceAll(String.fromCharCode(160)," "),!0),Ct(n.value,g),t("update:modelValue",n.value.innerText)}}else if(y.code==="Delete"){const w=o.indexOf(v+1);w!==-1&&w%2==0&&(y.preventDefault(),_((n.value.innerText.substring(0,v)+n.value.innerText.substring(o[w+1])).replaceAll(String.fromCharCode(160)," "),!0),Ct(n.value,v),t("update:modelValue",n.value.innerText))}}function s(y){var h;const v=((h=window.getSelection())==null?void 0:h.rangeCount)?Ct(n.value).pos:0;if((y.code==="ArrowUp"||y.code==="ArrowDown")&&!y.shiftKey){const w=o.indexOf(v);w!==-1&&w%2==1?Ct(n.value,o[w]+1):w!==-1&&w%2==0&&Ct(n.value,o[w]-1)}}function p(y){var w;const v=((w=window.getSelection())==null?void 0:w.rangeCount)?Ct(n.value).pos:0,h=o.indexOf(v);h!==-1&&(h%2==0?Ct(n.value,v-1):Ct(n.value,v+1),y.preventDefault())}function f(y){var V,D;const v=y.target,h=((V=window.getSelection())==null?void 0:V.rangeCount)?Ct(v).pos:0,w=(D=v.innerText)!=null?D:"";let g=w.indexOf(" ",h);g===-1&&(g=w.indexOf(`
`,h)),g===-1&&(g=w.length);const k=/\S+$/.exec(w.slice(0,g));let A=k?k[0]:null;A&&(A=A.replace(/[\s'";:,./?\\-]$/,"")),(A==null?void 0:A.startsWith(e.triggerCharacter))?(t("trigger",{searchQuery:A.substring(e.triggerCharacter.length),caretPosition:h}),l=!0):l&&(t("deactivate"),l=!1),_(),t("update:modelValue",v.innerText)}function _(y,v=!1){var A;if(!n.value)return;n.value.innerText===`
`&&(n.value.innerText=""),y!==void 0&&(n.value.innerText=y,l=!1);let h=n.value.innerText;const w=v?a:((A=window.getSelection())==null?void 0:A.rangeCount)?Ct(n.value).pos:0;let g=0;const k=h.match(new RegExp(`${e.captureGroup}(?!</mark>)`,"gi"));if(o=[],k)for(const V of k!=null?k:[]){let D="",P="",L="",B="",O=h.indexOf(V,g);const M=h.charCodeAt(O-1),N=h.charCodeAt(O+V.length);M===32?(D=" ",L="&nbsp;"):M!==160&&(L="&nbsp;"),N===32?(P=" ",B="&nbsp;"):N!==160&&(B="&nbsp;");let K=D+V+P,G=`${L}<mark class="preview" data-preview="${e.items[V.substring(e.triggerCharacter.length)]}" contenteditable="false">${V}</mark>${B}`;h=h.replace(new RegExp(`(${K})(?!</mark>)`),G),g=O+G.length-K.length}if(n.value.innerHTML!==h.replaceAll(String.fromCharCode(160),"&nbsp;")){n.value.innerHTML=h;const V=n.value.innerText.length-u,D=w+V;D>n.value.innerText.length||D<0?Ct(n.value,n.value.innerText.length):Ct(n.value,D)}g=0;for(const V of k!=null?k:[]){let D=n.value.innerText.indexOf(V,g);o.push(D,D+V.length),g=D+V.length}u=n.value.innerText.length,a=w}}});function g4(e,t,n,l,o,u){return m(),I("div",{ref:"input",class:ae(["v-template-input",{multiline:e.multiline}]),contenteditable:"true",tabindex:"1",onInput:t[0]||(t[0]=(...a)=>e.processText&&e.processText(...a))},null,34)}var Ba=q(h4,[["render",g4],["__scopeId","data-v-f1ad147a"]]);const b4=z({components:{vTemplateInput:Ba},props:{refresh:{type:Function,required:!0},collection:{type:String,required:!0},primaryKey:{type:[Number,String],required:!0},existingComment:{type:Object,default:null},previews:{type:Object,default:null}},emits:["cancel"],setup(e){var V,D;const{t}=J(),n=E();nt("meta+enter",w,n);const l=E((D=(V=e.existingComment)==null?void 0:V.comment)!=null?D:null);ye(()=>e.existingComment,()=>{var P;((P=e.existingComment)==null?void 0:P.comment)&&(l.value=e.existingComment.comment)},{immediate:!0});const o=E(!1),u=E(!1),a=E([]),r=E({});ye(()=>e.previews,()=>{e.previews&&(r.value=pe(pe({},r.value),e.previews))},{immediate:!0});let s=0,p=E(0),f=null;const _=U.exports.throttle(async P=>{f!==null&&f.cancel(),f=Xl.CancelToken.source();const L=/\s@[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}/gi;let B={_or:[{first_name:{_starts_with:P}},{last_name:{_starts_with:P}},{email:{_starts_with:P}}]};P.match(L)&&(B={id:{_in:P}});try{const O=await re.get("/users",{params:{filter:P===""||!P?void 0:B,fields:["first_name","last_name","email","id","avatar"]},cancelToken:f.token}),M=U.exports.cloneDeep(r.value);O.data.data.forEach(N=>{M[N.id]=wt(N)}),r.value=M,a.value=O.data.data}catch(O){return O}},200);return{t,newCommentContent:l,postComment:w,saving:o,textarea:n,showMentionDropDown:u,searchResult:a,avatarSource:h,userName:wt,triggerSearch:v,insertUser:y,userPreviews:r,selectedKeyboardIndex:p,pressedUp:g,pressedDown:k,pressedEnter:A};function y(P){var K;const L=(K=l.value)==null?void 0:K.replaceAll(String.fromCharCode(160)," ");if(!L)return;let B=s-1,O=s;if(L.charAt(B)!==" "&&L.charAt(B)!==`
`)for(;B>=0&&L.charAt(B)!==" "&&L.charAt(B)!==`
`;)B--;for(;O<L.length&&L.charAt(O)!==" "&&L.charAt(O)!==`
`;)O++;const M=L.substring(0,B+(L.charAt(B)===`
`?1:0)),N=L.substring(O);l.value=M+" @"+P.id+N}function v({searchQuery:P,caretPosition:L}){s=L,u.value=!0,_(P),p.value=0}function h(P){return P===null?"":ut(Ge()+`assets/${P}?key=system-small-cover`)}async function w(){if(!(l.value===null||l.value.length===0)){o.value=!0;try{e.existingComment?await re.patch(`/activity/comment/${e.existingComment.id}`,{comment:l.value}):await re.post("/activity/comment",{collection:e.collection,item:e.primaryKey,comment:l.value}),e.refresh(),l.value="",st({title:t("post_comment_success"),type:"success"})}catch(P){Se(P)}finally{o.value=!1}}}function g(){p.value>0&&p.value--}function k(){p.value<a.value.length-1&&p.value++}function A(){y(a.value[p.value]),u.value=!1}}}),w4={class:"input-container"},$4=["src"],k4={class:"buttons"};function S4(e,t,n,l,o,u){const a=c("v-template-input"),r=c("v-icon"),s=c("v-avatar"),p=c("v-list-item-icon"),f=c("v-list-item-content"),_=c("v-list-item"),y=c("v-list"),v=c("v-menu"),h=c("v-button");return m(),I("div",w4,[i(v,{modelValue:e.showMentionDropDown,"onUpdate:modelValue":t[2]||(t[2]=w=>e.showMentionDropDown=w),attached:""},{activator:d(()=>[i(a,{modelValue:e.newCommentContent,"onUpdate:modelValue":t[0]||(t[0]=w=>e.newCommentContent=w),"capture-group":"(@[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12})",multiline:"","trigger-character":"@",items:e.userPreviews,onTrigger:e.triggerSearch,onDeactivate:t[1]||(t[1]=w=>e.showMentionDropDown=!1),onUp:e.pressedUp,onDown:e.pressedDown,onEnter:e.pressedEnter},null,8,["modelValue","items","onTrigger","onUp","onDown","onEnter"])]),default:d(()=>[i(y,null,{default:d(()=>[(m(!0),I(x,null,$e(e.searchResult,(w,g)=>(m(),C(_,{id:"suggestions",key:w.id,clickable:"",active:g===e.selectedKeyboardIndex,onClick:k=>e.insertUser(w)},{default:d(()=>[i(p,null,{default:d(()=>[i(s,{"x-small":""},{default:d(()=>[w.avatar?(m(),I("img",{key:0,src:e.avatarSource(w.avatar)},null,8,$4)):(m(),C(r,{key:1,name:"person_outline"}))]),_:2},1024)]),_:2},1024),i(f,null,{default:d(()=>[T(b(e.userName(w)),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1},8,["modelValue"]),S("div",k4,[e.existingComment?(m(),C(h,{key:0,class:"cancel","x-small":"",secondary:"",onClick:t[3]||(t[3]=w=>e.$emit("cancel"))},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1})):R("",!0),i(h,{disabled:!e.newCommentContent||e.newCommentContent.length===0,loading:e.saving,class:"post-comment","x-small":"",onClick:e.postComment},{default:d(()=>[T(b(e.t("submit")),1)]),_:1},8,["disabled","loading","onClick"])])])}var qa=q(b4,[["render",S4],["__scopeId","data-v-0d3f6e50"]]);const C4=z({props:{activity:{type:Object,required:!0},refresh:{type:Function,required:!0}},emits:["edit"],setup(e){const{t}=J(),n=F(()=>e.activity.timestamp?xt(new Date(e.activity.timestamp),String(t("date-fns_time_no_seconds"))):null),l=F(()=>{var s;return((s=e.activity.user)==null?void 0:s.avatar)?ut(Ge()+`assets/${e.activity.user.avatar.id}?key=system-small-cover`):null}),{confirmDelete:o,deleting:u,remove:a}=r();return{t,formattedTime:n,avatarSource:l,confirmDelete:o,deleting:u,remove:a,userName:wt};function r(){const s=E(!1),p=E(!1);return{confirmDelete:s,deleting:p,remove:f};async function f(){p.value=!0;try{await re.delete(`/activity/comment/${e.activity.id}`),await e.refresh(),s.value=!1}catch(_){Se(_)}finally{p.value=!1}}}}}),V4={class:"comment-header"},F4=["src","alt"],A4={class:"name"},I4={class:"header-right"},E4={class:"time"};function D4(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-avatar"),s=c("user-popover"),p=c("v-list-item-icon"),f=c("v-list-item-content"),_=c("v-list-item"),y=c("v-list"),v=c("v-menu"),h=c("v-card-title"),w=c("v-card-text"),g=c("v-button"),k=c("v-card-actions"),A=c("v-card"),V=c("v-dialog");return m(),I("div",V4,[i(r,{"x-small":""},{default:d(()=>[e.avatarSource?(m(),I("img",{key:0,src:e.avatarSource,alt:e.userName(e.activity.user)},null,8,F4)):(m(),C(a,{key:1,name:"person_outline"}))]),_:1}),S("div",A4,[e.activity.user&&e.activity.user.id?(m(),C(s,{key:0,user:e.activity.user.id},{default:d(()=>[S("span",null,[e.activity.user&&e.activity.user?(m(),I(x,{key:0},[T(b(e.userName(e.activity.user)),1)],64)):(m(),I(x,{key:1},[T(b(e.t("private_user")),1)],64))])]),_:1},8,["user"])):R("",!0)]),S("div",I4,[i(v,{"show-arrow":"",placement:"bottom-end"},{activator:d(({toggle:D,active:P})=>[i(a,{class:ae(["more",{active:P}]),name:"more_horiz",clickable:"",onClick:D},null,8,["class","onClick"]),S("div",E4,b(e.formattedTime),1)]),default:d(()=>[i(y,null,{default:d(()=>[i(_,{clickable:"",onClick:t[0]||(t[0]=D=>e.$emit("edit"))},{default:d(()=>[i(p,null,{default:d(()=>[i(a,{name:"edit",outline:""})]),_:1}),i(f,null,{default:d(()=>[T(b(e.t("edit")),1)]),_:1})]),_:1}),i(_,{clickable:"",onClick:t[1]||(t[1]=D=>e.confirmDelete=!0)},{default:d(()=>[i(p,null,{default:d(()=>[i(a,{name:"delete",outline:""})]),_:1}),i(f,null,{default:d(()=>[T(b(e.t("delete_label")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),i(V,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[3]||(t[3]=D=>e.confirmDelete=D),onEsc:t[4]||(t[4]=D=>e.confirmDelete=!1)},{default:d(()=>[i(A,null,{default:d(()=>[i(h,null,{default:d(()=>[T(b(e.t("delete_comment")),1)]),_:1}),i(w,null,{default:d(()=>[T(b(e.t("delete_are_you_sure")),1)]),_:1}),i(k,null,{default:d(()=>[i(g,{secondary:"",onClick:t[2]||(t[2]=D=>e.confirmDelete=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(g,{kind:"danger",loading:e.deleting,onClick:e.remove},{default:d(()=>[T(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var T4=q(C4,[["render",D4],["__scopeId","data-v-cb2ab15c"]]);const L4=z({components:{CommentItemHeader:T4,CommentInput:qa},props:{activity:{type:Object,required:!0},refresh:{type:Function,required:!0},userPreviews:{type:Object,require:!0,default:()=>({})},primaryKey:{type:[Number,String],required:!0},collection:{type:String,required:!0}},setup(e){const{t}=J(),n=E(),{edits:l,editing:o,savingEdits:u,saveEdits:a,cancelEditing:r}=s();return nt("meta+enter",a,n),{t,edits:l,editing:o,savingEdits:u,saveEdits:a,cancelEditing:r,textarea:n};function s(){const p=E(e.activity.comment),f=E(!1),_=E(!1);return ye(()=>e.activity,()=>p.value=e.activity.comment),{edits:p,editing:f,savingEdits:_,saveEdits:y,cancelEditing:v};async function y(){_.value=!0;try{await re.patch(`/activity/comment/${e.activity.id}`,{comment:p.value}),e.refresh()}catch(h){Se(h)}finally{_.value=!1,f.value=!1}}function v(){p.value=e.activity.comment,f.value=!1}}}}),P4={class:"comment-item"},O4={key:1,class:"content selectable"};function R4(e,t,n,l,o,u){const a=c("comment-item-header"),r=c("comment-input"),s=ke("md");return m(),I("div",P4,[i(a,{refresh:e.refresh,activity:e.activity,onEdit:t[0]||(t[0]=p=>e.editing=!0)},null,8,["refresh","activity"]),e.editing?(m(),C(r,{key:0,"existing-comment":e.activity,"primary-key":e.primaryKey,collection:e.collection,refresh:e.refresh,previews:e.userPreviews,onCancel:e.cancelEditing},null,8,["existing-comment","primary-key","collection","refresh","previews","onCancel"])):Q((m(),I("div",O4,null,512)),[[s,e.activity.display]])])}var j4=q(L4,[["render",R4],["__scopeId","data-v-2c18c6a3"]]);const M4=z({components:{CommentInput:qa,CommentItem:j4},props:{collection:{type:String,required:!0},primaryKey:{type:[String,Number],required:!0}},setup(e){const{t}=J(),{activity:n,loading:l,error:o,refresh:u,count:a,userPreviews:r}=s(e.collection,e.primaryKey);return{t,activity:n,loading:l,error:o,refresh:u,count:a,userPreviews:r};function s(f,_){const y=/(\s@[a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12})/gm,v=E(null),h=E(0),w=E(null),g=E(!1),k=E({});return A(),{activity:v,error:w,loading:g,refresh:V,count:h,userPreviews:k};async function A(){w.value=null,g.value=!0;try{const D=await re.get("/activity",{params:{"filter[collection][_eq]":f,"filter[item][_eq]":_,"filter[action][_eq]":"comment",sort:"-id",fields:["id","action","timestamp","user.id","user.email","user.first_name","user.last_name","user.avatar.id","revisions.id","comment"]}});h.value=D.data.data.length,k.value=await p(D.data.data,y);const P=D.data.data.map(O=>{const M=O.comment.match(y);let N=O.comment;for(const K of M!=null?M:[])N=N.replace(K,` <mark>${k.value[K.substring(2)]}</mark>`);return Ve(pe({},O),{display:N.replaceAll(`
`,"<br>")})}),L=U.exports.groupBy(P,O=>new Date(new Date(O.timestamp).toDateString())),B=[];for(const[O,M]of Object.entries(L)){const N=new Date(O),K=ia(N),G=ra(N),ie=sa(N);let de;K?de=t("today"):G?de=t("yesterday"):ie?de=await $t(N,String(t("date-fns_date_short_no_year"))):de=await $t(N,String(t("date-fns_date_short"))),B.push({date:N,dateFormatted:String(de),activity:M})}v.value=U.exports.orderBy(B,["date"],["desc"])}catch(D){D.value=D}finally{g.value=!1}}async function V(){await A()}}async function p(f,_){let y=[];f.forEach(h=>{y.push(h.comment.match(_))});const v=[...new Set(U.exports.flatten(y))].filter(h=>{if(h)return h});if(v.length>0){const h=await re.get("/users",{params:{filter:{id:{_in:v.map(g=>g.substring(2))}},fields:["first_name","last_name","email","id"]}}),w={};return h.data.data.map(g=>{w[g.id]=wt(g)}),w}return{}}}}),U4={key:1,class:"empty"},N4={class:"content"};function B4(e,t,n,l,o,u){const a=c("comment-input"),r=c("v-progress-linear"),s=c("v-divider"),p=c("comment-item"),f=c("sidebar-detail");return m(),C(f,{title:e.t("comments"),icon:"chat_bubble_outline",badge:e.count||null},{default:d(()=>[i(a,{refresh:e.refresh,collection:e.collection,"primary-key":e.primaryKey},null,8,["refresh","collection","primary-key"]),e.loading?(m(),C(r,{key:0,indeterminate:""})):!e.activity||e.activity.length===0?(m(),I("div",U4,[S("div",N4,b(e.t("no_comments")),1)])):(m(!0),I(x,{key:2},$e(e.activity,_=>(m(),I(x,{key:_.date.toString()},[i(s,null,{default:d(()=>[T(b(_.dateFormatted),1)]),_:2},1024),(m(!0),I(x,null,$e(_.activity,y=>(m(),C(p,{key:y.id,refresh:e.refresh,activity:y,"user-previews":e.userPreviews,"primary-key":e.primaryKey,collection:e.collection},null,8,["refresh","activity","user-previews","primary-key","collection"]))),128))],64))),128))]),_:1},8,["title","badge"])}var vo=q(M4,[["render",B4],["__scopeId","data-v-a05ad8d4"]]);const q4=z({props:{mime:{type:String,required:!0},width:{type:Number,default:null},height:{type:Number,default:null},src:{type:String,required:!0},title:{type:String,required:!0},inModal:{type:Boolean,default:!1}},emits:["click"],setup(e){const t=E(!1),n=F(()=>e.mime===null?null:e.mime.startsWith("image")?"image":e.mime.startsWith("video")?"video":e.mime.startsWith("audio")?"audio":null),l=F(()=>e.mime.includes("svg"));return{type:n,isSVG:l,imgError:t}}}),z4={key:0,class:"file-preview"},K4=["src","width","height","alt"],H4=["src"],W4=["src"];function G4(e,t,n,l,o,u){const a=c("v-icon");return e.type&&!e.imgError?(m(),I("div",z4,[e.type==="image"?(m(),I("div",{key:0,class:ae(["image",{svg:e.isSVG,"max-size":e.inModal===!1}]),onClick:t[1]||(t[1]=r=>e.$emit("click"))},[S("img",{src:e.src,width:e.width,height:e.height,alt:e.title,onError:t[0]||(t[0]=r=>e.imgError=!0)},null,40,K4),e.inModal===!1?(m(),C(a,{key:0,name:"upload"})):R("",!0)],2)):e.type==="video"?(m(),I("video",{key:1,controls:"",src:e.src},null,8,H4)):e.type==="audio"?(m(),I("audio",{key:2,controls:"",src:e.src},null,8,W4)):R("",!0)])):R("",!0)}var yo=q(q4,[["render",G4],["__scopeId","data-v-7957d1ad"]]);const dt=vl.extend({type:"string",base:vl.string(),messages:{"string.contains":"{{#label}} must contain [{{#substring}}]","string.ncontains":"{{#label}} can't contain [{{#substring}}]"},rules:{contains:{args:[{name:"substring",ref:!0,assert:e=>typeof e=="string",message:"must be a string"}],method(e){return this.$_addRule({name:"contains",args:{substring:e}})},validate(e,t,{substring:n}){return e.includes(n)===!1?t.error("string.contains",{substring:n}):e}},ncontains:{args:[{name:"substring",ref:!0,assert:e=>typeof e=="string",message:"must be a string"}],method(e){return this.$_addRule({name:"ncontains",args:{substring:e}})},validate(e,t,{substring:n}){return e.includes(n)===!0?t.error("string.ncontains",{substring:n}):e}}}}),Z4={allowUnknown:!0,requireAll:!1};function J4(e,t){e=e||{},t=U.exports.merge({},Z4,t);const n={};for(const[l,o]of Object.entries(e))if(l.startsWith("_")===!1){const a=Object.keys(o)[0];if(a==="_eq"&&(n[l]=dt.any().equal(Object.values(o)[0])),a==="_neq"&&(n[l]=dt.any().not(Object.values(o)[0])),a==="_contains"&&(n[l]=dt.string().contains(Object.values(o)[0])),a==="_ncontains"&&(n[l]=dt.string().ncontains(Object.values(o)[0])),a==="_starts_with"&&(n[l]=dt.string().pattern(new RegExp(`^${U.exports.escapeRegExp(Object.values(o)[0])}.*`),{name:"starts_with"})),a==="_nstarts_with"&&(n[l]=dt.string().pattern(new RegExp(`^${U.exports.escapeRegExp(Object.values(o)[0])}.*`),{name:"starts_with",invert:!0})),a==="_ends_with"&&(n[l]=dt.string().pattern(new RegExp(`.*${U.exports.escapeRegExp(Object.values(o)[0])}$`),{name:"ends_with"})),a==="_nends_with"&&(n[l]=dt.string().pattern(new RegExp(`.*${U.exports.escapeRegExp(Object.values(o)[0])}$`),{name:"ends_with",invert:!0})),a==="_in"&&(n[l]=dt.any().equal(...Object.values(o)[0])),a==="_nin"&&(n[l]=dt.any().not(...Object.values(o)[0])),a==="_gt"&&(n[l]=dt.number().greater(Number(Object.values(o)[0]))),a==="_gte"&&(n[l]=dt.number().min(Number(Object.values(o)[0]))),a==="_lt"&&(n[l]=dt.number().less(Number(Object.values(o)[0]))),a==="_lte"&&(n[l]=dt.number().max(Number(Object.values(o)[0]))),a==="_null"&&(n[l]=dt.any().valid(null)),a==="_nnull"&&(n[l]=dt.any().invalid(null)),a==="_empty"&&(n[l]=dt.any().valid("")),a==="_nempty"&&(n[l]=dt.any().invalid("")),a==="_between"){const r=Object.values(o)[0];n[l]=dt.number().greater(r[0]).less(r[1])}if(a==="_nbetween"){const r=Object.values(o)[0];n[l]=dt.number().less(r[0]).greater(r[1])}t.requireAll&&(n[l]=n[l].required())}return t.allowUnknown?dt.object(n).unknown():dt.object(n)}function yn(e,t,n,l=!1){const o=Lt();if(Ze().isAdmin===!0)return!0;const r=o.permissions.find(f=>f.action===t&&f.collection===e);if(!r||!r.fields&&t!=="share")return!1;if(l&&t!=="share"&&r.fields.includes("*")===!1&&n){const f=r.fields;if(Object.keys(n).every(y=>f.includes(y))===!1)return!1}const s=J4(r.permissions,{allowUnknown:!0}),{error:p}=s.validate(n);return!p}function Pn(e,t,n){const l=Ze(),o=Lt(),{info:u,fields:a}=ot(e),r=F(()=>yn(e.value,"delete",t.value)),s=F(()=>n.value?!0:yn(e.value,"update",t.value)),p=F(()=>yn(e.value,"update",t.value)),f=F(()=>yn(e.value,"share",t.value)),_=F(()=>{var h,w;return((w=(h=u.value)==null?void 0:h.meta)==null?void 0:w.archive_field)?yn(e.value,"update",{[u.value.meta.archive_field]:u.value.meta.archive_value},!0):!1}),y=F(()=>{var g,k,A;let h=U.exports.cloneDeep(a.value);if(((k=(g=l.currentUser)==null?void 0:g.role)==null?void 0:k.admin_access)===!0)return h;const w=o.getPermissionsForUser(e.value,n.value?"create":"update");return w&&(((A=w.fields)==null?void 0:A.includes("*"))===!1&&(h=h.map(V=>{var D;return((D=w.fields)==null?void 0:D.includes(V.field))===!1&&(V.meta=Ve(pe({},V.meta||{}),{readonly:!0})),V})),w.presets&&(h=h.map(V=>(V.field in w.presets&&(V.schema=Ve(pe({},V.schema||{}),{default_value:w.presets[V.field]})),V)))),h}),v=F(()=>{var h,w;return((w=(h=l.currentUser)==null?void 0:h.role)==null?void 0:w.admin_access)===!0?!0:!!o.permissions.find(g=>g.collection==="directus_revisions"&&g.action==="read")});return{deleteAllowed:r,saveAllowed:s,archiveAllowed:_,updateAllowed:p,shareAllowed:f,fields:y,revisionsAllowed:v}}function za(e,t){const n=E(),l=E(!1),o=E(null),u=F(()=>{var r,s;return((s=(r=e.value)==null?void 0:r.meta)==null?void 0:s.display_template)?ht(e.value.meta.display_template):null});return ye([e,t],a,{immediate:!0}),{templateData:n,loading:l,error:o};async function a(){if(!t.value||t.value==="+"||u.value===null||!e.value)return;l.value=!0;const r=e.value.collection.startsWith("directus_")?`/${e.value.collection.substring(9)}/${t.value}`:`/items/${e.value.collection}/${encodeURIComponent(t.value)}`;try{const s=await re.get(r,{params:{fields:u.value}});n.value=s.data.data}catch(s){o.value=s}finally{l.value=!1}}}const Q4=z({components:{FilePreview:yo},props:{active:{type:Boolean,default:!1},collection:{type:String,required:!0},primaryKey:{type:[String,Number],default:null},edits:{type:Object,default:void 0},junctionField:{type:String,default:null},disabled:{type:Boolean,default:!1},relatedPrimaryKey:{type:[String,Number],default:"+"},circularField:{type:String,default:null}},emits:["update:active","input"],setup(e,{emit:t}){const{t:n,te:l}=J(),o=Le(),u=pt(),{internalActive:a}=ne(),{junctionFieldInfo:r,junctionRelatedCollection:s,junctionRelatedCollectionInfo:p,setJunctionEdits:f}=se(),{internalEdits:_,loading:y,item:v}=le(),{save:h,cancel:w}=ee(),{collection:g}=Me(e),{info:k}=ot(g),A=F(()=>{const Z=(p==null?void 0:p.value)||k.value,te=e.primaryKey==="+";return l(`collection_names_singular.${Z.collection}`)?te?n("creating_unit",{unit:n(`collection_names_singular.${Z.collection}`)}):n("editing_unit",{unit:n(`collection_names_singular.${Z.collection}`)}):te?n("creating_in",{collection:Z.name}):n("editing_in",{collection:Z.name})}),V=F(()=>o.getFieldsForCollection(e.collection).filter(Z=>{var te;return((te=Z.meta)==null?void 0:te.hidden)!==!0}).length>0),{fields:D}=Pn(s,F(()=>v.value&&v.value[e.junctionField]),F(()=>e.primaryKey==="+")),{fields:P}=Pn(g,v,F(()=>e.primaryKey==="+")),L=F(()=>e.circularField?P.value.filter(Z=>Z.field!==e.circularField):P.value),B=F(()=>r.value?String(e.relatedPrimaryKey):String(e.primaryKey)),O=F(()=>p.value||k.value),{templateData:M,loading:N}=za(O,B),K=F(()=>{var Z,te,me,H;return((te=(Z=p.value)==null?void 0:Z.meta)==null?void 0:te.display_template)||((H=(me=k.value)==null?void 0:me.meta)==null?void 0:H.display_template)||null}),{file:G,isDirectusFiles:ie}=de();return{t:n,internalActive:a,internalEdits:_,loading:y,item:v,save:h,cancel:w,title:A,junctionFieldInfo:r,junctionRelatedCollection:s,setJunctionEdits:f,showDivider:V,junctionRelatedCollectionFields:D,fields:L,template:K,templateCollection:O,templatePrimaryKey:B,templateData:M,templateDataLoading:N,collectionInfo:k,file:G,isDirectusFiles:ie};function de(){const Z=F(()=>s.value==="directus_files");return{file:F(()=>{var Y;if(Z.value===!1||!v.value)return null;const me=(Y=v.value)==null?void 0:Y[e.junctionField];if(!me)return null;const H=ut(Ge()+`assets/${me.id}?key=system-large-contain`);return Ve(pe({},me),{src:H})}),isDirectusFiles:Z}}function ne(){const Z=E(!1);return{internalActive:F({get(){return e.active===void 0?Z.value:e.active},set(me){Z.value=me,t("update:active",me)}})}}function le(){const Z=E({}),te=F({get(){return e.edits!==void 0?pe(pe({},e.edits),Z.value):Z.value},set(ve){Z.value=ve}}),me=E(!1),H=E(null);return ye(()=>e.active,ve=>{ve===!0?(e.primaryKey!=="+"&&Y(),e.relatedPrimaryKey!=="+"&&_e()):(me.value=!1,H.value=null,Z.value={})},{immediate:!0}),{internalEdits:te,loading:me,item:H,fetchItem:Y};async function Y(){me.value=!0;const ve=e.collection.startsWith("directus_")?`/${e.collection.substring(9)}/${e.primaryKey}`:`/items/${e.collection}/${encodeURIComponent(e.primaryKey)}`;let ue="*";e.junctionField&&(ue=`*,${e.junctionField}.*`);try{const W=await re.get(ve,{params:{fields:ue}});H.value=W.data.data}catch(W){Se(W)}finally{me.value=!1}}async function _e(){me.value=!0;const ve=s.value,ue=ve.startsWith("directus_")?`/${ve.substring(9)}/${e.relatedPrimaryKey}`:`/items/${ve}/${encodeURIComponent(e.relatedPrimaryKey)}`;try{const W=await re.get(ue);H.value=Ve(pe({},H.value||{}),{[r.value.field]:W.data.data})}catch(W){Se(W)}finally{me.value=!1}}}function se(){const Z=F(()=>e.junctionField?o.getField(e.collection,e.junctionField):null),te=F(()=>{var ve,ue;if(!e.junctionField)return null;const _e=u.getRelationsForField(e.collection,e.junctionField).find(W=>W.collection===e.collection&&W.field===e.junctionField);return _e.related_collection?_e.related_collection:((ve=_e.meta)==null?void 0:ve.one_collection_field)?e.edits[_e.meta.one_collection_field]||((ue=v.value)==null?void 0:ue[_e.meta.one_collection_field]):null}),{info:me}=ot(te);return{junctionFieldInfo:Z,junctionRelatedCollection:te,junctionRelatedCollectionInfo:me,setJunctionEdits:H};function H(Y){!e.junctionField||(_.value=Ve(pe({},_.value),{[e.junctionField]:Y}))}}function ee(){return{save:Z,cancel:te};function Z(){t("input",_.value),a.value=!1,_.value={}}function te(){a.value=!1,_.value={}}}}}),X4={key:1,class:"type-title"},Y4={class:"drawer-item-content"};function x4(e,t,n,l,o,u){const a=c("v-skeleton-loader"),r=c("render-template"),s=c("v-breadcrumb"),p=c("v-icon"),f=c("v-button"),_=c("file-preview"),y=c("v-form"),v=c("v-divider"),h=c("v-drawer"),w=ke("tooltip");return m(),C(h,{modelValue:e.internalActive,"onUpdate:modelValue":t[1]||(t[1]=g=>e.internalActive=g),title:e.title,persistent:"",onCancel:e.cancel},xe({subtitle:d(()=>[i(s,{items:[{name:e.collectionInfo.name,disabled:!0}]},null,8,["items"])]),actions:d(()=>[be(e.$slots,"actions",{},void 0,!0),Q(i(f,{icon:"",rounded:"",onClick:e.save},{default:d(()=>[i(p,{name:"check"})]),_:1},8,["onClick"]),[[w,e.t("save"),void 0,{bottom:!0}]])]),default:d(()=>[S("div",Y4,[e.junctionField?(m(),I(x,{key:0},[e.file?(m(),C(_,{key:0,src:e.file.src,mime:e.file.type,width:e.file.width,height:e.file.height,title:e.file.title,"in-modal":!0},null,8,["src","mime","width","height","title"])):R("",!0),i(y,{disabled:e.disabled,loading:e.loading,"initial-values":e.item&&e.item[e.junctionField],"primary-key":e.relatedPrimaryKey,"model-value":e.internalEdits[e.junctionField],fields:e.junctionRelatedCollectionFields,autofocus:"","onUpdate:modelValue":e.setJunctionEdits},null,8,["disabled","loading","initial-values","primary-key","model-value","fields","onUpdate:modelValue"]),e.showDivider?(m(),C(v,{key:1})):R("",!0)],64)):R("",!0),i(y,{modelValue:e.internalEdits,"onUpdate:modelValue":t[0]||(t[0]=g=>e.internalEdits=g),disabled:e.disabled,loading:e.loading,"initial-values":e.item,"primary-key":e.primaryKey,fields:e.fields},null,8,["modelValue","disabled","loading","initial-values","primary-key","fields"])])]),_:2},[e.template!==null&&e.templateData&&e.primaryKey!=="+"?{name:"title",fn:d(()=>[e.loading||e.templateDataLoading?(m(),C(a,{key:0,class:"title-loader",type:"text"})):(m(),I("h1",X4,[i(r,{collection:e.templateCollection.collection,item:e.templateData,template:e.template},null,8,["collection","item","template"])]))])}:void 0]),1032,["modelValue","title","onCancel"])}var jt=q(Q4,[["render",x4],["__scopeId","data-v-950af526"]]);const e3=z({props:{share:{type:Object,required:!0}},emits:["copy","edit","invite","delete"],setup(e){const{t,d:n}=J(),l=F(()=>yn("directus_shares","update",e.share)),o=F(()=>yn("directus_shares","delete",e.share)),u=F(()=>e.share.max_uses===null?null:e.share.max_uses-e.share.times_used),a=F(()=>e.share.date_end&&new Date(e.share.date_end)<new Date?"expired":e.share.date_start&&new Date(e.share.date_start)>new Date?"upcoming":null),r=F(()=>xt(new Date(e.share.date_created),String(t("date-fns_date_short")))),s=E(null);return{editAllowed:l,deleteAllowed:o,usesLeft:u,status:a,t,d:n,formattedTime:r,confirmDelete:s}}}),t3=e=>(He("data-v-99e5b938"),e=e(),We(),e),n3={class:"item"},l3={class:"item-header"},o3={class:"type-label"},a3={class:"header-right"},i3={class:"date"},r3={class:"item-info"},s3=t3(()=>S("span",{style:{"flex-grow":"1"}},null,-1));function d3(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-list-item-icon"),s=c("v-list-item-content"),p=c("v-list-item"),f=c("v-divider"),_=c("v-list"),y=c("v-menu");return m(),I("div",n3,[S("div",l3,[S("span",o3,b(e.share.name),1),S("div",a3,[i(y,{"show-arrow":"",placement:"bottom-end"},{activator:d(({toggle:v,active:h})=>[i(a,{class:ae(["more",{active:h}]),name:"more_horiz",clickable:"",onClick:v},null,8,["class","onClick"]),S("div",i3,b(e.formattedTime),1)]),default:d(()=>[i(_,null,{default:d(()=>[i(p,{clickable:"",onClick:t[0]||(t[0]=v=>e.$emit("copy"))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"copy"})]),_:1}),i(s,null,{default:d(()=>[T(b(e.t("share_copy_link")),1)]),_:1})]),_:1}),i(p,{clickable:"",onClick:t[1]||(t[1]=v=>e.$emit("invite"))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"send"})]),_:1}),i(s,null,{default:d(()=>[T(b(e.t("share_send_link")),1)]),_:1})]),_:1}),e.deleteAllowed&&e.editAllowed?(m(),C(f,{key:0})):R("",!0),e.editAllowed?(m(),C(p,{key:1,clickable:"",onClick:t[2]||(t[2]=v=>e.$emit("edit"))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"edit"})]),_:1}),i(s,null,{default:d(()=>[T(b(e.t("edit")),1)]),_:1})]),_:1})):R("",!0),e.deleteAllowed?(m(),C(p,{key:2,clickable:"",class:"danger",onClick:t[3]||(t[3]=v=>e.$emit("delete"))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"delete"})]),_:1}),i(s,null,{default:d(()=>[T(b(e.t("delete_label")),1)]),_:1})]),_:1})):R("",!0)]),_:1})]),_:1})])]),S("div",r3,[S("span",{class:ae(["share-uses",{"no-left":e.usesLeft===0}])},[e.usesLeft===null?(m(),I(x,{key:0},[T(b(e.t("unlimited_usage")),1)],64)):(m(),I(x,{key:1},[T(b(e.t("uses_left",e.usesLeft)),1)],64))],2),e.share.password?(m(),C(a,{key:0,small:"",name:"lock"})):R("",!0),s3,e.status?(m(),I("span",{key:1,class:ae(["share-status",{[e.status]:!0}])},b(e.t(e.status)),3)):R("",!0)])])}var u3=q(e3,[["render",d3],["__scopeId","data-v-99e5b938"]]);const c3=z({components:{ShareItem:u3,DrawerItem:jt},props:{collection:{type:String,required:!0},primaryKey:{type:[String,Number],required:!0},allowed:{type:Boolean,required:!0}},setup(e){const{t}=J(),n=E(null),l=E(0),o=E(null),u=E(!1),a=E(!1),r=E(null),s=E(null),p=E(null),f=E(!1),_=E(""),y=F(()=>s.value?window.location.origin+Ge()+"admin/shared/"+s.value.id:null);return k(),{shareToDelete:p,t,shares:n,loading:u,error:o,refresh:k,count:l,select:w,unselect:g,shareToEdit:r,input:v,copy:h,shareToSend:s,remove:A,deleting:a,sendPublicLink:y,send:V,sending:f,sendEmails:_};async function v(D){if(!!D){D.collection=e.collection,D.item=e.primaryKey;try{r.value==="+"?await re.post("/shares",D):await re.patch(`/shares/${r.value}`,D),await k(),r.value=null}catch(P){Se(P)}}}async function h(D){var L;const P=window.location.origin+Ge()+"admin/shared/"+D;try{await((L=navigator==null?void 0:navigator.clipboard)==null?void 0:L.writeText(P)),st({type:"success",title:t("share_copy_link_success")})}catch{st({type:"error",title:t("share_copy_link_error")})}}function w(D){r.value=D}function g(){r.value=null}async function k(){o.value=null,u.value=!0;try{const D=await re.get("/shares",{params:{filter:{_and:[{collection:{_eq:e.collection}},{item:{_eq:e.primaryKey}}]},sort:"name"}});l.value=D.data.data.length,n.value=D.data.data}catch(D){D.value=D}finally{u.value=!1}}async function A(){if(!!p.value){a.value=!0;try{await re.delete(`/shares/${p.value.id}`),await k(),p.value=null}catch(D){Se(D)}finally{a.value=!1}}}async function V(){if(!!s.value){f.value=!0;try{const D=_.value.split(/,|\n/).filter(P=>P).map(P=>P.trim());await re.post("/shares/invite",{emails:D,share:s.value.id}),_.value="",s.value=null}catch(D){Se(D)}finally{f.value=!1}}}}}),p3={key:2,class:"empty"},m3={class:"content"},f3={class:"grid"},_3={class:"field"},v3={class:"field"},y3={class:"type-label"};function h3(e,t,n,l,o,u){const a=c("v-notice"),r=c("v-progress-linear"),s=c("share-item"),p=c("drawer-item"),f=c("v-card-title"),_=c("v-card-text"),y=c("v-button"),v=c("v-card-actions"),h=c("v-card"),w=c("v-dialog"),g=c("v-input"),k=c("v-textarea"),A=c("sidebar-detail");return m(),C(A,{title:e.t("shares"),icon:"share",badge:e.count},{default:d(()=>[e.error?(m(),C(a,{key:0,type:"danger"},{default:d(()=>[T(b(e.t("unexpected_error")),1)]),_:1})):e.loading?(m(),C(r,{key:1,indeterminate:""})):!e.shares||e.shares.length===0?(m(),I("div",p3,[S("div",m3,b(e.t("no_shares")),1)])):R("",!0),(m(!0),I(x,null,$e(e.shares,V=>(m(),C(s,{key:V.id,share:V,onCopy:D=>e.copy(V.id),onEdit:D=>e.select(V.id),onDelete:D=>e.shareToDelete=V,onInvite:D=>e.shareToSend=V},null,8,["share","onCopy","onEdit","onDelete","onInvite"]))),128)),i(p,{collection:"directus_shares","primary-key":e.shareToEdit,active:!!e.shareToEdit,onCancel:e.unselect,onInput:e.input},null,8,["primary-key","active","onCancel","onInput"]),i(w,{"model-value":!!e.shareToDelete,"onUpdate:modelValue":t[1]||(t[1]=V=>e.shareToDelete=null),onEsc:t[2]||(t[2]=V=>e.shareToDelete=null)},{default:d(()=>[i(h,null,{default:d(()=>[i(f,null,{default:d(()=>[T(b(e.t("delete_share")),1)]),_:1}),i(_,null,{default:d(()=>[T(b(e.t("delete_are_you_sure")),1)]),_:1}),i(v,null,{default:d(()=>[i(y,{secondary:"",onClick:t[0]||(t[0]=V=>e.shareToDelete=null)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(y,{kind:"danger",loading:e.deleting,onClick:e.remove},{default:d(()=>[T(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"]),i(w,{"model-value":!!e.shareToSend,"onUpdate:modelValue":t[5]||(t[5]=V=>e.shareToSend=null),onEsc:t[6]||(t[6]=V=>e.shareToSend=null)},{default:d(()=>[i(h,null,{default:d(()=>[i(f,null,{default:d(()=>[T(b(e.t("share_send_link")),1)]),_:1}),i(_,null,{default:d(()=>[S("div",f3,[S("div",_3,[i(g,{disabled:"","model-value":e.sendPublicLink},null,8,["model-value"])]),S("div",v3,[S("div",y3,b(e.t("emails")),1),i(k,{modelValue:e.sendEmails,"onUpdate:modelValue":t[3]||(t[3]=V=>e.sendEmails=V),nullable:!1,placeholder:"admin@example.com, user@example.com..."},null,8,["modelValue"])])])]),_:1}),i(v,null,{default:d(()=>[i(y,{secondary:"",onClick:t[4]||(t[4]=V=>e.shareToSend=null)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(y,{loading:e.sending,onClick:e.send},{default:d(()=>[T(b(e.t("share_send_link")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"]),e.allowed?(m(),C(y,{key:3,"full-width":"",onClick:t[7]||(t[7]=V=>e.select("+"))},{default:d(()=>[T(b(e.t("new_share")),1)]),_:1})):R("",!0)]),_:1},8,["title","badge"])}var g3=q(c3,[["render",h3],["__scopeId","data-v-4767995a"]]);class b3 extends Error{constructor(t,n,l,o){super(t);this.status=n,this.code=l,this.extensions=o||{}}}class w3 extends b3{constructor(t){var n,l,o,u,a,r,s,p,f,_,y,v,h,w;const g={field:t.path[0]},k=t.type;if(k.endsWith("only"))if(((n=t.context)===null||n===void 0?void 0:n.valids.length)>1)g.type="in",g.valid=(l=t.context)===null||l===void 0?void 0:l.valids;else{const A=(o=t.context)===null||o===void 0?void 0:o.valids[0];A===null?g.type="null":A===""?g.type="empty":(g.type="eq",g.valid=(u=t.context)===null||u===void 0?void 0:u.valids[0])}if(k.endsWith("invalid"))if(((a=t.context)===null||a===void 0?void 0:a.invalids.length)>1)g.type="nin",g.invalid=(r=t.context)===null||r===void 0?void 0:r.invalids;else{const A=(s=t.context)===null||s===void 0?void 0:s.invalids[0];A===null?g.type="nnull":A===""?g.type="nempty":(g.type="neq",g.invalid=A)}k.endsWith("greater")&&(g.type="gt",g.valid=(p=t.context)===null||p===void 0?void 0:p.limit),k.endsWith("min")&&(g.type="gte",g.valid=(f=t.context)===null||f===void 0?void 0:f.limit),k.endsWith("less")&&(g.type="lt",g.valid=(_=t.context)===null||_===void 0?void 0:_.limit),k.endsWith("max")&&(g.type="lte",g.valid=(y=t.context)===null||y===void 0?void 0:y.limit),k.endsWith("contains")&&(g.type="contains",g.substring=(v=t.context)===null||v===void 0?void 0:v.substring),k.endsWith("ncontains")&&(g.type="ncontains",g.substring=(h=t.context)===null||h===void 0?void 0:h.substring),k.endsWith("required")&&(g.type="required"),k.endsWith(".pattern.base")&&(g.type="regex",g.invalid=(w=t.context)===null||w===void 0?void 0:w.value);super(t.message,400,"FAILED_VALIDATION",g)}}function Jt(e){return e.startsWith("directus_")?`/${e.substring(9)}`:`/items/${e}`}function hn(e){var l;const t=Ze();if(!t.currentUser)return e!=null?e:{};const n={role:t.currentUser.role.id,user:t.currentUser.id};return(l=oo(e,n))!=null?l:{}}function Ka(e,t){var n;if(t.meta&&Array.isArray((n=t.meta)==null?void 0:n.conditions)){const o=[...t.meta.conditions].reverse().find(u=>{if(!u.rule||Object.keys(u.rule).length!==1)return;const a=hn(u.rule);return Al(a,e,{requireAll:!0}).length===0});return o?Ve(pe({},t),{meta:U.exports.merge({},t.meta||{},{readonly:o.readonly,options:o.options,hidden:o.hidden,required:o.required})}):t}else return t}function gn(e,t){const{info:n,primaryKeyField:l}=ot(e),o=E(null),u=E(null),a=E([]),r=E(!1),s=E(!1),p=E(!1),f=E(!1),_=E({}),y=F(()=>Object.keys(_.value).length>0),v=F(()=>t.value==="+"),h=F(()=>typeof t.value=="string"&&t.value.includes(",")),w=F(()=>{var K,G;return!!((G=(K=n.value)==null?void 0:K.meta)==null?void 0:G.singleton)}),g=F(()=>{var K,G,ie,de;return((G=(K=n.value)==null?void 0:K.meta)==null?void 0:G.archive_field)?n.value.meta.archive_value==="true"?((ie=o.value)==null?void 0:ie[n.value.meta.archive_field])===!0:((de=o.value)==null?void 0:de[n.value.meta.archive_field])===n.value.meta.archive_value:null}),{fields:k}=Pn(e,o,v),A=F(()=>w.value?Jt(e.value):`${Jt(e.value)}/${encodeURIComponent(t.value)}`);return ye([e,t],O,{immediate:!0}),{edits:_,hasEdits:y,item:o,error:u,loading:r,saving:s,refresh:O,save:D,isNew:v,remove:B,deleting:p,archive:L,isArchived:g,archiving:f,saveAsCopy:P,isBatch:h,getItem:V,validationErrors:a};async function V(){r.value=!0,u.value=null;try{const K=await re.get(A.value);M(K)}catch(K){u.value=K}finally{r.value=!1}}async function D(){var G,ie;s.value=!0,a.value=[];const K=N(_.value);if(K.length>0)throw a.value=K,s.value=!1,K;try{let de;return v.value===!0?(de=await re.post(Jt(e.value),_.value),st({title:ze.global.t("item_create_success",h.value?2:1),type:"success"})):(de=await re.patch(A.value,_.value),st({title:ze.global.t("item_update_success",h.value?2:1),type:"success"})),M(de),_.value={},de.data.data}catch(de){if((ie=(G=de==null?void 0:de.response)==null?void 0:G.data)==null?void 0:ie.errors){a.value=de.response.data.errors.filter(le=>{var se;return El.includes((se=le==null?void 0:le.extensions)==null?void 0:se.code)}).map(le=>le.extensions);const ne=de.response.data.errors.filter(le=>{var se;return El.includes((se=le==null?void 0:le.extensions)==null?void 0:se.code)===!1});ne.length>0&&ne.forEach(Se)}else Se(de);throw de}finally{s.value=!1}}async function P(){var ne,le,se,ee;s.value=!0,a.value=[];const K=((le=(ne=n.value)==null?void 0:ne.meta)==null?void 0:le.item_duplication_fields)||["*"],G=await re.get(A.value,{params:{fields:K}}),ie=pe(pe({},G.data.data||{}),_.value);l.value&&l.value.field in ie&&delete ie[l.value.field];const de=N(ie);if(de.length>0)throw a.value=de,s.value=!1,de;try{const Z=await re.post(Jt(e.value),ie);return st({title:ze.global.t("item_create_success",1),type:"success"}),_.value={},l.value?Z.data.data[l.value.field]:null}catch(Z){if((ee=(se=Z==null?void 0:Z.response)==null?void 0:se.data)==null?void 0:ee.errors)a.value=Z.response.data.errors.filter(te=>{var me;return((me=te==null?void 0:te.extensions)==null?void 0:me.code)==="FAILED_VALIDATION"}).map(te=>te.extensions);else throw Se(Z),Z}finally{s.value=!1}}async function L(){var de,ne;if(!((ne=(de=n.value)==null?void 0:de.meta)==null?void 0:ne.archive_field))return;f.value=!0;const K=n.value.meta.archive_field;let G=n.value.meta.archive_value;G==="true"&&(G=!0),G==="false"&&(G=!1);let ie=n.value.meta.unarchive_value;ie==="true"&&(ie=!0),ie==="false"&&(ie=!1);try{let le=o.value&&o.value[K]===G?ie:G;le==="true"&&(le=!0),le==="false"&&(le=!1),await re.patch(A.value,{[K]:le}),o.value=Ve(pe({},o.value),{[K]:le}),st({title:le===G?ze.global.t("item_delete_success",h.value?2:1):ze.global.t("item_update_success",h.value?2:1),type:"success"})}catch(le){throw Se(le),le}finally{f.value=!1}}async function B(){p.value=!0;try{await re.delete(A.value),o.value=null,st({title:ze.global.t("item_delete_success",h.value?2:1),type:"success"})}catch(K){throw Se(K),K}finally{p.value=!1}}function O(){u.value=null,r.value=!1,s.value=!1,p.value=!1,v.value===!0?o.value=null:V()}function M(K){var G;if((e.value.startsWith("directus_")&&e.value!=="directus_collections"||e.value==="directus_collections"&&((G=K.data.data.collection)==null?void 0:G.startsWith("directus_")))&&(K.data.data=Ft(K.data.data)),h.value===!1)o.value=K.data.data;else{const ie=pe({},K.data.data[0]);K.data.data.forEach(de=>{for(const[ne,le]of Object.entries(de))ie[ne]!==le&&delete ie[ne]}),o.value=ie}}function N(K){var ne;const G={_and:[]},de=k.value.map(le=>Ka(K,le)).filter(le=>{var se;return((se=le.meta)==null?void 0:se.required)===!0});for(const le of de)v.value===!0&&U.exports.isNil((ne=le.schema)==null?void 0:ne.default_value)&&G._and.push({[le.field]:{_submitted:!0}}),G._and.push({[le.field]:{_nnull:!0}});return U.exports.flatten(Al(G,K).map(le=>le.details.map(se=>new w3(se).extensions)))}}function ho(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Ha(e){return navigator.platform.toLowerCase().startsWith("mac")||navigator.platform.startsWith("iP")?e.map(n=>n==="meta"?"\u2318":n==="option"?"\u2325":n==="shift"?"\u21E7":n==="alt"?"\u2325":ho(n)).join(""):e.map(n=>n==="meta"?"Ctrl":ho(n)).join("+")}const $3=z({props:{disabledOptions:{type:Array,default:()=>[]}},emits:["save-and-stay","save-and-add-new","save-as-copy","discard-and-stay"],setup(){const{t:e}=J();return{t:e,translateShortcut:Ha}}});function k3(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-list-item-icon"),s=c("v-list-item-content"),p=c("v-list-item-hint"),f=c("v-list-item"),_=c("v-list"),y=c("v-menu");return m(),C(y,{"show-arrow":""},{activator:d(({toggle:v})=>[i(a,{name:"more_vert",clickable:"",onClick:v},null,8,["onClick"])]),default:d(()=>[i(_,null,{default:d(()=>[e.disabledOptions.includes("save-and-stay")?R("",!0):(m(),C(f,{key:0,clickable:"",onClick:t[0]||(t[0]=v=>e.$emit("save-and-stay"))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"check"})]),_:1}),i(s,null,{default:d(()=>[T(b(e.t("save_and_stay")),1)]),_:1}),i(p,null,{default:d(()=>[T(b(e.translateShortcut(["meta","s"])),1)]),_:1})]),_:1})),e.disabledOptions.includes("save-and-add-new")?R("",!0):(m(),C(f,{key:1,clickable:"",onClick:t[1]||(t[1]=v=>e.$emit("save-and-add-new"))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"add"})]),_:1}),i(s,null,{default:d(()=>[T(b(e.t("save_and_create_new")),1)]),_:1}),i(p,null,{default:d(()=>[T(b(e.translateShortcut(["meta","shift","s"])),1)]),_:1})]),_:1})),e.disabledOptions.includes("save-as-copy")?R("",!0):(m(),C(f,{key:2,clickable:"",onClick:t[2]||(t[2]=v=>e.$emit("save-as-copy"))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"done_all"})]),_:1}),i(s,null,{default:d(()=>[T(b(e.t("save_as_copy")),1)]),_:1})]),_:1})),e.disabledOptions.includes("discard-and-stay")?R("",!0):(m(),C(f,{key:3,clickable:"",onClick:t[3]||(t[3]=v=>e.$emit("discard-and-stay"))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"undo"})]),_:1}),i(s,null,{default:d(()=>[T(b(e.t("discard_all_changes")),1)]),_:1})]),_:1}))]),_:1})]),_:1})}var Tl=q($3,[["render",k3],["__scopeId","data-v-d6332d10"]]);function en(e){const t=E(!1),n=E(null),l=u=>{if(e.value)return u.preventDefault(),u.returnValue="",""},o=u=>{if(e.value)return t.value=!0,n.value=u.fullPath,!1};return da(()=>{window.addEventListener("beforeunload",l)}),yl(()=>{window.removeEventListener("beforeunload",l)}),hl(o),Hn(o),{confirmLeave:t,leaveTo:n}}function S3(e){if(e==null)return;const t=typeof e=="string"?E(e):e;return ye(t,(n,l)=>{typeof n=="string"&&l!==n&&(document.title=n)},{immediate:!0}),t}function C3(e,t){const n=Xs(t,e);return typeof n=="object"?JSON.stringify(n):n}function Wa(e,t){const n=Wn(t),l=Wn(e),o=F(()=>ht(l)),u=F(()=>{if(!n||!l||!o.value)return!1;try{return Qs(l,C3,n,{propsExist:!0})}catch{return!1}});return{fieldsInTemplate:o,displayValue:u}}function V3(e,t){const n=ht(e);if(!t||!e||!n)return null;try{return Wt(e,t,{propsExist:!0})}catch{return null}}const F3=z({name:"ContentsItem",components:{ContentNavigation:Il,ContentNotFound:co,RevisionsDrawerDetail:Xn,CommentsSidebarDetail:vo,SharesSidebarDetail:g3,SaveOptions:Tl},props:{collection:{type:String,required:!0},primaryKey:{type:String,default:null},singleton:{type:Boolean,default:!1}},setup(e){const{t,te:n}=J(),l=Xe(),o=E(),{collection:u,primaryKey:a}=Me(e),{breadcrumb:r}=ge(),s=E(null),{info:p,defaults:f,primaryKeyField:_,isSingleton:y,accountabilityScope:v}=ot(u),{isNew:h,edits:w,hasEdits:g,item:k,saving:A,loading:V,error:D,save:P,remove:L,deleting:B,archive:O,archiving:M,isArchived:N,saveAsCopy:K,refresh:G,validationErrors:ie}=gn(u,a),{templateData:de,loading:ne}=za(p,a),le=F(()=>{var Be,Ie,fe,Re,Ye,lt;return ue.value===!1?!1:g.value===!0?!0:!((Ie=(Be=_.value)==null?void 0:Be.schema)==null?void 0:Ie.has_auto_increment)&&!((Ye=(Re=(fe=_.value)==null?void 0:fe.meta)==null?void 0:Re.special)==null?void 0:Ye.includes("uuid"))?!!((lt=w.value)==null?void 0:lt[_.value.field]):h.value===!0&&Object.keys(f.value).length>0||g.value}),{confirmLeave:se,leaveTo:ee}=en(g),Z=E(!1),te=E(!1),me=F(()=>{var Be,Ie;return n(`collection_names_singular.${e.collection}`)?h.value?t("creating_unit",{unit:t(`collection_names_singular.${e.collection}`)}):t("editing_unit",{unit:t(`collection_names_singular.${e.collection}`)}):h.value?t("creating_in",{collection:(Be=p.value)==null?void 0:Be.name}):t("editing_in",{collection:(Ie=p.value)==null?void 0:Ie.name})}),H=F(()=>{var Ie;let Be=(((Ie=p.value)==null?void 0:Ie.name)||"")+" | ";if(p.value&&p.value.meta){if(p.value.meta.singleton===!0)return Be+p.value.name;if(h.value===!1&&p.value.meta.display_template){const{displayValue:fe}=Wa(p.value.meta.display_template,de);if(fe.value!==void 0)return Be+fe.value}}return Be+me.value});S3(H);const Y=F(()=>ve.value===!1?t("not_allowed"):N.value===!0?t("unarchive"):t("archive"));nt("meta+s",Ce,o),nt("meta+shift+s",Fe,o);const{deleteAllowed:_e,archiveAllowed:ve,saveAllowed:ue,updateAllowed:W,shareAllowed:X,fields:ce,revisionsAllowed:oe}=Pn(u,k,h),he=F(()=>{var Be,Ie;return h.value?"+":y.value?(Ie=k.value)==null?void 0:Ie[(Be=_.value)==null?void 0:Be.field]:e.primaryKey});return{t,router:l,item:k,loading:V,error:D,isNew:h,edits:w,isSavable:le,hasEdits:g,saving:A,collectionInfo:p,saveAndQuit:we,deleteAndQuit:tt,confirmDelete:Z,confirmArchive:te,deleting:B,archiving:M,saveAndStay:Ce,saveAndAddNew:Fe,saveAsCopyAndNavigate:De,discardAndStay:Te,templateData:de,templateDataLoading:ne,archiveTooltip:Y,breadcrumb:r,title:me,revisionsDrawerDetail:s,refresh:G,confirmLeave:se,leaveTo:ee,discardAndLeave:Oe,deleteAllowed:_e,saveAllowed:ue,archiveAllowed:ve,isArchived:N,updateAllowed:W,shareAllowed:X,toggleArchive:Pe,validationErrors:ie,form:o,fields:ce,isSingleton:y,internalPrimaryKey:he,revisionsAllowed:oe,revert:Qe,accountabilityScope:v};function ge(){return{breadcrumb:F(()=>{var Ie;return[{name:(Ie=p.value)==null?void 0:Ie.name,to:`/content/${e.collection}`}]})}}async function we(){if(le.value!==!1)try{await P(),e.singleton===!1&&l.push(`/content/${e.collection}`)}catch{}}async function Ce(){var Be,Ie;if(le.value!==!1)try{const fe=await P();if((Ie=(Be=s.value)==null?void 0:Be.refresh)==null||Ie.call(Be),e.primaryKey==="+"){const Re=fe[_.value.field];l.replace(`/content/${e.collection}/${encodeURIComponent(Re)}`)}}catch{}}async function Fe(){if(le.value!==!1)try{await P(),h.value===!0?G():l.push(`/content/${e.collection}/+`)}catch{}}async function De(){try{const Be=await K();Be&&l.push(`/content/${e.collection}/${encodeURIComponent(Be)}`)}catch{}}async function tt(){try{await L(),w.value={},l.replace(`/content/${e.collection}`)}catch{}}async function Pe(){try{await O(),N.value===!0?l.push(`/content/${e.collection}`):te.value=!1}catch{}}function Oe(){!ee.value||(w.value={},se.value=!1,l.push(ee.value))}function Te(){w.value={},se.value=!1}function Qe(Be){w.value=pe(pe({},w.value),Be)}}}),A3={class:"type-title"},I3={class:"page-description"};function E3(e,t,n,l,o,u){var K,G;const a=c("content-not-found"),r=c("v-skeleton-loader"),s=c("render-template"),p=c("v-icon"),f=c("v-button"),_=c("v-breadcrumb"),y=c("v-card-title"),v=c("v-card-actions"),h=c("v-card"),w=c("v-dialog"),g=c("save-options"),k=c("content-navigation"),A=c("v-form"),V=c("v-card-text"),D=c("sidebar-detail"),P=c("revisions-drawer-detail"),L=c("comments-sidebar-detail"),B=c("shares-sidebar-detail"),O=c("private-view"),M=ke("tooltip"),N=ke("md");return e.error||!e.collectionInfo||((G=(K=e.collectionInfo)==null?void 0:K.meta)==null?void 0:G.singleton)===!0&&e.primaryKey!==null?(m(),C(a,{key:0})):(m(),C(O,{key:1,title:e.title},xe({"title-outer:prepend":d(()=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!0?(m(),C(f,{key:0,class:"header-icon",rounded:"",icon:"",secondary:"",disabled:""},{default:d(()=>[i(p,{name:e.collectionInfo.icon},null,8,["name"])]),_:1})):Q((m(),C(f,{key:1,class:"header-icon",rounded:"",icon:"",secondary:"",exact:"",onClick:t[0]||(t[0]=ie=>e.router.back())},{default:d(()=>[i(p,{name:"arrow_back"})]),_:1},512)),[[M,e.t("back"),void 0,{bottom:!0}]])]),headline:d(()=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!0?(m(),C(_,{key:0,items:[{name:e.t("content"),to:"/content"}]},null,8,["items"])):(m(),C(_,{key:1,items:e.breadcrumb},null,8,["items"]))]),actions:d(()=>[e.isNew?R("",!0):(m(),C(w,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=ie=>e.confirmDelete=ie),disabled:e.deleteAllowed===!1,onEsc:t[3]||(t[3]=ie=>e.confirmDelete=!1)},{activator:d(({on:ie})=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!1?Q((m(),C(f,{key:0,rounded:"",icon:"",class:"action-delete",disabled:e.item===null||e.deleteAllowed!==!0,onClick:ie},{default:d(()=>[i(p,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"])),[[M,e.deleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]]):R("",!0)]),default:d(()=>[i(h,null,{default:d(()=>[i(y,null,{default:d(()=>[T(b(e.t("delete_are_you_sure")),1)]),_:1}),i(v,null,{default:d(()=>[i(f,{secondary:"",onClick:t[1]||(t[1]=ie=>e.confirmDelete=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(f,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:d(()=>[T(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])),e.collectionInfo.meta&&e.collectionInfo.meta.archive_field&&!e.isNew?(m(),C(w,{key:1,modelValue:e.confirmArchive,"onUpdate:modelValue":t[5]||(t[5]=ie=>e.confirmArchive=ie),disabled:e.archiveAllowed===!1,onEsc:t[6]||(t[6]=ie=>e.confirmArchive=!1)},{activator:d(({on:ie})=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!1?Q((m(),C(f,{key:0,rounded:"",icon:"",class:"action-archive",disabled:e.item===null||e.archiveAllowed!==!0,onClick:ie},{default:d(()=>[i(p,{name:e.isArchived?"unarchive":"archive",outline:""},null,8,["name"])]),_:2},1032,["disabled","onClick"])),[[M,e.archiveTooltip,void 0,{bottom:!0}]]):R("",!0)]),default:d(()=>[i(h,null,{default:d(()=>[i(y,null,{default:d(()=>[T(b(e.isArchived?e.t("unarchive_confirm"):e.t("archive_confirm")),1)]),_:1}),i(v,null,{default:d(()=>[i(f,{secondary:"",onClick:t[4]||(t[4]=ie=>e.confirmArchive=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(f,{kind:"warning",loading:e.archiving,onClick:e.toggleArchive},{default:d(()=>[T(b(e.isArchived?e.t("unarchive"):e.t("archive")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])):R("",!0),Q(i(f,{rounded:"",icon:"",loading:e.saving,disabled:!e.isSavable,onClick:e.saveAndQuit},{"append-outer":d(()=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton!==!0&&e.isSavable===!0?(m(),C(g,{key:0,onSaveAndStay:e.saveAndStay,onSaveAndAddNew:e.saveAndAddNew,onSaveAsCopy:e.saveAsCopyAndNavigate,onDiscardAndStay:e.discardAndStay},null,8,["onSaveAndStay","onSaveAndAddNew","onSaveAsCopy","onDiscardAndStay"])):R("",!0)]),default:d(()=>[i(p,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[M,e.saveAllowed?e.t("save"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:d(()=>[i(k,{"current-collection":e.collection},null,8,["current-collection"])]),sidebar:d(()=>[i(D,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[Q(S("div",I3,null,512),[[N,e.t("page_help_collections_item")]])]),_:1},8,["title"]),e.isNew===!1&&e.internalPrimaryKey&&e.revisionsAllowed&&e.accountabilityScope==="all"?(m(),C(P,{key:0,ref:"revisionsDrawerDetail",collection:e.collection,"primary-key":e.internalPrimaryKey,scope:e.accountabilityScope,onRevert:e.revert},null,8,["collection","primary-key","scope","onRevert"])):R("",!0),e.isNew===!1&&e.internalPrimaryKey?(m(),C(L,{key:1,collection:e.collection,"primary-key":e.internalPrimaryKey},null,8,["collection","primary-key"])):R("",!0),e.isNew===!1&&e.internalPrimaryKey?(m(),C(B,{key:2,collection:e.collection,"primary-key":e.internalPrimaryKey,allowed:e.shareAllowed},null,8,["collection","primary-key","allowed"])):R("",!0)]),default:d(()=>[i(A,{ref:"form",key:e.collection,modelValue:e.edits,"onUpdate:modelValue":t[7]||(t[7]=ie=>e.edits=ie),autofocus:e.isNew,disabled:e.isNew?!1:e.updateAllowed===!1,loading:e.loading,"initial-values":e.item,fields:e.fields,"primary-key":e.internalPrimaryKey,"validation-errors":e.validationErrors},null,8,["modelValue","autofocus","disabled","loading","initial-values","fields","primary-key","validation-errors"]),i(w,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[9]||(t[9]=ie=>e.confirmLeave=ie),onEsc:t[10]||(t[10]=ie=>e.confirmLeave=!1)},{default:d(()=>[i(h,null,{default:d(()=>[i(y,null,{default:d(()=>[T(b(e.t("unsaved_changes")),1)]),_:1}),i(V,null,{default:d(()=>[T(b(e.t("unsaved_changes_copy")),1)]),_:1}),i(v,null,{default:d(()=>[i(f,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[T(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),i(f,{onClick:t[8]||(t[8]=ie=>e.confirmLeave=!1)},{default:d(()=>[T(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:2},[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!0?{name:"title",fn:d(()=>[S("h1",A3,b(e.collectionInfo.name),1)])}:e.isNew===!1&&e.collectionInfo.meta&&e.collectionInfo.meta.display_template?{name:"title",fn:d(()=>[e.loading||e.templateDataLoading?(m(),C(r,{key:0,class:"title-loader",type:"text"})):(m(),I("h1",{key:1,class:"type-title"},[i(s,{collection:e.collectionInfo.collection,item:e.templateData,template:e.collectionInfo.meta.display_template},null,8,["collection","item","template"])]))])}:void 0]),1032,["title"]))}var Ga=q(F3,[["render",E3],["__scopeId","data-v-1c6a7ee7"]]);const D3=z({components:{CollectionRoute:V8,ItemRoute:Ga},props:{collection:{type:String,required:!0},bookmark:{type:String,default:null},archive:{type:String,default:null}},setup(e){const t=Ke();return{isSingleton:F(()=>{var o;const l=t.getCollection(e.collection);return!!((o=l==null?void 0:l.meta)==null?void 0:o.singleton)})}}});function T3(e,t,n,l,o,u){return m(),C(qe(e.isSingleton?"item-route":"collection-route"),{collection:e.collection,bookmark:e.bookmark,singleton:e.isSingleton?!0:void 0,archive:e.archive},null,8,["collection","bookmark","singleton","archive"])}var L3=q(D3,[["render",T3]]);const P3=z({name:"ContentOverview",components:{ContentNavigation:Il},props:{},setup(){const{t:e}=J(),t=Ze(),n=F(()=>{var l;return((l=t.currentUser)==null?void 0:l.role.admin_access)===!0});return{t:e,isAdmin:n}}}),O3={class:"page-description"};function R3(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-button"),s=c("content-navigation"),p=c("v-info"),f=c("sidebar-detail"),_=c("private-view"),y=ke("md");return m(),C(_,{class:"content-overview",title:e.t("content")},{"title-outer:prepend":d(()=>[i(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[i(a,{name:"box"})]),_:1})]),navigation:d(()=>[i(s)]),sidebar:d(()=>[i(f,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[Q(S("div",O3,null,512),[[y,e.t("page_help_collections_overview")]])]),_:1},8,["title"])]),default:d(()=>[i(p,{icon:"box",title:e.t("no_collections"),center:""},xe({default:d(()=>[e.isAdmin?(m(),I(x,{key:0},[T(b(e.t("no_collections_copy_admin")),1)],64)):(m(),I(x,{key:1},[T(b(e.t("no_collections_copy")),1)],64))]),_:2},[e.isAdmin?{name:"append",fn:d(()=>[i(r,{to:"/settings/data-model/+"},{default:d(()=>[T(b(e.t("create_collection")),1)]),_:1})])}:void 0]),1032,["title"])]),_:1},8,["title"])}var j3=q(P3,[["render",R3],["__scopeId","data-v-0dd849a0"]]);const go=(e,t)=>{var n;if(!!((n=e.params)==null?void 0:n.collection)){if(e.params.collection==="directus_users")return e.params.primaryKey?`/users/${e.params.primaryKey}`:"/users";if(e.params.collection==="directus_files")return e.params.primaryKey?`/files/${e.params.primaryKey}`:"/files";if(e.params.collection==="directus_activity")return e.params.primaryKey?`/activity/${e.params.primaryKey}`:"/activity";if(e.params.collection==="directus_webhooks")return e.params.primaryKey?`/settings/webhooks/${e.params.primaryKey}`:"/settings/webhooks";if("bookmark"in t.query&&typeof t.query.bookmark=="string"&&!("bookmark"in e.query)&&e.params.collection===t.params.collection)return ro(e.fullPath,{bookmark:t.query.bookmark})}},M3=e=>"all"in e?"all":"archived"in e?"archived":null;var U3=un({id:"content",name:"$t:content",icon:"box",routes:[{name:"no-collections",path:"",component:j3,beforeEnter(){const e=Ke(),{activeGroups:t}=ja(E(null));if(e.visibleCollections.length===0)return;const n=U.exports.orderBy(e.visibleCollections.filter(u=>{var a;return U.exports.isNil((a=u==null?void 0:u.meta)==null?void 0:a.group)}),["meta.sort","collection"]);let l=o(n);if(l=o(n,{skipClosed:!1}),!l)return;return`/content/${l.collection}`;function o(u,{skipClosed:a}={skipClosed:!0}){for(const r of u){if(r.schema)return r;if(a&&t.value.includes(r.collection)===!1)continue;const s=U.exports.orderBy(e.visibleCollections.filter(f=>{var _;return r.collection===((_=f.meta)==null?void 0:_.group)}),["meta.sort","collection"]),p=o(s);if(p)return p}}}},{path:":collection",component:_n,children:[{name:"content-collection",path:"",component:L3,props:e=>{const t=M3(e.query);return{collection:e.params.collection,bookmark:e.query.bookmark,archive:t}},beforeEnter:go},{name:"content-item",path:":primaryKey",component:Ga,props:!0,beforeEnter:go}]},{name:"content-item-not-found",path:":_(.+)+",component:co,beforeEnter:go}]}),N3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:U3}),B3=[{name:"app",path:"app",children:[{name:"content-collections",path:"app/content-collections",import:()=>j(()=>import("./content-collections.96c41bd1.js"),["assets/content-collections.96c41bd1.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"content-items",path:"app/content-items",import:()=>j(()=>import("./content-items.f1fc2a9e.js"),["assets/content-items.f1fc2a9e.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"content",path:"app/content",import:()=>j(()=>import("./content.ef11e1cb.js"),["assets/content.ef11e1cb.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"documentation",path:"app/documentation",import:()=>j(()=>import("./documentation.5662403f.js"),["assets/documentation.5662403f.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"file-library",path:"app/file-library",import:()=>j(()=>import("./file-library.cc49fa2f.js"),["assets/file-library.cc49fa2f.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"insights",path:"app/insights",import:()=>j(()=>import("./insights.6b9e65c2.js"),["assets/insights.6b9e65c2.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"overview",path:"app/overview",import:()=>j(()=>import("./overview.c10655c2.js"),["assets/overview.c10655c2.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"settings",path:"app/settings",import:()=>j(()=>import("./settings.676a9d6b.js"),["assets/settings.676a9d6b.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"user-directory",path:"app/user-directory",import:()=>j(()=>import("./user-directory.1a185dd0.js"),["assets/user-directory.1a185dd0.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])}]},{name:"configuration",path:"configuration",children:[{name:"activity-log",path:"configuration/activity-log",import:()=>j(()=>import("./activity-log.97fbae42.js"),["assets/activity-log.97fbae42.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"config-options",path:"configuration/config-options",import:()=>j(()=>import("./config-options.b997fb3e.js"),["assets/config-options.b997fb3e.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"data-model",path:"configuration/data-model",import:()=>j(()=>import("./data-model.4b43400f.js"),["assets/data-model.4b43400f.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"faq",path:"configuration/faq",import:()=>j(()=>import("./faq.b35d46ed.js"),["assets/faq.b35d46ed.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"filter-rules",path:"configuration/filter-rules",import:()=>j(()=>import("./filter-rules.afe98b80.js"),["assets/filter-rules.afe98b80.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"localization",path:"configuration/localization",import:()=>j(()=>import("./localization.f77ab14f.js"),["assets/localization.f77ab14f.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"overview",path:"configuration/overview",import:()=>j(()=>import("./overview.ed8cc8fc.js"),["assets/overview.ed8cc8fc.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"presets-bookmarks",path:"configuration/presets-bookmarks",import:()=>j(()=>import("./presets-bookmarks.1c9f5558.js"),["assets/presets-bookmarks.1c9f5558.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"project-settings",path:"configuration/project-settings",import:()=>j(()=>import("./project-settings.72e83679.js"),["assets/project-settings.72e83679.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"relationships",path:"configuration/relationships",import:()=>j(()=>import("./relationships.b1c4c4d7.js"),["assets/relationships.b1c4c4d7.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"security",path:"configuration/security",import:()=>j(()=>import("./security.db7f2ed1.js"),["assets/security.db7f2ed1.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"sso",path:"configuration/sso",import:()=>j(()=>import("./sso.6c672b92.js"),["assets/sso.6c672b92.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"upgrades-migrations",path:"configuration/upgrades-migrations",import:()=>j(()=>import("./upgrades-migrations.37c4532e.js"),["assets/upgrades-migrations.37c4532e.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"users-roles-permissions",path:"configuration/users-roles-permissions",import:()=>j(()=>import("./users-roles-permissions.f59c381a.js"),["assets/users-roles-permissions.f59c381a.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"webhooks",path:"configuration/webhooks",import:()=>j(()=>import("./webhooks.9b515577.js"),["assets/webhooks.9b515577.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])}]},{name:"contributing",path:"contributing",children:[{name:"codebase-overview",path:"contributing/codebase-overview",import:()=>j(()=>import("./codebase-overview.0c0f5cba.js"),["assets/codebase-overview.0c0f5cba.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"github-ci",path:"contributing/github-ci",import:()=>j(()=>import("./github-ci.8c797816.js"),["assets/github-ci.8c797816.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"introduction",path:"contributing/introduction",import:()=>j(()=>import("./introduction.831e086e.js"),["assets/introduction.831e086e.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"running-locally",path:"contributing/running-locally",import:()=>j(()=>import("./running-locally.efb945d9.js"),["assets/running-locally.efb945d9.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"translations",path:"contributing/translations",import:()=>j(()=>import("./translations.5ffeab6c.js"),["assets/translations.5ffeab6c.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])}]},{name:"extensions",path:"extensions",children:[{name:"creating-extensions",path:"extensions/creating-extensions",import:()=>j(()=>import("./creating-extensions.8be00e4c.js"),["assets/creating-extensions.8be00e4c.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"displays",path:"extensions/displays",import:()=>j(()=>import("./displays.05a0ba75.js"),["assets/displays.05a0ba75.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"email-templates",path:"extensions/email-templates",import:()=>j(()=>import("./email-templates.2622f4f5.js"),["assets/email-templates.2622f4f5.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"endpoints",path:"extensions/endpoints",import:()=>j(()=>import("./endpoints.90c6640c.js"),["assets/endpoints.90c6640c.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"hooks",path:"extensions/hooks",import:()=>j(()=>import("./hooks.57af13af.js"),["assets/hooks.57af13af.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"interfaces",path:"extensions/interfaces",import:()=>j(()=>import("./interfaces.db39b9ff.js"),["assets/interfaces.db39b9ff.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"introduction",path:"extensions/introduction",import:()=>j(()=>import("./introduction.ba72705e.js"),["assets/introduction.ba72705e.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"layouts",path:"extensions/layouts",import:()=>j(()=>import("./layouts.cebfaaa8.js"),["assets/layouts.cebfaaa8.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"migrations",path:"extensions/migrations",import:()=>j(()=>import("./migrations.cbdea1ca.js"),["assets/migrations.cbdea1ca.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"modules",path:"extensions/modules",import:()=>j(()=>import("./modules.32110248.js"),["assets/modules.32110248.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"panels",path:"extensions/panels",import:()=>j(()=>import("./panels.241a2491.js"),["assets/panels.241a2491.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"themes",path:"extensions/themes",import:()=>j(()=>import("./themes.deee4299.js"),["assets/themes.deee4299.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])}]},{name:"getting-started",path:"getting-started",children:[{name:"backing-directus",path:"getting-started/backing-directus",import:()=>j(()=>import("./backing-directus.2899551f.js"),["assets/backing-directus.2899551f.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"glossary",path:"getting-started/glossary",import:()=>j(()=>import("./glossary.2aef84aa.js"),["assets/glossary.2aef84aa.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"installation",path:"getting-started/installation",children:[{name:"aws",path:"getting-started/installation/aws",import:()=>j(()=>import("./aws.a670afd3.js"),["assets/aws.a670afd3.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"cli",path:"getting-started/installation/cli",import:()=>j(()=>import("./cli.bc06663f.js"),["assets/cli.bc06663f.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"cloudron",path:"getting-started/installation/cloudron",import:()=>j(()=>import("./cloudron.fa37a185.js"),["assets/cloudron.fa37a185.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"digitalocean-app-platform",path:"getting-started/installation/digitalocean-app-platform",import:()=>j(()=>import("./digitalocean-app-platform.9dbbd151.js"),["assets/digitalocean-app-platform.9dbbd151.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"docker",path:"getting-started/installation/docker",import:()=>j(()=>import("./docker.94eebb00.js"),["assets/docker.94eebb00.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"gcp",path:"getting-started/installation/gcp",import:()=>j(()=>import("./gcp.9b7c4ed6.js"),["assets/gcp.9b7c4ed6.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"iis",path:"getting-started/installation/iis",import:()=>j(()=>import("./iis.0756b349.js"),["assets/iis.0756b349.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"manual",path:"getting-started/installation/manual",import:()=>j(()=>import("./manual.6a6a9570.js"),["assets/manual.6a6a9570.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"plesk",path:"getting-started/installation/plesk",import:()=>j(()=>import("./plesk.eef0ffe8.js"),["assets/plesk.eef0ffe8.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"ubuntu",path:"getting-started/installation/ubuntu",import:()=>j(()=>import("./ubuntu.e99e20d0.js"),["assets/ubuntu.e99e20d0.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])}]},{name:"installation",path:"getting-started/installation",import:()=>j(()=>import("./installation.170112a4.js"),["assets/installation.170112a4.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"introduction",path:"getting-started/introduction",import:()=>j(()=>import("./introduction.d83586e5.js"),["assets/introduction.d83586e5.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"quickstart",path:"getting-started/quickstart",import:()=>j(()=>import("./quickstart.eea06952.js"),["assets/quickstart.eea06952.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"support",path:"getting-started/support",import:()=>j(()=>import("./support.27c0edd9.js"),["assets/support.27c0edd9.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])}]},{name:"reference",path:"reference",children:[{name:"authentication",path:"reference/authentication",import:()=>j(()=>import("./authentication.0adbdab6.js"),["assets/authentication.0adbdab6.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"cli",path:"reference/cli",import:()=>j(()=>import("./cli.91a7b0ef.js"),["assets/cli.91a7b0ef.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"files",path:"reference/files",import:()=>j(()=>import("./files.39a1fdcf.js"),["assets/files.39a1fdcf.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"introduction",path:"reference/introduction",import:()=>j(()=>import("./introduction.f0c7891e.js"),["assets/introduction.f0c7891e.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"items",path:"reference/items",import:()=>j(()=>import("./items.2fff6572.js"),["assets/items.2fff6572.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"query",path:"reference/query",import:()=>j(()=>import("./query.b41e6991.js"),["assets/query.b41e6991.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"sdk",path:"reference/sdk",import:()=>j(()=>import("./sdk.9c072015.js"),["assets/sdk.9c072015.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"system",path:"reference/system",children:[{name:"activity",path:"reference/system/activity",import:()=>j(()=>import("./activity.088d1c35.js"),["assets/activity.088d1c35.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"collections",path:"reference/system/collections",import:()=>j(()=>import("./collections.f48d1811.js"),["assets/collections.f48d1811.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"extensions",path:"reference/system/extensions",import:()=>j(()=>import("./extensions.087c9534.js"),["assets/extensions.087c9534.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"fields",path:"reference/system/fields",import:()=>j(()=>import("./fields.6654fb8d.js"),["assets/fields.6654fb8d.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"folders",path:"reference/system/folders",import:()=>j(()=>import("./folders.9d2e334f.js"),["assets/folders.9d2e334f.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"notifications",path:"reference/system/notifications",import:()=>j(()=>import("./notifications.b9d06648.js"),["assets/notifications.b9d06648.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"permissions",path:"reference/system/permissions",import:()=>j(()=>import("./permissions.f4ad3029.js"),["assets/permissions.f4ad3029.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"presets",path:"reference/system/presets",import:()=>j(()=>import("./presets.a78e9fbc.js"),["assets/presets.a78e9fbc.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"relations",path:"reference/system/relations",import:()=>j(()=>import("./relations.7a9fbe53.js"),["assets/relations.7a9fbe53.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"revisions",path:"reference/system/revisions",import:()=>j(()=>import("./revisions.999a1447.js"),["assets/revisions.999a1447.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"roles",path:"reference/system/roles",import:()=>j(()=>import("./roles.c650ebd6.js"),["assets/roles.c650ebd6.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"server",path:"reference/system/server",import:()=>j(()=>import("./server.bb95f58d.js"),["assets/server.bb95f58d.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"settings",path:"reference/system/settings",import:()=>j(()=>import("./settings.82d42ce8.js"),["assets/settings.82d42ce8.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"users",path:"reference/system/users",import:()=>j(()=>import("./users.461a15d2.js"),["assets/users.461a15d2.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"utilities",path:"reference/system/utilities",import:()=>j(()=>import("./utilities.ff6cf557.js"),["assets/utilities.ff6cf557.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])},{name:"webhooks",path:"reference/system/webhooks",import:()=>j(()=>import("./webhooks.8438538b.js"),["assets/webhooks.8438538b.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])}]}]}];const q3=z({name:"NavigationListItem",props:{section:{type:Object,default:null},dense:{type:Boolean,default:!1}}});function z3(e,t,n,l,o,u){const a=c("v-divider"),r=c("v-icon"),s=c("v-list-item-icon"),p=c("v-text-overflow"),f=c("v-list-item-content"),_=c("navigation-list-item"),y=c("v-list-group"),v=c("v-list-item");return e.section.divider?(m(),C(a,{key:0})):e.section.children?(m(),C(y,{key:1,scope:"docs-navigation",dense:e.dense,multiple:!1,value:e.section.to},{activator:d(()=>[e.section.icon!==void 0?(m(),C(s,{key:0},{default:d(()=>[i(r,{name:e.section.icon},null,8,["name"])]),_:1})):R("",!0),i(f,null,{default:d(()=>[i(p,{text:e.section.name},null,8,["text"])]),_:1})]),default:d(()=>[(m(!0),I(x,null,$e(e.section.children,(h,w)=>(m(),C(_,{key:w,section:h,dense:""},null,8,["section"]))),128))]),_:1},8,["dense","value"])):(m(),C(v,{key:2,scope:"docs-navigation",to:`/docs${e.section.to}`,dense:e.dense,value:e.section.to},{default:d(()=>[e.section.icon!==void 0?(m(),C(s,{key:0},{default:d(()=>[i(r,{name:e.section.icon},null,8,["name"])]),_:1})):R("",!0),i(f,null,{default:d(()=>[i(p,{text:e.section.name},null,8,["text"])]),_:1})]),_:1},8,["to","dense","value"]))}var K3=q(q3,[["render",z3]]),H3=[{name:"App Overview",to:"/app/overview",icon:"school"},{name:"Content Collections",to:"/app/content-collections",icon:"list_alt"},{name:"Content Items",to:"/app/content-items",icon:"edit_note"},{name:"User Directory",to:"/app/user-directory",icon:"people_alt"},{name:"File Library",to:"/app/file-library",icon:"folder"},{name:"Insights",to:"/app/insights",icon:"insights"},{name:"Documentation",to:"/app/documentation",icon:"help_outline"},{name:"Settings",to:"/app/settings",icon:"settings"},{name:"Backing Directus",to:"/getting-started/backing-directus",icon:"card_giftcard"},{name:"Glossary",to:"/getting-started/glossary",icon:"menu_book"}];function W3(e){const t=e.substr(1).split("/");if(t.length===0)return[];const n=["/"+t[0]];for(let l=1;l<t.length;l++)n.push(n[l-1]+"/"+t[l]);return n[0]==="/reference"&&n[1]==="/reference/api"&&n.shift(),n}const G3=z({components:{NavigationItem:K3},props:{path:{type:String,default:"/docs"}},setup(e){const t=E(null);return ye(()=>e.path,n=>{n!==null&&(t.value=[...t.value||[],...W3(n.replace("/docs",""))])},{immediate:!0}),{navSections:H3,selection:t}}});function Z3(e,t,n,l,o,u){const a=c("navigation-item"),r=c("v-list");return m(),C(r,{modelValue:e.selection,"onUpdate:modelValue":t[0]||(t[0]=s=>e.selection=s),nav:"",mandatory:!1,scope:"docs-navigation"},{default:d(()=>[(m(!0),I(x,null,$e(e.navSections,s=>(m(),C(a,{key:s.name,section:s},null,8,["section"]))),128))]),_:1},8,["modelValue"])}var Za=q(G3,[["render",Z3]]);const J3=z({name:"NotFound",components:{DocsNavigation:Za},setup(){const{t:e}=J(),t=Ht();return{t:e,route:t}}}),Q3={class:"not-found"};function X3(e,t,n,l,o,u){const a=c("docs-navigation"),r=c("v-info"),s=c("private-view");return m(),C(s,{title:e.t("page_not_found")},{navigation:d(()=>[i(a,{path:e.route.path},null,8,["path"])]),default:d(()=>[S("div",Q3,[i(r,{title:e.t("page_not_found"),icon:"not_interested"},{default:d(()=>[T(b(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var Y3=q(J3,[["render",X3],["__scopeId","data-v-736afbfa"]]);const x3=z({name:"StaticDocs",components:{DocsNavigation:Za},setup(){const{t:e}=J(),t=Ht(),n=E("Test"),l=E(!1);return{t:e,route:t,title:n,modularExtension:l}}}),e5={class:"type-title"},t5=T("Modular Extension"),n5={class:"docs-content selectable"},l5={class:"page-description"};function o5(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-button"),s=c("v-chip"),p=c("docs-navigation"),f=c("router-view"),_=c("sidebar-detail"),y=c("private-view"),v=ke("md");return m(),C(y,{title:e.title},{"title-outer:prepend":d(()=>[i(r,{rounded:"",disabled:"",icon:""},{default:d(()=>[i(a,{name:"info"})]),_:1})]),title:d(()=>[S("h1",e5,b(e.title),1),e.modularExtension?(m(),C(s,{key:0,disabled:"",small:""},{default:d(()=>[t5]),_:1})):R("",!0)]),navigation:d(()=>[i(p,{path:e.route.path},null,8,["path"])]),sidebar:d(()=>[i(_,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[Q(S("div",l5,null,512),[[v,e.t("page_help_docs_global")]])]),_:1},8,["title"])]),default:d(()=>[S("div",n5,[i(f,{"onUpdate:title":t[0]||(t[0]=h=>e.title=h),"onUpdate:modularExtension":t[1]||(t[1]=h=>e.modularExtension=h)})])]),_:1},8,["title"])}var a5=q(x3,[["render",o5],["__scopeId","data-v-3383fb1a"]]),i5=un({id:"docs",name:"$t:documentation",icon:"help_outline",routes:[{path:"",component:a5,children:[{path:"",redirect:"/docs/app/overview"},...Ja(B3)]},{path:":_(.+)+",component:Y3}]});function Ja(e){const t=[];for(const n of e)"children"in n?(t.push({path:n.path,redirect:`/docs/${n.children[0].path}`}),t.push(...Ja(n.children))):t.push({name:`docs-${n.path.replace("/","-")}`,path:n.path,component:n.import});return t}var r5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:i5});const s5=z({props:{folder:{type:String,default:null}},setup(e){const{t}=J(),n=Xe(),l=fn();return{t,isOpen:l,close:o};function o(){n.push(e.folder?{path:`/files/folders/${e.folder}`}:{path:"/files"})}}});function d5(e,t,n,l,o,u){const a=c("v-card-title"),r=c("v-upload"),s=c("v-card-text"),p=c("v-button"),f=c("v-card-actions"),_=c("v-card"),y=c("v-dialog");return m(),C(y,{"model-value":e.isOpen,"onUpdate:modelValue":e.close,onEsc:e.close},{default:d(()=>[i(_,null,{default:d(()=>[i(a,null,{default:d(()=>[T(b(e.t("add_file")),1)]),_:1}),i(s,null,{default:d(()=>[i(r,{preset:{folder:e.folder},multiple:"","from-url":"",onInput:e.close},null,8,["preset","onInput"])]),_:1}),i(f,null,{default:d(()=>[i(p,{secondary:"",onClick:e.close},{default:d(()=>[T(b(e.t("done")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["model-value","onUpdate:modelValue","onEsc"])}var Qa=q(s5,[["render",d5]]);let bn=null,On=null,Yn=null,bo=null,xn=null;function el(){return bn===null&&(bn=E(!1)),On===null&&(On=E(null)),Yn===null&&(Yn=E(null)),xn===null&&(xn=E(null)),bo===null&&(bo=E(["root"])),On.value===null&&bn.value===!1&&e(),{loading:bn,folders:On,nestedFolders:Yn,error:xn,fetchFolders:e,openFolders:bo};async function e(){if(bn!==null&&On!==null&&Yn!==null&&xn!==null){bn.value=!0;try{const t=await re.get("/folders",{params:{limit:-1,sort:"name"}});On.value=t.data.data,Yn.value=u5(t.data.data)}catch(t){xn.value=t}finally{bn.value=!1}}}}function u5(e){return e.map(t=>Xa(t,e)).filter(t=>t.parent===null)}function Xa(e,t){const n=pe({},e),l=t.filter(o=>o.parent===e.id&&o.id!==e.id).map(o=>Xa(o,t));return l.length>0&&(n.children=l),n}const c5=z({name:"FolderPickerListItem",props:{folder:{type:Object,required:!0},currentFolder:{type:String,default:null},clickHandler:{type:Function,default:()=>{}},disabled:{type:Boolean,default:!1},disabledFolders:{type:Array,default:()=>[]}}}),p5={class:"folder-picker-list-item"};function m5(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-list-item-icon"),s=c("v-list-item-content"),p=c("v-list-item"),f=c("folder-picker-list-item",!0),_=c("v-list-group");return m(),I("div",p5,[e.folder.children.length===0?(m(),C(p,{key:0,clickable:"",active:e.currentFolder===e.folder.id,disabled:e.disabled,onClick:t[0]||(t[0]=y=>e.clickHandler(e.folder.id))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])]),_:1}),i(s,null,{default:d(()=>[T(b(e.folder.name),1)]),_:1})]),_:1},8,["active","disabled"])):(m(),C(_,{key:1,clickable:"",active:e.currentFolder===e.folder.id,disabled:e.disabled,onClick:t[1]||(t[1]=y=>e.clickHandler(e.folder.id))},{activator:d(()=>[i(r,null,{default:d(()=>[i(a,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])]),_:1}),i(s,null,{default:d(()=>[T(b(e.folder.name),1)]),_:1})]),default:d(()=>[(m(!0),I(x,null,$e(e.folder.children,y=>(m(),C(f,{key:y.id,folder:y,"current-folder":e.currentFolder,"click-handler":e.clickHandler,disabled:e.disabledFolders.includes(y.id),"disabled-folders":e.disabledFolders},null,8,["folder","current-folder","click-handler","disabled","disabled-folders"]))),128))]),_:1},8,["active","disabled"]))])}var f5=q(c5,[["render",m5]]);const _5=z({components:{FolderPickerListItem:f5},props:{disabledFolders:{type:Array,default:()=>[]},modelValue:{type:String,default:null}},emits:["update:modelValue"],setup(e){const{t}=J(),n=E(!1),l=E([]),o=F(()=>{return l.value.filter(v=>v.parent===null).map(v=>Ve(pe({},v),{children:y(v)}));function y(v){return l.value.filter(h=>h.parent===v.id).map(h=>Ve(pe({},h),{children:y(h)}))}}),u=[],a=l.value.find(y=>y.id===e.modelValue);a&&a.parent&&_(a.parent);const r=["root"];for(const y of u)r.includes(y)===!1&&r.push(y);const s=F(()=>l.value.find(y=>y.id===e.modelValue)||{}),p=E(r);return f(),{t,loading:n,folders:l,tree:o,selectedFolder:s,openFolders:p};async function f(){if(!(l.value.length>0)){n.value=!0;try{const y=await re.get("/folders",{params:{limit:-1,sort:"name"}});l.value=y.data.data}catch(y){Se(y)}finally{n.value=!1}}}function _(y){if(!l.value)return;u.push(y);const v=l.value.find(h=>h.id===y);v&&v.parent&&_(v.parent)}}}),v5={key:1,class:"folder-picker"};function y5(e,t,n,l,o,u){const a=c("v-skeleton-loader"),r=c("v-icon"),s=c("v-list-item-icon"),p=c("v-list-item-content"),f=c("folder-picker-list-item"),_=c("v-list-group"),y=c("v-item-group"),v=c("v-list");return e.loading?(m(),C(a,{key:0})):(m(),I("div",v5,[i(v,null,{default:d(()=>[i(y,{modelValue:e.openFolders,"onUpdate:modelValue":t[1]||(t[1]=h=>e.openFolders=h),scope:"folder-picker",multiple:""},{default:d(()=>[i(_,{"disable-groupable-parent":"",clickable:"",active:e.modelValue===null,scope:"folder-picker",value:"root",onClick:t[0]||(t[0]=h=>e.$emit("update:modelValue",null))},{activator:d(()=>[i(s,null,{default:d(()=>[i(r,{name:"folder_special",outline:""})]),_:1}),i(p,null,{default:d(()=>[T(b(e.t("file_library")),1)]),_:1})]),default:d(()=>[(m(!0),I(x,null,$e(e.tree,h=>(m(),C(f,{key:h.id,folder:h,"current-folder":e.modelValue,"click-handler":w=>e.$emit("update:modelValue",w),disabled:e.disabledFolders.includes(h.id),"disabled-folders":e.disabledFolders},null,8,["folder","current-folder","click-handler","disabled","disabled-folders"]))),128))]),_:1},8,["active"])]),_:1},8,["modelValue"])]),_:1})]))}var wo=q(_5,[["render",y5],["__scopeId","data-v-2293d565"]]);const h5=z({name:"NavigationFolder",components:{FolderPicker:wo},props:{folder:{type:Object,required:!0},currentFolder:{type:String,default:null},clickHandler:{type:Function,default:()=>{}}},setup(e){const{t}=J(),n=Xe(),{renameActive:l,renameValue:o,renameSave:u,renameSaving:a}=w(),{moveActive:r,moveValue:s,moveSave:p,moveSaving:f}=g(),{deleteActive:_,deleteSave:y,deleteSaving:v}=k(),{fetchFolders:h}=el();return{t,renameActive:l,renameValue:o,renameSave:u,renameSaving:a,moveActive:r,moveValue:s,moveSave:p,moveSaving:f,deleteActive:_,deleteSave:y,deleteSaving:v};function w(){const A=E(!1),V=E(e.folder.name),D=E(!1);return{renameActive:A,renameValue:V,renameSave:P,renameSaving:D};async function P(){D.value=!0;try{await re.patch(`/folders/${e.folder.id}`,{name:V.value})}catch(L){Se(L)}finally{D.value=!1,await h(),A.value=!1}}}function g(){const A=E(!1),V=E(e.folder.parent),D=E(!1);return{moveActive:A,moveValue:V,moveSave:P,moveSaving:D};async function P(){D.value=!0;try{await re.patch(`/folders/${e.folder.id}`,{parent:V.value})}catch(L){Se(L)}finally{D.value=!1,await h(),A.value=!1}}}function k(){const A=E(!1),V=E(!1);return{deleteActive:A,deleteSave:D,deleteSaving:V};async function D(){V.value=!0;try{const P=await re.get("/folders",{params:{filter:{parent:{_eq:e.folder.id}}}}),L=await re.get("/files",{params:{filter:{folder:{_eq:e.folder.id}}}}),B=e.folder.parent||null,O=P.data.data.map(N=>N.id),M=L.data.data.map(N=>N.id);O.length>0&&await re.patch("/folders",{keys:O,data:{parent:B}}),M.length>0&&await re.patch("/files",{keys:M,data:{folder:B}}),await re.delete(`/folders/${e.folder.id}`),B?n.replace(`/files/folders/${B}`):n.replace("/files"),A.value=!1}catch(P){Se(P)}finally{await h(),V.value=!1}}}}});function g5(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-list-item-icon"),s=c("v-text-overflow"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("navigation-folder",!0),y=c("v-list-group"),v=c("v-list"),h=c("v-menu"),w=c("v-card-title"),g=c("v-input"),k=c("v-card-text"),A=c("v-button"),V=c("v-card-actions"),D=c("v-card"),P=c("v-dialog"),L=c("folder-picker"),B=c("v-notice"),O=ke("context-menu");return m(),I("div",null,[e.folder.children===void 0?Q((m(),C(f,{key:0,to:`/files/folders/${e.folder.id}`,active:e.currentFolder===e.folder.id},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"folder"})]),_:1}),i(p,null,{default:d(()=>[i(s,{text:e.folder.name},null,8,["text"])]),_:1})]),_:1},8,["to","active"])),[[O,"contextMenu"]]):Q((m(),C(y,{key:1,to:`/files/folders/${e.folder.id}`,active:e.currentFolder===e.folder.id,value:e.folder.id,scope:"files-navigation","disable-groupable-parent":""},{activator:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"folder"})]),_:1}),i(p,null,{default:d(()=>[i(s,{text:e.folder.name},null,8,["text"])]),_:1})]),default:d(()=>[(m(!0),I(x,null,$e(e.folder.children,M=>(m(),C(_,{key:M.id,folder:M,"current-folder":e.currentFolder,"click-handler":e.clickHandler},null,8,["folder","current-folder","click-handler"]))),128))]),_:1},8,["to","active","value"])),[[O,"contextMenu"]]),i(h,{ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:d(()=>[i(v,null,{default:d(()=>[i(f,{clickable:"",onClick:t[0]||(t[0]=M=>e.renameActive=!0)},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"edit",outline:""})]),_:1}),i(p,null,{default:d(()=>[i(s,{text:e.t("rename_folder")},null,8,["text"])]),_:1})]),_:1}),i(f,{clickable:"",onClick:t[1]||(t[1]=M=>e.moveActive=!0)},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"folder_move"})]),_:1}),i(p,null,{default:d(()=>[i(s,{text:e.t("move_to_folder")},null,8,["text"])]),_:1})]),_:1}),i(f,{class:"danger",clickable:"",onClick:t[2]||(t[2]=M=>e.deleteActive=!0)},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"delete",outline:""})]),_:1}),i(p,null,{default:d(()=>[i(s,{text:e.t("delete_folder")},null,8,["text"])]),_:1})]),_:1})]),_:1})]),_:1},512),i(P,{modelValue:e.renameActive,"onUpdate:modelValue":t[5]||(t[5]=M=>e.renameActive=M),persistent:"",onEsc:t[6]||(t[6]=M=>e.renameActive=!1)},{default:d(()=>[i(D,null,{default:d(()=>[i(w,null,{default:d(()=>[T(b(e.t("rename_folder")),1)]),_:1}),i(k,null,{default:d(()=>[i(g,{modelValue:e.renameValue,"onUpdate:modelValue":t[3]||(t[3]=M=>e.renameValue=M),autofocus:"",onKeyup:Vn(e.renameSave,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),i(V,null,{default:d(()=>[i(A,{secondary:"",onClick:t[4]||(t[4]=M=>e.renameActive=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(A,{disabled:e.renameValue===null,loading:e.renameSaving,onClick:e.renameSave},{default:d(()=>[T(b(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),i(P,{modelValue:e.moveActive,"onUpdate:modelValue":t[9]||(t[9]=M=>e.moveActive=M),persistent:"",onEsc:t[10]||(t[10]=M=>e.moveActive=!1)},{default:d(()=>[i(D,null,{default:d(()=>[i(w,null,{default:d(()=>[T(b(e.t("move_to_folder")),1)]),_:1}),i(k,null,{default:d(()=>[i(L,{modelValue:e.moveValue,"onUpdate:modelValue":t[7]||(t[7]=M=>e.moveValue=M),"disabled-folders":[e.folder.id]},null,8,["modelValue","disabled-folders"])]),_:1}),i(V,null,{default:d(()=>[i(A,{secondary:"",onClick:t[8]||(t[8]=M=>e.moveActive=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(A,{loading:e.moveSaving,onClick:e.moveSave},{default:d(()=>[T(b(e.t("save")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),i(P,{modelValue:e.deleteActive,"onUpdate:modelValue":t[12]||(t[12]=M=>e.deleteActive=M),persistent:"",onEsc:t[13]||(t[13]=M=>e.deleteActive=!1)},{default:d(()=>[i(D,null,{default:d(()=>[i(w,null,{default:d(()=>[T(b(e.t("delete_folder")),1)]),_:1}),i(k,null,{default:d(()=>[i(B,null,{default:d(()=>[T(b(e.t("nested_files_folders_will_be_moved")),1)]),_:1})]),_:1}),i(V,null,{default:d(()=>[i(A,{secondary:"",onClick:t[11]||(t[11]=M=>e.deleteActive=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(A,{kind:"danger",loading:e.deleteSaving,onClick:e.deleteSave},{default:d(()=>[T(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var b5=q(h5,[["render",g5],["__scopeId","data-v-5f464d2a"]]);function w5(e,t){const n={};for(let l=0;l<e.length;l++){const o=e[l]+typeof e[l];n[o]=1}for(let l=0;l<t.length;l++){const o=t[l]+typeof t[l];if(!n[o])return!1;n[o]=2}for(const l in n)if(n[l]===1)return!1;return!0}const $5=z({components:{NavigationFolder:b5},props:{currentFolder:{type:String,default:null}},setup(e){const{t}=J(),{nestedFolders:n,folders:l,error:o,loading:u,openFolders:a}=el();return r(),ye(()=>e.currentFolder,r),{t,folders:l,nestedFolders:n,error:o,loading:u,openFolders:a};function r(){if(!l.value)return[];if(!(a==null?void 0:a.value))return[];const s=[],p=l.value.find(y=>y.id===e.currentFolder);p&&p.parent&&_(p.parent);const f=[...a.value];for(const y of s)f.includes(y)===!1&&f.push(y);f.length!==1&&w5(f,a.value)===!1&&(a.value=f);function _(y){if(!l.value)return;s.push(y);const v=l.value.find(h=>h.id===y);v&&v.parent&&_(v.parent)}}}}),k5={class:"folders"};function S5(e,t,n,l,o,u){const a=c("v-skeleton-loader"),r=c("v-list-item"),s=c("v-icon"),p=c("v-list-item-icon"),f=c("v-text-overflow"),_=c("v-list-item-content"),y=c("navigation-folder"),v=c("v-list-group"),h=c("v-item-group"),w=c("v-divider"),g=c("v-list");return m(),C(g,{nav:""},{default:d(()=>[e.loading&&(e.nestedFolders===null||e.nestedFolders.length===0)?(m(),I(x,{key:0},$e(4,k=>i(r,{key:k},{default:d(()=>[i(a,{type:"list-item-icon"})]),_:2},1024)),64)):R("",!0),S("div",k5,[i(h,{modelValue:e.openFolders,"onUpdate:modelValue":t[0]||(t[0]=k=>e.openFolders=k),scope:"files-navigation",multiple:""},{default:d(()=>[i(v,{to:"/files",active:e.currentFolder===null,value:"root",scope:"files-navigation",exact:"","disable-groupable-parent":""},{activator:d(()=>[i(p,null,{default:d(()=>[i(s,{name:"folder_special",outline:""})]),_:1}),i(_,null,{default:d(()=>[i(f,{text:e.t("file_library")},null,8,["text"])]),_:1})]),default:d(()=>[(m(!0),I(x,null,$e(e.nestedFolders,k=>(m(),C(y,{key:k.id,folder:k,"current-folder":e.currentFolder},null,8,["folder","current-folder"]))),128))]),_:1},8,["active"])]),_:1},8,["modelValue"])]),i(w),i(r,{to:"/files/all"},{default:d(()=>[i(p,null,{default:d(()=>[i(s,{name:"file_copy",outline:""})]),_:1}),i(_,null,{default:d(()=>[i(f,{text:e.t("all_files")},null,8,["text"])]),_:1})]),_:1}),i(r,{to:"/files/mine"},{default:d(()=>[i(p,null,{default:d(()=>[i(s,{name:"folder_shared"})]),_:1}),i(_,null,{default:d(()=>[i(f,{text:e.t("my_files")},null,8,["text"])]),_:1})]),_:1}),i(r,{to:"/files/recent"},{default:d(()=>[i(p,null,{default:d(()=>[i(s,{name:"history"})]),_:1}),i(_,null,{default:d(()=>[i(f,{text:e.t("recent_files")},null,8,["text"])]),_:1})]),_:1})]),_:1})}var $o=q($5,[["render",S5],["__scopeId","data-v-1c8d05c4"]]);const C5=z({props:{parent:{type:String,default:null},disabled:{type:Boolean,default:!1}},setup(e){const{t}=J(),n=Xe(),l=E(!1),o=E(!1),u=E(null),{fetchFolders:a}=el();return{t,addFolder:r,dialogActive:l,newFolderName:u,saving:o};async function r(){o.value=!0;try{const s=await re.post("/folders",{name:u.value,parent:e.parent==="root"?null:e.parent});await a(),l.value=!1,u.value=null,n.push({path:`/files/folders/${s.data.data.id}`})}catch(s){Se(s)}finally{o.value=!1}}}});function V5(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-button"),s=c("v-card-title"),p=c("v-input"),f=c("v-card-text"),_=c("v-card-actions"),y=c("v-card"),v=c("v-dialog"),h=ke("tooltip");return m(),C(v,{modelValue:e.dialogActive,"onUpdate:modelValue":t[2]||(t[2]=w=>e.dialogActive=w),onEsc:t[3]||(t[3]=w=>e.dialogActive=!1)},{activator:d(({on:w})=>[Q(i(r,{rounded:"",icon:"",class:"add-new",disabled:e.disabled,onClick:w},{default:d(()=>[i(a,{name:"create_new_folder",outline:""})]),_:2},1032,["disabled","onClick"]),[[h,e.disabled?e.t("not_allowed"):e.t("create_folder"),void 0,{bottom:!0}]])]),default:d(()=>[i(y,null,{default:d(()=>[i(s,null,{default:d(()=>[T(b(e.t("create_folder")),1)]),_:1}),i(f,null,{default:d(()=>[i(p,{modelValue:e.newFolderName,"onUpdate:modelValue":t[0]||(t[0]=w=>e.newFolderName=w),autofocus:"",placeholder:e.t("folder_name"),onKeyup:Vn(e.addFolder,["enter"])},null,8,["modelValue","placeholder","onKeyup"])]),_:1}),i(_,null,{default:d(()=>[i(r,{secondary:"",onClick:t[1]||(t[1]=w=>e.dialogActive=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(r,{disabled:e.newFolderName===null,loading:e.saving,onClick:e.addFolder},{default:d(()=>[T(b(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}var F5=q(C5,[["render",V5],["__scopeId","data-v-51ae7fc6"]]);const tl=ua();var wn;(function(e){e.upload="upload"})(wn||(wn={}));function Rn(e,t,n,l){it(()=>{(Jl(e)?e.value:e).addEventListener(t,n,l)}),yl(()=>{(Jl(e)?e.value:e).removeEventListener(t,n,l)})}async function Ya(e,t){const n=(t==null?void 0:t.onProgressChange)||(()=>{}),l=new FormData;if(t==null?void 0:t.preset)for(const[u,a]of Object.entries(t.preset))l.append(u,a);l.append("file",e);try{let u=null;return(t==null?void 0:t.fileId)?u=await re.patch(`/files/${t.fileId}`,l,{onUploadProgress:o}):u=await re.post("/files",l,{onUploadProgress:o}),(t==null?void 0:t.notifications)&&st({title:ze.global.t("upload_file_success"),type:"success"}),tl.emit(wn.upload),u.data.data}catch(u){Se(u)}function o(u){const a=Math.floor(u.loaded*100/u.total);n(a)}}async function xa(e,t){const n=(t==null?void 0:t.onProgressChange)||(()=>{}),l=e.map(()=>0);try{const o=await Promise.all(e.map((u,a)=>Ya(u,Ve(pe({},t),{onProgressChange:r=>{l[a]=r,n(l)}}))));return(t==null?void 0:t.notifications)&&st({title:ze.global.t("upload_files_success",{count:e.length}),type:"success"}),o}catch(o){Se(o)}}const A5=z({name:"FilesCollection",components:{FilesNavigation:$o,LayoutSidebarDetail:Qn,AddFolder:F5,SearchInput:Dn,FolderPicker:wo,DrawerBatch:fo},props:{folder:{type:String,default:null},special:{type:String,default:null}},setup(e){const{t}=J(),n=Xe(),l=dl(),o=Lt(),{folders:u}=el(),a=E(),r=E([]),s=Ze(),{layout:p,layoutOptions:f,layoutQuery:_,filter:y,search:v,resetPreset:h}=En(E("directus_files")),{confirmDelete:w,deleting:g,batchDelete:k,error:A,batchEditActive:V}=H(),{breadcrumb:D,title:P}=Y(),L=F(()=>{const ce={_and:[{type:{_nnull:!0}}]};return e.special===null&&(e.folder!==null?ce._and.push({folder:{_eq:e.folder}}):ce._and.push({folder:{_null:!0}})),e.special==="mine"&&s.currentUser&&ce._and.push({uploaded_by:{_eq:s.currentUser.id}}),e.special==="recent"&&ce._and.push({uploaded_on:{_gt:ca(new Date,5).toISOString()}}),ce}),{layoutWrapper:B}=dn(p),{moveToDialogActive:O,moveToFolder:M,moving:N,selectedFolder:K}=_e();it(()=>tl.on(wn.upload,ve)),At(()=>tl.off(wn.upload,ve)),Hn(()=>{r.value=[]}),hl(()=>{r.value=[]});const{onDragEnter:G,onDragLeave:ie,onDrop:de,onDragOver:ne,showDropEffect:le,dragging:se}=X();Rn(window,"dragenter",G),Rn(window,"dragover",ne),Rn(window,"dragleave",ie),Rn(window,"drop",de);const{batchEditAllowed:ee,batchDeleteAllowed:Z,createAllowed:te,createFolderAllowed:me}=W();return{t,breadcrumb:D,title:P,layoutRef:a,layoutWrapper:B,selection:r,layoutOptions:f,layoutQuery:_,layout:p,folderTypeFilter:L,search:v,moveToDialogActive:O,moveToFolder:M,moving:N,selectedFolder:K,refresh:ve,clearFilters:ue,onDragEnter:G,onDragLeave:ie,showDropEffect:le,onDrop:de,dragging:se,batchEditAllowed:ee,batchDeleteAllowed:Z,createAllowed:te,createFolderAllowed:me,resetPreset:h,confirmDelete:w,deleting:g,batchDelete:k,deleteError:A,batchEditActive:V,filter:y,mergeFilters:Vl};function H(){const ce=E(!1),oe=E(!1),he=E(!1),ge=E();return{batchEditActive:he,confirmDelete:ce,deleting:oe,batchDelete:we,error:ge};async function we(){oe.value=!0;const Ce=r.value;try{await re.delete("/files",{data:Ce}),await ve(),r.value=[]}catch(Fe){Se(Fe),ge.value=Fe}finally{ce.value=!1,oe.value=!1}}}function Y(){const ce=F(()=>{var he;if(e.special==="all")return t("all_files");if(e.special==="mine")return t("my_files");if(e.special==="recent")return t("recent_files");if(e.folder){const ge=(he=u.value)==null?void 0:he.find(we=>we.id===e.folder);if(ge)return ge.name}return t("file_library")});return{breadcrumb:F(()=>ce.value!==t("file_library")?[{name:t("file_library"),to:"/files"}]:null),title:ce}}function _e(){const ce=E(!1),oe=E(!1),he=E();return{moveToDialogActive:ce,moving:oe,moveToFolder:ge,selectedFolder:he};async function ge(){oe.value=!0;try{await re.patch("/files",{keys:r.value,data:{folder:he.value}}),r.value=[],he.value&&n.push(`/files/folders/${he.value}`),await gl(),await ve()}catch(we){Se(we)}finally{ce.value=!1,oe.value=!1}}}async function ve(){var ce,oe,he;await((he=(oe=(ce=a.value)==null?void 0:ce.state)==null?void 0:oe.refresh)==null?void 0:he.call(oe))}function ue(){y.value=null,v.value=null}function W(){const ce=F(()=>{var Fe;return((Fe=s==null?void 0:s.currentUser)==null?void 0:Fe.role.admin_access)===!0?!0:!!o.permissions.find(De=>De.action==="update"&&De.collection==="directus_files")}),oe=F(()=>{var Fe;return((Fe=s==null?void 0:s.currentUser)==null?void 0:Fe.role.admin_access)===!0?!0:!!o.permissions.find(De=>De.action==="delete"&&De.collection==="directus_files")}),he=F(()=>{var Fe;return((Fe=s==null?void 0:s.currentUser)==null?void 0:Fe.role.admin_access)===!0?!0:!!o.permissions.find(De=>De.action==="create"&&De.collection==="directus_files")}),ge=F(()=>{var Fe;return((Fe=s==null?void 0:s.currentUser)==null?void 0:Fe.role.admin_access)===!0?!0:!!o.permissions.find(De=>De.action==="create"&&De.collection==="directus_folders")});return{batchEditAllowed:ce,batchDeleteAllowed:oe,createAllowed:he,createFolderAllowed:ge}}function X(){const ce=E(!1);let oe,he;const ge=E(0),we=F(()=>ge.value>0);return{onDragEnter:De,onDragLeave:Pe,onDrop:Oe,onDragOver:tt,showDropEffect:ce,dragging:we};function Ce(){ce.value=!0,oe=l.add({title:t("drop_to_upload"),icon:"cloud_upload",type:"info",persist:!0,closeable:!1})}function Fe(){ce.value=!1,oe&&l.remove(oe)}function De(Te){var Be,Ie,fe;if(!Te.dataTransfer||((Be=Te.dataTransfer)==null?void 0:Be.types.indexOf("Files"))===-1)return;Te.preventDefault(),ge.value++;const Qe=Te.target&&((fe=(Ie=Te.target).getAttribute)==null?void 0:fe.call(Ie,"data-dropzone"))==="";ge.value===1&&ce.value===!1&&Qe===!1&&Ce(),Qe&&(Fe(),ge.value=0)}function tt(Te){var Qe;!Te.dataTransfer||((Qe=Te.dataTransfer)==null?void 0:Qe.types.indexOf("Files"))!==-1&&Te.preventDefault()}function Pe(Te){var Qe,Be,Ie;!Te.dataTransfer||((Qe=Te.dataTransfer)==null?void 0:Qe.types.indexOf("Files"))!==-1&&(Te.preventDefault(),ge.value--,ge.value===0&&Fe(),Te.target&&((Ie=(Be=Te.target).getAttribute)==null?void 0:Ie.call(Be,"data-dropzone"))===""&&(Ce(),ge.value=1))}async function Oe(Te){var Be;if(!Te.dataTransfer||((Be=Te.dataTransfer)==null?void 0:Be.types.indexOf("Files"))===-1)return;Te.preventDefault(),ce.value=!1,ge.value=0,oe&&l.remove(oe);const Qe=[...Te.dataTransfer.files];he=l.add({title:t("upload_files_indeterminate",{done:0,total:Qe.length},Qe.length),type:"info",persist:!0,closeable:!1,loading:!0}),await xa(Qe,{preset:{folder:e.folder},onProgressChange:Ie=>{const fe=Ie.reduce((lt,at)=>lt+=at)/Ie.length,Re=Qe.length,Ye=Ie.filter(lt=>lt===100).length;l.update(he,{title:t("upload_files_indeterminate",{done:Ye,total:Re},Qe.length),loading:!1,progress:fe})}}),l.remove(he),tl.emit(wn.upload)}}}}),Ll=e=>(He("data-v-1d6de7ce"),e=e(),We(),e),I5={class:"page-description"},E5=Ll(()=>S("div",{class:"drop-border top"},null,-1)),D5=Ll(()=>S("div",{class:"drop-border right"},null,-1)),T5=Ll(()=>S("div",{class:"drop-border bottom"},null,-1)),L5=Ll(()=>S("div",{class:"drop-border left"},null,-1));function P5(e,t,n,l,o,u){const a=c("v-breadcrumb"),r=c("v-icon"),s=c("v-button"),p=c("search-input"),f=c("add-folder"),_=c("v-card-title"),y=c("folder-picker"),v=c("v-card-text"),h=c("v-card-actions"),w=c("v-card"),g=c("v-dialog"),k=c("files-navigation"),A=c("v-info"),V=c("router-view"),D=c("drawer-batch"),P=c("sidebar-detail"),L=c("layout-sidebar-detail"),B=c("export-sidebar-detail"),O=c("private-view"),M=ke("tooltip"),N=ke("md");return m(),C(qe(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[12]||(t[12]=K=>e.selection=K),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[13]||(t[13]=K=>e.layoutOptions=K),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[14]||(t[14]=K=>e.layoutQuery=K),filter:e.mergeFilters(e.filter,e.folderTypeFilter),"filter-user":e.filter,"filter-system":e.folderTypeFilter,search:e.search,collection:"directus_files","reset-preset":e.resetPreset},{default:d(({layoutState:K})=>[i(O,{title:e.title,class:ae({dragging:e.dragging})},xe({"title-outer:prepend":d(()=>[i(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[i(r,{name:"folder",outline:""})]),_:1})]),"actions:prepend":d(()=>[(m(),C(qe(`layout-actions-${e.layout}`),Je(et(K)),null,16))]),actions:d(()=>[i(p,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=G=>e.search=G),filter:e.filter,"onUpdate:filter":t[1]||(t[1]=G=>e.filter=G),collection:"directus_files"},null,8,["modelValue","filter"]),i(f,{parent:e.folder,disabled:e.createFolderAllowed!==!0},null,8,["parent","disabled"]),e.selection.length>0?(m(),C(g,{key:0,modelValue:e.moveToDialogActive,"onUpdate:modelValue":t[4]||(t[4]=G=>e.moveToDialogActive=G),onEsc:t[5]||(t[5]=G=>e.moveToDialogActive=!1)},{activator:d(({on:G})=>[Q(i(s,{rounded:"",icon:"",class:"folder",onClick:G},{default:d(()=>[i(r,{name:"folder_move"})]),_:2},1032,["onClick"]),[[M,e.t("move_to_folder"),void 0,{bottom:!0}]])]),default:d(()=>[i(w,null,{default:d(()=>[i(_,null,{default:d(()=>[T(b(e.t("move_to_folder")),1)]),_:1}),i(v,null,{default:d(()=>[i(y,{modelValue:e.selectedFolder,"onUpdate:modelValue":t[2]||(t[2]=G=>e.selectedFolder=G)},null,8,["modelValue"])]),_:1}),i(h,null,{default:d(()=>[i(s,{secondary:"",onClick:t[3]||(t[3]=G=>e.moveToDialogActive=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(s,{loading:e.moving,onClick:e.moveToFolder},{default:d(()=>[T(b(e.t("move")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>0?(m(),C(g,{key:1,modelValue:e.confirmDelete,"onUpdate:modelValue":t[7]||(t[7]=G=>e.confirmDelete=G),onEsc:t[8]||(t[8]=G=>e.confirmDelete=!1)},{activator:d(({on:G})=>[Q(i(s,{disabled:e.batchDeleteAllowed!==!0,rounded:"",icon:"",class:"action-delete",onClick:G},{default:d(()=>[i(r,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[M,e.batchDeleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:d(()=>[i(w,null,{default:d(()=>[i(_,null,{default:d(()=>[T(b(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),i(h,null,{default:d(()=>[i(s,{secondary:"",onClick:t[6]||(t[6]=G=>e.confirmDelete=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(s,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:d(()=>[T(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>0?Q((m(),C(s,{key:2,rounded:"",icon:"",class:"action-batch",disabled:e.batchEditAllowed===!1,onClick:t[9]||(t[9]=G=>e.batchEditActive=!0)},{default:d(()=>[i(r,{name:"edit",outline:""})]),_:1},8,["disabled"])),[[M,e.batchEditAllowed?e.t("edit"):e.t("not_allowed"),void 0,{bottom:!0}]]):R("",!0),Q(i(s,{rounded:"",icon:"",class:"add-new",to:e.folder?{path:`/files/folders/${e.folder}/+`}:{path:"/files/+"},disabled:e.createAllowed===!1},{default:d(()=>[i(r,{name:"add"})]),_:1},8,["to","disabled"]),[[M,e.createAllowed?e.t("create_item"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:d(()=>[i(k,{"current-folder":e.folder},null,8,["current-folder"])]),sidebar:d(()=>[i(P,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[Q(S("div",I5,null,512),[[N,e.t("page_help_files_collection")]])]),_:1},8,["title"]),i(L,{modelValue:e.layout,"onUpdate:modelValue":t[11]||(t[11]=G=>e.layout=G)},{default:d(()=>[(m(),C(qe(`layout-options-${e.layout}`),Je(et(K)),null,16))]),_:2},1032,["modelValue"]),(m(),C(qe(`layout-sidebar-${e.layout}`),Je(et(K)),null,16)),i(B,{collection:"directus_files",filter:e.mergeFilters(e.filter,e.folderTypeFilter),search:e.search},null,8,["filter","search"])]),default:d(()=>[(m(),C(qe(`layout-${e.layout}`),mt({class:"layout"},K),{"no-results":d(()=>[!e.filter&&!e.search?(m(),C(A,{key:0,title:e.t("file_count",0),icon:"folder",center:""},{append:d(()=>[i(s,{to:e.folder?{path:`/files/folders/${e.folder}/+`}:{path:"/files/+"}},{default:d(()=>[T(b(e.t("add_file")),1)]),_:1},8,["to"])]),default:d(()=>[T(b(e.t("no_files_copy"))+" ",1)]),_:1},8,["title"])):(m(),C(A,{key:1,title:e.t("no_results"),icon:"search",center:""},{append:d(()=>[i(s,{onClick:e.clearFilters},{default:d(()=>[T(b(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:d(()=>[T(b(e.t("no_results_copy"))+" ",1)]),_:1},8,["title"]))]),"no-items":d(()=>[i(A,{title:e.t("file_count",0),icon:"folder",center:""},{append:d(()=>[i(s,{to:e.folder?{path:`/files/folders/${e.folder}/+`}:{path:"/files/+"}},{default:d(()=>[T(b(e.t("add_file")),1)]),_:1},8,["to"])]),default:d(()=>[T(b(e.t("no_files_copy"))+" ",1)]),_:1},8,["title"])]),_:2},1040)),i(V,{name:"addNew",folder:e.folder,onUpload:e.refresh},null,8,["folder","onUpload"]),i(D,{active:e.batchEditActive,"onUpdate:active":t[10]||(t[10]=G=>e.batchEditActive=G),"primary-keys":e.selection,collection:"directus_files",onRefresh:e.refresh},null,8,["active","primary-keys","onRefresh"]),e.showDropEffect?(m(),I(x,{key:0},[E5,D5,T5,L5],64)):R("",!0)]),_:2},[e.breadcrumb?{name:"headline",fn:d(()=>[i(a,{items:e.breadcrumb},null,8,["items"])])}:void 0]),1032,["title","class"])]),_:1},8,["selection","layout-options","layout-query","filter","filter-user","filter-system","search","reset-preset"])}var nl=q(A5,[["render",P5],["__scopeId","data-v-1d6de7ce"]]);const O5=z({props:{id:{type:String,required:!0},modelValue:{type:Boolean,default:void 0}},emits:["update:modelValue","refresh"],setup(e,{emit:t}){const{t:n,n:l}=J(),o=E(!1),u=F({get(){return e.modelValue===void 0?o.value:e.modelValue},set(N){o.value=N,t("update:modelValue",N)}}),{loading:a,error:r,imageData:s,imageElement:p,save:f,saving:_,fetchImage:y,onImageLoad:v}=O(),{cropperInstance:h,initCropper:w,flip:g,rotate:k,aspectRatio:A,aspectRatioIcon:V,newDimensions:D,dragMode:P,cropping:L}=M();ye(u,N=>{N===!0?y():(h.value&&h.value.destroy(),a.value=!1,r.value=null,s.value=null)});const B=F(()=>ut(`${Ge()}assets/${e.id}?${yt()}`));return{t:n,n:l,internalActive:u,loading:a,error:r,imageData:s,imageElement:p,save:f,onImageLoad:v,flip:g,rotate:k,aspectRatio:A,aspectRatioIcon:V,saving:_,imageURL:B,newDimensions:D,dragMode:P,cropping:L};function O(){const N=E(!1),K=E(null),G=E(null),ie=E(!1),de=E(null);return{loading:N,error:K,imageData:G,saving:ie,fetchImage:ne,imageElement:de,save:le,onImageLoad:se};async function ne(){try{N.value=!0;const ee=await re.get(`/files/${e.id}`,{params:{fields:["type","filesize","filename_download","width","height"]}});G.value=ee.data.data}catch(ee){K.value=ee}finally{N.value=!1}}function le(){var ee,Z;ie.value=!0,(Z=h.value)==null||Z.getCroppedCanvas({imageSmoothingQuality:"high"}).toBlob(async te=>{var H;if(te===null){ie.value=!1;return}const me=new FormData;me.append("file",te,(H=G.value)==null?void 0:H.filename_download);try{await re.patch(`/files/${e.id}`,me),t("refresh"),u.value=!1}catch(Y){Se(Y)}finally{ie.value=!1}},(ee=G.value)==null?void 0:ee.type)}async function se(){await gl(),w()}}function M(){const N=E(null),K=E(NaN),G=rn({width:null,height:null});ye(s,()=>{!s.value||(K.value=s.value.width/s.value.height,G.width=s.value.width,G.height=s.value.height)});const ie=F({get(){return K.value},set(H){var Y;K.value=H,(Y=N.value)==null||Y.setAspectRatio(H)}}),de=F(()=>{if(!s.value)return"crop_original";switch(ie.value){case 16/9:return"crop_16_9";case 3/2:return"crop_3_2";case 5/4:return"crop_5_4";case 7/5:return"crop_7_5";case 1/1:return"crop_square";case s.value.width/s.value.height:return"crop_original";default:return"crop_free"}}),ne=E("move"),le=F({get(){return ne.value},set(H){var Y;(Y=N.value)==null||Y.setDragMode(H),ne.value=H}}),se=E(!1),ee=F({get(){return se.value},set(H){var Y;H===!1&&((Y=N.value)==null||Y.clear()),se.value=H}});return{cropperInstance:N,initCropper:Z,flip:te,rotate:me,aspectRatio:ie,aspectRatioIcon:de,newDimensions:G,dragMode:le,cropping:ee};function Z(){p.value!==null&&(N.value&&N.value.destroy(),N.value=new Ys(p.value,{autoCrop:!1,toggleDragModeOnDblclick:!1,dragMode:"move",crop:xs(H=>{if(!s.value)return;ee.value===!1&&(H.detail.width||H.detail.height)&&(ee.value=!0);const Y=H.detail.width||s.value.width,_e=H.detail.height||s.value.height;H.detail.rotate===0||H.detail.rotate===-180?(G.width=Math.round(Y),G.height=Math.round(_e)):(G.height=Math.round(Y),G.width=Math.round(_e))},50)}))}function te(H){var Y,_e,ve,ue,W,X;H==="vertical"&&(((Y=N.value)==null?void 0:Y.getData().scaleX)===-1?(_e=N.value)==null||_e.scaleX(1):(ve=N.value)==null||ve.scaleX(-1)),H==="horizontal"&&(((ue=N.value)==null?void 0:ue.getData().scaleY)===-1?(W=N.value)==null||W.scaleY(1):(X=N.value)==null||X.scaleY(-1))}function me(){var H;(H=N.value)==null||H.rotate(-90)}}}}),R5=e=>(He("data-v-106d65e4"),e=e(),We(),e),j5={class:"warning"},M5={key:0,class:"loader"},U5=T("error"),N5={class:"editor-container"},B5={class:"editor"},q5=["src"],z5={class:"toolbar"},K5=T("16:9"),H5=T("3:2"),W5=T("5:4"),G5=T("7:5"),Z5=R5(()=>S("div",{class:"spacer"},null,-1)),J5={key:0,class:"dimensions"};function Q5(e,t,n,l,o,u){const a=c("v-progress-circular"),r=c("v-notice"),s=c("v-icon"),p=c("v-list-item-icon"),f=c("v-list-item-content"),_=c("v-list-item"),y=c("v-list"),v=c("v-menu"),h=c("v-button"),w=c("v-drawer"),g=ke("tooltip");return m(),C(w,{modelValue:e.internalActive,"onUpdate:modelValue":t[12]||(t[12]=k=>e.internalActive=k),class:"modal",title:e.t("editing_image"),persistent:"",onCancel:t[13]||(t[13]=k=>e.internalActive=!1)},{activator:d(k=>[be(e.$slots,"activator",Je(et(k)),void 0,!0)]),subtitle:d(()=>[S("span",j5,b(e.t("changes_are_permanent")),1)]),actions:d(()=>[Q(i(h,{loading:e.saving,icon:"",rounded:"",onClick:e.save},{default:d(()=>[i(s,{name:"check"})]),_:1},8,["loading","onClick"]),[[g,e.t("save"),void 0,{bottom:!0}]])]),default:d(()=>[e.loading?(m(),I("div",M5,[i(a,{indeterminate:""})])):e.error?(m(),C(r,{key:1,type:"error"},{default:d(()=>[U5]),_:1})):R("",!0),Q(S("div",N5,[S("div",B5,[S("img",{ref:"imageElement",src:e.imageURL,role:"presentation",alt:"",onLoad:t[0]||(t[0]=(...k)=>e.onImageLoad&&e.onImageLoad(...k))},null,40,q5)]),S("div",z5,[Q(S("div",{class:"drag-mode toolbar-button",onClick:t[1]||(t[1]=k=>e.dragMode=e.dragMode==="crop"?"move":"crop")},[i(s,{name:"pan_tool",class:ae({active:e.dragMode==="move"})},null,8,["class"]),i(s,{name:"crop",class:ae({active:e.dragMode==="crop"})},null,8,["class"])],512),[[g,e.t("drag_mode"),void 0,{top:!0,inverted:!0}]]),Q(i(s,{name:"rotate_90_degrees_ccw",clickable:"",onClick:e.rotate},null,8,["onClick"]),[[g,e.t("rotate"),void 0,{top:!0,inverted:!0}]]),Q(i(s,{name:"flip_horizontal",clickable:"",onClick:t[2]||(t[2]=k=>e.flip("horizontal"))},null,512),[[g,e.t("flip_horizontal"),void 0,{top:!0,inverted:!0}]]),Q(i(s,{name:"flip_vertical",clickable:"",onClick:t[3]||(t[3]=k=>e.flip("vertical"))},null,512),[[g,e.t("flip_vertical"),void 0,{top:!0,inverted:!0}]]),i(v,{placement:"top","show-arrow":""},{activator:d(({toggle:k})=>[Q(i(s,{name:e.aspectRatioIcon,clickable:"",onClick:k},null,8,["name","onClick"]),[[g,e.t("aspect_ratio"),void 0,{top:!0,inverted:!0}]])]),default:d(()=>[i(y,null,{default:d(()=>[i(_,{clickable:"",active:e.aspectRatio===16/9,onClick:t[4]||(t[4]=k=>e.aspectRatio=16/9)},{default:d(()=>[i(p,null,{default:d(()=>[i(s,{name:"crop_16_9"})]),_:1}),i(f,null,{default:d(()=>[K5]),_:1})]),_:1},8,["active"]),i(_,{clickable:"",active:e.aspectRatio===3/2,onClick:t[5]||(t[5]=k=>e.aspectRatio=3/2)},{default:d(()=>[i(p,null,{default:d(()=>[i(s,{name:"crop_3_2"})]),_:1}),i(f,null,{default:d(()=>[H5]),_:1})]),_:1},8,["active"]),i(_,{clickable:"",active:e.aspectRatio===5/4,onClick:t[6]||(t[6]=k=>e.aspectRatio=5/4)},{default:d(()=>[i(p,null,{default:d(()=>[i(s,{name:"crop_5_4"})]),_:1}),i(f,null,{default:d(()=>[W5]),_:1})]),_:1},8,["active"]),i(_,{clickable:"",active:e.aspectRatio===7/5,onClick:t[7]||(t[7]=k=>e.aspectRatio=7/5)},{default:d(()=>[i(p,null,{default:d(()=>[i(s,{name:"crop_7_5"})]),_:1}),i(f,null,{default:d(()=>[G5]),_:1})]),_:1},8,["active"]),i(_,{clickable:"",active:e.aspectRatio===1/1,onClick:t[8]||(t[8]=k=>e.aspectRatio=1/1)},{default:d(()=>[i(p,null,{default:d(()=>[i(s,{name:"crop_square"})]),_:1}),i(f,null,{default:d(()=>[T(b(e.t("square")),1)]),_:1})]),_:1},8,["active"]),i(_,{clickable:"",active:e.aspectRatio===NaN,onClick:t[9]||(t[9]=k=>e.aspectRatio=NaN)},{default:d(()=>[i(p,null,{default:d(()=>[i(s,{name:"crop_free"})]),_:1}),i(f,null,{default:d(()=>[T(b(e.t("free")),1)]),_:1})]),_:1},8,["active"]),e.imageData?(m(),C(_,{key:0,clickable:"",active:e.aspectRatio===e.imageData.width/e.imageData.height,onClick:t[10]||(t[10]=k=>e.aspectRatio=e.imageData.width/e.imageData.height)},{default:d(()=>[i(p,null,{default:d(()=>[i(s,{name:"crop_original"})]),_:1}),i(f,null,{default:d(()=>[T(b(e.t("original")),1)]),_:1})]),_:1},8,["active"])):R("",!0)]),_:1})]),_:1}),Z5,e.imageData?(m(),I("div",J5,[T(b(e.n(e.imageData.width))+"x"+b(e.n(e.imageData.height))+" ",1),e.imageData.width!==e.newDimensions.width||e.imageData.height!==e.newDimensions.height?(m(),I(x,{key:0},[T(" -> "+b(e.n(e.newDimensions.width))+"x"+b(e.n(e.newDimensions.height)),1)],64)):R("",!0)])):R("",!0),Q(S("button",{class:"toolbar-button cancel",onClick:t[11]||(t[11]=k=>e.cropping=!1)},b(e.t("cancel_crop")),513),[[Pt,e.cropping]])])],512),[[Pt,e.imageData&&!e.loading&&!e.error]])]),_:3},8,["modelValue","title"])}var X5=q(O5,[["render",Q5],["__scopeId","data-v-106d65e4"]]);function Pl(e=0,t=!0){const n=t?1e3:1024;if(Boolean(e)===!1)return"--";if(Math.abs(e)<n)return`${e} B`;const l=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let o=-1,u=e;do u/=n,o+=1;while(Math.abs(u)>=n&&o<l.length-1);return`${u.toFixed(1)} ${l[o]}`}const Y5=z({props:{file:{type:Object,default:()=>({})},isNew:{type:Boolean,default:!1}},setup(e){const{t,n}=J(),l=F(()=>e.isNew||!e.file||!e.file.filesize?null:Pl(e.file.filesize)),{creationDate:o,modificationDate:u}=_(),{userCreated:a,userModified:r}=y(),{folder:s,folderLink:p}=v(),f=F(()=>ut(`${Ge()}assets/${e.file.id}`));return{t,n,readableMimeType:Ln,size:l,creationDate:o,modificationDate:u,userCreated:a,userModified:r,folder:s,folderLink:p,getRootPath:Ge,fileLink:f};function _(){const h=E(null),w=E(null);return ye(()=>e.file,async()=>{if(!e.file)return null;h.value=await $t(new Date(e.file.uploaded_on),String(t("date-fns_date_short"))),e.file.modified_on&&(w.value=await $t(new Date(e.file.modified_on),String(t("date-fns_date_short"))))},{immediate:!0}),{creationDate:h,modificationDate:w}}function y(){const h=E(!1),w=E(null),g=E(null);return ye(()=>e.file,k,{immediate:!0}),{userCreated:w,userModified:g};async function k(){if(!e.file||!e.file.uploaded_by)return null;h.value=!0;try{const V=(await re.get(`/users/${e.file.uploaded_by}`,{params:{fields:["id","email","first_name","last_name","role"]}})).data.data;if(w.value={id:e.file.uploaded_by,name:wt(V),link:`/users/${V.id}`},e.file.modified_by){const P=(await re.get(`/users/${e.file.modified_by}`,{params:{fields:["id","email","first_name","last_name","role"]}})).data.data;g.value={id:e.file.modified_by,name:wt(P),link:`/users/${P.id}`}}}finally{h.value=!1}}}function v(){const h=E(!1),w=E(null),g=F(()=>w.value===null?"/files":`/files/folders/${w.value.id}`);return ye(()=>e.file,k,{immediate:!0}),{folder:w,folderLink:g};async function k(){if(!e.file)return null;if(!!e.file.folder){h.value=!0;try{const A=await re.get(`/folders/${e.file.folder}`,{params:{fields:["id","name"]}}),{name:V}=A.data.data;w.value={id:e.file.folder,name:V}}finally{h.value=!1}}}}}}),x5={key:0},eS={key:0},tS={key:1},nS={key:2},lS={key:3},oS={key:4},aS={key:5},iS={key:6},rS={key:7,class:"checksum"},sS={key:8},dS={key:9},uS={key:10},cS=["href"],pS={key:0},mS={key:1},fS={key:2},_S={key:3},vS={key:4},yS={class:"page-description"};function hS(e,t,n,l,o,u){const a=c("router-link"),r=c("user-popover"),s=c("v-divider"),p=c("sidebar-detail"),f=ke("md");return m(),C(p,{icon:"info_outline",title:e.t("file_details"),close:""},{default:d(()=>{var _,y,v,h,w,g,k,A,V,D,P,L,B,O,M,N,K,G;return[e.file?(m(),I("dl",x5,[e.file.type?(m(),I("div",eS,[S("dt",null,b(e.t("type")),1),S("dd",null,b(e.readableMimeType(e.file.type)||e.file.type),1)])):R("",!0),e.file.width&&e.file.height?(m(),I("div",tS,[S("dt",null,b(e.t("dimensions")),1),S("dd",null,b(e.n(e.file.width))+" \xD7 "+b(e.n(e.file.height)),1)])):R("",!0),e.file.duration?(m(),I("div",nS,[S("dt",null,b(e.t("duration")),1),S("dd",null,b(e.n(e.file.duration)),1)])):R("",!0),e.file.filesize?(m(),I("div",lS,[S("dt",null,b(e.t("size")),1),S("dd",null,b(e.size),1)])):R("",!0),e.file.charset?(m(),I("div",oS,[S("dt",null,b(e.t("charset")),1),S("dd",null,b(e.charset),1)])):R("",!0),e.file.embed?(m(),I("div",aS,[S("dt",null,b(e.t("embed")),1),S("dd",null,b(e.embed),1)])):R("",!0),e.creationDate?(m(),I("div",iS,[S("dt",null,b(e.t("created")),1),S("dd",null,b(e.creationDate),1)])):R("",!0),e.file.checksum?(m(),I("div",rS,[S("dt",null,b(e.t("checksum")),1),S("dd",null,b(e.file.checksum),1)])):R("",!0),e.userCreated?(m(),I("div",sS,[S("dt",null,b(e.t("owner")),1),S("dd",null,[i(r,{user:e.userCreated.id},{default:d(()=>[i(a,{to:e.userCreated.link},{default:d(()=>[T(b(e.userCreated.name),1)]),_:1},8,["to"])]),_:1},8,["user"])])])):R("",!0),e.modificationDate?(m(),I("div",dS,[S("dt",null,b(e.t("modified")),1),S("dd",null,b(e.modificationDate),1)])):R("",!0),e.userModified?(m(),I("div",uS,[S("dt",null,b(e.t("edited_by")),1),S("dd",null,[i(r,{user:e.userModified.id},{default:d(()=>[i(a,{to:e.userModified.link},{default:d(()=>[T(b(e.userModified.name),1)]),_:1},8,["to"])]),_:1},8,["user"])])])):R("",!0),S("div",null,[S("dt",null,b(e.t("file")),1),S("dd",null,[S("a",{href:e.fileLink,target:"_blank"},b(e.t("open_in_new_window")),9,cS)])]),S("div",null,[S("dt",null,b(e.t("folder")),1),S("dd",null,[i(a,{to:e.folderLink},{default:d(()=>[T(b(e.t("open_folder",{folder:e.folder?e.folder.name:e.t("file_library")})),1)]),_:1},8,["to"])])]),((y=(_=e.file.metadata)==null?void 0:_.ifd0)==null?void 0:y.Make)||((h=(v=e.file.metadata)==null?void 0:v.ifd0)==null?void 0:h.Model)||((g=(w=e.file.metadata)==null?void 0:w.exif)==null?void 0:g.FNumber)||((A=(k=e.file.metadata)==null?void 0:k.exif)==null?void 0:A.ExposureTime)||((D=(V=e.file.metadata)==null?void 0:V.exif)==null?void 0:D.FocalLength)||((L=(P=e.file.metadata)==null?void 0:P.exif)==null?void 0:L.ISO)?(m(),I(x,{key:11},[i(s),((B=e.file.metadata.ifd0)==null?void 0:B.Make)&&((O=e.file.metadata.ifd0)==null?void 0:O.Model)?(m(),I("div",pS,[S("dt",null,b(e.t("camera")),1),S("dd",null,b(e.file.metadata.ifd0.Make)+" "+b(e.file.metadata.ifd0.Model),1)])):R("",!0),((M=e.file.metadata.exif)==null?void 0:M.FNumber)?(m(),I("div",mS,[S("dt",null,b(e.t("exposure")),1),S("dd",null,"\u0192/"+b(e.file.metadata.exif.FNumber),1)])):R("",!0),((N=e.file.metadata.exif)==null?void 0:N.ExposureTime)?(m(),I("div",fS,[S("dt",null,b(e.t("shutter")),1),S("dd",null,"1/"+b(Math.round(1/+e.file.metadata.exif.ExposureTime))+" "+b(e.t("second")),1)])):R("",!0),((K=e.file.metadata.exif)==null?void 0:K.FocalLength)?(m(),I("div",_S,[S("dt",null,b(e.t("focal_length")),1),S("dd",null,b(e.file.metadata.exif.FocalLength)+"mm",1)])):R("",!0),((G=e.file.metadata.exif)==null?void 0:G.ISO)?(m(),I("div",vS,[S("dt",null,b(e.t("iso")),1),S("dd",null,b(e.file.metadata.exif.ISO),1)])):R("",!0)],64)):R("",!0)])):R("",!0),i(s),Q(S("div",yS,null,512),[[f,e.t("page_help_files_item")]])]}),_:1},8,["title"])}var gS=q(Y5,[["render",hS],["__scopeId","data-v-4018d0a4"]]);const bS=z({components:{FilesNavigation:$o},setup(){const{t:e}=J();return{t:e}}}),wS={class:"not-found"};function $S(e,t,n,l,o,u){const a=c("files-navigation"),r=c("v-info"),s=c("private-view");return m(),C(s,{title:e.t("page_not_found")},{navigation:d(()=>[i(a)]),default:d(()=>[S("div",wS,[i(r,{title:e.t("page_not_found"),icon:"not_interested"},{default:d(()=>[T(b(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var kS=q(bS,[["render",$S],["__scopeId","data-v-6900fd47"]]);const SS=z({props:{modelValue:{type:Boolean,default:!1},file:{type:Object,default:()=>({})},preset:{type:Object,default:()=>({})}},emits:["update:modelValue","replaced"],setup(e,{emit:t}){const{t:n}=J();return{t:n,uploaded:l};function l(){t("update:modelValue",!1),t("replaced")}}});function CS(e,t,n,l,o,u){const a=c("v-card-title"),r=c("v-upload"),s=c("v-card-text"),p=c("v-button"),f=c("v-card-actions"),_=c("v-card"),y=c("v-dialog");return m(),C(y,{"model-value":e.modelValue,"onUpdate:modelValue":t[1]||(t[1]=v=>e.$emit("update:modelValue",!1)),onEsc:t[2]||(t[2]=v=>e.$emit("update:modelValue",!1))},{default:d(()=>[e.file?(m(),C(_,{key:0},{default:d(()=>[i(a,null,{default:d(()=>[T(b(e.t("replace_file")),1)]),_:1}),i(s,null,{default:d(()=>[i(r,{preset:e.preset,"file-id":e.file.id,"from-url":"",onInput:e.uploaded},null,8,["preset","file-id","onInput"])]),_:1}),i(f,null,{default:d(()=>[i(p,{secondary:"",onClick:t[0]||(t[0]=v=>e.$emit("update:modelValue",!1))},{default:d(()=>[T(b(e.t("done")),1)]),_:1})]),_:1})]),_:1})):R("",!0)]),_:1},8,["model-value"])}var VS=q(SS,[["render",CS],["__scopeId","data-v-767b664e"]]);const FS=z({name:"FilesItem",components:{FilesNavigation:$o,RevisionsDrawerDetail:Xn,CommentsSidebarDetail:vo,FilePreview:yo,ImageEditor:X5,FileInfoSidebarDetail:gS,FolderPicker:wo,FilesNotFound:kS,ReplaceFile:VS,SaveOptions:Tl},props:{primaryKey:{type:String,required:!0}},setup(e){const{t}=J(),n=Xe(),l=E(),{primaryKey:o}=Me(e),{breadcrumb:u}=_e(),a=E(!1),r=E(null),{isNew:s,edits:p,hasEdits:f,item:_,saving:y,loading:v,error:h,save:w,remove:g,deleting:k,saveAsCopy:A,isBatch:V,refresh:D,validationErrors:P}=gn(E("directus_files"),o),L=F(()=>Z.value&&f.value),{confirmLeave:B,leaveTo:O}=en(f),M=E(!1),N=E(!1),K=F(()=>_.value&&_.value.modified_on?ut(Ge()+`assets/${e.primaryKey}?cache-buster=${_.value.modified_on}&key=system-large-contain`):ut(Ge()+`assets/${e.primaryKey}?key=system-large-contain`)),G=["type","width","height","filesize","checksum","uploaded_by","uploaded_on","modified_by","modified_on","duration","folder","charset","embed"],ie=F(()=>{var we;return _.value&&((we=_.value)==null?void 0:we.folder)?`/files/folders/${_.value.folder}`:"/files"}),{moveToDialogActive:de,moveToFolder:ne,moving:le,selectedFolder:se}=ge();nt("meta+s",ue,l);const{deleteAllowed:ee,saveAllowed:Z,updateAllowed:te,fields:me,revisionsAllowed:H}=Pn(E("directus_files"),_,s),Y=F(()=>me.value.filter(we=>G.includes(we.field)===!1));return{t,router:n,item:_,loading:v,error:h,isNew:s,breadcrumb:u,edits:p,hasEdits:f,saving:y,saveAndQuit:ve,deleteAndQuit:X,confirmDelete:M,deleting:k,saveAndStay:ue,saveAsCopyAndNavigate:W,discardAndStay:oe,isBatch:V,editActive:N,revisionsDrawerDetail:r,confirmLeave:B,leaveTo:O,discardAndLeave:ce,downloadFile:he,moveToDialogActive:de,moveToFolder:ne,moving:le,selectedFolder:se,fileSrc:K,form:l,to:ie,replaceFileDialogActive:a,refresh:D,deleteAllowed:ee,saveAllowed:Z,updateAllowed:te,fields:me,fieldsFiltered:Y,revisionsAllowed:H,validationErrors:P,isSavable:L};function _e(){return{breadcrumb:F(()=>{var Ce;return((Ce=_==null?void 0:_.value)==null?void 0:Ce.folder)?[{name:t("file_library"),to:{path:`/files/folders/${_.value.folder}`}}]:[{name:t("file_library"),to:"/files"}]})}}async function ve(){try{await w(),n.push(ie.value)}catch{}}async function ue(){var we,Ce;try{await w(),(Ce=(we=r.value)==null?void 0:we.refresh)==null||Ce.call(we)}catch{}}async function W(){const we=await A();we&&n.push(`/files/${we}`)}async function X(){try{await g(),n.replace(ie.value)}catch{M.value=!1}}function ce(){!O.value||(p.value={},B.value=!1,n.push(O.value))}function oe(){p.value={},B.value=!1}function he(){const we=ut(Ge()+`assets/${e.primaryKey}?download`);window.open(we,"_blank")}function ge(){const we=E(!1),Ce=E(!1),Fe=E();return ye(_,()=>{var tt;Fe.value=((tt=_.value)==null?void 0:tt.folder)||null}),{moveToDialogActive:we,moving:Ce,moveToFolder:De,selectedFolder:Fe};async function De(){var tt;Ce.value=!0;try{const Pe=await re.patch(`/files/${e.primaryKey}`,{folder:Fe.value},{params:{fields:"folder.name"}});await D();const Oe=((tt=Pe.data.data.folder)==null?void 0:tt.name)||t("file_library");st({title:t("file_moved",{folder:Oe}),type:"success",icon:"folder_move"})}catch(Pe){Se(Pe)}finally{we.value=!1,Ce.value=!1}}}}}),AS={class:"file-item"};function IS(e,t,n,l,o,u){const a=c("files-not-found"),r=c("v-icon"),s=c("v-button"),p=c("v-breadcrumb"),f=c("v-card-title"),_=c("v-card-actions"),y=c("v-card"),v=c("v-dialog"),h=c("folder-picker"),w=c("v-card-text"),g=c("save-options"),k=c("files-navigation"),A=c("file-preview"),V=c("image-editor"),D=c("v-form"),P=c("file-info-sidebar-detail"),L=c("revisions-drawer-detail"),B=c("comments-sidebar-detail"),O=c("replace-file"),M=c("private-view"),N=ke("tooltip");return!e.loading&&!e.item?(m(),C(a,{key:0})):(m(),C(M,{key:1,title:e.loading||!e.item?e.t("loading"):e.item.title},{"title-outer:prepend":d(()=>[i(s,{class:"header-icon",rounded:"",icon:"",secondary:"",exact:"",onClick:t[0]||(t[0]=K=>e.router.back())},{default:d(()=>[i(r,{name:"arrow_back"})]),_:1})]),headline:d(()=>[i(p,{items:e.breadcrumb},null,8,["items"])]),actions:d(()=>[i(v,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=K=>e.confirmDelete=K),onEsc:t[3]||(t[3]=K=>e.confirmDelete=!1)},{activator:d(({on:K})=>[Q(i(s,{rounded:"",icon:"",class:"action-delete",disabled:e.item===null||e.deleteAllowed===!1,onClick:K},{default:d(()=>[i(r,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[N,e.deleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:d(()=>[i(y,null,{default:d(()=>[i(f,null,{default:d(()=>[T(b(e.t("delete_are_you_sure")),1)]),_:1}),i(_,null,{default:d(()=>[i(s,{secondary:"",onClick:t[1]||(t[1]=K=>e.confirmDelete=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(s,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:d(()=>[T(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.isNew===!1?(m(),C(v,{key:0,modelValue:e.moveToDialogActive,"onUpdate:modelValue":t[6]||(t[6]=K=>e.moveToDialogActive=K),onEsc:t[7]||(t[7]=K=>e.moveToDialogActive=!1)},{activator:d(({on:K})=>[Q(i(s,{rounded:"",icon:"",disabled:e.item===null,class:"folder",onClick:K},{default:d(()=>[i(r,{name:"folder_move"})]),_:2},1032,["disabled","onClick"]),[[N,e.t("move_to_folder"),void 0,{bottom:!0}]])]),default:d(()=>[i(y,null,{default:d(()=>[i(f,null,{default:d(()=>[T(b(e.t("move_to_folder")),1)]),_:1}),i(w,null,{default:d(()=>[i(h,{modelValue:e.selectedFolder,"onUpdate:modelValue":t[4]||(t[4]=K=>e.selectedFolder=K)},null,8,["modelValue"])]),_:1}),i(_,null,{default:d(()=>[i(s,{secondary:"",onClick:t[5]||(t[5]=K=>e.moveToDialogActive=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(s,{loading:e.moving,onClick:e.moveToFolder},{default:d(()=>[T(b(e.t("move")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),Q(i(s,{rounded:"",icon:"",class:"download",onClick:e.downloadFile},{default:d(()=>[i(r,{name:"save_alt"})]),_:1},8,["onClick"]),[[N,e.t("download"),void 0,{bottom:!0}]]),e.item&&e.item.type.includes("image")?Q((m(),C(s,{key:1,rounded:"",icon:"",class:"edit",onClick:t[8]||(t[8]=K=>e.editActive=!0)},{default:d(()=>[i(r,{name:"tune"})]),_:1},512)),[[N,e.t("edit"),void 0,{bottom:!0}]]):R("",!0),Q(i(s,{rounded:"",icon:"",loading:e.saving,disabled:!e.isSavable,onClick:e.saveAndQuit},{"append-outer":d(()=>[e.isSavable?(m(),C(g,{key:0,"disabled-options":["save-and-add-new"],onSaveAndStay:e.saveAndStay,onSaveAsCopy:e.saveAsCopyAndNavigate,onDiscardAndStay:e.discardAndStay},null,8,["onSaveAndStay","onSaveAsCopy","onDiscardAndStay"])):R("",!0)]),default:d(()=>[i(r,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[N,e.saveAllowed?e.t("save"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:d(()=>[i(k,{"current-folder":e.item&&e.item.folder},null,8,["current-folder"])]),sidebar:d(()=>[i(P,{file:e.item},null,8,["file"]),e.isBatch===!1&&e.isNew===!1&&e.revisionsAllowed?(m(),C(L,{key:0,ref:"revisionsDrawerDetail",collection:"directus_files","primary-key":e.primaryKey},null,8,["primary-key"])):R("",!0),e.isBatch===!1&&e.isNew===!1?(m(),C(B,{key:1,collection:"directus_files","primary-key":e.primaryKey},null,8,["primary-key"])):R("",!0)]),default:d(()=>[S("div",AS,[e.isBatch===!1&&e.item?(m(),C(A,{key:0,src:e.fileSrc,mime:e.item.type,width:e.item.width,height:e.item.height,title:e.item.title,onClick:t[9]||(t[9]=K=>e.replaceFileDialogActive=!0)},null,8,["src","mime","width","height","title"])):R("",!0),e.item&&e.item.type.startsWith("image")?(m(),C(V,{key:1,id:e.item.id,modelValue:e.editActive,"onUpdate:modelValue":t[10]||(t[10]=K=>e.editActive=K),onRefresh:e.refresh},null,8,["id","modelValue","onRefresh"])):R("",!0),i(D,{ref:"form",modelValue:e.edits,"onUpdate:modelValue":t[11]||(t[11]=K=>e.edits=K),fields:e.fieldsFiltered,loading:e.loading,"initial-values":e.item,"batch-mode":e.isBatch,"primary-key":e.primaryKey,disabled:e.updateAllowed===!1,"validation-errors":e.validationErrors},null,8,["modelValue","fields","loading","initial-values","batch-mode","primary-key","disabled","validation-errors"])]),i(v,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[13]||(t[13]=K=>e.confirmLeave=K),onEsc:e.discardAndLeave},{default:d(()=>[i(y,null,{default:d(()=>[i(f,null,{default:d(()=>[T(b(e.t("unsaved_changes")),1)]),_:1}),i(w,null,{default:d(()=>[T(b(e.t("unsaved_changes_copy")),1)]),_:1}),i(_,null,{default:d(()=>[i(s,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[T(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),i(s,{onClick:t[12]||(t[12]=K=>e.confirmLeave=!1)},{default:d(()=>[T(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onEsc"]),i(O,{modelValue:e.replaceFileDialogActive,"onUpdate:modelValue":t[14]||(t[14]=K=>e.replaceFileDialogActive=K),file:e.item,onReplaced:e.refresh},null,8,["modelValue","file","onReplaced"])]),_:1},8,["title"]))}var ES=q(FS,[["render",IS],["__scopeId","data-v-31c9f0ce"]]),DS=un({id:"files",name:"$t:file_library",icon:"folder",routes:[{name:"files-collection",path:"",component:nl,children:[{path:"+",name:"add-file",components:{addNew:Qa}}]},{name:"files-item",path:":primaryKey",component:ES,props:!0},{path:"folders",redirect:"/files"},{name:"folders-collection",path:"folders/:folder",component:nl,props:!0,children:[{path:"+",name:"add-file-folder",components:{addNew:Qa}}]},{path:"all",component:nl,props:{special:"all"}},{path:"mine",component:nl,props:{special:"mine"}},{path:"recent",component:nl,props:{special:"recent"}}],preRegisterCheck(e,t){return e.role.admin_access?!0:!!t.find(o=>o.collection==="directus_files"&&o.action==="read")}}),TS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:DS});function ei(e){const t=e.split(".")[1].replace("-","+").replace("_","/"),n=ed.exports.decode(t);return JSON.parse(n)}const LS=z({setup(){const{t:e}=J(),t=Ht(),n=F(()=>t.query.token),l=E(null),o=E(!1),u=E(null),a=E(!1),r=F(()=>u.value?Gt(u.value):null),s=F(()=>"/login"),p=F(()=>ei(n.value).email);return{t:e,creating:o,error:u,done:a,password:l,onSubmit:f,signInLink:s,errorFormatted:r,email:p};async function f(){o.value=!0,u.value=null;try{await re.post("/users/invite/accept",{password:l.value,token:n.value}),a.value=!0}catch(_){u.value=_}finally{o.value=!1}}}}),PS={class:"type-title"};function OS(e,t,n,l,o,u){const a=c("v-input"),r=c("v-notice"),s=c("v-button"),p=c("v-icon"),f=c("public-view");return m(),C(f,null,{notice:d(()=>[i(p,{name:"lock_outlined",left:""}),T(" "+b(e.t("not_authenticated")),1)]),default:d(()=>[S("h1",PS,b(e.t("create_account")),1),S("form",{onSubmit:t[1]||(t[1]=Ae((..._)=>e.onSubmit&&e.onSubmit(..._),["prevent"]))},[i(a,{"model-value":e.email,disabled:""},null,8,["model-value"]),i(a,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=_=>e.password=_),placeholder:e.t("password"),autofocus:"",autocomplete:"password",type:"password",disabled:e.done},null,8,["modelValue","placeholder","disabled"]),e.done?(m(),C(r,{key:0,type:"success"},{default:d(()=>[T(b(e.t("account_created_successfully")),1)]),_:1})):R("",!0),e.error?(m(),C(r,{key:1,type:"danger"},{default:d(()=>[T(b(e.errorFormatted),1)]),_:1})):R("",!0),e.done?(m(),C(s,{key:3,large:"",to:e.signInLink},{default:d(()=>[T(b(e.t("sign_in")),1)]),_:1},8,["to"])):(m(),C(s,{key:2,type:"submit",loading:e.creating,large:""},{default:d(()=>[T(b(e.t("create")),1)]),_:1},8,["loading"]))],32)]),_:1})}var RS=q(LS,[["render",OS],["__scopeId","data-v-8ab16d02"]]);const jS=z({props:{provider:{type:String,required:!0}},setup(e){const{t}=J(),n=Xe(),{provider:l}=Me(e),o=E(!1),u=E(null),a=E(null),r=E(null),s=E(null),p=E(!1),f=Ze();ye(u,()=>{p.value===!0&&(p.value=!1)}),ye(l,()=>{u.value=null,a.value=null,r.value=null,s.value=null,p.value=!1});const _=F(()=>r.value==="INVALID_PAYLOAD"?Gt("INVALID_CREDENTIALS"):r.value?Gt(r.value):null);return{t,errorFormatted:_,error:r,email:u,password:a,onSubmit:y,loggingIn:o,translateAPIError:Gt,otp:s,requiresTFA:p};async function y(){var v,h,w,g,k,A,V,D,P,L,B;if(!(u.value===null||a.value===null))try{o.value=!0;const O={email:u.value,password:a.value};s.value&&(O.otp=s.value),await zo({provider:l.value,credentials:O});const M=n.currentRoute.value.query.redirect,N=(v=f.currentUser)==null?void 0:v.last_page;n.push(M||N||"/content")}catch(O){((A=(k=(g=(w=(h=O.response)==null?void 0:h.data)==null?void 0:w.errors)==null?void 0:g[0])==null?void 0:k.extensions)==null?void 0:A.code)==="INVALID_OTP"&&p.value===!1?p.value=!0:r.value=((B=(L=(P=(D=(V=O.response)==null?void 0:V.data)==null?void 0:D.errors)==null?void 0:P[0])==null?void 0:L.extensions)==null?void 0:B.code)||O}finally{o.value=!1}}}}),MS={class:"buttons"};function US(e,t,n,l,o,u){const a=c("v-input"),r=c("transition-expand"),s=c("v-notice"),p=c("v-button"),f=c("router-link");return m(),I("form",{onSubmit:t[3]||(t[3]=Ae((..._)=>e.onSubmit&&e.onSubmit(..._),["prevent"]))},[i(a,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=_=>e.email=_),autofocus:"",autocomplete:"username",type:"email",placeholder:e.t("email")},null,8,["modelValue","placeholder"]),i(a,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=_=>e.password=_),type:"password",autocomplete:"current-password",placeholder:e.t("password")},null,8,["modelValue","placeholder"]),i(r,null,{default:d(()=>[e.requiresTFA?(m(),C(a,{key:0,modelValue:e.otp,"onUpdate:modelValue":t[2]||(t[2]=_=>e.otp=_),type:"text",placeholder:e.t("otp"),autofocus:""},null,8,["modelValue","placeholder"])):R("",!0)]),_:1}),e.error?(m(),C(s,{key:0,type:"warning"},{default:d(()=>[T(b(e.errorFormatted),1)]),_:1})):R("",!0),S("div",MS,[i(p,{type:"submit",loading:e.loggingIn,large:""},{default:d(()=>[T(b(e.t("sign_in")),1)]),_:1},8,["loading"]),i(f,{to:"/reset-password",class:"forgot-password"},{default:d(()=>[T(b(e.t("forgot_password")),1)]),_:1})])],32)}var NS=q(jS,[["render",US],["__scopeId","data-v-c009fd00"]]);const BS=z({props:{provider:{type:String,required:!0}},setup(e){const{t}=J(),n=Xe(),{provider:l}=Me(e),o=E(!1),u=E(null),a=E(null),r=E(null),s=E(null),p=E(!1),f=Ze();ye(u,()=>{p.value===!0&&(p.value=!1)}),ye(l,()=>{u.value=null,a.value=null,r.value=null,s.value=null,p.value=!1});const _=F(()=>r.value==="INVALID_PAYLOAD"?Gt("INVALID_CREDENTIALS"):r.value?Gt(r.value):null);return{t,errorFormatted:_,error:r,identifier:u,password:a,onSubmit:y,loggingIn:o,translateAPIError:Gt,otp:s,requiresTFA:p};async function y(){var v,h,w,g,k,A,V,D,P,L,B;if(!(u.value===null||a.value===null))try{o.value=!0;const O={identifier:u.value,password:a.value};s.value&&(O.otp=s.value),await zo({provider:l.value,credentials:O});const M=(v=f.currentUser)==null?void 0:v.last_page;n.push(M||"/content")}catch(O){((A=(k=(g=(w=(h=O.response)==null?void 0:h.data)==null?void 0:w.errors)==null?void 0:g[0])==null?void 0:k.extensions)==null?void 0:A.code)==="INVALID_OTP"&&p.value===!1?p.value=!0:r.value=((B=(L=(P=(D=(V=O.response)==null?void 0:V.data)==null?void 0:D.errors)==null?void 0:P[0])==null?void 0:L.extensions)==null?void 0:B.code)||O}finally{o.value=!1}}}});function qS(e,t,n,l,o,u){const a=c("v-input"),r=c("transition-expand"),s=c("v-notice"),p=c("v-button");return m(),I("form",{onSubmit:t[3]||(t[3]=Ae((...f)=>e.onSubmit&&e.onSubmit(...f),["prevent"]))},[i(a,{modelValue:e.identifier,"onUpdate:modelValue":t[0]||(t[0]=f=>e.identifier=f),autofocus:"",autocomplete:"username",placeholder:e.t("identifier")},null,8,["modelValue","placeholder"]),i(a,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=f=>e.password=f),type:"password",autocomplete:"current-password",placeholder:e.t("password")},null,8,["modelValue","placeholder"]),i(r,null,{default:d(()=>[e.requiresTFA?(m(),C(a,{key:0,modelValue:e.otp,"onUpdate:modelValue":t[2]||(t[2]=f=>e.otp=f),type:"text",placeholder:e.t("otp"),autofocus:""},null,8,["modelValue","placeholder"])):R("",!0)]),_:1}),e.error?(m(),C(s,{key:0,type:"warning"},{default:d(()=>[T(b(e.errorFormatted),1)]),_:1})):R("",!0),i(p,{type:"submit",loading:e.loggingIn,large:""},{default:d(()=>[T(b(e.t("sign_in")),1)]),_:1},8,["loading"])],32)}var zS=q(BS,[["render",qS],["__scopeId","data-v-48c6d445"]]);const KS=z({setup(){const{t:e}=J(),t=Xe(),n=E(!1),l=E(null),o=E(null);return u(),it(()=>{"continue"in t.currentRoute.value.query&&a()}),{t:e,name:l,lastPage:o,loading:n,hydrateAndLogin:a};async function u(){n.value=!0;try{const r=await re.get("/users/me",{params:{fields:["email","first_name","last_name","last_page"]}});r.data.data.share&&await rl(),l.value=wt(r.data.data),o.value=r.data.data.last_page}catch(r){Se(r)}finally{n.value=!1}}async function a(){await il(),t.push(o.value||"/content")}}}),HS={class:"continue-as"},WS={class:"actions"};function GS(e,t,n,l,o,u){const a=c("v-progress-circular"),r=c("i18n-t"),s=c("router-link"),p=c("v-button");return m(),I("div",HS,[e.loading?(m(),C(a,{key:0,indeterminate:""})):(m(),I(x,{key:1},[i(r,{keypath:"continue_as",scope:"global",tag:"p"},{name:d(()=>[S("b",null,b(e.name),1)]),_:1}),S("div",WS,[i(s,{to:"/logout",class:"sign-out"},{default:d(()=>[T(b(e.t("sign_out")),1)]),_:1}),i(p,{autofocus:"",large:"",onClick:e.hydrateAndLogin},{default:d(()=>[T(b(e.t("continue_label")),1)]),_:1},8,["onClick"])])],64))])}var ZS=q(KS,[["render",GS],["__scopeId","data-v-b5a5a818"]]),JS=["about","above","across","after","against","along","among","around","at","because of","before","behind","below","beneath","beside","besides","between","beyond","but","by","concerning","despite","down","during","except","excepting","for","from","in","in front of","inside","in spite of","instead of","into","like","near","of","off","on","onto","out","outside","over","past","regarding","since","through","throughout","to","toward","under","underneath","until","up","upon","up to","with","within","without","with regard to","with respect to"],QS=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except"],XS=["2D","3D","4WD","API","BASIC","BIOS","CCTV","CC","CCV","CD","CD-ROM","COBOL","CIA","CMS","CSS","CSV","CV","DIY","DVD","DB","DNA","E3","EIN","ESPN","FAQ","FAQs","FTP","FPS","FORTRAN","FBI","HTML","HTTP","ID","IP","ISO","JS","JSON","LASER","M2M","M2MM","M2O","MMORPG","NAFTA","NASA","NDA","O2M","PDF","PHP","POP","RAM","RNGR","ROM","RPG","RTFM","RTS","SCUBA","SITCOM","SKU","SMTP","SQL","SSN","SWAT","TBS","TTL","TV","TNA","UI","URL","USB","UWP","VIP","W3C","WYSIWYG","WWW","WWE","WWF"],YS=["2FA","3D","DateTime","GitHub","ID","IDs","iMac","IMAX","iOS","IP","iPad","iPhone","iPod","LinkedIn","macOS","M2M","M2O","McDonalds","MySQL","O2M","PDFs","pH","PostgreSQL","YouTube","UUID","SEO","CTA","4K","HD","UHD","5K","8K","LDAP"];function xS(e,t,n){const l=e.toLowerCase(),o=e.toUpperCase();for(const u of YS)if(u.toLowerCase()===l)return u;return XS.includes(o)?o:t===0||t===n.length-1?e:JS.includes(l)||QS.includes(l)?l:e}function eC(e,t){return`${e} ${t}`}function tC(e){return e.charAt(0).toUpperCase()+e.substring(1)}function nC(e){return e.replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1_$2").toLowerCase()}function Dt(e,t){return t||(t=new RegExp("/s|-|_| ","g")),nC(e).split(t).map(tC).map(xS).reduce(eC)}const lC=z({props:{providers:{type:Array,default:()=>[]}},setup(e){const{t}=J(),{providers:n}=Me(e),l=E([]);return ye(n,()=>{l.value=n.value.filter(o=>Ua.includes(o.driver)).map(o=>{var u;return{name:Dt(o.name),link:`${Ge()}auth/login/${o.name}?redirect=${window.location.href.replace(location.search,"")}?continue`,icon:(u=o.icon)!=null?u:"account_circle"}})}),{t,ssoProviders:l}}}),oC={class:"sso-links"},aC=["href"],iC={class:"sso-icon"},rC={class:"sso-title"};function sC(e,t,n,l,o,u){const a=c("v-divider"),r=c("v-icon");return m(),I("div",oC,[e.ssoProviders.length>0?(m(),I(x,{key:0},[i(a),(m(!0),I(x,null,$e(e.ssoProviders,s=>(m(),I("a",{key:s.name,class:"sso-link",href:s.link},[S("div",iC,[i(r,{name:s.icon},null,8,["name"])]),S("div",rC,b(e.t("log_in_with",{provider:s.name})),1)],8,aC))),128))],64)):R("",!0)])}var dC=q(lC,[["render",sC],["__scopeId","data-v-32497dd8"]]);const uC=z({components:{LoginForm:NS,LdapForm:zS,ContinueAs:ZS,SsoLinks:dC},props:{logoutReason:{type:String,default:null}},setup(){const{t:e,te:t}=J(),n=bt(),l=E([]),o=E(!1),u=E(mo),a=E([]),r=E("local"),s=F({get(){return u.value},set(_){var y,v;u.value=_,r.value=(v=(y=l.value.find(h=>h.name===_))==null?void 0:y.driver)!=null?v:"local"}}),p=F(()=>n.authenticated);return it(()=>f()),{t:e,te:t,authenticated:p,providers:l,providerSelect:s,providerOptions:a,provider:u,driver:r,disableDefault:o};async function f(){var _;try{const y=await re.get("/auth");l.value=y.data.data,o.value=y.data.disableDefault,a.value=l.value.filter(v=>!Ua.includes(v.driver)).map(v=>({text:Dt(v.name),value:v.name})),o.value?s.value=(_=a.value[0])==null?void 0:_.value:a.value.unshift({text:e("default_provider"),value:mo})}catch(y){Se(y)}}}}),cC={class:"header"},pC={class:"type-title"},mC={key:0,class:"provider-select"};function fC(e,t,n,l,o,u){const a=c("v-select"),r=c("continue-as"),s=c("ldap-form"),p=c("login-form"),f=c("sso-links"),_=c("v-icon"),y=c("public-view");return m(),C(y,null,xe({default:d(()=>[S("div",cC,[S("h1",pC,b(e.t("sign_in")),1),!e.authenticated&&e.providerOptions.length>1?(m(),I("div",mC,[i(a,{modelValue:e.providerSelect,"onUpdate:modelValue":t[0]||(t[0]=v=>e.providerSelect=v),inline:"",items:e.providerOptions,label:""},null,8,["modelValue","items"])])):R("",!0)]),e.authenticated?(m(),C(r,{key:0})):e.driver==="ldap"?(m(),C(s,{key:1,provider:e.provider},null,8,["provider"])):e.disableDefault?R("",!0):(m(),C(p,{key:2,provider:e.provider},null,8,["provider"])),e.authenticated?R("",!0):(m(),C(f,{key:3,providers:e.providers},null,8,["providers"]))]),_:2},[e.authenticated?{name:"notice",fn:d(()=>[i(_,{name:"lock_open",left:""}),T(" "+b(e.t("authenticated")),1)])}:{name:"notice",fn:d(()=>[i(_,{name:"lock_outlined",left:""}),T(" "+b(e.logoutReason&&e.te(`logoutReason.${e.logoutReason}`)?e.t(`logoutReason.${e.logoutReason}`):e.t("not_authenticated")),1)])}]),1024)}var _C=q(uC,[["render",fC],["__scopeId","data-v-1482f314"]]);const vC=z({setup(){it(()=>{rl()})}}),yC={class:"logout"};function hC(e,t,n,l,o,u){const a=c("v-progress-circular");return m(),I("div",yC,[i(a,{indeterminate:""})])}var gC=q(vC,[["render",hC],["__scopeId","data-v-cfb047f4"]]);const bC=z({id:"ShareItem",props:{collection:{type:String,required:!0},primaryKey:{type:String,required:!0}},setup(e){const{collection:t,primaryKey:n}=Me(e),{edits:l,item:o,loading:u}=gn(t,n);return{edits:l,item:o,loading:u}}});function wC(e,t,n,l,o,u){const a=c("v-form");return m(),C(a,{modelValue:e.edits,"onUpdate:modelValue":t[0]||(t[0]=r=>e.edits=r),collection:e.collection,"initial-values":e.item,"primary-key":e.primaryKey,disabled:"",loading:e.loading},null,8,["modelValue","collection","initial-values","primary-key","loading"])}var $C=q(bC,[["render",wC]]);const kC=z({components:{ShareItem:$C},setup(){const{t:e}=J(),t=bt(),n=F(()=>t.authenticated),l=E(!0),o=E(!1),u=E(!1),a=E(null),r=Xe(),p=Ht().params.id,f=E(),_=E(null),y=F(()=>_.value&&_.value<3?"warning":"info"),v=E(),h=E(!1);A(p);const{info:w}=ot(F(()=>{var P,L;return(L=(P=f.value)==null?void 0:P.collection)!=null?L:null})),g=F(()=>{var P;return(P=w.value)==null?void 0:P.name}),k=F(()=>u.value?e("share_access_not_found_title"):g.value?e("viewing_in",{collection:g.value}):e("share_access_page"));return{t:e,share:f,error:a,title:k,loading:l,notFound:u,password:v,authenticate:D,authenticated:n,authenticating:o,usesLeft:_,usesLeftNoticeType:y,collectionName:g,passwordWrong:h};async function A(P){var L,B;l.value=!0;try{const O=await re.get(`/shares/info/${P}`);if(f.value=O.data.data,!f.value){u.value=!0,l.value=!1;return}const{max_uses:M,times_used:N}=f.value;M&&(_.value=M-N),await V()}catch(O){((L=O.response)==null?void 0:L.status)===404||((B=O.response)==null?void 0:B.status)===403?u.value=!0:a.value=O}finally{l.value=!1}}async function V(){var P,L,B,O,M;if(t.authenticated){const N=await re.get("/users/me",{params:{fields:["id"]}});if(((P=N.data.data)==null?void 0:P.share)&&(N.data.data.share!==p?await rl({navigate:!1}):await il()),((L=N.data.data)==null?void 0:L.id)&&!((B=N.data.data)==null?void 0:B.share)){r.replace(`/content/${f.value.collection}/${f.value.item}`);return}}!((O=f.value)==null?void 0:O.password)&&!((M=f.value)==null?void 0:M.max_uses)&&(t.authenticated?await il():await D())}async function D(){var P,L,B,O,M;o.value=!0;try{const N={share:p,password:v.value};await zo({share:!0,credentials:N})}catch(N){if(((M=(O=(B=(L=(P=N==null?void 0:N.response)==null?void 0:P.data)==null?void 0:L.errors)==null?void 0:B[0])==null?void 0:O.extensions)==null?void 0:M.code)==="INVALID_CREDENTIALS"){h.value=!0;return}a.value=N}finally{o.value=!1}}}}),SC={key:0,class:"hydrating"},CC={key:0};function VC(e,t,n,l,o,u){const a=c("v-progress-circular"),r=c("v-error"),s=c("v-notice"),p=c("v-input"),f=c("v-button"),_=c("share-item"),y=c("shared-view");return e.loading?(m(),I("div",SC,[i(a,{indeterminate:""})])):(m(),C(y,{key:1,inline:!e.authenticated,title:e.title},{default:d(()=>[e.notFound?(m(),I("div",CC,[S("strong",null,b(e.t("share_access_not_found")),1),T(" "+b(e.t("share_access_not_found_desc")),1)])):e.error?(m(),C(r,{key:1,error:e.error},null,8,["error"])):e.share?(m(),I(x,{key:2},[e.authenticated?(m(),C(_,{key:1,collection:e.share.collection,"primary-key":e.share.item},null,8,["collection","primary-key"])):(m(),I(x,{key:0},[e.usesLeft!==void 0&&e.usesLeft!==null?(m(),C(s,{key:0,type:e.usesLeftNoticeType},{default:d(()=>[T(b(e.t("shared_uses_left",e.usesLeft)),1)]),_:1},8,["type"])):R("",!0),e.usesLeft!==0?(m(),I(x,{key:1},[e.share.password?(m(),C(p,{key:0,class:ae(["password",{invalid:e.passwordWrong}]),type:"password",placeholder:e.t("shared_enter_passcode"),"onUpdate:modelValue":t[0]||(t[0]=v=>e.password=v)},null,8,["class","placeholder"])):R("",!0),i(f,{busy:e.authenticating,onClick:e.authenticate},{default:d(()=>[T(b(e.t("share_access_page")),1)]),_:1},8,["busy","onClick"])],64)):R("",!0)],64))],64)):R("",!0)]),_:1},8,["inline","title"]))}var FC=q(kC,[["render",VC],["__scopeId","data-v-456eb20d"]]);const AC=z({setup(){const{t:e}=J();return{t:e}}}),IC={class:"not-found"};function EC(e,t,n,l,o,u){const a=c("v-info"),r=c("private-view");return m(),C(r,{title:e.t("page_not_found")},{default:d(()=>[S("div",IC,[i(a,{title:e.t("page_not_found"),icon:"not_interested"},{default:d(()=>[T(b(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var DC=q(AC,[["render",EC],["__scopeId","data-v-a922425e"]]);const TC=z({setup(){const{t:e}=J(),t=E(null),n=E(!1),l=E(null),o=E(!1),u=F(()=>l.value?Gt(l.value):null),a=F(()=>"/login");return{t:e,sending:n,error:l,done:o,email:t,onSubmit:r,signInLink:a,errorFormatted:u};async function r(){n.value=!0,l.value=null;try{await re.post("/auth/password/request",{email:t.value}),o.value=!0}catch(s){l.value=s}finally{n.value=!1}}}}),LC={class:"buttons"};function PC(e,t,n,l,o,u){const a=c("v-input"),r=c("v-notice"),s=c("v-button"),p=c("router-link");return m(),I("form",{onSubmit:t[1]||(t[1]=Ae((...f)=>e.onSubmit&&e.onSubmit(...f),["prevent"]))},[i(a,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=f=>e.email=f),autofocus:"",autocomplete:"username",type:"email",placeholder:e.t("email")},null,8,["modelValue","placeholder"]),e.done?(m(),C(r,{key:0,type:"success"},{default:d(()=>[T(b(e.t("password_reset_sent")),1)]),_:1})):R("",!0),e.error?(m(),C(r,{key:1,type:"danger"},{default:d(()=>[T(b(e.errorFormatted),1)]),_:1})):R("",!0),S("div",LC,[i(s,{type:"submit",loading:e.sending,large:""},{default:d(()=>[T(b(e.t("reset")),1)]),_:1},8,["loading"]),i(p,{to:e.signInLink,class:"sign-in"},{default:d(()=>[T(b(e.t("sign_in")),1)]),_:1},8,["to"])])],32)}var OC=q(TC,[["render",PC],["__scopeId","data-v-388f645e"]]);const RC=z({props:{token:{type:String,required:!0}},setup(e){const{t}=J(),n=E(null),l=E(!1),o=E(null),u=E(!1),a=F(()=>o.value?Gt(o.value):null),r=F(()=>"/login"),s=F(()=>ei(e.token).email);return{t,resetting:l,error:o,done:u,password:n,onSubmit:p,signInLink:r,errorFormatted:a,email:s};async function p(){l.value=!0,o.value=null;try{await re.post("/auth/password/reset",{password:n.value,token:e.token}),u.value=!0}catch(f){o.value=f}finally{l.value=!1}}}});function jC(e,t,n,l,o,u){const a=c("v-input"),r=c("v-notice"),s=c("v-button");return m(),I("form",{onSubmit:t[1]||(t[1]=Ae((...p)=>e.onSubmit&&e.onSubmit(...p),["prevent"]))},[i(a,{"model-value":e.email,disabled:""},null,8,["model-value"]),i(a,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=p=>e.password=p),placeholder:e.t("password"),autofocus:"",autocomplete:"username",type:"password",disabled:e.done},null,8,["modelValue","placeholder","disabled"]),e.done?(m(),C(r,{key:0,type:"success"},{default:d(()=>[T(b(e.t("password_reset_successful")),1)]),_:1})):R("",!0),e.error?(m(),C(r,{key:1,type:"danger"},{default:d(()=>[T(b(e.errorFormatted),1)]),_:1})):R("",!0),e.done?(m(),C(s,{key:3,large:"",to:e.signInLink},{default:d(()=>[T(b(e.t("sign_in")),1)]),_:1},8,["to"])):(m(),C(s,{key:2,type:"submit",loading:e.resetting,large:""},{default:d(()=>[T(b(e.t("reset")),1)]),_:1},8,["loading"]))],32)}var MC=q(RC,[["render",jC],["__scopeId","data-v-31ae4e7a"]]);const UC=z({components:{RequestForm:OC,ResetForm:MC},setup(){const{t:e}=J(),t=Ht(),n=F(()=>t.query.token);return{t:e,resetToken:n}}}),NC={class:"type-title"};function BC(e,t,n,l,o,u){const a=c("request-form"),r=c("reset-form"),s=c("v-icon"),p=c("public-view");return m(),C(p,null,{notice:d(()=>[i(s,{name:"lock_outlined",left:""}),T(" "+b(e.t("not_authenticated")),1)]),default:d(()=>[S("h1",NC,b(e.t("reset_password")),1),e.resetToken?(m(),C(r,{key:1,token:e.resetToken},null,8,["token"])):(m(),C(a,{key:0}))]),_:1})}var qC=q(UC,[["render",BC],["__scopeId","data-v-05544d73"]]);const zC=[{path:"/",redirect:"/login"},{name:"login",path:"/login",component:_C,props:e=>({ssoErrorCode:e.query.error?e.query.code:null,logoutReason:e.query.reason}),meta:{public:!0}},{name:"reset-password",path:"/reset-password",component:qC,meta:{public:!0}},{name:"accept-invite",path:"/accept-invite",component:RS,meta:{public:!0}},{name:"logout",path:"/logout",component:gC,meta:{public:!0}},{name:"shared",path:"/shared/:id([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})",component:FC,meta:{public:!0}},{name:"private-404",path:"/:_(.+)+",component:DC}],Mt=td({history:nd(Ge()+"admin/"),routes:zC});let ti=!0;const KC=async e=>{var l;const t=bt(),n=Sn();if(ti){ti=!1;try{await $n({navigate:!1})}catch{}}if(n.info===null&&await n.hydrate(),((l=e.meta)==null?void 0:l.public)!==!0&&t.hydrated===!1)return t.hydrating=!1,t.authenticated===!0&&t.hydrating===!1?(await il(),e.fullPath):e.fullPath?"/login?redirect="+encodeURIComponent(e.fullPath):"/login"},HC=e=>{const t=Ze();e.meta.public!==!0&&setTimeout(()=>{t.trackPage(e.fullPath)},500)};Mt.beforeEach(KC);Mt.afterEach(HC);const WC=z({name:"InsightsNavigation",emits:["create"],setup(){const{t:e}=J(),t=qn(),n=E(!1);return{navItems:F(()=>t.dashboards.map(o=>({icon:o.icon,name:o.name,to:`/insights/${o.id}`}))),createDialogActive:n,t:e}}});function GC(e,t,n,l,o,u){const a=c("v-button"),r=c("v-icon"),s=c("v-list-item-icon"),p=c("v-text-overflow"),f=c("v-list-item-content"),_=c("v-list-item"),y=c("v-list");return m(),C(y,{nav:""},{default:d(()=>[e.navItems.length===0?(m(),C(a,{key:0,"full-width":"",outlined:"",dashed:"",onClick:t[0]||(t[0]=v=>e.$emit("create"))},{default:d(()=>[T(b(e.t("create_dashboard")),1)]),_:1})):(m(!0),I(x,{key:1},$e(e.navItems,v=>(m(),C(_,{key:v.to,to:v.to},{default:d(()=>[i(s,null,{default:d(()=>[i(r,{name:v.icon},null,8,["name"])]),_:2},1024),i(f,null,{default:d(()=>[i(p,{text:v.name},null,8,["text"])]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})}var ko=q(WC,[["render",GC]]);const ZC=z({name:"DashboardDialog",props:{modelValue:{type:Boolean,default:!1},dashboard:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){var s,p,f,_,y,v;const{t:n}=J(),l=qn(),o=rn({name:(p=(s=e.dashboard)==null?void 0:s.name)!=null?p:null,icon:(_=(f=e.dashboard)==null?void 0:f.icon)!=null?_:"dashboard",note:(v=(y=e.dashboard)==null?void 0:y.note)!=null?v:null});ye(()=>e.modelValue,(h,w)=>{var g,k,A,V,D,P;U.exports.isEqual(h,w)===!1&&(o.name=(k=(g=e.dashboard)==null?void 0:g.name)!=null?k:null,o.icon=(V=(A=e.dashboard)==null?void 0:A.icon)!=null?V:"dashboard",o.note=(P=(D=e.dashboard)==null?void 0:D.note)!=null?P:null)});const u=E(!1);return{values:o,cancel:a,saving:u,save:r,t:n};function a(){t("update:modelValue",!1)}async function r(){u.value=!0;try{if(e.dashboard)await re.patch(`/dashboards/${e.dashboard.id}`,o,{params:{fields:["id"]}}),await l.hydrate();else{const h=await re.post("/dashboards",o,{params:{fields:["id"]}});await l.hydrate(),Mt.push(`/insights/${h.data.data.id}`)}t("update:modelValue",!1)}catch(h){Se(h)}finally{u.value=!1}}}}),JC={class:"fields"};function QC(e,t,n,l,o,u){const a=c("v-card-title"),r=c("v-input"),s=c("interface-select-icon"),p=c("v-card-text"),f=c("v-button"),_=c("v-card-actions"),y=c("v-card"),v=c("v-dialog");return m(),C(v,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[3]||(t[3]=h=>e.$emit("update:modelValue",h)),onEsc:e.cancel},{activator:d(h=>[be(e.$slots,"activator",Je(et(h)),void 0,!0)]),default:d(()=>[i(y,null,{default:d(()=>[e.dashboard?(m(),C(a,{key:1},{default:d(()=>[T(b(e.t("edit_dashboard")),1)]),_:1})):(m(),C(a,{key:0},{default:d(()=>[T(b(e.t("create_dashboard")),1)]),_:1})),i(p,null,{default:d(()=>[S("div",JC,[i(r,{modelValue:e.values.name,"onUpdate:modelValue":t[0]||(t[0]=h=>e.values.name=h),autofocus:"",placeholder:e.t("dashboard_name")},null,8,["modelValue","placeholder"]),i(s,{value:e.values.icon,onInput:t[1]||(t[1]=h=>e.values.icon=h)},null,8,["value"]),i(r,{modelValue:e.values.note,"onUpdate:modelValue":t[2]||(t[2]=h=>e.values.note=h),class:"full",placeholder:e.t("note")},null,8,["modelValue","placeholder"])])]),_:1}),i(_,null,{default:d(()=>[i(f,{secondary:"",onClick:e.cancel},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1},8,["onClick"]),i(f,{disabled:!e.values.name,loading:e.saving,onClick:e.save},{default:d(()=>[T(b(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:3},8,["model-value","onEsc"])}var XC=q(ZC,[["render",QC],["__scopeId","data-v-35403a37"]]);function Ol(e){return ld.sanitize(od(e))}const YC=z({name:"InsightsOverview",components:{InsightsNavigation:ko,DashboardDialog:XC},setup(){const{t:e}=J(),t=qn(),n=Lt(),l=E(null),o=E(!1),u=E(null),a=E(!1),r=F(()=>n.hasPermission("directus_dashboards","create")),s=[{text:"",value:"icon",width:42,sortable:!1},{text:e("name"),value:"name",width:240},{text:e("note"),value:"note",width:360}];return{dashboards:F(()=>t.dashboards),createAllowed:r,tableHeaders:s,navigateToDashboard:f,createDialogActive:a,confirmDelete:l,deletingDashboard:o,deleteDashboard:_,editDashboard:u,t:e,md:Ol};function f({item:y}){Mt.push(`/insights/${y.id}`)}async function _(){if(!!l.value){o.value=!0;try{await re.delete(`/dashboards/${l.value}`),await t.hydrate(),l.value=null}catch(y){Se(y)}finally{o.value=!1}}}}}),xC={class:"page-description"};function e6(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-button"),s=c("insights-navigation"),p=c("dashboard-dialog"),f=c("sidebar-detail"),_=c("v-list-item-icon"),y=c("v-list-item-content"),v=c("v-list-item"),h=c("v-list"),w=c("v-menu"),g=c("v-table"),k=c("v-info"),A=c("v-card-title"),V=c("v-card-actions"),D=c("v-card"),P=c("v-dialog"),L=c("private-view"),B=ke("tooltip"),O=ke("md");return m(),C(L,{title:e.t("insights")},{"title-outer:prepend":d(()=>[i(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[i(a,{name:"insights"})]),_:1})]),navigation:d(()=>[i(s,{onCreate:t[0]||(t[0]=M=>e.createDialogActive=!0)})]),actions:d(()=>[i(p,{modelValue:e.createDialogActive,"onUpdate:modelValue":t[1]||(t[1]=M=>e.createDialogActive=M)},{activator:d(({on:M})=>[Q(i(r,{rounded:"",icon:"",disabled:e.createAllowed===!1,onClick:M},{default:d(()=>[i(a,{name:"add"})]),_:2},1032,["disabled","onClick"]),[[B,e.createAllowed?e.t("create_dashboard"):e.t("not_allowed"),void 0,{bottom:!0}]])]),_:1},8,["modelValue"])]),sidebar:d(()=>[i(f,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[Q(S("div",xC,null,512),[[O,e.t("page_help_insights_overview")]])]),_:1},8,["title"])]),default:d(()=>[e.dashboards.length>0?(m(),C(g,{key:0,headers:e.tableHeaders,"onUpdate:headers":t[2]||(t[2]=M=>e.tableHeaders=M),items:e.dashboards,"show-resize":"","fixed-header":"","onClick:row":e.navigateToDashboard},{["item.icon"]:d(({item:M})=>[i(a,{class:"icon",name:M.icon},null,8,["name"])]),"item-append":d(({item:M})=>[i(w,{placement:"left-start","show-arrow":""},{activator:d(({toggle:N})=>[i(a,{name:"more_vert",class:"ctx-toggle",onClick:N},null,8,["onClick"])]),default:d(()=>[i(h,null,{default:d(()=>[i(v,{class:"warning",clickable:"",onClick:N=>e.editDashboard=M},{default:d(()=>[i(_,null,{default:d(()=>[i(a,{name:"edit",outline:""})]),_:1}),i(y,null,{default:d(()=>[T(b(e.t("edit_dashboard")),1)]),_:1})]),_:2},1032,["onClick"]),i(v,{class:"danger",clickable:"",onClick:N=>e.confirmDelete=M.id},{default:d(()=>[i(_,null,{default:d(()=>[i(a,{name:"delete",outline:""})]),_:1}),i(y,null,{default:d(()=>[T(b(e.t("delete_dashboard")),1)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["headers","items","onClick:row"])):(m(),C(k,{key:1,icon:"dashboard",title:e.t("no_dashboards"),center:""},{default:d(()=>[T(b(e.t("no_dashboards_copy")),1)]),_:1},8,["title"])),i(P,{"model-value":!!e.confirmDelete,onEsc:t[4]||(t[4]=M=>e.confirmDelete=null)},{default:d(()=>[i(D,null,{default:d(()=>[i(A,null,{default:d(()=>[T(b(e.t("dashboard_delete_confirm")),1)]),_:1}),i(V,null,{default:d(()=>[i(r,{secondary:"",onClick:t[3]||(t[3]=M=>e.confirmDelete=null)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(r,{danger:"",loading:e.deletingDashboard,onClick:e.deleteDashboard},{default:d(()=>[T(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"]),i(p,{"model-value":!!e.editDashboard,dashboard:e.editDashboard,"onUpdate:modelValue":t[5]||(t[5]=M=>e.editDashboard=null)},null,8,["model-value","dashboard"])]),_:1},8,["title"])}var t6=q(YC,[["render",e6],["__scopeId","data-v-1571418d"]]);const n6=z({components:{InsightsNavigation:ko},setup(){const{t:e}=J();return{t:e}}}),l6={key:0,class:"not-found"};function o6(e,t,n,l,o,u){const a=c("insights-navigation"),r=c("v-info"),s=c("private-view");return m(),C(s,{title:e.t("insights")},{navigation:d(()=>[i(a)]),default:d(()=>[e.currentDashboard?R("",!0):(m(),I("div",l6,[i(r,{title:e.t("page_not_found"),icon:"not_interested"},{default:d(()=>[T(b(e.t("page_not_found_body")),1)]),_:1},8,["title"])]))]),_:1},8,["title"])}var a6=q(n6,[["render",o6],["__scopeId","data-v-d6310128"]]);function Rl(e,t,n){const[l,o]=e,[u,a]=t,[r,s]=n,p=l-u,f=o-a,_=r-u,y=s-a;return p*y-f*_!==0?!1:Math.abs(_)>=Math.abs(y)?_>0?u<=l&&l<=r:r<=l&&l<=u:y>0?a<=o&&o<=s:s<=o&&o<=a}const i6=z({name:"Panel",props:{panel:{type:Object,required:!0},editMode:{type:Boolean,default:!1},now:{type:Date,required:!0}},emits:["update","move","duplicate","delete"],setup(e,{emit:t}){const{t:n}=J(),{panels:l}=Jn(),o=F(()=>l.value.find(h=>h.id===e.panel.type)),u=rn({position_x:void 0,position_y:void 0,width:void 0,height:void 0}),{onPointerDown:a,onPointerUp:r,onPointerMove:s,dragging:p}=v(),f=F(()=>{var h,w,g,k;return p.value?{x:(h=u.position_x)!=null?h:e.panel.position_x,y:(w=u.position_y)!=null?w:e.panel.position_y,width:(g=u.width)!=null?g:e.panel.width,height:(k=u.height)!=null?k:e.panel.height}:{x:e.panel.position_x,y:e.panel.position_y,width:e.panel.width,height:e.panel.height}}),_=F(()=>{var h,w,g,k;return p.value?{"--pos-x":(h=u.position_x)!=null?h:e.panel.position_x,"--pos-y":(w=u.position_y)!=null?w:e.panel.position_y,"--width":(g=u.width)!=null?g:e.panel.width,"--height":(k=u.height)!=null?k:e.panel.height}:{"--pos-x":e.panel.position_x,"--pos-y":e.panel.position_y,"--width":e.panel.width,"--height":e.panel.height}}),y=F(()=>({"--v-icon-color":e.panel.color}));return{positioning:f,positionStyling:_,iconColor:y,onPointerDown:a,onPointerUp:r,onPointerMove:s,dragging:p,editedPosition:u,t:n,omit:U.exports.omit};function v(){const h=E(!1);let w=0,g=0,k=0,A=0,V=0,D=0,P="move";const L=U.exports.throttle(M=>{var de,ne;if(e.editMode===!1||h.value===!1)return;const N=M.pageX-w,K=M.pageY-g,G=Math.round(N/20),ie=Math.round(K/20);if(P==="move")u.position_x=k+G,u.position_y=A+ie,u.position_x<1&&(u.position_x=1),u.position_y<1&&(u.position_y=1);else{P.includes("top")&&(u.height=D-ie,u.position_y=A+ie),P.includes("right")&&(u.width=V+G),P.includes("bottom")&&(u.height=D+ie),P.includes("left")&&(u.width=V-G,u.position_x=k+G);const le=((de=o.value)==null?void 0:de.minWidth)||6,se=((ne=o.value)==null?void 0:ne.minHeight)||6;u.position_x&&u.position_x<1&&(u.position_x=1),u.position_y&&u.position_y<1&&(u.position_y=1),u.width&&u.width<le&&(u.width=le),u.height&&u.height<se&&(u.height=se)}},20);return{dragging:h,onPointerDown:B,onPointerUp:O,onPointerMove:L};function B(M,N){e.editMode!==!1&&(P=M,h.value=!0,w=N.pageX,g=N.pageY,k=e.panel.position_x,A=e.panel.position_y,V=e.panel.width,D=e.panel.height,window.addEventListener("pointerup",O),window.addEventListener("pointermove",L))}function O(){h.value=!1,e.editMode!==!1&&(t("update",u),window.removeEventListener("pointerup",O),window.removeEventListener("pointermove",L),u.position_x=void 0,u.position_y=void 0,u.width=void 0,u.height=void 0)}}}}),r6=e=>(He("data-v-5ce18b57"),e=e(),We(),e),s6={key:0,class:"header"},d6=r6(()=>S("div",{class:"spacer"},null,-1)),u6={class:"resize-details"},c6={key:2,class:"resize-handlers"};function p6(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-text-overflow"),s=c("v-list-item-icon"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("v-list"),y=c("v-menu"),v=ke("tooltip");return m(),I("div",{class:ae(["panel",{editing:e.editMode,dragging:e.dragging,"br-tl":e.dragging||e.panel.borderRadius[0],"br-tr":e.dragging||e.panel.borderRadius[1],"br-br":e.dragging||e.panel.borderRadius[2],"br-bl":e.dragging||e.panel.borderRadius[3]}]),style:Ue(e.positionStyling),"data-move":"",onPointerdown:t[13]||(t[13]=h=>e.onPointerDown("move",h))},[e.panel.show_header?(m(),I("div",s6,[i(a,{class:"icon",style:Ue(e.iconColor),name:e.panel.icon},null,8,["style","name"]),i(r,{class:"name selectable",text:e.panel.name||""},null,8,["text"]),d6,e.panel.note?Q((m(),C(a,{key:0,class:"note",name:"info"},null,512)),[[v,e.panel.note]]):R("",!0)])):R("",!0),e.editMode?(m(),I("div",{key:1,class:"edit-actions",onPointerdown:t[4]||(t[4]=Ae(()=>{},["stop"]))},[Q(i(a,{class:"edit-icon",name:"edit",clickable:"",onClick:t[0]||(t[0]=Ae(h=>e.$router.push(`/insights/${e.panel.dashboard}/${e.panel.id}`),["stop"]))},null,512),[[v,e.t("edit")]]),i(y,{placement:"bottom-end","show-arrow":""},{activator:d(({toggle:h})=>[i(a,{class:"more-icon",name:"more_vert",clickable:"",onClick:h},null,8,["onClick"])]),default:d(()=>[i(_,null,{default:d(()=>[i(f,{clickable:"",disabled:e.panel.id.startsWith("_"),onClick:t[1]||(t[1]=h=>e.$emit("move"))},{default:d(()=>[i(s,null,{default:d(()=>[i(a,{class:"move-icon",name:"input"})]),_:1}),i(p,null,{default:d(()=>[T(b(e.t("copy_to")),1)]),_:1})]),_:1},8,["disabled"]),i(f,{clickable:"",onClick:t[2]||(t[2]=h=>e.$emit("duplicate"))},{default:d(()=>[i(s,null,{default:d(()=>[i(a,{name:"control_point_duplicate"})]),_:1}),i(p,null,{default:d(()=>[T(b(e.t("duplicate")),1)]),_:1})]),_:1}),i(f,{class:"delete-action",clickable:"",onClick:t[3]||(t[3]=h=>e.$emit("delete"))},{default:d(()=>[i(s,null,{default:d(()=>[i(a,{name:"delete"})]),_:1}),i(p,null,{default:d(()=>[T(b(e.t("delete_panel")),1)]),_:1})]),_:1})]),_:1})]),_:1})],32)):R("",!0),S("div",u6," ("+b(e.positioning.x-1)+":"+b(e.positioning.y-1)+") "+b(e.positioning.width)+"\xD7"+b(e.positioning.height),1),e.editMode?(m(),I("div",c6,[S("div",{class:"top",onPointerdown:t[5]||(t[5]=Ae(h=>e.onPointerDown("resize-top",h),["stop"]))},null,32),S("div",{class:"right",onPointerdown:t[6]||(t[6]=Ae(h=>e.onPointerDown("resize-right",h),["stop"]))},null,32),S("div",{class:"bottom",onPointerdown:t[7]||(t[7]=Ae(h=>e.onPointerDown("resize-bottom",h),["stop"]))},null,32),S("div",{class:"left",onPointerdown:t[8]||(t[8]=Ae(h=>e.onPointerDown("resize-left",h),["stop"]))},null,32),S("div",{class:"top-left",onPointerdown:t[9]||(t[9]=Ae(h=>e.onPointerDown("resize-top-left",h),["stop"]))},null,32),S("div",{class:"top-right",onPointerdown:t[10]||(t[10]=Ae(h=>e.onPointerDown("resize-top-right",h),["stop"]))},null,32),S("div",{class:"bottom-right",onPointerdown:t[11]||(t[11]=Ae(h=>e.onPointerDown("resize-bottom-right",h),["stop"]))},null,32),S("div",{class:"bottom-left",onPointerdown:t[12]||(t[12]=Ae(h=>e.onPointerDown("resize-bottom-left",h),["stop"]))},null,32)])):R("",!0),S("div",{class:ae(["panel-content",{"has-header":e.panel.show_header}])},[(m(),C(qe(`panel-${e.panel.type}`),mt(e.panel.options,{id:e.panel.id,"show-header":e.panel.show_header,height:e.panel.height,width:e.panel.width,dashboard:e.panel.dashboard,now:e.now}),null,16,["id","show-header","height","width","dashboard","now"]))],2)],38)}var m6=q(i6,[["render",p6],["__scopeId","data-v-5ce18b57"]]);const f6=z({name:"InsightsWorkspace",components:{InsightsPanel:m6},props:{panels:{type:Array,required:!0},editMode:{type:Boolean,default:!1},zoomToFit:{type:Boolean,default:!1},now:{type:Date,required:!0}},emits:["update","move","delete","duplicate"],setup(e){const t=ct("main-element",E()),n=mn(t),l=F(()=>{var s;return Number(((s=r("--content-padding"))==null?void 0:s.slice(0,-2))||0)}),o=F(()=>{const s=e.panels.reduce((f,_)=>(_.position_x>f.position_x&&(f.position_x=_.position_x,f.width=_.width),f),{position_x:0,width:0}),p=e.panels.reduce((f,_)=>(_.position_y>f.position_y&&(f.position_y=_.position_y,f.height=_.height),f),{position_y:0,height:0});return e.editMode===!0?{width:(s.position_x+s.width+25)*20,height:(p.position_y+p.height+25)*20}:{width:(s.position_x+s.width-1)*20,height:(p.position_y+p.height-1)*20}}),u=F(()=>{if(e.zoomToFit===!1)return 1;const{width:s,height:p}=n,f=(s.value-l.value*2)/o.value.width,_=(p.value-114-l.value*2)/o.value.height;return Math.min(f,_)}),a=F(()=>({width:o.value.width*u.value+l.value*2,height:o.value.height*u.value+l.value*2}));return{workspaceSize:o,workspaceBoxSize:a,mainElement:t,zoomScale:u};function r(s){if(!!t.value)return getComputedStyle(t.value).getPropertyValue(s).trim()}}});function _6(e,t,n,l,o,u){const a=c("insights-panel");return m(),I("div",{class:ae(["workspace-padding-box",{editing:e.editMode}]),style:Ue({width:e.workspaceBoxSize.width+"px",height:e.workspaceBoxSize.height+"px"})},[S("div",{class:"workspace",style:Ue({transform:`scale(${e.zoomScale})`,width:e.workspaceSize.width+"px",height:e.workspaceSize.height+"px"})},[(m(!0),I(x,null,$e(e.panels,r=>(m(),C(a,{key:r.id,panel:r,"edit-mode":e.editMode,now:e.now,onUpdate:s=>e.$emit("update",{edits:s,id:r.id}),onMove:s=>e.$emit("move",r.id),onDelete:s=>e.$emit("delete",r.id),onDuplicate:s=>e.$emit("duplicate",r)},null,8,["panel","edit-mode","now","onUpdate","onMove","onDelete","onDuplicate"]))),128))],4)],6)}var v6=q(f6,[["render",_6],["__scopeId","data-v-8bccfe76"]]);const y6=z({name:"InsightsDashboard",components:{InsightsNotFound:a6,InsightsNavigation:ko,InsightsWorkspace:v6},props:{primaryKey:{type:String,required:!0},panelKey:{type:String,default:null}},setup(e){var le;const{t}=J(),n=qn(),l=bt(),{fullScreen:o}=Me(l),u=E(!1),a=E(!1),r=E(!1),s=E((le=n.dashboards.find(se=>se.id!==e.primaryKey))==null?void 0:le.id),p=E(),f=E(!1);nt("meta+s",()=>{B()}),ye(u,se=>{se?(f.value=!1,window.onbeforeunload=()=>""):window.onbeforeunload=null});const _=F(()=>n.dashboards.find(se=>se.id===e.primaryKey)),y=F(()=>n.dashboards.filter(se=>se.id!==e.primaryKey)),v=E([]),h=E([]),w=new Date,g=F(()=>{var me;const Z=[...(((me=_.value)==null?void 0:me.panels)||[]).filter(H=>h.value.includes(H.id)===!1).map(H=>{const Y=v.value.find(_e=>_e.id===H.id);return Y?U.exports.merge({},H,Y):H}),...v.value.filter(H=>{var Y;return(Y=H.id)==null?void 0:Y.startsWith("_")})].map(H=>Ve(pe({},H),{_coordinates:[[H.position_x,H.position_y],[H.position_x+H.width,H.position_y],[H.position_x+H.width,H.position_y+H.height],[H.position_x,H.position_y+H.height]]}));return Z.map(H=>{let Y=!1,_e=!1,ve=!1,ue=!1;for(const W of Z){if(W.id===H.id)continue;const X=[[W._coordinates[0],W._coordinates[1]],[W._coordinates[1],W._coordinates[2]],[W._coordinates[2],W._coordinates[3]],[W._coordinates[3],W._coordinates[0]]];Y===!1&&(Y=X.some(([ce,oe])=>Rl(H._coordinates[0],ce,oe))),_e===!1&&(_e=X.some(([ce,oe])=>Rl(H._coordinates[1],ce,oe))),ve===!1&&(ve=X.some(([ce,oe])=>Rl(H._coordinates[2],ce,oe))),ue===!1&&(ue=X.some(([ce,oe])=>Rl(H._coordinates[3],ce,oe)))}return Ve(pe({},H),{borderRadius:[!Y,!_e,!ve,!ue]})})}),k=E(!1),A=E(!1),V=E(null),D=se=>{const ee=h.value.length>0||v.value.length>0;if(u.value&&se.params.primaryKey!==e.primaryKey){if(ee)return A.value=!0,V.value=se.fullPath,!1;u.value=!1}};return hl(D),Hn(D),{currentDashboard:_,editMode:u,panels:g,stagePanelEdits:P,stagedPanels:v,saving:a,saveChanges:B,stageConfiguration:L,movePanelID:p,movePanel:ne,deletePanel:O,attemptCancelChanges:M,duplicatePanel:G,movePanelLoading:r,t,toggleFullScreen:ie,zoomToFit:f,fullScreen:o,toggleZoomToFit:de,md:Ol,movePanelChoices:y,movePanelTo:s,confirmLeave:A,discardAndLeave:K,now:w,confirmCancel:k,cancelChanges:N};function P(se){var Z;const ee=(Z=se.id)!=null?Z:e.panelKey;ee==="+"?v.value=[...v.value,pe({id:`_${yt()}`,dashboard:e.primaryKey},se.edits)]:v.value.some(te=>te.id===ee)?v.value=v.value.map(te=>te.id===ee?U.exports.merge({id:ee,dashboard:e.primaryKey},te,se.edits):te):v.value=[...v.value,pe({id:ee,dashboard:e.primaryKey},se.edits)]}function L(se){P({edits:se}),Mt.replace(`/insights/${e.primaryKey}`)}async function B(){if(!_.value)return;if(v.value.length===0&&h.value.length===0){u.value=!1;return}a.value=!0;const ee=[..._.value.panels.map(Z=>Z.id).map(Z=>v.value.find(te=>te.id===Z)||Z),...v.value.filter(Z=>{var te;return(te=Z.id)==null?void 0:te.startsWith("_")}).map(Z=>U.exports.omit(Z,"id"))];try{v.value.length>0&&await re.patch(`/dashboards/${e.primaryKey}`,{panels:ee}),h.value.length>0&&await re.delete("/panels",{data:h.value}),await n.hydrate(),v.value=[],u.value=!1}catch(Z){Se(Z)}finally{a.value=!1}}async function O(se){!_.value||(v.value=v.value.filter(ee=>ee.id!==se),se.startsWith("_")===!1&&h.value.push(se))}function M(){v.value.length>0||h.value.length>0?k.value=!0:N()}function N(){k.value=!1,v.value=[],h.value=[],u.value=!1}function K(){!V.value||(N(),A.value=!1,Mt.push(V.value))}function G(se){const ee=U.exports.omit(U.exports.merge({},se),"id");ee.position_x=ee.position_x+2,ee.position_y=ee.position_y+2,P({edits:ee,id:"+"})}function ie(){o.value=!o.value}function de(){f.value=!f.value}async function ne(){r.value=!0;const se=g.value.find(ee=>ee.id===p.value);try{await re.post("/panels",Ve(pe({},U.exports.omit(se,["id"])),{dashboard:s.value})),await n.hydrate(),p.value=null}catch(ee){Se(ee)}finally{r.value=!1}}}}),h6={class:"page-description"};function g6(e,t,n,l,o,u){const a=c("insights-not-found"),r=c("v-icon"),s=c("v-button"),p=c("v-breadcrumb"),f=c("sidebar-detail"),_=c("insights-navigation"),y=c("insights-workspace"),v=c("router-view"),h=c("v-card-title"),w=c("v-notice"),g=c("v-select"),k=c("v-card-text"),A=c("v-card-actions"),V=c("v-card"),D=c("v-dialog"),P=c("private-view"),L=ke("tooltip"),B=ke("md");return e.currentDashboard?(m(),C(P,{key:1,title:e.currentDashboard.name},{"title-outer:prepend":d(()=>[i(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[i(r,{name:e.currentDashboard.icon},null,8,["name"])]),_:1})]),headline:d(()=>[i(p,{items:[{name:e.t("insights"),to:"/insights"}]},null,8,["items"])]),actions:d(()=>[e.editMode?(m(),I(x,{key:0},[Q(i(s,{class:"clear-changes",rounded:"",icon:"",outlined:"",onClick:e.attemptCancelChanges},{default:d(()=>[i(r,{name:"clear"})]),_:1},8,["onClick"]),[[L,e.t("clear_changes"),void 0,{bottom:!0}]]),Q(i(s,{rounded:"",icon:"",outlined:"",to:`/insights/${e.currentDashboard.id}/+`},{default:d(()=>[i(r,{name:"add"})]),_:1},8,["to"]),[[L,e.t("create_panel"),void 0,{bottom:!0}]]),Q(i(s,{rounded:"",icon:"",loading:e.saving,onClick:e.saveChanges},{default:d(()=>[i(r,{name:"check"})]),_:1},8,["loading","onClick"]),[[L,e.t("save"),void 0,{bottom:!0}]])],64)):(m(),I(x,{key:1},[Q(i(s,{active:e.zoomToFit,class:"zoom-to-fit",rounded:"",icon:"",outlined:"",onClick:e.toggleZoomToFit},{default:d(()=>[i(r,{name:"aspect_ratio"})]),_:1},8,["active","onClick"]),[[L,e.t("fit_to_screen"),void 0,{bottom:!0}]]),Q(i(s,{active:e.fullScreen,class:"fullscreen",rounded:"",icon:"",outlined:"",onClick:e.toggleFullScreen},{default:d(()=>[i(r,{name:"fullscreen"})]),_:1},8,["active","onClick"]),[[L,e.t("full_screen"),void 0,{bottom:!0}]]),Q(i(s,{rounded:"",icon:"",outlined:"",onClick:t[0]||(t[0]=O=>e.editMode=!e.editMode)},{default:d(()=>[i(r,{name:"edit"})]),_:1},512),[[L,e.t("edit_panels"),void 0,{bottom:!0}]])],64))]),sidebar:d(()=>[i(f,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[Q(S("div",h6,null,512),[[B,e.t("page_help_insights_dashboard")]])]),_:1},8,["title"])]),navigation:d(()=>[i(_)]),default:d(()=>[i(y,{"edit-mode":e.editMode,panels:e.panels,"zoom-to-fit":e.zoomToFit,now:e.now,onUpdate:e.stagePanelEdits,onMove:t[1]||(t[1]=O=>e.movePanelID=O),onDelete:e.deletePanel,onDuplicate:e.duplicatePanel},null,8,["edit-mode","panels","zoom-to-fit","now","onUpdate","onDelete","onDuplicate"]),i(v,{name:"detail","dashboard-key":e.primaryKey,panel:e.panelKey?e.panels.find(O=>O.id===e.panelKey):null,onSave:e.stageConfiguration,onCancel:t[2]||(t[2]=O=>e.$router.replace(`/insights/${e.primaryKey}`))},null,8,["dashboard-key","panel","onSave"]),i(D,{"model-value":!!e.movePanelID,"onUpdate:modelValue":t[5]||(t[5]=O=>e.movePanelID=null),onEsc:t[6]||(t[6]=O=>e.movePanelID=null)},{default:d(()=>[i(V,null,{default:d(()=>[i(h,null,{default:d(()=>[T(b(e.t("copy_to")),1)]),_:1}),i(k,null,{default:d(()=>[e.movePanelChoices.length===0?(m(),C(w,{key:0},{default:d(()=>[T(b(e.t("no_other_dashboards_copy")),1)]),_:1})):(m(),C(g,{key:1,modelValue:e.movePanelTo,"onUpdate:modelValue":t[3]||(t[3]=O=>e.movePanelTo=O),items:e.movePanelChoices,"item-text":"name","item-value":"id"},null,8,["modelValue","items"]))]),_:1}),i(A,null,{default:d(()=>[i(s,{secondary:"",onClick:t[4]||(t[4]=O=>e.movePanelID=null)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(s,{loading:e.movePanelLoading,onClick:e.movePanel},{default:d(()=>[T(b(e.t("copy")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"]),i(D,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[8]||(t[8]=O=>e.confirmLeave=O),onEsc:t[9]||(t[9]=O=>e.confirmLeave=!1)},{default:d(()=>[i(V,null,{default:d(()=>[i(h,null,{default:d(()=>[T(b(e.t("unsaved_changes")),1)]),_:1}),i(k,null,{default:d(()=>[T(b(e.t("unsaved_changes_copy")),1)]),_:1}),i(A,null,{default:d(()=>[i(s,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[T(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),i(s,{onClick:t[7]||(t[7]=O=>e.confirmLeave=!1)},{default:d(()=>[T(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),i(D,{modelValue:e.confirmCancel,"onUpdate:modelValue":t[11]||(t[11]=O=>e.confirmCancel=O),onEsc:t[12]||(t[12]=O=>e.confirmCancel=!1)},{default:d(()=>[i(V,null,{default:d(()=>[i(h,null,{default:d(()=>[T(b(e.t("unsaved_changes")),1)]),_:1}),i(k,null,{default:d(()=>[T(b(e.t("discard_changes_copy")),1)]),_:1}),i(A,null,{default:d(()=>[i(s,{secondary:"",onClick:e.cancelChanges},{default:d(()=>[T(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),i(s,{onClick:t[10]||(t[10]=O=>e.confirmCancel=!1)},{default:d(()=>[T(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])):(m(),C(a,{key:0}))}var b6=q(y6,[["render",g6],["__scopeId","data-v-65bd4004"]]);const w6=z({props:{type:{type:String,required:!0},extension:{type:String,default:null},showAdvanced:{type:Boolean,default:!1},options:{type:Object,default:null},modelValue:{type:Object,default:()=>({})},collection:{type:String,default:""},field:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:n}=J(),l=F(()=>{switch(e.type){case"interface":return Et(e.extension);case"display":return Zn(e.extension);case"panel":return Va(e.extension);default:return null}}),o=F(()=>l.value?l.value.options&&"render"in l.value.options:!1),u=F(()=>{var s;if(o.value===!0)return[];let r;if(e.options)r=e.options;else{if(!l.value)return[];if(!((s=l.value)==null?void 0:s.options))return[];r=l.value.options}return r?Array.isArray(r)?r:e.showAdvanced?[...r.standard,...r.advanced]:r.standard:[]}),a=F({get(){return e.modelValue},set(r){t("update:modelValue",r)}});return{usesCustomComponent:o,extensionInfo:l,optionsValues:a,optionsFields:u,t:n}}});function $6(e,t,n,l,o,u){const a=c("v-notice"),r=c("v-form");return e.usesCustomComponent===!1&&e.optionsFields.length===0?(m(),C(a,{key:0},{default:d(()=>[T(b(e.t("no_options_available")),1)]),_:1})):e.usesCustomComponent===!1?(m(),C(r,{key:1,modelValue:e.optionsValues,"onUpdate:modelValue":t[0]||(t[0]=s=>e.optionsValues=s),class:"extension-options",fields:e.optionsFields,"primary-key":"+"},null,8,["modelValue","fields"])):(m(),C(qe(`${e.type}-options-${e.extensionInfo.id}`),{key:2,value:e.optionsValues,collection:e.collection,field:e.field,onInput:t[1]||(t[1]=s=>e.optionsValues=s)},null,8,["value","collection","field"]))}var jl=q(w6,[["render",$6]]);const k6=z({name:"PanelConfiguration",components:{ExtensionOptions:jl},props:{panel:{type:Object,default:null}},emits:["cancel","save"],setup(e,{emit:t}){var _,y,v,h,w,g,k,A,V,D,P,L,B,O,M,N,K,G,ie;const{t:n}=J(),{panels:l}=Jn(),o=fn(),u=rn({show_header:(y=(_=e.panel)==null?void 0:_.show_header)!=null?y:!0,type:((v=e.panel)==null?void 0:v.type)||void 0,name:(h=e.panel)==null?void 0:h.name,note:(w=e.panel)==null?void 0:w.note,icon:(k=(g=e.panel)==null?void 0:g.icon)!=null?k:"insert_chart",color:(V=(A=e.panel)==null?void 0:A.color)!=null?V:"#00C897",width:(P=(D=e.panel)==null?void 0:D.width)!=null?P:void 0,height:(B=(L=e.panel)==null?void 0:L.height)!=null?B:void 0,position_x:(M=(O=e.panel)==null?void 0:O.position_x)!=null?M:1,position_y:(K=(N=e.panel)==null?void 0:N.position_y)!=null?K:1,options:(ie=(G=e.panel)==null?void 0:G.options)!=null?ie:{}}),a=F(()=>l.value.map(de=>({text:de.name,icon:de.icon,description:de.description,value:de.id}))),r=F(()=>Va(u.type));ye(r,de=>{de?(u.width=de.minWidth,u.height=de.minHeight):(u.width=void 0,u.height=void 0)});const s=F(()=>{var de,ne;return typeof((de=r.value)==null?void 0:de.options)=="function"?(ne=r.value)==null?void 0:ne.options(u):null});return{selectItems:a,close,emitSave:p,edits:u,t:n,isOpen:o,setOptionsValues:f,customOptionsFields:s};function p(){t("save",u)}function f(de){u.options=de}}}),S6={class:"content"},C6={class:"type-label panel-type-label"},V6={class:"form-grid"},F6={class:"field half-left"},A6={class:"type-label"},I6={class:"field half-right"},E6={class:"type-label"},D6={class:"field half-left"},T6={class:"type-label"},L6={class:"field half-right"},P6={class:"type-label"},O6={class:"field full"},R6={class:"type-label"};function j6(e,t,n,l,o,u){var k,A;const a=c("v-icon"),r=c("v-button"),s=c("v-fancy-select"),p=c("extension-options"),f=c("v-divider"),_=c("v-checkbox"),y=c("v-input"),v=c("interface-select-icon"),h=c("interface-select-color"),w=c("v-drawer"),g=ke("tooltip");return m(),C(w,{"model-value":e.isOpen,title:((k=e.panel)==null?void 0:k.name)||e.t("panel"),subtitle:e.t("panel_options"),icon:((A=e.panel)==null?void 0:A.icon)||"insert_chart",persistent:"",onCancel:t[7]||(t[7]=V=>e.$emit("cancel"))},{actions:d(()=>[Q(i(r,{disabled:!e.edits.type,icon:"",rounded:"",onClick:e.emitSave},{default:d(()=>[i(a,{name:"check"})]),_:1},8,["disabled","onClick"]),[[g,e.t("done"),void 0,{bottom:!0}]])]),default:d(()=>[S("div",S6,[S("p",C6,b(e.t("type")),1),i(s,{modelValue:e.edits.type,"onUpdate:modelValue":t[0]||(t[0]=V=>e.edits.type=V),class:"select",items:e.selectItems},null,8,["modelValue","items"]),e.edits.type?(m(),C(p,{key:0,modelValue:e.edits.options,"onUpdate:modelValue":t[1]||(t[1]=V=>e.edits.options=V),options:e.customOptionsFields,type:"panel",extension:e.edits.type},null,8,["modelValue","options","extension"])):R("",!0),i(f,{"inline-title":!1,large:""},{icon:d(()=>[i(a,{name:"info"})]),default:d(()=>[T(b(e.t("panel_header")),1)]),_:1}),S("div",V6,[S("div",F6,[S("p",A6,b(e.t("visible")),1),i(_,{modelValue:e.edits.show_header,"onUpdate:modelValue":t[2]||(t[2]=V=>e.edits.show_header=V),block:"",label:e.t("show_header")},null,8,["modelValue","label"])]),S("div",I6,[S("p",E6,b(e.t("name")),1),i(y,{modelValue:e.edits.name,"onUpdate:modelValue":t[3]||(t[3]=V=>e.edits.name=V),nullable:!1,disabled:e.edits.show_header!==!0,placeholder:e.t("panel_name_placeholder")},null,8,["modelValue","disabled","placeholder"])]),S("div",D6,[S("p",T6,b(e.t("icon")),1),i(v,{value:e.edits.icon,disabled:e.edits.show_header!==!0,onInput:t[4]||(t[4]=V=>e.edits.icon=V)},null,8,["value","disabled"])]),S("div",L6,[S("p",P6,b(e.t("color")),1),i(h,{value:e.edits.color,disabled:e.edits.show_header!==!0,width:"half",onInput:t[5]||(t[5]=V=>e.edits.color=V)},null,8,["value","disabled"])]),S("div",O6,[S("p",R6,b(e.t("note")),1),i(y,{modelValue:e.edits.note,"onUpdate:modelValue":t[6]||(t[6]=V=>e.edits.note=V),disabled:e.edits.show_header!==!0,placeholder:e.t("panel_note_placeholder")},null,8,["modelValue","disabled","placeholder"])])])])]),_:1},8,["model-value","title","subtitle","icon"])}var M6=q(k6,[["render",j6],["__scopeId","data-v-214b271a"]]),U6=un({id:"insights",name:"$t:insights",icon:"insights",routes:[{name:"insights-overview",path:"",component:t6},{name:"insights-dashboard",path:":primaryKey",component:b6,props:!0,children:[{name:"panel-detail",path:":panelKey",props:!0,components:{detail:M6}}]}],preRegisterCheck(e,t){return e.role.admin_access?!0:!!t.find(o=>o.collection==="directus_dashboards"&&o.action==="read")}}),N6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:U6});function ni(){const e=E(),t=E(!1),n=E(),l=F(()=>e.value?{directus:{version:e.value.directus.version},node:{version:e.value.node.version,uptime:pa(e.value.node.uptime*1e3)},os:{type:e.value.os.type,version:e.value.os.version,uptime:pa(e.value.os.uptime*1e3),totalmem:ad(e.value.os.totalmem)}}:null);return e.value||o(),{info:e,parsedInfo:l,loading:t,error:n};async function o(){t.value=!0,n.value=null;try{const u=await re.get("/server/info");e.value=u.data.data}catch(u){n.value=u}finally{t.value=!1}}}const B6=z({setup(){const{t:e}=J(),{parsedInfo:t}=ni(),n=[{icon:"public",name:e("settings_project"),to:"/settings/project"},{icon:"list_alt",name:e("settings_data_model"),to:"/settings/data-model"},{icon:"admin_panel_settings",name:e("settings_permissions"),to:"/settings/roles",outline:!0},{icon:"bookmark_border",name:e("settings_presets"),to:"/settings/presets"},{icon:"anchor",name:e("settings_webhooks"),to:"/settings/webhooks"}],l=F(()=>{var u,a,r,s,p,f,_,y;const o=new URLSearchParams({template:"bug_report.yml","directus-version":(a=(u=t.value)==null?void 0:u.directus.version)!=null?a:"","node-version":(s=(r=t.value)==null?void 0:r.node.version)!=null?s:"","operating-system":`${(f=(p=t.value)==null?void 0:p.os.type)!=null?f:""} ${(y=(_=t.value)==null?void 0:_.os.version)!=null?y:""}`});return[{icon:"bug_report",name:e("report_bug"),href:`https://github.com/directus/directus/issues/new?${o.toString()}`,outline:!0},{icon:"new_releases",name:e("request_feature"),href:"https://github.com/directus/directus/discussions/new",outline:!0}]});return{version:wa,navItems:n,externalItems:l}}});function q6(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-list-item-icon"),s=c("v-text-overflow"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("v-divider"),y=c("v-list");return m(),C(y,{nav:""},{default:d(()=>[(m(!0),I(x,null,$e(e.navItems,v=>(m(),C(f,{key:v.to,to:v.to},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:v.icon},null,8,["name"])]),_:2},1024),i(p,null,{default:d(()=>[i(s,{text:v.name},null,8,["text"])]),_:2},1024)]),_:2},1032,["to"]))),128)),i(_),(m(!0),I(x,null,$e(e.externalItems,v=>(m(),C(f,{key:v.href,href:v.href},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:v.icon},null,8,["name"])]),_:2},1024),i(p,null,{default:d(()=>[i(s,{text:v.name},null,8,["text"])]),_:2},1024)]),_:2},1032,["href"]))),128)),i(f,{href:"https://github.com/directus/directus/releases",class:"version"},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"directus"})]),_:1}),i(p,null,{default:d(()=>[i(s,{class:"version",text:`Directus ${e.version}`},null,8,["text"])]),_:1})]),_:1})]),_:1})}var Ut=q(B6,[["render",q6],["__scopeId","data-v-0513df29"]]);const z6=z({props:{collection:{type:Object,required:!0}},setup(e){const{t}=J(),n=Ke(),{deleting:l,deleteActive:o,deleteCollection:u}=r();return{t,deleting:l,deleteActive:o,deleteCollection:u,update:a};async function a(s){await n.updateCollection(e.collection.collection,s)}function r(){const s=E(!1),p=E(!1);return{deleting:s,deleteActive:p,deleteCollection:f};async function f(){s.value=!0;try{await n.deleteCollection(e.collection.collection),p.value=!1}finally{s.value=!1}}}}}),K6={key:0};function H6(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-list-item-icon"),s=c("v-list-item-content"),p=c("v-list-item"),f=c("v-list"),_=c("v-menu"),y=c("v-card-title"),v=c("v-button"),h=c("v-card-actions"),w=c("v-card"),g=c("v-dialog");return e.collection.collection.startsWith("directus_")===!1?(m(),I("div",K6,[i(_,{placement:"left-start","show-arrow":""},{activator:d(({toggle:k})=>[i(a,{name:"more_vert",clickable:"",class:"ctx-toggle",onClick:Ae(k,["prevent"])},null,8,["onClick"])]),default:d(()=>[i(f,null,{default:d(()=>[i(p,{clickable:"",class:"danger",onClick:t[0]||(t[0]=k=>e.deleteActive=!0)},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"delete",outline:""})]),_:1}),i(s,null,{default:d(()=>[T(b(e.collection.schema?e.t("delete_collection"):e.t("delete_folder")),1)]),_:1})]),_:1}),i(p,{clickable:"",onClick:t[1]||(t[1]=k=>{var A;return e.update({meta:{hidden:!((A=e.collection.meta)==null?void 0:A.hidden)}})})},{default:d(()=>{var k;return[((k=e.collection.meta)==null?void 0:k.hidden)===!1?(m(),I(x,{key:0},[i(r,null,{default:d(()=>[i(a,{name:"visibility_off"})]),_:1}),i(s,null,{default:d(()=>[T(b(e.collection.schema?e.t("make_collection_hidden"):e.t("make_folder_hidden")),1)]),_:1})],64)):(m(),I(x,{key:1},[i(r,null,{default:d(()=>[i(a,{name:"visibility"})]),_:1}),i(s,null,{default:d(()=>[T(b(e.collection.schema?e.t("make_collection_visible"):e.t("make_folder_visible")),1)]),_:1})],64))]}),_:1})]),_:1})]),_:1}),i(g,{modelValue:e.deleteActive,"onUpdate:modelValue":t[3]||(t[3]=k=>e.deleteActive=k),onEsc:t[4]||(t[4]=k=>e.deleteActive=null)},{default:d(()=>[i(w,null,{default:d(()=>[i(y,null,{default:d(()=>[T(b(e.collection.schema?e.t("delete_collection_are_you_sure"):e.t("delete_folder_are_you_sure")),1)]),_:1}),i(h,null,{default:d(()=>[i(v,{disabled:e.deleting,secondary:"",onClick:t[2]||(t[2]=k=>e.deleteActive=null)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1},8,["disabled"]),i(v,{loading:e.deleting,kind:"danger",onClick:e.deleteCollection},{default:d(()=>[T(b(e.collection.schema?e.t("delete_collection"):e.t("delete_folder")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])):R("",!0)}var li=q(z6,[["render",H6],["__scopeId","data-v-4a6f48bc"]]);const W6=z({name:"CollectionItem",components:{CollectionOptions:li,Draggable:It},props:{collection:{type:Object,required:!0},collections:{type:Array,required:!0},disableDrag:{type:Boolean,default:!1}},emits:["setNestedSort","editCollection"],setup(e,{emit:t}){const n=Ke(),{t:l}=J(),o=F(()=>e.collections.filter(_=>{var y;return((y=_.meta)==null?void 0:y.group)===e.collection.collection})),u=F(()=>{var _;switch((_=e.collection.meta)==null?void 0:_.collapse){case"open":return"folder_open";case"closed":return"folder";case"locked":return"folder_lock"}}),a=F(()=>{var _;switch((_=e.collection.meta)==null?void 0:_.collapse){case"open":return l("start_open");case"closed":return l("start_collapsed");case"locked":return l("always_open")}}),r=E(!1);return{collapseIcon:u,onGroupSortChange:f,nestedCollections:o,update:p,toggleCollapse:s,collapseTooltip:a,collapseLoading:r};async function s(){var y,v;if(r.value===!0)return;r.value=!0;let _="open";((y=e.collection.meta)==null?void 0:y.collapse)==="open"?_="closed":((v=e.collection.meta)==null?void 0:v.collapse)==="closed"&&(_="locked");try{await p({meta:{collapse:_}})}catch(h){Se(h)}finally{r.value=!1}}async function p(_){await n.updateCollection(e.collection.collection,_)}function f(_){const y=_.map(v=>({collection:v.collection,meta:{group:e.collection.collection}}));t("setNestedSort",y)}}}),G6={class:"collection-item"},Z6={class:"collection-item-detail"},J6={key:0,class:"collection-note"};function Q6(e,t,n,l,o,u){var h;const a=c("v-icon"),r=c("v-list-item-icon"),s=c("v-progress-circular"),p=c("collection-options"),f=c("v-list-item"),_=c("collection-item",!0),y=c("draggable"),v=ke("tooltip");return m(),I("div",G6,[i(f,{block:"",dense:"",clickable:"",class:ae({hidden:(h=e.collection.meta)==null?void 0:h.hidden}),to:e.collection.schema?`/settings/data-model/${e.collection.collection}`:void 0,onClick:t[0]||(t[0]=Ae(w=>e.collection.schema?null:e.$emit("editCollection",e.collection),["self"]))},{default:d(()=>{var w,g,k;return[i(r,null,{default:d(()=>[e.disableDrag?R("",!0):(m(),C(a,{key:0,class:"drag-handle",name:"drag_handle"}))]),_:1}),S("div",Z6,[i(a,{color:((w=e.collection.meta)==null?void 0:w.hidden)?"var(--foreground-subdued)":e.collection.color,class:"collection-icon",name:((g=e.collection.meta)==null?void 0:g.hidden)?"visibility_off":e.collection.icon},null,8,["color","name"]),S("span",{ref:"collectionName",class:"collection-name"},b(e.collection.name),513),((k=e.collection.meta)==null?void 0:k.note)?(m(),I("span",J6,b(e.collection.meta.note),1)):R("",!0)]),e.collection.type==="alias"||e.nestedCollections.length?(m(),I(x,{key:0},[e.collapseLoading?(m(),C(s,{key:0,small:"",indeterminate:""})):e.nestedCollections.length?Q((m(),C(a,{key:1,name:e.collapseIcon,clickable:e.nestedCollections.length>0,onClick:Ae(e.toggleCollapse,["stop","prevent"])},null,8,["name","clickable","onClick"])),[[v,e.collapseTooltip]]):(m(),C(a,{key:2,name:e.collapseIcon},null,8,["name"]))],64)):R("",!0),i(p,{collection:e.collection},null,8,["collection"])]}),_:1},8,["class","to"]),i(y,{"force-fallback":!0,"model-value":e.nestedCollections,group:{name:"collections"},"swap-threshold":.3,class:"drag-container","item-key":"collection",handle:".drag-handle","onUpdate:modelValue":e.onGroupSortChange},{item:d(({element:w})=>[i(_,{collection:w,collections:e.collections,onEditCollection:t[1]||(t[1]=g=>e.$emit("editCollection",g)),onSetNestedSort:t[2]||(t[2]=g=>e.$emit("setNestedSort",g))},null,8,["collection","collections"])]),_:1},8,["model-value","swap-threshold","onUpdate:modelValue"])])}var X6=q(W6,[["render",Q6],["__scopeId","data-v-619af804"]]);const Y6=z({name:"CollectionDialog",props:{modelValue:{type:Boolean,default:!1},collection:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){var s,p,f,_,y,v,h,w,g,k,A,V;const{t:n}=J(),l=Ke(),o=rn({collection:(p=(s=e.collection)==null?void 0:s.collection)!=null?p:null,icon:(_=(f=e.collection)==null?void 0:f.icon)!=null?_:"folder",note:(h=(v=(y=e.collection)==null?void 0:y.meta)==null?void 0:v.note)!=null?h:null,color:(g=(w=e.collection)==null?void 0:w.color)!=null?g:null,translations:(V=(A=(k=e.collection)==null?void 0:k.meta)==null?void 0:A.translations)!=null?V:null});ye(()=>e.modelValue,(D,P)=>{var L,B,O,M,N,K,G,ie,de,ne,le,se;U.exports.isEqual(D,P)===!1&&(o.collection=(B=(L=e.collection)==null?void 0:L.collection)!=null?B:null,o.icon=(M=(O=e.collection)==null?void 0:O.icon)!=null?M:"folder",o.note=(G=(K=(N=e.collection)==null?void 0:N.meta)==null?void 0:K.note)!=null?G:null,o.color=(de=(ie=e.collection)==null?void 0:ie.color)!=null?de:null,o.translations=(se=(le=(ne=e.collection)==null?void 0:ne.meta)==null?void 0:le.translations)!=null?se:null)});const u=E(!1);return{values:o,cancel:a,saving:u,save:r,t:n};function a(){t("update:modelValue",!1)}async function r(){u.value=!0;try{e.collection?(await re.patch(`/collections/${e.collection.collection}`,{meta:o}),await l.hydrate()):(await re.post("/collections",{collection:o.collection,meta:o}),await l.hydrate()),t("update:modelValue",!1)}catch(D){Se(D)}finally{u.value=!1}}}}),x6={class:"fields"};function eV(e,t,n,l,o,u){const a=c("v-card-title"),r=c("v-input"),s=c("interface-select-icon"),p=c("interface-select-color"),f=c("interface-list"),_=c("v-card-text"),y=c("v-button"),v=c("v-card-actions"),h=c("v-card"),w=c("v-dialog");return m(),C(w,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[5]||(t[5]=g=>e.$emit("update:modelValue",g)),onEsc:e.cancel},{activator:d(g=>[be(e.$slots,"activator",Je(et(g)),void 0,!0)]),default:d(()=>[i(h,null,{default:d(()=>[e.collection?(m(),C(a,{key:1},{default:d(()=>[T(b(e.t("edit_folder")),1)]),_:1})):(m(),C(a,{key:0},{default:d(()=>[T(b(e.t("create_folder")),1)]),_:1})),i(_,null,{default:d(()=>[S("div",x6,[i(r,{modelValue:e.values.collection,"onUpdate:modelValue":t[0]||(t[0]=g=>e.values.collection=g),disabled:!!e.collection,class:"full collection-key","db-safe":"",autofocus:"",placeholder:e.t("folder_key")},null,8,["modelValue","disabled","placeholder"]),i(s,{width:"half",value:e.values.icon,onInput:t[1]||(t[1]=g=>e.values.icon=g)},null,8,["value"]),i(p,{width:"half",value:e.values.color,onInput:t[2]||(t[2]=g=>e.values.color=g)},null,8,["value"]),i(r,{modelValue:e.values.note,"onUpdate:modelValue":t[3]||(t[3]=g=>e.values.note=g),class:"full",placeholder:e.t("note")},null,8,["modelValue","placeholder"]),i(f,{width:"full",class:"full",value:e.values.translations,placeholder:e.t("no_translations"),template:"{{ translation }} ({{ language }})",fields:[{field:"language",name:"$t:language",type:"string",schema:{default_value:"en-US"},meta:{interface:"system-language",width:"half"}},{field:"translation",name:"$t:field_options.directus_collections.collection_name",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:field_options.directus_collections.translation_placeholder"}}}],onInput:t[4]||(t[4]=g=>e.values.translations=g)},null,8,["value","placeholder","fields"])])]),_:1}),i(v,null,{default:d(()=>[i(y,{secondary:"",onClick:e.cancel},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1},8,["onClick"]),i(y,{disabled:!e.values.collection,loading:e.saving,onClick:e.save},{default:d(()=>[T(b(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:3},8,["model-value","onEsc"])}var tV=q(Y6,[["render",eV],["__scopeId","data-v-ce1c7cd4"]]);const nV=z({components:{SettingsNavigation:Ut,CollectionItem:X6,CollectionOptions:li,Draggable:It,CollectionDialog:tV},setup(){const{t:e}=J(),t=E(!1),n=E(),l=Ke(),o=F(()=>Ft(U.exports.sortBy(l.collections.filter(p=>p.collection.startsWith("directus_")===!1&&p.meta),["meta.sort","collection"]))),u=F(()=>o.value.filter(p=>{var f;return!((f=p.meta)==null?void 0:f.group)})),a=F(()=>Ft(U.exports.sortBy(l.collections.filter(p=>p.collection.startsWith("directus_")===!1&&!p.meta&&p.schema),["meta.sort","collection"]))),r=F(()=>Ft(U.exports.sortBy(l.collections.filter(p=>p.collection.startsWith("directus_")===!0).map(p=>Ve(pe({},p),{icon:"settings"})),"collection")));return{collectionDialogActive:t,t:e,collections:o,tableCollections:a,systemCollections:r,onSort:s,rootCollections:u,editCollection:n};async function s(p,f=!1){const _=p.map((y,v)=>{var h;return U.exports.merge(y,{meta:{sort:v+1,group:f?null:(h=y.meta)==null?void 0:h.group}})});l.collections=l.collections.map(y=>{const v=_.find(h=>h.collection===y.collection);return v?U.exports.merge({},y,v):y});try{await Promise.all(_.map(y=>re.patch(`/collections/${y.collection}`,{meta:{sort:y.meta.sort,group:y.meta.group}})))}catch(y){Se(y)}}}}),lV={class:"padding-box"},oV={class:"collection-name"},aV={class:"page-description"};function iV(e,t,n,l,o,u){const a=c("v-breadcrumb"),r=c("v-icon"),s=c("v-button"),p=c("collection-dialog"),f=c("settings-navigation"),_=c("v-info"),y=c("collection-item"),v=c("draggable"),h=c("v-list"),w=c("v-list-item-icon"),g=c("router-link"),k=c("collection-options"),A=c("v-list-item"),V=c("v-detail"),D=c("router-view"),P=c("sidebar-detail"),L=c("private-view"),B=ke("tooltip"),O=ke("md");return m(),C(L,{title:e.t("settings_data_model")},{headline:d(()=>[i(a,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[i(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[i(r,{name:"list_alt"})]),_:1})]),actions:d(()=>[i(p,{modelValue:e.collectionDialogActive,"onUpdate:modelValue":t[0]||(t[0]=M=>e.collectionDialogActive=M)},{activator:d(({on:M})=>[Q(i(s,{rounded:"",icon:"",class:"add-folder",onClick:M},{default:d(()=>[i(r,{name:"create_new_folder"})]),_:2},1032,["onClick"]),[[B,e.t("create_folder"),void 0,{bottom:!0}]])]),_:1},8,["modelValue"]),Q(i(s,{rounded:"",icon:"",to:"/settings/data-model/+"},{default:d(()=>[i(r,{name:"add"})]),_:1},512),[[B,e.t("create_collection"),void 0,{bottom:!0}]])]),navigation:d(()=>[i(f)]),sidebar:d(()=>[i(P,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[Q(S("div",aV,null,512),[[O,e.t("page_help_settings_datamodel_collections")]])]),_:1},8,["title"])]),default:d(()=>[S("div",lV,[e.collections.length===0?(m(),C(_,{key:0,type:"warning",icon:"box",title:e.t("no_collections")},{append:d(()=>[i(s,{to:"/settings/data-model/+"},{default:d(()=>[T(b(e.t("create_collection")),1)]),_:1})]),default:d(()=>[T(b(e.t("no_collections_copy_admin"))+" ",1)]),_:1},8,["title"])):(m(),C(h,{key:1,class:"draggable-list"},{default:d(()=>[i(v,{"force-fallback":!0,"model-value":e.rootCollections,group:{name:"collections"},"swap-threshold":.3,class:"root-drag-container","item-key":"collection",handle:".drag-handle","onUpdate:modelValue":t[2]||(t[2]=M=>e.onSort(M,!0))},{item:d(({element:M})=>[i(y,{collection:M,collections:e.collections,onEditCollection:t[1]||(t[1]=N=>e.editCollection=N),onSetNestedSort:e.onSort},null,8,["collection","collections","onSetNestedSort"])]),_:1},8,["model-value","swap-threshold"])]),_:1})),i(h,{class:"db-only"},{default:d(()=>[(m(!0),I(x,null,$e(e.tableCollections,M=>Q((m(),C(A,{key:M.collection,class:"collection-row hidden",block:"",dense:"",clickable:""},{default:d(()=>[i(w,null,{default:d(()=>[i(r,{name:"add"})]),_:1}),i(g,{class:"collection-name",to:`/settings/data-model/${M.collection}`},{default:d(()=>[i(r,{class:"collection-icon",name:"dns"}),S("span",oV,b(M.name),1)]),_:2},1032,["to"]),i(k,{collection:M},null,8,["collection"])]),_:2},1536)),[[B,e.t("db_only_click_to_configure")]])),128))]),_:1}),i(V,{label:e.t("system_collections")},{default:d(()=>[(m(!0),I(x,null,$e(e.systemCollections,M=>(m(),C(y,{key:M.collection,collection:M,collections:e.systemCollections,"disable-drag":""},null,8,["collection","collections"]))),128))]),_:1},8,["label"])]),i(D,{name:"add"}),i(p,{"model-value":!!e.editCollection,collection:e.editCollection,"onUpdate:modelValue":t[3]||(t[3]=M=>e.editCollection=null)},null,8,["model-value","collection"])]),_:1},8,["title"])}var rV=q(nV,[["render",iV],["__scopeId","data-v-195c2f9e"]]);function oi(e,t){t.field.schema===void 0&&U.exports.set(e,"field.schema",{})}function ai(e){var l,o,u,a;if(!((o=(l=e.field)==null?void 0:l.meta)==null?void 0:o.interface))return;const t=Et(e.field.meta.interface);if(!t)return;const n=(a=(u=t==null?void 0:t.localTypes)==null?void 0:u[0])!=null?a:"standard";U.exports.set(e,"localType",n)}function ii(e,t){var o,u;if(!((u=(o=e.field)==null?void 0:o.meta)==null?void 0:u.interface))return;const n=Et(e.field.meta.interface);if(!n)return e;if(t.field.type&&n.types.includes(t.field.type))return;const l=n==null?void 0:n.types[0];U.exports.set(e,"field.type",l)}function ri(e){const t=e==null?void 0:e.localType;switch(t){case"o2m":case"m2m":case"m2a":case"m2o":case"translations":case"file":case"files":U.exports.set(e,"field.meta.special",[t]);break;case"presentation":U.exports.set(e,"field.meta.special",["alias","no-data"]);break;case"group":U.exports.set(e,"field.meta.special",["alias","no-data","group"]);break}}function si(e){e.relations||(e.relations={}),e.relations.m2o=void 0,e.relations.o2m=void 0}var sV=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",resetSchema:oi,setLocalTypeForInterface:ai,setTypeForInterface:ii,setSpecialForLocalType:ri,resetRelations:si});function dV(e,t,n){var u,a;const{hasChanged:l,getCurrent:o}=n;l("localType")&&(di(e),ui(e,t)),l("field.field")&&ci(e),l("field.schema.is_nullable")&&((a=(u=e.field)==null?void 0:u.schema)==null?void 0:a.is_nullable)===!1&&o("relations.m2o.schema.on_delete")==="SET NULL"&&U.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION")}function di(e){U.exports.set(e,"field.type","uuid")}function ui(e,t){e.relations||(e.relations={}),e.relations.m2o={collection:t.collection,field:t.field.field,related_collection:"directus_files",meta:{sort_field:null},schema:{on_delete:"SET NULL"}}}function ci(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.m2o)||(e.relations={m2o:{}}),U.exports.set(e,"relations.m2o.field",e.field.field))}var uV=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",applyChanges:dV,setTypeToUUID:di,prepareRelation:ui,updateRelationField:ci});function cV(e,t,n){const{hasChanged:l}=n;l("localType")&&(pi(e),mi(e),fi(e,t),gi(e,t)),l("field.field")&&_i(e),l("relations.m2o.related_collection")&&vi(e,t,n),l("relations.o2m.field")&&So(e,t,n),l("relations.m2o.field")&&So(e,t,n),(l("relations.o2m.collection")||l("relations.m2o.collection"))&&bi(e),["relations.o2m.collection","relations.o2m.field","relations.m2o.field","relations.m2o.related_collection","relations.o2m.meta.sort_field"].some(l)&&(hi(e,t,n),pV(e,t,n))}function pi(e){U.exports.set(e,"field.schema",void 0)}function mi(e){U.exports.set(e,"field.type","alias")}function fi(e,t){var n,l;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(l=(n=e.field)==null?void 0:n.field)!=null?l:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}},e.relations.m2o={collection:void 0,field:void 0,related_collection:void 0,meta:{one_field:null,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}}}function _i(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.o2m)||(e.relations={o2m:{}}),U.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function vi(e,t,{getCurrent:n}){n("relations.o2m.collection")===n("relations.o2m.related_collection")&&U.exports.set(e,"relations.o2m.schema.on_delete","NO ACTION"),n("relations.m2o.collection")===n("relations.m2o.related_collection")&&U.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION")}function So(e,t,{getCurrent:n}){U.exports.set(e,"relations.o2m.meta.junction_field",n("relations.m2o.field")),U.exports.set(e,"relations.m2o.meta.junction_field",n("relations.o2m.field"))}function yi(e){return!!Ke().getCollection(e)}function Co(e,t){return!!Le().getField(e,t)}function hi(e,t,{getCurrent:n}){const l=n("relations.o2m.collection");!l||yi(l)?U.exports.set(e,"collections.junction",void 0):U.exports.set(e,"collections.junction",{collection:l,meta:{hidden:!0,icon:"import_export"},schema:{name:l},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]})}function pV(e,t,{getCurrent:n}){var _,y,v;const l=Le(),o=l.getPrimaryKeyFieldForCollection(t.collection),u=n("relations.o2m.collection"),a=n("relations.o2m.field"),r=n("relations.m2o.field"),s=n("relations.m2o.related_collection"),p=(_=l.getPrimaryKeyFieldForCollection(s))!=null?_:n("collections.related.fields[0]"),f=n("relations.o2m.meta.sort_field");u&&a&&Co(u,a)===!1?U.exports.set(e,"fields.junctionCurrent",{collection:u,field:a,type:(y=o==null?void 0:o.type)!=null?y:"integer",schema:{},meta:{hidden:!0}}):U.exports.set(e,"fields.junctionCurrent",void 0),u&&r&&Co(u,r)===!1?U.exports.set(e,"fields.junctionRelated",{collection:u,field:r,type:(v=p==null?void 0:p.type)!=null?v:"uuid",schema:{},meta:{hidden:!0}}):U.exports.set(e,"fields.junctionRelated",void 0),u&&f&&Co(u,f)===!1?U.exports.set(e,"fields.sort",{collection:u,field:f,type:"integer",schema:{},meta:{hidden:!1}}):U.exports.set(e,"fields.sort",void 0)}function gi(e,t){var a,r;const n=Le(),l=t.collection,o=(r=(a=n.getPrimaryKeyFieldForCollection(l))==null?void 0:a.field)!=null?r:"id",u=wi(l);U.exports.set(e,"relations.o2m.collection",u),U.exports.set(e,"relations.o2m.field",`${l}_${o}`),U.exports.set(e,"relations.m2o.collection",u),U.exports.set(e,"relations.m2o.related_collection","directus_files"),U.exports.set(e,"relations.m2o.field","directus_files_id")}function bi(e){var t,n,l,o,u,a;((n=(t=e==null?void 0:e.relations)==null?void 0:t.o2m)==null?void 0:n.collection)&&e.relations.o2m.collection!==((l=e.relations.m2o)==null?void 0:l.collection)&&U.exports.set(e,"relations.m2o.collection",e.relations.o2m.collection),((u=(o=e==null?void 0:e.relations)==null?void 0:o.m2o)==null?void 0:u.collection)&&e.relations.m2o.collection!==((a=e.relations.o2m)==null?void 0:a.collection)&&U.exports.set(e,"relations.o2m.collection",e.relations.m2o.collection)}function wi(e){let t=0,n=l(t);for(;yi(n);)t++,n=l(t);return n;function l(o){let u=`${e}_files`;return u.startsWith("directus_")&&(u="junction_"+u),o?u+"_"+o:u}}var mV=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",applyChanges:cV,removeSchema:pi,setTypeToAlias:mi,prepareRelation:fi,updateRelationField:_i,preventCircularConstraint:vi,setJunctionFields:So,generateCollections:hi,setDefaults:gi,matchJunctionCollectionName:bi,getAutomaticJunctionCollectionName:wi});function fV(e,t,n){const{hasChanged:l}=n;l("localType")&&($i(e),ki(e),Si(e))}function $i(e){U.exports.set(e,"field.schema",void 0)}function ki(e){U.exports.set(e,"field.type","alias")}function Si(e){U.exports.set(e,"field.meta.special",["alias","no-data","group"])}var _V=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",applyChanges:fV,removeSchema:$i,setTypeToAlias:ki,setSpecialToGroup:Si});function vV(e,t,n){const{hasChanged:l}=n;l("localType")&&(Ci(e),Vi(e),Fi(e,t),Ai(e,t,n)),l("field.field")&&(Ei(e),Ii(e,t,n)),l("relations.o2m.field")&&Fo(e,t,n),l("relations.m2o.field")&&Fo(e,t,n),(l("relations.o2m.collection")||l("relations.m2o.collection"))&&Li(e),l("fields.corresponding")&&Pi(e),["relations.o2m.collection","relations.o2m.field","relations.m2o.field","relations.o2m.meta.sort_field","relations.m2o.meta.one_collection_field"].some(l)&&(Ti(e,t,n),hV(e,t,n))}function Ci(e){U.exports.set(e,"field.schema",void 0)}function Vi(e){U.exports.set(e,"field.type","alias")}function Fi(e,t){var n,l;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(l=(n=e.field)==null?void 0:n.field)!=null?l:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}},e.relations.m2o={collection:void 0,field:void 0,related_collection:null,meta:{one_field:null,sort_field:null,one_deselect_action:"nullify"},schema:null}}function Ai(e,t,{getCurrent:n}){var r,s;const l=Le(),o=t.collection,u=(s=(r=l.getPrimaryKeyFieldForCollection(o))==null?void 0:r.field)!=null?s:"id",a=Vo(o,n("field.field"));U.exports.set(e,"relations.o2m.collection",a),U.exports.set(e,"relations.o2m.field",`${o}_${u}`),U.exports.set(e,"relations.m2o.collection",a),U.exports.set(e,"relations.m2o.field","item"),U.exports.set(e,"relations.m2o.meta.one_allowed_collections",[]),U.exports.set(e,"relations.m2o.meta.one_collection_field","collection")}function Ii(e,t,{getCurrent:n}){n("autoGenerateJunctionRelation")!==!1&&U.exports.set(e,"relations.o2m.collection",Vo(n("collection"),n("field.field")))}function Vo(e,t){let n=0,l=o(n);for(;Di(l);)n++,l=o(n);return l;function o(u){let a=`${e}_${t}`;return a.startsWith("directus_")&&(a="junction_"+a),u?a+"_"+u:a}}function Ei(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.o2m)||(e.relations={o2m:{}}),U.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function yV(e,t,{getCurrent:n}){n("relations.o2m.collection")===n("relations.o2m.related_collection")&&U.exports.set(e,"relations.o2m.schema.on_delete","NO ACTION")}function Fo(e,t,{getCurrent:n}){U.exports.set(e,"relations.o2m.meta.junction_field",n("relations.m2o.field")),U.exports.set(e,"relations.m2o.meta.junction_field",n("relations.o2m.field"))}function Di(e){return!!Ke().getCollection(e)}function Ml(e,t){return!!Le().getField(e,t)}function Ti(e,t,{getCurrent:n}){const l=n("relations.o2m.collection");!l||Di(l)?U.exports.set(e,"collections.junction",void 0):U.exports.set(e,"collections.junction",{collection:l,meta:{hidden:!0,icon:"import_export"},schema:{name:l},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]})}function hV(e,t,{getCurrent:n}){var f;const o=Le().getPrimaryKeyFieldForCollection(t.collection),u=n("relations.o2m.collection"),a=n("relations.o2m.field"),r=n("relations.m2o.field"),s=n("relations.m2o.meta.one_collection_field"),p=n("relations.o2m.meta.sort_field");u&&a&&Ml(u,a)===!1?U.exports.set(e,"fields.junctionCurrent",{collection:u,field:a,type:(f=o==null?void 0:o.type)!=null?f:"integer",schema:{},meta:{hidden:!0}}):U.exports.set(e,"fields.junctionCurrent",void 0),u&&r&&Ml(u,r)===!1?U.exports.set(e,"fields.junctionRelated",{collection:u,field:r,type:"string",schema:{},meta:{hidden:!0}}):U.exports.set(e,"fields.junctionRelated",void 0),u&&s&&Ml(u,s)===!1?U.exports.set(e,"fields.oneCollectionField",{collection:u,field:s,type:"string",schema:{},meta:{hidden:!0}}):U.exports.set(e,"fields.oneCollectionField",void 0),u&&p&&Ml(u,p)===!1?U.exports.set(e,"fields.sort",{collection:u,field:p,type:"integer",schema:{},meta:{hidden:!0}}):U.exports.set(e,"fields.sort",void 0)}function Li(e){var t,n,l,o,u,a;((n=(t=e==null?void 0:e.relations)==null?void 0:t.o2m)==null?void 0:n.collection)&&e.relations.o2m.collection!==((l=e.relations.m2o)==null?void 0:l.collection)&&U.exports.set(e,"relations.m2o.collection",e.relations.o2m.collection),((u=(o=e==null?void 0:e.relations)==null?void 0:o.m2o)==null?void 0:u.collection)&&e.relations.m2o.collection!==((a=e.relations.o2m)==null?void 0:a.collection)&&U.exports.set(e,"relations.o2m.collection",e.relations.m2o.collection)}function Pi(e){var t,n,l;((n=(t=e==null?void 0:e.fields)==null?void 0:t.corresponding)==null?void 0:n.field)&&U.exports.set(e,"relations.m2o.meta.one_field",e.fields.corresponding.field),((l=e.fields)==null?void 0:l.corresponding)||U.exports.set(e,"relations.m2o.meta.one_field",null)}var gV=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",applyChanges:vV,removeSchema:Ci,setTypeToAlias:Vi,prepareRelation:Fi,setDefaults:Ai,autoGenerateJunctionCollectionName:Ii,getAutomaticJunctionCollectionName:Vo,updateRelationField:Ei,preventCircularConstraint:yV,setJunctionFields:Fo,generateCollections:Ti,matchJunctionCollectionName:Li,setRelatedOneFieldForCorrespondingField:Pi});function bV(e,t,n){const{hasChanged:l}=n;l("localType")&&(Oi(e),Ri(e),ji(e,t)),l("autoGenerateJunctionRelation")&&Io(e,t,n),l("field.field")&&Mi(e),l("relations.m2o.related_collection")&&(Ui(e,t,n),Io(e,t,n)),l("relations.o2m.field")&&Ao(e,t,n),l("relations.m2o.field")&&Ao(e,t,n),(l("relations.o2m.collection")||l("relations.m2o.collection"))&&qi(e),l("fields.corresponding")&&zi(e),["relations.o2m.collection","relations.o2m.field","relations.m2o.field","relations.m2o.related_collection","relations.o2m.meta.sort_field"].some(l)&&(Bi(e,t,n),wV(e,t,n))}function Oi(e){U.exports.set(e,"field.schema",void 0)}function Ri(e){U.exports.set(e,"field.type","alias")}function ji(e,t){var n,l;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(l=(n=e.field)==null?void 0:n.field)!=null?l:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}},e.relations.m2o={collection:void 0,field:void 0,related_collection:void 0,meta:{one_field:null,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}}}function Mi(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.o2m)||(e.relations={o2m:{}}),U.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function Ui(e,t,{getCurrent:n}){n("relations.o2m.collection")===n("relations.o2m.related_collection")&&U.exports.set(e,"relations.o2m.schema.on_delete","NO ACTION"),n("relations.m2o.collection")===n("relations.m2o.related_collection")&&U.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION")}function Ao(e,t,{getCurrent:n}){U.exports.set(e,"relations.o2m.meta.junction_field",n("relations.m2o.field")),U.exports.set(e,"relations.m2o.meta.junction_field",n("relations.o2m.field"))}function Io(e,t,{getCurrent:n}){var r,s,p,f,_,y;if(n("autoGenerateJunctionRelation")===!1)return;const l=Le(),o=t.collection,u=(s=(r=l.getPrimaryKeyFieldForCollection(o))==null?void 0:r.field)!=null?s:"id",a=(f=(p=e.relations)==null?void 0:p.m2o)==null?void 0:f.related_collection;if(a){const v=Ni(o,a),h=(y=(_=l.getPrimaryKeyFieldForCollection(a))==null?void 0:_.field)!=null?y:"id";U.exports.set(e,"relations.o2m.collection",v),U.exports.set(e,"relations.m2o.collection",v),U.exports.set(e,"relations.o2m.related_collection",o),U.exports.set(e,"relations.m2o.related_collection",a),U.exports.set(e,"relations.o2m.field",`${o}_${u}`),U.exports.set(e,"relations.m2o.field",`${a}_${h}`),n("relations.o2m.field")===n("relations.m2o.field")&&U.exports.set(e,"relations.m2o.field",`related_${n("relations.m2o.field")}`)}else U.exports.set(e,"relations.o2m.collection",void 0),U.exports.set(e,"relations.m2o.collection",void 0),U.exports.set(e,"relations.o2m.related_collection",t.collection),U.exports.set(e,"relations.m2o.related_collection",void 0),U.exports.set(e,"relations.o2m.field",void 0),U.exports.set(e,"relations.m2o.field",void 0)}function Ni(e,t){let n=0,l=o(n);for(;Eo(l);)n++,l=o(n);return l;function o(u){let a=`${e}_${t}`;return a.startsWith("directus_")&&(a="junction_"+a),u?a+"_"+u:a}}function Eo(e){return!!Ke().getCollection(e)}function Do(e,t){return!!Le().getField(e,t)}function Bi(e,t,{getCurrent:n}){const l=n("relations.o2m.collection"),o=n("relations.m2o.related_collection");!l||Eo(l)?U.exports.set(e,"collections.junction",void 0):U.exports.set(e,"collections.junction",{collection:l,meta:{hidden:!0,icon:"import_export"},schema:{name:l},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]}),o&&Eo(o)===!1?U.exports.set(e,"collections.related",{collection:o,meta:{},schema:{name:o},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]}):U.exports.set(e,"collections.related",void 0)}function wV(e,t,{getCurrent:n}){var v,h,w,g;const l=Le(),o=pt(),u=l.getPrimaryKeyFieldForCollection(t.collection),a=n("relations.o2m.collection"),r=n("relations.o2m.field"),s=n("relations.m2o.field"),p=n("relations.o2m.meta.sort_field"),f=n("relations.m2o.related_collection"),_=(v=l.getPrimaryKeyFieldForCollection(f))!=null?v:n("collections.related.fields[0]"),y=o.relations.find(k=>k.collection===a&&k.field===s);y&&U.exports.set(e,"relations.m2o.meta.one_field",(h=y.meta)==null?void 0:h.one_field),a&&r&&Do(a,r)===!1?U.exports.set(e,"fields.junctionCurrent",{collection:a,field:r,type:(w=u==null?void 0:u.type)!=null?w:"integer",schema:{},meta:{hidden:!0}}):U.exports.set(e,"fields.junctionCurrent",void 0),a&&s&&Do(a,s)===!1?U.exports.set(e,"fields.junctionRelated",{collection:a,field:s,type:(g=_==null?void 0:_.type)!=null?g:"integer",schema:{},meta:{hidden:!0}}):U.exports.set(e,"fields.junctionRelated",void 0),a&&p&&Do(a,p)===!1?U.exports.set(e,"fields.sort",{collection:a,field:p,type:"integer",schema:{},meta:{hidden:!1}}):U.exports.set(e,"fields.sort",void 0)}function qi(e){var t,n,l,o,u,a;((n=(t=e==null?void 0:e.relations)==null?void 0:t.o2m)==null?void 0:n.collection)&&e.relations.o2m.collection!==((l=e.relations.m2o)==null?void 0:l.collection)&&U.exports.set(e,"relations.m2o.collection",e.relations.o2m.collection),((u=(o=e==null?void 0:e.relations)==null?void 0:o.m2o)==null?void 0:u.collection)&&e.relations.m2o.collection!==((a=e.relations.o2m)==null?void 0:a.collection)&&U.exports.set(e,"relations.o2m.collection",e.relations.m2o.collection)}function zi(e){var t,n,l;((n=(t=e==null?void 0:e.fields)==null?void 0:t.corresponding)==null?void 0:n.field)&&U.exports.set(e,"relations.m2o.meta.one_field",e.fields.corresponding.field),((l=e.fields)==null?void 0:l.corresponding)||U.exports.set(e,"relations.m2o.meta.one_field",null)}var $V=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",applyChanges:bV,removeSchema:Oi,setTypeToAlias:Ri,prepareRelation:ji,updateRelationField:Mi,preventCircularConstraint:Ui,setJunctionFields:Ao,autoGenerateJunctionFields:Io,getAutomaticJunctionCollectionName:Ni,generateCollections:Bi,matchJunctionCollectionName:qi,setRelatedOneFieldForCorrespondingField:zi});function kV(e,t,n){var u,a;const{hasChanged:l,getCurrent:o}=n;l("localType")&&Ki(e,t),l("field.field")&&Hi(e),l("relations.m2o.related_collection")&&(Wi(e),Gi(e,t),Zi(e,t)),l("fields.corresponding")&&Ji(e),l("field.schema.is_nullable")&&((a=(u=e.field)==null?void 0:u.schema)==null?void 0:a.is_nullable)===!1&&o("relations.m2o.schema.on_delete")==="SET NULL"&&U.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION")}function Ki(e,t){e.relations||(e.relations={}),e.relations.m2o={collection:t.collection,field:t.field.field,related_collection:void 0,meta:{sort_field:null},schema:{on_delete:"SET NULL"}}}function Hi(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.m2o)||(e.relations={m2o:{}}),U.exports.set(e,"relations.m2o.field",e.field.field))}function Wi(e){var o,u,a;const t=(u=(o=e.relations)==null?void 0:o.m2o)==null?void 0:u.related_collection;if(!t)return;((a=e.collections)==null?void 0:a.related)||(e.collections={related:void 0}),!!Ke().getCollection(t)===!1&&(e.collections.related={collection:t,fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0,is_primary_key:!0},meta:{hidden:!0}}],meta:{},schema:{}})}function Gi(e,t){var l,o;const n=(o=(l=e.relations)==null?void 0:l.m2o)==null?void 0:o.related_collection;!n||(e.relations||(e.relations={}),n===t.collection&&U.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION"))}function Zi(e,t){var u,a,r,s,p;const n=(a=(u=e.relations)==null?void 0:u.m2o)==null?void 0:a.related_collection;if(!n)return;const o=Le().getPrimaryKeyFieldForCollection(n);o?U.exports.set(e,"field.type",o.type):((p=(s=(r=t.collections.related)==null?void 0:r.fields)==null?void 0:s[0])==null?void 0:p.type)&&U.exports.set(e,"field.type",t.collections.related.fields[0].type)}function Ji(e){var t,n,l;((n=(t=e==null?void 0:e.fields)==null?void 0:t.corresponding)==null?void 0:n.field)&&U.exports.set(e,"relations.m2o.meta.one_field",e.fields.corresponding.field),((l=e.fields)==null?void 0:l.corresponding)||U.exports.set(e,"relations.m2o.meta.one_field",null)}var SV=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",applyChanges:kV,prepareRelation:Ki,updateRelationField:Hi,generateRelatedCollection:Wi,preventCircularConstraint:Gi,setTypeToRelatedPrimaryKey:Zi,setRelatedOneFieldForCorrespondingField:Ji});function CV(e,t,n){const{hasChanged:l}=n;l("localType")&&(Qi(e),Xi(e),Yi(e,t)),l("field.field")&&er(e),l("relations.o2m.collection")&&(nr(e),xi(e,t),or(e,t),To(e,t,n)),l("relations.o2m.field")&&(tr(e),lr(e,t)),l("relations.o2m.meta.sort_field")&&To(e,t,n)}function Qi(e){U.exports.set(e,"field.schema",void 0)}function Xi(e){U.exports.set(e,"field.type","alias")}function Yi(e,t){var n,l;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(l=(n=e.field)==null?void 0:n.field)!=null?l:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}}}function xi(e,t){var l,o;const n=(o=(l=e.relations)==null?void 0:l.o2m)==null?void 0:o.collection;!n||(e.relations||(e.relations={}),n===t.collection&&U.exports.set(e,"relations.o2m.schema.on_delete","NO ACTION"))}function er(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.o2m)||(e.relations={o2m:{}}),U.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function tr(e){var o,u,a;e.relations||(e.relations={});const t=pt(),n=(o=e.relations.o2m)==null?void 0:o.collection,l=(u=e.relations.o2m)==null?void 0:u.field;if(n&&l){const r=t.getRelationForField(n,l);if(r){U.exports.set(e,"relations.o2m.schema.on_delete",(a=r.schema)==null?void 0:a.on_delete);return}}}function nr(e){var o,u,a;const t=(u=(o=e.relations)==null?void 0:o.o2m)==null?void 0:u.collection;if(!t)return;const l=!!Ke().getCollection(t);((a=e.collections)==null?void 0:a.related)||(e.collections={related:void 0}),l===!1&&(e.collections.related={collection:t,fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0,is_primary_key:!0},meta:{hidden:!0}}],meta:{},schema:{}})}function lr(e,t){var r,s,p,f,_,y,v,h,w;const n=Le(),l=(f=(s=(r=e.relations)==null?void 0:r.o2m)==null?void 0:s.collection)!=null?f:(p=t.relations.o2m)==null?void 0:p.collection;if(!l)return;const o=t.collection&&(y=(_=n.getPrimaryKeyFieldForCollection(t.collection))==null?void 0:_.type)!=null?y:"integer",u=(h=(v=e.relations)==null?void 0:v.o2m)==null?void 0:h.field;if(!u)return;const a=!!n.getField(l,u);((w=e.fields)==null?void 0:w.corresponding)||(e.fields={corresponding:void 0}),a===!1&&(e.fields.corresponding={collection:l,field:u,type:o,schema:{},meta:{interface:"select-dropdown-m2o",hidden:!0}})}function or(e,t){var l,o;const n=(o=(l=e.relations)==null?void 0:l.o2m)==null?void 0:o.collection;!n||t.fields.corresponding&&U.exports.set(e,"fields.corresponding.collection",n)}function To(e,t,{getCurrent:n}){const l=n("relations.o2m.meta.sort_field");if(!l)return;const o=Le(),u=n("relations.o2m.collection");!!o.getField(u,l)?U.exports.set(e,"fields.sort",void 0):U.exports.set(e,"fields.sort",{collection:u,field:l,type:"integer",schema:{},meta:{hidden:!1}})}var VV=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",applyChanges:CV,removeSchema:Qi,setTypeToAlias:Xi,prepareRelation:Yi,preventCircularConstraint:xi,updateRelationField:er,useExistingRelationValues:tr,generateRelatedCollection:nr,generateRelatedField:lr,updateGeneratedRelatedField:or,generateSortField:To});function FV(e,t,n){const{hasChanged:l}=n;l("localType")&&(ar(e),ir(e),rr(e))}function ar(e){U.exports.set(e,"field.schema",void 0)}function ir(e){U.exports.set(e,"field.type","alias")}function rr(e){U.exports.set(e,"field.meta.special",["alias","no-data"])}var AV=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",applyChanges:FV,removeSchema:ar,setTypeToAlias:ir,setSpecialToNoData:rr});function IV(e,t,n){const{hasChanged:l}=n;l("field.type")&&(EV(e),DV(e,n))}function EV(e){var n;const t=(n=e.field)==null?void 0:n.type;switch(t){case"uuid":case"hash":case"json":case"csv":case"boolean":case"geometry":U.exports.set(e,"field.meta.special",[t]);break;case void 0:break;default:U.exports.set(e,"field.meta.special",null)}}function DV(e,t){var o;const n=Et(t.getCurrent("field.meta.interface")),l=(o=e.field)==null?void 0:o.type;l&&!(n==null?void 0:n.types.includes(l))&&U.exports.set(e,"field.meta.interface",void 0)}var TV=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",applyChanges:IV});function LV(e,t,n){const{hasChanged:l}=n;l("localType")&&(sr(e),dr(e),ur(e,t),fr(e,t,n)),l("field.field")&&cr(e),l("relations.m2o.related_collection")&&pr(e,t,n),l("relations.o2m.field")&&Lo(e,t,n),l("relations.m2o.field")&&Lo(e,t,n),(l("relations.o2m.collection")||l("relations.m2o.collection"))&&_r(e),["relations.o2m.collection","relations.o2m.field","relations.m2o.field","relations.m2o.related_collection","relations.o2m.meta.sort_field"].some(l)&&(mr(e,t,n),PV(e,t,n))}function sr(e){U.exports.set(e,"field.schema",void 0)}function dr(e){U.exports.set(e,"field.type","alias")}function ur(e,t){var n,l;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(l=(n=e.field)==null?void 0:n.field)!=null?l:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}},e.relations.m2o={collection:void 0,field:void 0,related_collection:void 0,meta:{one_field:null,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}}}function cr(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.o2m)||(e.relations={o2m:{}}),U.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function pr(e,t,{getCurrent:n}){n("relations.o2m.collection")===n("relations.o2m.related_collection")&&U.exports.set(e,"relations.o2m.schema.on_delete","NO ACTION"),n("relations.m2o.collection")===n("relations.m2o.related_collection")&&U.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION")}function Lo(e,t,{getCurrent:n}){U.exports.set(e,"relations.o2m.meta.junction_field",n("relations.m2o.field")),U.exports.set(e,"relations.m2o.meta.junction_field",n("relations.o2m.field"))}function Po(e){return!!Ke().getCollection(e)}function Oo(e,t){return!!Le().getField(e,t)}function mr(e,t,{getCurrent:n}){const l=n("relations.o2m.collection"),o=n("relations.m2o.related_collection");if(!l||Po(l)?U.exports.set(e,"collections.junction",void 0):U.exports.set(e,"collections.junction",{collection:l,meta:{hidden:!0,icon:"import_export"},schema:{name:l},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]}),o&&Po(o)===!1){U.exports.set(e,"collections.related",{collection:o,meta:{},schema:{name:o},fields:[{field:"code",type:"string",schema:{is_primary_key:!0},meta:{}},{field:"name",type:"string",schema:{},meta:{}}]});const u=U.exports.get(t,"relations.m2o.related_collection");t.items&&t.items[u]&&delete t.items[u],e.items={[o]:[{code:"en-US",name:"English"},{code:"de-DE",name:"German"},{code:"fr-FR",name:"French"},{code:"ru-RU",name:"Russian"},{code:"es-ES",name:"Spanish"},{code:"it-IT",name:"Italian"},{code:"pt-BR",name:"Portuguese"}]}}else U.exports.set(e,"collections.related",void 0),e.items={}}function PV(e,t,{getCurrent:n}){var _,y,v;const l=Le(),o=l.getPrimaryKeyFieldForCollection(t.collection),u=n("relations.o2m.collection"),a=n("relations.o2m.field"),r=n("relations.m2o.field"),s=n("relations.m2o.related_collection"),p=(_=l.getPrimaryKeyFieldForCollection(s))!=null?_:n("collections.related.fields[0]"),f=n("relations.o2m.sort_field");u&&a&&Oo(u,a)===!1?U.exports.set(e,"fields.junctionCurrent",{collection:u,field:a,type:(y=o==null?void 0:o.type)!=null?y:"integer",schema:{},meta:{hidden:!0}}):U.exports.set(e,"fields.junctionCurrent",void 0),u&&r&&Oo(u,r)===!1?U.exports.set(e,"fields.junctionRelated",{collection:u,field:r,type:(v=p==null?void 0:p.type)!=null?v:"string",schema:{},meta:{hidden:!0}}):U.exports.set(e,"fields.junctionRelated",void 0),u&&f&&Oo(u,f)===!1?U.exports.set(e,"fields.sort",{collection:u,field:f,type:"integer",schema:{},meta:{hidden:!1}}):U.exports.set(e,"fields.sort",void 0)}function fr(e,t,{getCurrent:n}){var p,f,_,y;const l=Le(),o=t.collection,u=(f=(p=l.getPrimaryKeyFieldForCollection(o))==null?void 0:p.field)!=null?f:"id",a=vr(o);U.exports.set(e,"relations.o2m.collection",a),U.exports.set(e,"relations.o2m.field",`${o}_${u}`),U.exports.set(e,"relations.m2o.collection",a),U.exports.set(e,"relations.m2o.related_collection","languages");const r=n("relations.m2o.related_collection"),s=(y=(_=l.getPrimaryKeyFieldForCollection(r))==null?void 0:_.field)!=null?y:"id";U.exports.set(e,"relations.m2o.field",`${r}_${s}`),n("field.field")||(U.exports.set(e,"field.field","translations"),U.exports.set(e,"relations.o2m.meta","translations"))}function _r(e){var t,n,l,o,u,a;((n=(t=e==null?void 0:e.relations)==null?void 0:t.o2m)==null?void 0:n.collection)&&e.relations.o2m.collection!==((l=e.relations.m2o)==null?void 0:l.collection)&&U.exports.set(e,"relations.m2o.collection",e.relations.o2m.collection),((u=(o=e==null?void 0:e.relations)==null?void 0:o.m2o)==null?void 0:u.collection)&&e.relations.m2o.collection!==((a=e.relations.o2m)==null?void 0:a.collection)&&U.exports.set(e,"relations.o2m.collection",e.relations.m2o.collection)}function vr(e){let t=0,n=l(t);for(;Po(n);)t++,n=l(t);return n;function l(o){let u=`${e}_translations`;return u.startsWith("directus_")&&(u="junction_"+u),o?u+"_"+o:u}}var OV=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",applyChanges:LV,removeSchema:sr,setTypeToAlias:dr,prepareRelation:ur,updateRelationField:cr,preventCircularConstraint:pr,setJunctionFields:Lo,generateCollections:mr,setDefaults:fr,matchJunctionCollectionName:_r,getAutomaticJunctionCollectionName:vr}),RV=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",global:sV,file:uV,files:mV,group:_V,m2a:gV,m2m:$V,m2o:SV,o2m:VV,presentation:AV,standard:TV,translations:OV});function ll(e,t){var a,r,s,p;const n=Le(),l=pt(),o=n.getField(e,t),u=l.getRelationsForField(e,t);if(!o)return null;if(u.length===0)return o.type==="alias"?((r=(a=o.meta)==null?void 0:a.special)==null?void 0:r.includes("group"))?"group":"presentation":"standard";if(u.length===1){const f=u[0];return f.related_collection==="directus_files"?"file":f.collection===e&&f.field===t?"m2o":"o2m"}if(u.length===2){if((((s=o.meta)==null?void 0:s.special)||[]).includes("translations"))return"translations";if((((p=o.meta)==null?void 0:p.special)||[]).includes("m2a"))return"m2a";const f=u.find(_=>{var y;return _.collection===e&&_.field===t||_.related_collection===e&&((y=_.meta)==null?void 0:y.one_field)===t});return(f==null?void 0:f.collection)===e&&(f==null?void 0:f.field)===t?"m2o":u[0].related_collection==="directus_files"||u[1].related_collection==="directus_files"?"files":"m2m"}return"standard"}function Ee(e,t){const n=kt();return F({get(){return U.exports.get(n,e,t)},set(l){n.update(U.exports.set({},e,l))}})}const kt=Tt({id:"fieldDetailStore",state:()=>({collection:void 0,editing:"+",field:{field:void 0,type:void 0,schema:{},meta:{}},relations:{m2o:void 0,o2m:void 0},collections:{junction:void 0,related:void 0},fields:{corresponding:void 0,junctionCurrent:void 0,junctionRelated:void 0,sort:void 0,oneCollectionField:void 0},items:{},localType:"standard",autoGenerateJunctionRelation:!0,saving:!1}),actions:{startEditing(e,t,n){if(this.$reset(),this.collection=e,this.field.collection=e,this.editing=t,t!=="+"){const l=Le(),o=pt();this.field=U.exports.cloneDeep(l.getField(e,t)),this.localType=ll(e,t);const u=U.exports.cloneDeep(o.getRelationsForField(e,t));this.relations.o2m=u.find(a=>{var r;return a.related_collection===e&&((r=a.meta)==null?void 0:r.one_field)===t}),["files","m2m","translations","m2a"].includes(this.localType)?this.relations.m2o=u.find(a=>{var r,s,p;return((r=a.meta)==null?void 0:r.id)!==((p=(s=this.relations.o2m)==null?void 0:s.meta)==null?void 0:p.id)}):this.relations.m2o=u.find(a=>a.collection===e&&a.field===t)}else this.update({localType:n!=null?n:"standard"})},update(e){const t=u=>U.exports.has(e,u)&&U.exports.get(e,u)!==U.exports.get(this,u),n=u=>U.exports.has(e,u)?U.exports.get(e,u):U.exports.get(this,u),l={hasChanged:t,getCurrent:n};t("field.meta.interface")&&(ai(e),ii(e,this)),t("localType")&&(oi(e,this),si(e),ri(e));const o=n("localType");o&&RV[o].applyChanges(e,this,l),this.$patch(e)},async save(){if(!this.collection||!this.field.field)return;const e=Ke(),t=Le(),n=pt();this.saving=!0;try{await t.upsertField(this.collection,this.editing,this.field);for(const l of Object.values(this.collections))!l||!l.collection||await e.upsertCollection(l==null?void 0:l.collection,l);for(const l of Object.values(this.fields))!l||!l.collection||!l.field||await t.upsertField(l.collection,l.field,l);for(const l of Object.values(this.relations))!l||!l.collection||!l.field||await n.upsertRelation(l.collection,l.field,l);for(const l of Object.keys(this.items))await re.post(`/items/${l}`,this.items[l]);await t.hydrate()}catch(l){Se(l)}finally{this.saving=!1}}},getters:{missingConfiguration(e){const t=["field.field","field.type","collection"],n=e.localType;return(n==="files"||n==="m2m"||n==="translations")&&t.push("relations.o2m.collection","relations.o2m.field","relations.o2m.related_collection","relations.m2o.collection","relations.m2o.field","relations.m2o.related_collection"),(n==="file"||n==="m2o")&&t.push("relations.m2o.collection","relations.m2o.field","relations.m2o.related_collection"),n==="o2m"&&t.push("relations.o2m.collection","relations.o2m.field","relations.o2m.related_collection"),n==="m2a"&&t.push("relations.o2m.collection","relations.o2m.field","relations.o2m.related_collection","relations.m2o.collection","relations.m2o.field","relations.m2o.meta.one_allowed_collections","relations.m2o.meta.one_collection_field"),t.filter(l=>(U.exports.has(e,l)&&U.exports.isEmpty(U.exports.get(e,l))===!1)===!1)},readyToSave(){return this.missingConfiguration.length===0},interfacesForType(){const{interfaces:e}=cn();return U.exports.orderBy(e.value.filter(t=>{if(t.system===!0)return!1;const n=t.types.includes(this.field.type||"alias"),l=(t.localTypes||["standard"]).includes(this.localType);return n&&l}),["name"])},displaysForType(){const{displays:e}=Sl();return U.exports.orderBy(e.value.filter(t=>{const n=t.types.includes(this.field.type||"alias"),l=(t.localTypes||["standard"]).includes(this.localType);return n&&l}),["name"])},generationInfo(){const e=[];for(const t of Object.values(this.collections))!t||!t.collection||e.push({name:t.collection,type:"collection"});for(const t of Object.values(this.fields))!t||!t.collection||!t.field||e.push({name:`${t.collection}.${t.field}`,type:"field"});return e}}});function ft(e,t,n){return F({get(){var l,o;return(o=(l=e.value)==null?void 0:l[t])!=null?o:Wn(n)},set(l){e.value=Object.assign({},e.value,{[t]:l})}})}const jV=z({props:{modelValue:{type:String,default:null},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){const{t}=J(),n=Ke(),l=F(()=>!!n.getCollection(e.modelValue)),o=F(()=>U.exports.orderBy(n.collections.filter(a=>a.collection.startsWith("directus_")===!1&&a.schema),["sort","collection"],["asc"])),u=F(()=>U.exports.orderBy(n.crudSafeSystemCollections.filter(a=>a.collection.startsWith("directus_")===!0),["collection"],["asc"]));return{t,collectionExists:l,availableCollections:o,systemCollections:u}}});function MV(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-list-item-content"),s=c("v-list-item"),p=c("v-divider"),f=c("v-list-group"),_=c("v-list"),y=c("v-menu"),v=c("v-text-overflow"),h=c("v-input"),w=ke("tooltip");return m(),C(h,{key:"related-collection-select","model-value":e.modelValue,class:ae({matches:e.collectionExists}),"db-safe":"",nullable:!1,disabled:e.disabled,placeholder:e.t("collection")+"...","onUpdate:modelValue":t[0]||(t[0]=g=>e.$emit("update:modelValue",g))},xe({_:2},[e.disabled?void 0:{name:"append",fn:d(()=>[i(y,{"show-arrow":"",placement:"bottom-end"},{activator:d(({toggle:g})=>[Q(i(a,{name:"list_alt",clickable:"",disabled:e.disabled,onClick:g},null,8,["disabled","onClick"]),[[w,e.t("select_existing")]])]),default:d(()=>[i(_,{class:"monospace"},{default:d(()=>[(m(!0),I(x,null,$e(e.availableCollections,g=>(m(),C(s,{key:g.collection,active:e.modelValue===g.collection,clickable:"",onClick:k=>e.$emit("update:modelValue",g.collection)},{default:d(()=>[i(r,null,{default:d(()=>[T(b(g.collection),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128)),i(p),i(f,null,{activator:d(()=>[T(b(e.t("system")),1)]),default:d(()=>[(m(!0),I(x,null,$e(e.systemCollections,g=>(m(),C(s,{key:g.collection,active:e.modelValue===g.collection,clickable:"",onClick:k=>e.$emit("update:modelValue",g.collection)},{default:d(()=>[i(r,null,{default:d(()=>[T(b(g.collection),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1})]),_:1})])},e.disabled?{name:"input",fn:d(()=>[i(v,{text:e.modelValue},null,8,["text"])])}:void 0]),1032,["model-value","class","disabled","placeholder"])}var jn=q(jV,[["render",MV]]);const UV=z({props:{modelValue:{type:String,default:null},disabled:{type:Boolean,default:!1},collection:{type:String,default:null},typeDenyList:{type:Array,default:()=>[]},placeholder:{type:String,default:()=>ze.global.t("foreign_key")+"..."},nullable:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){const{t}=J(),n=Le(),l=F(()=>e.collection?n.getFieldsForCollectionAlphabetical(e.collection).map(u=>{var a;return{text:u.field,value:u.field,disabled:!u.schema||((a=u.schema)==null?void 0:a.is_primary_key)||e.typeDenyList.includes(u.type)}}):[]),o=F(()=>!e.collection||!e.modelValue?!1:!!n.getField(e.collection,e.modelValue));return{t,fields:l,fieldExists:o}}});function NV(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-list-item-content"),s=c("v-list-item"),p=c("v-list"),f=c("v-menu"),_=c("v-text-overflow"),y=c("v-input"),v=ke("tooltip");return m(),C(y,{"model-value":e.modelValue,"db-safe":"",nullable:e.nullable,disabled:e.disabled,placeholder:e.placeholder,class:ae({matches:e.fieldExists}),"onUpdate:modelValue":t[0]||(t[0]=h=>e.$emit("update:modelValue",h))},xe({_:2},[e.fields&&e.fields.length>0&&!e.disabled?{name:"append",fn:d(()=>[i(f,{"show-arrow":"",placement:"bottom-end"},{activator:d(({toggle:h})=>[Q(i(a,{name:"list_alt",clickable:"",onClick:h},null,8,["onClick"]),[[v,e.t("select_existing")]])]),default:d(()=>[i(p,{class:"monospace"},{default:d(()=>[(m(!0),I(x,null,$e(e.fields,h=>(m(),C(s,{key:h.value,active:e.modelValue===h.value,disabled:h.disabled,clickable:"",onClick:w=>e.$emit("update:modelValue",h.value)},{default:d(()=>[i(r,null,{default:d(()=>[T(b(h.text),1)]),_:2},1024)]),_:2},1032,["active","disabled","onClick"]))),128))]),_:1})]),_:1})])}:void 0,e.disabled?{name:"input",fn:d(()=>[i(_,{text:e.modelValue},null,8,["text"])])}:void 0]),1032,["model-value","nullable","disabled","placeholder","class"])}var ol=q(UV,[["render",NV]]);const BV=z({components:{RelatedCollectionSelect:jn,RelatedFieldSelect:ol},props:{localType:{type:String,required:!0}},setup(){const e=Ke(),{t}=J(),n=Ee("relations.m2o.related_collection"),l=Ee("relations.o2m.collection"),o=Ee("relations.o2m.field"),u=Ee("relations.m2o.meta.one_allowed_collections",[]);return{availableCollections:F(()=>U.exports.orderBy([...e.allCollections,{divider:!0},{name:t("system"),selectable:!1,children:e.crudSafeSystemCollections}],["collection"],["asc"])),oneAllowedCollections:u,relatedCollectionM2O:n,o2mCollection:l,o2mField:o,t}}}),qV={class:"relationship"},zV={key:0,class:"field full"},KV={class:"label type-label"},HV={class:"field half-left"},WV={class:"label type-label"},GV={class:"field half-right"},ZV={class:"label type-label"},JV={key:2,class:"field full"},QV={class:"label type-label"},XV={key:3,class:"field full"},YV={class:"label type-label"},xV={key:4,class:"field full"},eF={class:"label type-label"};function tF(e,t,n,l,o,u){const a=c("v-icon"),r=c("related-collection-select"),s=c("related-field-select"),p=c("v-select"),f=ke("tooltip");return m(),I("div",qV,[e.localType==="m2o"?(m(),I("div",zV,[S("div",KV,[T(b(e.t("related_collection"))+" ",1),Q(i(a,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),i(r,{modelValue:e.relatedCollectionM2O,"onUpdate:modelValue":t[0]||(t[0]=_=>e.relatedCollectionM2O=_)},null,8,["modelValue"])])):e.localType==="o2m"?(m(),I(x,{key:1},[S("div",HV,[S("div",WV,[T(b(e.t("related_collection"))+" ",1),Q(i(a,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),i(r,{modelValue:e.o2mCollection,"onUpdate:modelValue":t[1]||(t[1]=_=>e.o2mCollection=_)},null,8,["modelValue"])]),S("div",GV,[S("div",ZV,[T(b(e.t("foreign_key"))+" ",1),Q(i(a,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),i(s,{modelValue:e.o2mField,"onUpdate:modelValue":t[2]||(t[2]=_=>e.o2mField=_),collection:e.o2mCollection,disabled:!e.o2mCollection},null,8,["modelValue","collection","disabled"])])],64)):R("",!0),e.localType==="m2m"?(m(),I("div",JV,[S("div",QV,[T(b(e.t("related_collection"))+" ",1),Q(i(a,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),i(r,{modelValue:e.relatedCollectionM2O,"onUpdate:modelValue":t[3]||(t[3]=_=>e.relatedCollectionM2O=_)},null,8,["modelValue"])])):R("",!0),e.localType==="translations"?(m(),I("div",XV,[S("div",YV,[T(b(e.t("languages_collection"))+" ",1),Q(i(a,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),i(r,{modelValue:e.relatedCollectionM2O,"onUpdate:modelValue":t[4]||(t[4]=_=>e.relatedCollectionM2O=_)},null,8,["modelValue"])])):R("",!0),e.localType==="m2a"?(m(),I("div",xV,[S("div",eF,[T(b(e.t("related_collections"))+" ",1),Q(i(a,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),i(p,{modelValue:e.oneAllowedCollections,"onUpdate:modelValue":t[5]||(t[5]=_=>e.oneAllowedCollections=_),placeholder:e.t("collection")+"...",items:e.availableCollections,"item-value":"collection","item-text":"name","item-disabled":"meta.singleton",multiple:"","multiple-preview-threshold":0},null,8,["modelValue","placeholder","items"])])):R("",!0)])}var nF=q(BV,[["render",tF],["__scopeId","data-v-46184414"]]);const lF=z({components:{ExtensionOptions:jl,RelationshipConfiguration:nF},props:{row:{type:Number,default:null},chosenInterface:{type:String,required:!0}},emits:["save","toggleAdvanced"],setup(e){const t=kt(),{readyToSave:n,saving:l,localType:o}=Vt(t),{t:u}=J(),a=F(()=>Et(e.chosenInterface)),r=F(()=>a.value?a.value.types.map(V=>({text:u(V),value:V})):[]),s=F(()=>r.value.length===1||o.value!=="standard"),p=Ee("field.field"),f=Ee("field.type"),_=Ee("field.schema.default_value"),y=Ee("field.meta.required",!1),v=Ee("field.meta.note"),{interfaces:h}=cn(),w=F(()=>h.value.filter(V=>V.hideLabel===!0).map(V=>V.id)),g=F(()=>Et(e.chosenInterface)),k=F(()=>{var V,D;return typeof((V=g.value)==null?void 0:V.options)=="function"?(D=g.value)==null?void 0:D.options(t):null});ye(a,(V,D)=>{if(!!a.value)if(w.value.includes(a.value.id)){const P=a.value.id.includes("-")?a.value.id.split("-")[1]:a.value.id;p.value=`${P}-${yt(6).toLowerCase()}`}else D&&w.value.includes(D.id)&&(p.value=null)},{immediate:!0});const A=F({get(){var V,D;return(D=(V=t.field.meta)==null?void 0:V.options)!=null?D:{}},set(V){t.$patch(D=>{var P;D.field.meta=Ve(pe({},(P=D.field.meta)!=null?P:{}),{options:V})})}});return{key:p,t:u,type:f,typeDisabled:s,typeOptions:r,defaultValue:_,required:y,note:v,interfaceIdsWithHiddenLabel:w,readyToSave:n,saving:l,localType:o,customOptionsFields:k,options:A}}}),oF={class:"setup"},aF={class:"schema"},iF={class:"field half-left"},rF={class:"label type-label"},sF={class:"field half-right"},dF={class:"label type-label"},uF={class:"field half-left"},cF={class:"label type-label"},pF={class:"field half-right"},mF={class:"label type-label"};function fF(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-input"),s=c("v-select"),p=c("v-checkbox"),f=c("relationship-configuration"),_=c("v-divider"),y=c("extension-options"),v=c("v-button"),h=ke("tooltip");return m(),I("div",{class:"field-configuration",style:Ue({"grid-row":e.row})},[S("div",oF,[e.chosenInterface&&!e.interfaceIdsWithHiddenLabel.includes(e.chosenInterface)?(m(),I(x,{key:0},[S("div",aF,[S("div",iF,[S("div",rF,[T(b(e.t("key"))+" ",1),Q(i(a,{class:"required-mark",sup:"",name:"star"},null,512),[[h,e.t("required")]])]),i(r,{modelValue:e.key,"onUpdate:modelValue":t[0]||(t[0]=w=>e.key=w),autofocus:"",class:"monospace","db-safe":"",placeholder:e.t("a_unique_column_name")},null,8,["modelValue","placeholder"])]),S("div",sF,[S("div",dF,b(e.t("type")),1),i(s,{modelValue:e.type,"onUpdate:modelValue":t[1]||(t[1]=w=>e.type=w),items:e.typeOptions,disabled:e.typeDisabled},null,8,["modelValue","items","disabled"])]),S("div",uF,[S("div",cF,b(e.t("default_value")),1),e.type==="boolean"?(m(),C(p,{key:0,modelValue:e.defaultValue,"onUpdate:modelValue":t[2]||(t[2]=w=>e.defaultValue=w),block:"",label:e.t("enabled")},null,8,["modelValue","label"])):(m(),C(r,{key:1,modelValue:e.defaultValue,"onUpdate:modelValue":t[3]||(t[3]=w=>e.defaultValue=w),class:"monospace",placeholder:"NULL"},null,8,["modelValue"]))]),S("div",pF,[S("div",mF,b(e.t("required")),1),i(p,{modelValue:e.required,"onUpdate:modelValue":t[4]||(t[4]=w=>e.required=w),block:"",label:e.t("require_value_to_be_set")},null,8,["modelValue","label"])])]),i(f,{"local-type":e.localType},null,8,["local-type"]),i(_,{inline:""})],64)):R("",!0),i(y,{modelValue:e.options,"onUpdate:modelValue":t[5]||(t[5]=w=>e.options=w),type:"interface",extension:e.chosenInterface,options:e.customOptionsFields},null,8,["modelValue","extension","options"]),i(v,{class:"save","full-width":"",disabled:!e.readyToSave,loading:e.saving,onClick:t[6]||(t[6]=w=>e.$emit("save"))},{default:d(()=>[T(b(e.t("save")),1)]),_:1},8,["disabled","loading"]),S("button",{class:"toggle-advanced",onClick:t[7]||(t[7]=w=>e.$emit("toggleAdvanced"))},b(e.t("continue_in_advanced_field_creation_mode")),1)])],4)}var _F=q(lF,[["render",fF],["__scopeId","data-v-e1359cca"]]);const vF=z({components:{FieldConfiguration:_F},props:{collection:{type:Object,required:!0}},emits:["save","toggleAdvanced"],setup(e){const{collection:t}=Me(e),{t:n}=J(),l=kt();ye(t,()=>l.update({collection:t.value.collection}),{immediate:!0});const{interfaces:o}=cn(),u=F(()=>U.exports.orderBy(o.value.filter(_=>!_.system),["order"])),a=F(()=>[{key:"standard",name:n("interface_group_text_and_numbers"),interfaces:u.value.filter(_=>_.group==="standard")},{key:"selection",name:n("interface_group_selection"),interfaces:u.value.filter(_=>_.group==="selection")},{key:"relational",name:n("interface_group_relational"),interfaces:u.value.filter(_=>_.group==="relational")},{key:"presentation",name:n("interface_group_presentation"),interfaces:u.value.filter(_=>_.group==="presentation")},{key:"group",name:n("interface_group_groups"),interfaces:u.value.filter(_=>_.group==="group")},{key:"other",name:n("interface_group_other"),interfaces:u.value.filter(_=>_.group==="other")}]),r=Ee("field.meta.interface"),s=F(()=>{if(!r.value)return null;let _=null;if(a.value.forEach(h=>{const w=h.interfaces.findIndex(g=>g.id===r.value);w!==-1&&(_=w)}),_===null)return null;const y=window.innerWidth;let v=1;return y>400&&(v=2),y>600&&(v=3),y>840&&(v=4),Math.ceil((_+1)/v)+1});return{t:n,interfaces:o,groups:a,isSVG:p,syncRefProperty:ft,chosenInterface:r,configRow:s,toggleInterface:f};function p(_){return _.startsWith("<svg")}function f(_){r.value===_?r.value=null:r.value=_}}}),yF={class:"content"},hF={class:"grid"},gF=["onClick"],bF={class:"preview"},wF=["innerHTML"],$F=["src"],kF={key:1,class:"fallback"};function SF(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-text-overflow"),s=c("field-configuration"),p=c("transition-expand");return m(),I("div",yF,[(m(!0),I(x,null,$e(e.groups,f=>(m(),I("div",{key:f.key,class:"group"},[S("h2",null,b(f.name),1),S("div",hF,[(m(!0),I(x,null,$e(f.interfaces,_=>(m(),I("button",{key:_.id,class:ae(["interface",{active:e.chosenInterface===_.id,gray:e.chosenInterface&&e.chosenInterface!==_.id}]),onClick:y=>e.toggleInterface(_.id)},[S("div",bF,[_.preview?(m(),I(x,{key:0},[e.isSVG(_.preview)?(m(),I("span",{key:0,innerHTML:_.preview},null,8,wF)):(m(),I("img",{key:1,src:_.preview,alt:""},null,8,$F))],64)):(m(),I("span",kF,[i(a,{large:"",name:_.icon},null,8,["name"])]))]),i(r,{text:_.name,class:"name"},null,8,["text"])],10,gF))),128)),i(p,null,{default:d(()=>[e.chosenInterface&&!!f.interfaces.some(_=>_.id===e.chosenInterface)?(m(),C(s,{key:0,row:e.configRow,"chosen-interface":e.chosenInterface,onSave:t[0]||(t[0]=_=>e.$emit("save")),onToggleAdvanced:t[1]||(t[1]=_=>e.$emit("toggleAdvanced"))},null,8,["row","chosen-interface"])):R("",!0)]),_:2},1024)])]))),128))])}var CF=q(vF,[["render",SF],["__scopeId","data-v-ac90bd84"]]);const VF=[{text:"$t:string",value:"string"},{text:"$t:text",value:"text"},{divider:!0},{text:"$t:boolean",value:"boolean"},{divider:!0},{text:"$t:integer",value:"integer"},{text:"$t:bigInteger",value:"bigInteger"},{text:"$t:float",value:"float"},{text:"$t:decimal",value:"decimal"},{divider:!0},{text:"$t:timestamp",value:"timestamp"},{text:"$t:datetime",value:"dateTime"},{text:"$t:date",value:"date"},{text:"$t:time",value:"time"},{divider:!0},{text:"$t:json",value:"json"},{text:"$t:csv",value:"csv"},{text:"$t:uuid",value:"uuid"},{text:"$t:hash",value:"hash"},{divider:!0},{text:"$t:geometry",value:"geometry"},{text:"$t:geometry.Point",value:"geometry.Point"},{text:"$t:geometry.LineString",value:"geometry.LineString"},{text:"$t:geometry.Polygon",value:"geometry.Polygon"},{text:"$t:geometry.MultiPoint",value:"geometry.MultiPoint"},{text:"$t:geometry.MultiLineString",value:"geometry.MultiLineString"},{text:"$t:geometry.MultiPolygon",value:"geometry.MultiPolygon"}],FF=z({setup(){const e=kt(),{localType:t,relations:n,editing:l}=Vt(e),o=F(()=>l.value!=="+"),u=Ee("field.type"),a=Ee("field.schema.default_value"),r=Ee("field.field"),s=Ee("field.meta.special"),p=Ee("field.schema.max_length"),f=Ee("field.schema.numeric_precision"),_=Ee("field.schema.is_nullable",!0),y=Ee("field.schema.is_unique",!1),v=Ee("field.schema.numeric_scale"),{t:h}=J(),w=F(()=>Ft(VF)),g=F(()=>t.value!=="standard"),k=F(()=>t.value==="m2o"?h("determined_by_relationship"):h("choose_a_type")),{onCreateOptions:A,onCreateValue:V}=N(),{onUpdateOptions:D,onUpdateValue:P}=K(),L=F(()=>["uuid","date","time","dateTime","timestamp"].includes(u.value)&&t.value!=="file"),B=F(()=>!e.field.schema),O=F(()=>{var G;return((G=e.field.schema)==null?void 0:G.is_primary_key)===!0}),M=F(()=>{var G;return(G=e.field.schema)==null?void 0:G.is_generated});return{t:h,typesWithLabels:w,GEOMETRY_TYPES:Pa,typeDisabled:g,typePlaceholder:k,defaultValue:a,onCreateOptions:A,onCreateValue:V,onUpdateOptions:D,onUpdateValue:P,hasCreateUpdateTriggers:L,field:r,isAlias:B,type:u,maxLength:p,numericPrecision:f,numericScale:v,special:s,nullable:_,unique:y,isPrimaryKey:O,isExisting:o,isGenerated:M};function N(){const G=["uuid","user-created","role-created","date-created"],ie=F(()=>{var ne,le;if(u.value==="uuid"){const se=[{text:h("do_nothing"),value:null},{text:h("generate_and_save_uuid"),value:"uuid"},{text:h("save_current_user_id"),value:"user-created"},{text:h("save_current_user_role"),value:"role-created"}];return t.value==="m2o"&&((ne=n.value.m2o)==null?void 0:ne.related_collection)==="directus_users"?se.filter(({value:ee})=>[null,"user-created"].includes(ee)):t.value==="m2o"&&((le=n.value.m2o)==null?void 0:le.related_collection)==="directus_roles"?se.filter(({value:ee})=>[null,"role-created"].includes(ee)):se}else if(["date","time","dateTime","timestamp"].includes(u.value))return[{text:h("do_nothing"),value:null},{text:h("save_current_datetime"),value:"date-created"}];return[]}),de=F({get(){var le;const ne=(le=s.value)!=null?le:[];for(const se of G)if(ne.includes(se))return se;return null},set(ne){var le,se;typeof s.value=="string"&&(s.value=[]),s.value=((le=s.value)!=null?le:[]).filter(ee=>G.includes(ee)===!1),ne&&(s.value=[...(se=s.value)!=null?se:[],ne]),s.value&&s.value.length===0&&(s.value=null)}});return{onCreateSpecials:G,onCreateOptions:ie,onCreateValue:de}}function K(){const G=["user-updated","role-updated","date-updated"],ie=F(()=>{var ne,le;if(u.value==="uuid"){const se=[{text:h("do_nothing"),value:null},{text:h("save_current_user_id"),value:"user-updated"},{text:h("save_current_user_role"),value:"role-updated"}];return t.value==="m2o"&&((ne=n.value.m2o)==null?void 0:ne.related_collection)==="directus_users"?se.filter(({value:ee})=>[null,"user-updated"].includes(ee)):t.value==="m2o"&&((le=n.value.m2o)==null?void 0:le.related_collection)==="directus_roles"?se.filter(({value:ee})=>[null,"role-updated"].includes(ee)):se}else if(["date","time","dateTime","timestamp"].includes(u.value))return[{text:h("do_nothing"),value:null},{text:h("save_current_datetime"),value:"date-updated"}];return[]}),de=F({get(){var le;const ne=(le=s.value)!=null?le:[];for(const se of G)if(ne.includes(se))return se;return null},set(ne){var le,se;typeof s.value=="string"&&(s.value=[]),s.value=((le=s.value)!=null?le:[]).filter(ee=>G.includes(ee)===!1),ne&&(s.value=[...(se=s.value)!=null?se:[],ne]),s.value&&s.value.length===0&&(s.value=null)}});return{onUpdateSpecials:G,onUpdateOptions:ie,onUpdateValue:de}}}}),AF={class:"form"},IF={class:"field"},EF={class:"label type-label"},DF={class:"note"},TF={class:"field half"},LF={class:"label type-label"},PF={key:0,class:"field half"},OF={class:"label type-label"},RF={key:0,class:"field half"},jF={class:"label type-label"},MF={class:"precision-scale"},UF={class:"field half-left"},NF={class:"label type-label"},BF={class:"field half-right"},qF={class:"label type-label"},zF={key:3,class:"field full"},KF={class:"label type-label"},HF={key:4,class:"field half-left"},WF={class:"label type-label"},GF={key:5,class:"field half-right"},ZF={class:"label type-label"};function JF(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-input"),s=c("v-select"),p=c("v-textarea"),f=c("interface-input-code"),_=c("v-checkbox");return m(),I("div",null,[S("div",AF,[S("div",IF,[S("div",EF,[T(b(e.t("key"))+" ",1),i(a,{class:"required",sup:"",name:"star"})]),i(r,{modelValue:e.field,"onUpdate:modelValue":t[0]||(t[0]=y=>e.field=y),disabled:e.isExisting,autofocus:"",class:"monospace",nullable:!1,"db-safe":"",placeholder:e.t("a_unique_column_name")},null,8,["modelValue","disabled","placeholder"]),S("small",DF,b(e.t("schema_setup_key")),1)]),S("div",TF,[S("div",LF,[T(b(e.t("type"))+" ",1),i(a,{class:"required",sup:"",name:"star"})]),e.isAlias?(m(),C(r,{key:0,"model-value":e.t("alias"),disabled:""},null,8,["model-value"])):(m(),C(s,{key:1,modelValue:e.type,"onUpdate:modelValue":t[1]||(t[1]=y=>e.type=y),disabled:e.typeDisabled||e.isExisting,items:e.typesWithLabels,placeholder:e.typePlaceholder},null,8,["modelValue","disabled","items","placeholder"]))]),["decimal","float"].includes(e.type)===!1?(m(),I(x,{key:0},[e.isAlias?R("",!0):(m(),I("div",PF,[S("div",OF,b(e.t("length")),1),i(r,{modelValue:e.maxLength,"onUpdate:modelValue":t[2]||(t[2]=y=>e.maxLength=y),type:"number",min:1,placeholder:e.type!=="string"?e.t("not_available_for_type"):"255",disabled:e.isExisting||e.type!=="string"},null,8,["modelValue","placeholder","disabled"])]))],64)):(m(),I(x,{key:1},[e.isAlias?R("",!0):(m(),I("div",RF,[S("div",jF,b(e.t("precision_scale")),1),S("div",MF,[i(r,{modelValue:e.numericPrecision,"onUpdate:modelValue":t[3]||(t[3]=y=>e.numericPrecision=y),type:"number",placeholder:10},null,8,["modelValue"]),i(r,{modelValue:e.numericScale,"onUpdate:modelValue":t[4]||(t[4]=y=>e.numericScale=y),type:"number",placeholder:5},null,8,["modelValue"])])]))],64)),e.hasCreateUpdateTriggers?(m(),I(x,{key:2},[S("div",UF,[S("div",NF,b(e.t("on_create")),1),i(s,{modelValue:e.onCreateValue,"onUpdate:modelValue":t[5]||(t[5]=y=>e.onCreateValue=y),items:e.onCreateOptions},null,8,["modelValue","items"])]),S("div",BF,[S("div",qF,b(e.t("on_update")),1),i(s,{modelValue:e.onUpdateValue,"onUpdate:modelValue":t[6]||(t[6]=y=>e.onUpdateValue=y),items:e.onUpdateOptions},null,8,["modelValue","items"])])],64)):R("",!0),!e.isAlias&&!e.isPrimaryKey&&!e.isGenerated?(m(),I("div",zF,[S("div",KF,b(e.t("default_value")),1),["string","uuid"].includes(e.type)?(m(),C(r,{key:0,modelValue:e.defaultValue,"onUpdate:modelValue":t[7]||(t[7]=y=>e.defaultValue=y),class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):["text"].includes(e.type)?(m(),C(p,{key:1,modelValue:e.defaultValue,"onUpdate:modelValue":t[8]||(t[8]=y=>e.defaultValue=y),class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):["integer","bigInteger","float","decimal"].includes(e.type)?(m(),C(r,{key:2,modelValue:e.defaultValue,"onUpdate:modelValue":t[9]||(t[9]=y=>e.defaultValue=y),type:"number",class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):["timestamp","dateTime","date","time"].includes(e.type)?(m(),C(r,{key:3,modelValue:e.defaultValue,"onUpdate:modelValue":t[10]||(t[10]=y=>e.defaultValue=y),class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):e.type==="boolean"?(m(),C(s,{key:4,modelValue:e.defaultValue,"onUpdate:modelValue":t[11]||(t[11]=y=>e.defaultValue=y),class:"monospace",items:[{text:"true",value:!0},{text:"false",value:!1},{text:"NULL",value:null}]},null,8,["modelValue"])):e.type==="json"?(m(),C(f,{key:5,value:e.defaultValue||"",language:"JSON",placeholder:"NULL",type:"json",onInput:t[12]||(t[12]=y=>e.defaultValue=y)},null,8,["value"])):(m(),C(r,{key:6,modelValue:e.defaultValue,"onUpdate:modelValue":t[13]||(t[13]=y=>e.defaultValue=y),class:"monospace",disabled:"",placeholder:"NULL"},null,8,["modelValue"]))])):R("",!0),e.isAlias?R("",!0):(m(),I("div",HF,[S("div",WF,b(e.t("nullable")),1),i(_,{modelValue:e.nullable,"onUpdate:modelValue":t[14]||(t[14]=y=>e.nullable=y),disabled:e.isGenerated,label:e.t("allow_null_value"),block:""},null,8,["modelValue","disabled","label"])])),e.isAlias?R("",!0):(m(),I("div",GF,[S("div",ZF,b(e.t("unique")),1),i(_,{modelValue:e.unique,"onUpdate:modelValue":t[15]||(t[15]=y=>e.unique=y),disabled:e.isGenerated,label:e.t("value_unique"),block:""},null,8,["modelValue","disabled","label"])]))])])}var QF=q(FF,[["render",JF],["__scopeId","data-v-42eeca0f"]]);const XF=z({components:{RelatedCollectionSelect:jn},setup(){const{t:e}=J(),t=kt(),n=Le(),l=Ee("relations.m2o.related_collection"),o=Ee("fields.corresponding"),u=Ee("fields.corresponding.field"),a=Ee("relations.m2o.schema.on_delete"),{field:r,collection:s,editing:p,generationInfo:f}=Vt(t),_=F(()=>p.value!=="+"),y=F(()=>{var k,A;return(A=(k=n.getPrimaryKeyFieldForCollection(l.value))==null?void 0:k.field)!=null?A:"id"}),v=F(()=>r.value.field),h=F({get(){return!!o.value},set(k){k?o.value={field:s.value,collection:l.value,type:"alias",meta:{special:["o2m"],interface:"list-o2m"}}:o.value=null}}),w=F(()=>l.value?e("add_o2m_to_collection",{collection:l.value}):e("add_field_related")),g=F(()=>[{text:e("referential_action_set_null",{field:v.value}),value:"SET NULL"},{text:e("referential_action_set_default",{field:v.value}),value:"SET DEFAULT"},{text:e("referential_action_cascade",{collection:s.value,field:v.value}),value:"CASCADE"},{text:e("referential_action_no_action",{field:v.value}),value:"NO ACTION"}].filter(k=>{var A;return!(k.value==="SET NULL"&&((A=r.value.schema)==null?void 0:A.is_nullable)===!1)}));return{t:e,collection:s,relatedCollection:l,isExisting:_,relatedPrimaryKey:y,currentField:v,hasCorresponding:h,correspondingLabel:w,correspondingFieldKey:u,generationInfo:f,onDeleteRelated:a,onDeleteOptions:g}}}),YF={class:"grid"},xF={class:"field"},eA={class:"type-label"},tA={class:"field"},nA={class:"type-label"},lA={key:1,class:"grid"},oA={class:"field"},aA={class:"type-label"},iA={class:"field"},rA={class:"type-label"},sA={class:"relational-triggers"},dA={class:"field"},uA={class:"type-label"},cA={class:"field-name"};function pA(e,t,n,l,o,u){const a=c("v-input"),r=c("related-collection-select"),s=c("v-icon"),p=c("v-divider"),f=c("v-checkbox"),_=c("v-select"),y=c("v-notice");return m(),I("div",null,[S("div",YF,[S("div",xF,[S("div",eA,b(e.t("this_collection")),1),i(a,{disabled:"","model-value":e.collection},null,8,["model-value"])]),S("div",tA,[S("div",nA,b(e.t("related_collection")),1),i(r,{modelValue:e.relatedCollection,"onUpdate:modelValue":t[0]||(t[0]=v=>e.relatedCollection=v),disabled:e.isExisting},null,8,["modelValue","disabled"])]),i(a,{disabled:"","model-value":e.currentField},null,8,["model-value"]),i(a,{"model-value":e.relatedPrimaryKey,disabled:"",placeholder:e.t("primary_key")+"..."},null,8,["model-value","placeholder"]),i(s,{class:"arrow",name:"arrow_back"})]),e.isExisting?R("",!0):(m(),C(p,{key:0,large:"","inline-title":!1},{default:d(()=>[T(b(e.t("corresponding_field")),1)]),_:1})),e.isExisting?R("",!0):(m(),I("div",lA,[S("div",oA,[S("div",aA,b(e.t("create_field")),1),i(f,{modelValue:e.hasCorresponding,"onUpdate:modelValue":t[1]||(t[1]=v=>e.hasCorresponding=v),block:"",label:e.correspondingLabel},null,8,["modelValue","label"])]),S("div",iA,[S("div",rA,b(e.t("field_name")),1),i(a,{modelValue:e.correspondingFieldKey,"onUpdate:modelValue":t[2]||(t[2]=v=>e.correspondingFieldKey=v),disabled:e.hasCorresponding===!1,placeholder:e.t("field_name")+"...","db-safe":""},null,8,["modelValue","disabled","placeholder"])]),i(s,{name:"arrow_forward",class:"arrow"})])),S("div",sA,[i(p,{class:"field full",large:"","inline-title":!1},{default:d(()=>[T(b(e.t("relational_triggers")),1)]),_:1}),S("div",dA,[S("div",uA,b(e.t("referential_action_field_label_m2o",{collection:e.relatedCollection||"related"})),1),i(_,{modelValue:e.onDeleteRelated,"onUpdate:modelValue":t[3]||(t[3]=v=>e.onDeleteRelated=v),disabled:e.collection===e.relatedCollection,placeholder:e.t("choose_action")+"...",items:e.onDeleteOptions},null,8,["modelValue","disabled","placeholder","items"])])]),e.generationInfo.length>0?(m(),C(y,{key:2,class:"generated-data",type:"warning"},{default:d(()=>[S("span",null,[T(b(e.t("new_data_alert"))+" ",1),S("ul",null,[(m(!0),I(x,null,$e(e.generationInfo,(v,h)=>(m(),I("li",{key:h},[S("span",cA,b(v.name),1)]))),128))])])]),_:1})):R("",!0)])}var mA=q(XF,[["render",pA],["__scopeId","data-v-f6066574"]]);const fA=z({components:{RelatedCollectionSelect:jn,RelatedFieldSelect:ol},setup(){const{t:e}=J(),t=kt(),n=Le(),l=Ee("relations.o2m.collection"),o=Ee("relations.o2m.field"),u=Ee("relations.o2m.meta.sort_field"),a=Ee("relations.o2m.schema.on_delete"),r=Ee("relations.o2m.meta.one_deselect_action"),{collection:s,editing:p,generationInfo:f}=Vt(t),_=F(()=>p.value!=="+"),y=F(()=>{var v;return(v=n.getPrimaryKeyFieldForCollection(s.value))==null?void 0:v.field});return{t:e,isExisting:_,collection:s,relatedCollection:l,currentPrimaryKey:y,relatedField:o,generationInfo:f,sortField:u,onDelete:a,onDeselect:r}}}),_A={class:"grid"},vA={class:"field"},yA={class:"type-label"},hA={class:"field"},gA={class:"type-label"},bA={class:"sort-field"},wA={class:"relational-triggers"},$A={class:"field"},kA={class:"type-label"},SA={class:"field"},CA={class:"type-label"},VA={class:"field-name"};function FA(e,t,n,l,o,u){const a=c("v-input"),r=c("related-collection-select"),s=c("related-field-select"),p=c("v-icon"),f=c("v-divider"),_=c("v-select"),y=c("v-notice");return m(),I("div",null,[S("div",_A,[S("div",vA,[S("div",yA,b(e.t("this_collection")),1),i(a,{disabled:"","model-value":e.collection},null,8,["model-value"])]),S("div",hA,[S("div",gA,b(e.t("related_collection")),1),i(r,{modelValue:e.relatedCollection,"onUpdate:modelValue":t[0]||(t[0]=v=>e.relatedCollection=v),disabled:e.isExisting},null,8,["modelValue","disabled"])]),i(a,{disabled:"","model-value":e.currentPrimaryKey},null,8,["model-value"]),i(s,{modelValue:e.relatedField,"onUpdate:modelValue":t[1]||(t[1]=v=>e.relatedField=v),collection:e.relatedCollection},null,8,["modelValue","collection"]),i(p,{class:"arrow",name:"arrow_forward"})]),S("div",bA,[i(f,{large:"","inline-title":!1},{default:d(()=>[T(b(e.t("sort_field")),1)]),_:1}),i(s,{modelValue:e.sortField,"onUpdate:modelValue":t[2]||(t[2]=v=>e.sortField=v),collection:e.relatedCollection,placeholder:e.t("add_sort_field")+"...",nullable:!0},null,8,["modelValue","collection","placeholder"])]),S("div",wA,[i(f,{class:"field full",large:"","inline-title":!1},{default:d(()=>[T(b(e.t("relational_triggers")),1)]),_:1}),S("div",$A,[S("div",kA,b(e.t("referential_action_field_label_o2m",{collection:e.relatedCollection||"related"})),1),i(_,{modelValue:e.onDeselect,"onUpdate:modelValue":t[3]||(t[3]=v=>e.onDeselect=v),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.relatedField}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:e.relatedCollection,field:e.relatedField}),value:"delete"}]},null,8,["modelValue","placeholder","items"])]),S("div",SA,[S("div",CA,b(e.t("referential_action_field_label_m2o",{collection:e.collection||"related"})),1),i(_,{modelValue:e.onDelete,"onUpdate:modelValue":t[4]||(t[4]=v=>e.onDelete=v),disabled:e.collection===e.relatedCollection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.relatedField}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.relatedField}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.collection,field:e.relatedField}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])]),e.generationInfo.length>0?(m(),C(y,{key:0,class:"generated-data",type:"warning"},{default:d(()=>[S("span",null,[T(b(e.t("new_data_alert"))+" ",1),S("ul",null,[(m(!0),I(x,null,$e(e.generationInfo,(v,h)=>(m(),I("li",{key:h},[S("span",VA,b(v.name),1)]))),128))])])]),_:1})):R("",!0)])}var AA=q(fA,[["render",FA],["__scopeId","data-v-bb6d41dc"]]);const IA=z({components:{RelatedCollectionSelect:jn,RelatedFieldSelect:ol},setup(){const{t:e}=J(),t=kt(),n=Le(),{field:l,collection:o,editing:u,generationInfo:a}=Vt(t),r=Ee("relations.o2m.meta.sort_field"),s=Ee("relations.o2m.collection"),p=Ee("relations.o2m.field"),f=Ee("relations.m2o.field"),_=Ee("relations.m2o.related_collection"),y=Ee("autoGenerateJunctionRelation"),v=Ee("relations.o2m.schema.on_delete"),h=Ee("relations.m2o.schema.on_delete"),w=Ee("relations.o2m.meta.one_deselect_action"),g=Ee("fields.corresponding"),k=Ee("fields.corresponding.field"),A=F(()=>l.value.type),V=F(()=>u.value!=="+"),D=F(()=>{var O;return(O=n.getPrimaryKeyFieldForCollection(o.value))==null?void 0:O.field}),P=F(()=>{var O,M;return(M=(O=n.getPrimaryKeyFieldForCollection(_.value))==null?void 0:O.field)!=null?M:"id"}),L=F({get(){return!!g.value},set(O){O?g.value={field:o.value,collection:_.value,type:"alias",meta:{special:["m2m"],interface:"list-m2m"}}:g.value=null}}),B=F(()=>s.value?e("add_m2m_to_collection",{collection:_.value}):e("add_field_related"));return{t:e,autoGenerateJunctionRelation:y,collection:o,type:A,isExisting:V,junctionCollection:s,junctionFieldCurrent:p,relatedCollection:_,sortField:r,currentPrimaryKey:D,junctionFieldRelated:f,relatedPrimaryKey:P,onDeleteCurrent:v,onDeleteRelated:h,deselectAction:w,hasCorresponding:L,correspondingLabel:B,correspondingFieldKey:k,generationInfo:a}}}),Ro=e=>(He("data-v-2ef7c0d9"),e=e(),We(),e),EA={class:"grid"},DA={class:"field"},TA={class:"type-label"},LA={class:"field"},PA={class:"type-label"},OA={class:"field"},RA={class:"type-label"},jA=Ro(()=>S("div",{class:"spacer"},null,-1)),MA=Ro(()=>S("div",{class:"spacer"},null,-1)),UA=Ro(()=>S("div",{class:"spacer"},null,-1)),NA={key:1,class:"corresponding"},BA={class:"field"},qA={class:"type-label"},zA={class:"field"},KA={class:"type-label"},HA={class:"sort-field"},WA={class:"relational-triggers"},GA={class:"field"},ZA={class:"type-label"},JA={class:"field"},QA={class:"type-label"},XA={class:"field"},YA={class:"type-label"},xA={class:"field-name"};function e7(e,t,n,l,o,u){const a=c("v-input"),r=c("related-collection-select"),s=c("related-field-select"),p=c("v-checkbox"),f=c("v-icon"),_=c("v-divider"),y=c("v-select"),v=c("v-notice");return m(),I("div",null,[S("div",EA,[S("div",DA,[S("div",TA,b(e.t("this_collection")),1),i(a,{disabled:"","model-value":e.collection},null,8,["model-value"])]),S("div",LA,[S("div",PA,b(e.t("junction_collection")),1),i(r,{modelValue:e.junctionCollection,"onUpdate:modelValue":t[0]||(t[0]=h=>e.junctionCollection=h),disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","disabled"])]),S("div",OA,[S("div",RA,b(e.t("related_collection")),1),i(r,{modelValue:e.relatedCollection,"onUpdate:modelValue":t[1]||(t[1]=h=>e.relatedCollection=h),disabled:e.type==="files"||e.isExisting},null,8,["modelValue","disabled"])]),i(a,{disabled:"","model-value":e.currentPrimaryKey},null,8,["model-value"]),i(s,{modelValue:e.junctionFieldCurrent,"onUpdate:modelValue":t[2]||(t[2]=h=>e.junctionFieldCurrent=h),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),jA,MA,i(s,{modelValue:e.junctionFieldRelated,"onUpdate:modelValue":t[3]||(t[3]=h=>e.junctionFieldRelated=h),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),i(a,{modelValue:e.relatedPrimaryKey,"onUpdate:modelValue":t[4]||(t[4]=h=>e.relatedPrimaryKey=h),disabled:"",placeholder:e.t("primary_key")+"..."},null,8,["modelValue","placeholder"]),UA,e.isExisting?R("",!0):(m(),C(p,{key:0,modelValue:e.autoGenerateJunctionRelation,"onUpdate:modelValue":t[5]||(t[5]=h=>e.autoGenerateJunctionRelation=h),block:"",label:e.t("auto_fill")},null,8,["modelValue","label"])),i(f,{class:"arrow",name:"arrow_forward"}),i(f,{class:"arrow",name:"arrow_backward"})]),e.isExisting?R("",!0):(m(),C(_,{key:0,large:"","inline-title":!1},{default:d(()=>[T(b(e.t("corresponding_field")),1)]),_:1})),e.isExisting?R("",!0):(m(),I("div",NA,[S("div",BA,[S("div",qA,b(e.t("create_field")),1),i(p,{modelValue:e.hasCorresponding,"onUpdate:modelValue":t[6]||(t[6]=h=>e.hasCorresponding=h),block:"",label:e.correspondingLabel},null,8,["modelValue","label"])]),S("div",zA,[S("div",KA,b(e.t("field_name")),1),i(a,{modelValue:e.correspondingFieldKey,"onUpdate:modelValue":t[7]||(t[7]=h=>e.correspondingFieldKey=h),disabled:e.hasCorresponding===!1,placeholder:e.t("field_name")+"...","db-safe":""},null,8,["modelValue","disabled","placeholder"])]),i(f,{name:"arrow_forward",class:"arrow"})])),S("div",HA,[i(_,{large:"","inline-title":!1},{default:d(()=>[T(b(e.t("sort_field")),1)]),_:1}),i(s,{modelValue:e.sortField,"onUpdate:modelValue":t[8]||(t[8]=h=>e.sortField=h),collection:e.junctionCollection,placeholder:e.t("add_sort_field")+"...",nullable:!0},null,8,["modelValue","collection","placeholder"])]),S("div",WA,[i(_,{class:"field full",large:"","inline-title":!1},{default:d(()=>[T(b(e.t("relational_triggers")),1)]),_:1}),S("div",GA,[S("div",ZA,b(e.t("referential_action_field_label_o2m",{collection:e.junctionCollection||""})),1),i(y,{modelValue:e.deselectAction,"onUpdate:modelValue":t[9]||(t[9]=h=>e.deselectAction=h),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"delete"}]},null,8,["modelValue","placeholder","items"])]),S("div",JA,[S("div",QA,b(e.t("referential_action_field_label_m2o",{collection:e.collection||"related"})),1),i(y,{modelValue:e.onDeleteCurrent,"onUpdate:modelValue":t[10]||(t[10]=h=>e.onDeleteCurrent=h),disabled:e.junctionCollection===e.collection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldCurrent}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldCurrent}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])]),S("div",XA,[S("div",YA,b(e.t("referential_action_field_label_m2o",{collection:e.relatedCollection||"related"})),1),i(y,{modelValue:e.onDeleteRelated,"onUpdate:modelValue":t[11]||(t[11]=h=>e.onDeleteRelated=h),disabled:e.junctionCollection===e.relatedCollection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldRelated}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldRelated}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldRelated}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])]),e.generationInfo.length>0?(m(),C(v,{key:2,class:"generated-data",type:"warning"},{default:d(()=>[S("span",null,[T(b(e.t("new_data_alert"))+" ",1),S("ul",null,[(m(!0),I(x,null,$e(e.generationInfo,(h,w)=>(m(),I("li",{key:w},[S("span",xA,b(h.name),1)]))),128))])])]),_:1})):R("",!0)])}var t7=q(IA,[["render",e7],["__scopeId","data-v-2ef7c0d9"]]);const n7=z({components:{RelatedCollectionSelect:jn,RelatedFieldSelect:ol},setup(){const{t:e}=J(),t=kt(),n=Ke(),l=Le(),{collection:o,editing:u,generationInfo:a}=Vt(t),r=Ee("autoGenerateJunctionRelation"),s=Ee("relations.o2m.collection"),p=Ee("relations.o2m.field"),f=Ee("relations.m2o.field"),_=Ee("relations.m2o.meta.one_collection_field"),y=Ee("relations.m2o.meta.one_allowed_collections",[]),v=Ee("relations.o2m.meta.sort_field"),h=Ee("relations.o2m.schema.on_delete"),w=Ee("relations.o2m.meta.one_deselect_action"),g=F(()=>u.value!=="+"),k=F(()=>{var V;return(V=l.getPrimaryKeyFieldForCollection(o.value))==null?void 0:V.field}),A=F(()=>U.exports.orderBy([...n.allCollections,{divider:!0},{name:e("system"),selectable:!1,children:n.crudSafeSystemCollections}],["collection"],["asc"]));return{t:e,availableCollections:A,generationInfo:a,collection:o,isExisting:g,autoGenerateJunctionRelation:r,junctionCollection:s,oneAllowedCollections:y,currentPrimaryKey:k,junctionFieldCurrent:p,junctionFieldRelated:f,oneCollectionField:_,sortField:v,onDelete:h,onDeselect:w}}}),jo=e=>(He("data-v-2c8bde2f"),e=e(),We(),e),l7={class:"grid"},o7={class:"field"},a7={class:"type-label"},i7={class:"field"},r7={class:"type-label"},s7={class:"field"},d7={class:"type-label"},u7={class:"related-collections-preview"},c7=jo(()=>S("div",{class:"spacer"},null,-1)),p7=jo(()=>S("div",{class:"spacer"},null,-1)),m7=jo(()=>S("div",{class:"spacer"},null,-1)),f7={class:"sort-field"},_7={class:"relational-triggers"},v7={class:"field"},y7={class:"type-label"},h7={class:"field"},g7={class:"type-label"},b7={class:"field-name"};function w7(e,t,n,l,o,u){var h,w;const a=c("v-input"),r=c("related-collection-select"),s=c("v-select"),p=c("related-field-select"),f=c("v-checkbox"),_=c("v-icon"),y=c("v-divider"),v=c("v-notice");return m(),I("div",null,[S("div",l7,[S("div",o7,[S("div",a7,b(e.t("this_collection")),1),i(a,{disabled:"","model-value":e.collection},null,8,["model-value"])]),S("div",i7,[S("div",r7,b(e.t("junction_collection")),1),i(r,{modelValue:e.junctionCollection,"onUpdate:modelValue":t[0]||(t[0]=g=>e.junctionCollection=g),disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","disabled"])]),S("div",s7,[S("div",d7,b(e.t("related_collections")),1),i(s,{modelValue:e.oneAllowedCollections,"onUpdate:modelValue":t[1]||(t[1]=g=>e.oneAllowedCollections=g),placeholder:e.t("collection")+"...",items:e.availableCollections,"item-value":"collection","item-text":"name","item-disabled":"meta.singleton",multiple:"","multiple-preview-threshold":0},null,8,["modelValue","placeholder","items"])]),i(a,{disabled:"","model-value":e.currentPrimaryKey},null,8,["model-value"]),i(p,{modelValue:e.junctionFieldCurrent,"onUpdate:modelValue":t[2]||(t[2]=g=>e.junctionFieldCurrent=g),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),S("div",u7,b(((h=e.oneAllowedCollections)!=null?h:[]).join(", ")),1),c7,i(p,{modelValue:e.oneCollectionField,"onUpdate:modelValue":t[3]||(t[3]=g=>e.oneCollectionField=g),collection:e.junctionCollection,placeholder:e.t("collection_key")+"...",disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","placeholder","disabled"]),p7,i(p,{modelValue:e.junctionFieldRelated,"onUpdate:modelValue":t[4]||(t[4]=g=>e.junctionFieldRelated=g),disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","disabled"]),i(a,{disabled:"","model-value":e.t("primary_key")},null,8,["model-value"]),m7,e.isExisting?R("",!0):(m(),C(f,{key:0,modelValue:e.autoGenerateJunctionRelation,"onUpdate:modelValue":t[5]||(t[5]=g=>e.autoGenerateJunctionRelation=g),block:"",label:e.t("auto_fill")},null,8,["modelValue","label"])),i(_,{class:"arrow",name:"arrow_forward"}),i(_,{class:"arrow",name:"arrow_backward"}),i(_,{class:"arrow",name:"arrow_backward"})]),S("div",f7,[i(y,{large:"","inline-title":!1},{default:d(()=>[T(b(e.t("sort_field")),1)]),_:1}),i(p,{modelValue:e.sortField,"onUpdate:modelValue":t[6]||(t[6]=g=>e.sortField=g),collection:e.junctionCollection,placeholder:e.t("add_sort_field"),nullable:!0},null,8,["modelValue","collection","placeholder"])]),S("div",_7,[i(y,{class:"field full",large:"","inline-title":!1},{default:d(()=>[T(b(e.t("relational_triggers")),1)]),_:1}),S("div",v7,[S("div",y7,b(e.t("referential_action_field_label_m2o",{collection:e.collection||"related"})),1),i(s,{modelValue:e.onDelete,"onUpdate:modelValue":t[7]||(t[7]=g=>e.onDelete=g),disabled:e.collection===e.junctionCollection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldRelated}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldRelated}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldRelated}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])]),S("div",h7,[S("div",g7,b(e.t("referential_action_field_label_o2m",{collection:e.junctionCollection||"related"})),1),i(s,{modelValue:e.onDeselect,"onUpdate:modelValue":t[8]||(t[8]=g=>e.onDeselect=g),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldRelated}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:((w=e.oneAllowedCollections)!=null?w:[]).join(" / "),field:e.junctionFieldRelated}),value:"delete"}]},null,8,["modelValue","placeholder","items"])])]),e.generationInfo.length>0?(m(),C(v,{key:0,class:"generated-data",type:"warning"},{default:d(()=>[S("span",null,[T(b(e.t("new_data_alert"))+" ",1),S("ul",null,[(m(!0),I(x,null,$e(e.generationInfo,(g,k)=>(m(),I("li",{key:k},[S("span",b7,b(g.name),1)]))),128))])])]),_:1})):R("",!0)])}var $7=q(n7,[["render",w7],["__scopeId","data-v-2c8bde2f"]]);const k7=z({components:{RelatedCollectionSelect:jn,RelatedFieldSelect:ol},setup(){const{t:e}=J(),t=kt(),n=Le(),{field:l,collection:o,editing:u,generationInfo:a}=Vt(t),r=Ee("relations.o2m.meta.sort_field"),s=Ee("relations.o2m.collection"),p=Ee("relations.o2m.field"),f=Ee("relations.m2o.field"),_=Ee("relations.m2o.related_collection"),y=Ee("autoGenerateJunctionRelation"),v=Ee("relations.o2m.schema.on_delete"),h=Ee("relations.m2o.schema.on_delete"),w=Ee("relations.o2m.meta.one_deselect_action"),g=Ee("fields.corresponding"),k=F(()=>l.value.type),A=F(()=>u.value!=="+"),V=F(()=>{var O;return(O=n.getPrimaryKeyFieldForCollection(o.value))==null?void 0:O.field}),D=F(()=>{var O,M;return(M=(O=n.getPrimaryKeyFieldForCollection(_.value))==null?void 0:O.field)!=null?M:"id"}),P=F({get(){return!!g.value},set(O){O?g.value={field:o.value,collection:_.value,type:"alias",meta:{special:["m2m"],interface:"list-m2m"}}:g.value=null}}),L=F(()=>s.value?e("add_m2m_to_collection",{collection:_.value}):e("add_field_related")),B=F({get(){var O;return(O=g.value)==null?void 0:O.field},set(O){P.value||(P.value=!0),g.value.field=O}});return{t:e,autoGenerateJunctionRelation:y,collection:o,type:k,isExisting:A,junctionCollection:s,junctionFieldCurrent:p,relatedCollection:_,sortField:r,currentPrimaryKey:V,junctionFieldRelated:f,relatedPrimaryKey:D,onDeleteCurrent:v,onDeleteRelated:h,deselectAction:w,hasCorresponding:P,correspondingLabel:L,correspondingFieldKey:B,generationInfo:a}}}),Mo=e=>(He("data-v-4e650362"),e=e(),We(),e),S7={class:"grid"},C7={class:"field"},V7={class:"type-label"},F7={class:"field"},A7={class:"type-label"},I7={class:"field"},E7={class:"type-label"},D7=Mo(()=>S("div",{class:"spacer"},null,-1)),T7=Mo(()=>S("div",{class:"spacer"},null,-1)),L7=Mo(()=>S("div",{class:"spacer"},null,-1)),P7={class:"relational-triggers"},O7={class:"field"},R7={class:"type-label"},j7={class:"field"},M7={class:"type-label"},U7={class:"field"},N7={class:"type-label"};function B7(e,t,n,l,o,u){const a=c("v-input"),r=c("related-collection-select"),s=c("related-field-select"),p=c("v-checkbox"),f=c("v-icon"),_=c("v-divider"),y=c("v-select");return m(),I("div",null,[S("div",S7,[S("div",C7,[S("div",V7,b(e.t("this_collection")),1),i(a,{disabled:"","model-value":e.collection},null,8,["model-value"])]),S("div",F7,[S("div",A7,b(e.t("translations_collection")),1),i(r,{modelValue:e.junctionCollection,"onUpdate:modelValue":t[0]||(t[0]=v=>e.junctionCollection=v),disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","disabled"])]),S("div",I7,[S("div",E7,b(e.t("languages_collection")),1),i(r,{modelValue:e.relatedCollection,"onUpdate:modelValue":t[1]||(t[1]=v=>e.relatedCollection=v),disabled:e.type==="files"||e.isExisting},null,8,["modelValue","disabled"])]),i(a,{disabled:"","model-value":e.currentPrimaryKey},null,8,["model-value"]),i(s,{modelValue:e.junctionFieldCurrent,"onUpdate:modelValue":t[2]||(t[2]=v=>e.junctionFieldCurrent=v),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),D7,T7,i(s,{modelValue:e.junctionFieldRelated,"onUpdate:modelValue":t[3]||(t[3]=v=>e.junctionFieldRelated=v),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),i(a,{modelValue:e.relatedPrimaryKey,"onUpdate:modelValue":t[4]||(t[4]=v=>e.relatedPrimaryKey=v),disabled:"",placeholder:e.t("primary_key")+"..."},null,8,["modelValue","placeholder"]),L7,i(p,{modelValue:e.autoGenerateJunctionRelation,"onUpdate:modelValue":t[5]||(t[5]=v=>e.autoGenerateJunctionRelation=v),disabled:e.isExisting,block:"",label:e.t("auto_fill")},null,8,["modelValue","disabled","label"]),i(f,{class:"arrow",name:"arrow_forward"}),i(f,{class:"arrow",name:"arrow_backward"})]),S("div",P7,[i(_,{class:"field full",large:"","inline-title":!1},{default:d(()=>[T(b(e.t("relational_triggers")),1)]),_:1}),S("div",O7,[S("div",R7,b(e.t("referential_action_field_label_o2m",{collection:e.junctionCollection||""})),1),i(y,{modelValue:e.deselectAction,"onUpdate:modelValue":t[6]||(t[6]=v=>e.deselectAction=v),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"delete"}]},null,8,["modelValue","placeholder","items"])]),S("div",j7,[S("div",M7,b(e.t("referential_action_field_label_m2o",{collection:e.collection||"related"})),1),i(y,{modelValue:e.onDeleteCurrent,"onUpdate:modelValue":t[7]||(t[7]=v=>e.onDeleteCurrent=v),disabled:e.junctionCollection===e.collection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldCurrent}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldCurrent}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])]),S("div",U7,[S("div",N7,b(e.t("referential_action_field_label_m2o",{collection:e.relatedCollection||"related"})),1),i(y,{modelValue:e.onDeleteRelated,"onUpdate:modelValue":t[8]||(t[8]=v=>e.onDeleteRelated=v),disabled:e.junctionCollection===e.relatedCollection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldRelated}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldRelated}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldRelated}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])])])}var q7=q(k7,[["render",B7],["__scopeId","data-v-4e650362"]]);const z7=z({components:{RelationshipM2o:mA,RelationshipO2m:AA,RelationshipM2m:t7,RelationshipM2a:$7,RelationshipTranslations:q7},setup(){const e=kt(),{collection:t,localType:n}=Vt(e);return{collection:t,localType:n}}});function K7(e,t,n,l,o,u){const a=c("relationship-m2o"),r=c("relationship-o2m"),s=c("relationship-m2m"),p=c("relationship-m2a"),f=c("relationship-translations");return e.localType==="m2o"||e.localType==="file"?(m(),C(a,{key:0})):e.localType==="o2m"?(m(),C(r,{key:1})):e.localType==="m2m"||e.localType==="files"?(m(),C(s,{key:2})):e.localType==="m2a"?(m(),C(p,{key:3})):e.localType==="translations"?(m(),C(f,{key:4})):R("",!0)}var H7=q(z7,[["render",K7]]);const W7=z({setup(){const{t:e}=J(),t=kt(),n=Ee("field.meta.readonly",!1),l=Ee("field.meta.hidden",!1),o=Ee("field.meta.required",!1),u=Ee("field.meta.note"),a=Ee("field.meta.translations"),{field:r}=Vt(t),s=F(()=>r.value.type),p=F(()=>{var f;return(f=r.value.schema)==null?void 0:f.is_generated});return{t:e,readonly:n,hidden:l,required:o,note:u,translations:a,type:s,isGenerated:p}}}),G7={class:"form"},Z7={key:0,class:"field half-left"},J7={class:"label type-label"},Q7={key:1,class:"field half-right"},X7={class:"label type-label"},Y7={class:"field half-left"},x7={class:"label type-label"},eI={key:2,class:"field full"},tI={class:"label type-label"},nI={class:"field full"},lI={class:"label type-label"};function oI(e,t,n,l,o,u){const a=c("v-checkbox"),r=c("v-input"),s=c("interface-list");return m(),I("div",G7,[e.isGenerated?R("",!0):(m(),I("div",Z7,[S("div",J7,b(e.t("readonly")),1),i(a,{modelValue:e.readonly,"onUpdate:modelValue":t[0]||(t[0]=p=>e.readonly=p),label:e.t("disabled_editing_value"),block:""},null,8,["modelValue","label"])])),e.isGenerated?R("",!0):(m(),I("div",Q7,[S("div",X7,b(e.t("required")),1),i(a,{modelValue:e.required,"onUpdate:modelValue":t[1]||(t[1]=p=>e.required=p),label:e.t("require_value_to_be_set"),block:""},null,8,["modelValue","label"])])),S("div",Y7,[S("div",x7,b(e.t("hidden")),1),i(a,{modelValue:e.hidden,"onUpdate:modelValue":t[2]||(t[2]=p=>e.hidden=p),label:e.t("hidden_on_detail"),block:""},null,8,["modelValue","label"])]),e.type!=="group"?(m(),I("div",eI,[S("div",tI,b(e.t("note")),1),i(r,{modelValue:e.note,"onUpdate:modelValue":t[3]||(t[3]=p=>e.note=p),placeholder:e.t("add_note")},null,8,["modelValue","placeholder"])])):R("",!0),S("div",nI,[S("div",lI,b(e.t("field_name_translations")),1),i(s,{template:"[{{ language }}] {{ translation }}",fields:[{field:"language",type:"string",name:e.t("language"),meta:{interface:"system-language",width:"half",display:"formatted-value",display_options:{font:"monospace",color:"var(--foreground-subdued)"}},schema:{default_value:"en-US"}},{field:"translation",type:"string",name:e.t("translation"),meta:{interface:"input",width:"half",options:{placeholder:e.t("translation_placeholder")}}}],value:e.translations,onInput:t[4]||(t[4]=p=>e.translations=p)},null,8,["fields","value"])])])}var aI=q(W7,[["render",oI],["__scopeId","data-v-73d70b88"]]);const iI=z({components:{ExtensionOptions:jl},setup(){const{t:e}=J(),t=kt(),n=Ee("field.meta.interface"),{field:l,interfacesForType:o}=Vt(t),u=F(()=>l.value.type),a=F(()=>{var k;const y={string:["input","select-dropdown"],text:["input-rich-text-html"],boolean:["boolean"],integer:["input"],bigInteger:["input"],float:["input"],decimal:["input"],timestamp:["datetime"],datetime:["datetime"],date:["datetime"],time:["datetime"],json:["select-multiple-checkbox","tags"],uuid:["input"],csv:["tags"]}[(k=u.value)!=null?k:"alias"]||[],v=o.value.map(A=>{const V={text:A.name,description:A.description,value:A.id,icon:A.icon};return y.includes(V.value)&&(V.iconRight="star"),V}),h=[],w=y.map(A=>v.find(V=>V.value===A));w!==void 0&&h.push(...w.filter(A=>A)),v.length>=5&&y.length>0&&h.push({divider:!0});const g=v.filter(A=>y.includes(A.value)===!1);return g!==void 0&&h.push(...g.filter(A=>A)),h}),r=F(()=>Et(n.value)),s=F(()=>Et(n.value)),p=F(()=>{var _,y;return typeof((_=s.value)==null?void 0:_.options)=="function"?(y=s.value)==null?void 0:y.options(t):null}),f=F({get(){var _,y;return(y=(_=t.field.meta)==null?void 0:_.options)!=null?y:{}},set(_){t.$patch(y=>{var v;y.field.meta=Ve(pe({},(v=y.field.meta)!=null?v:{}),{options:_})})}});return{t:e,selectItems:a,selectedInterface:r,interfaceID:n,customOptionsFields:p,options:f}}}),rI=e=>(He("data-v-1fd2336e"),e=e(),We(),e),sI=rI(()=>S("div",{class:"spacer"},null,-1));function dI(e,t,n,l,o,u){const a=c("v-fancy-select"),r=c("v-notice"),s=c("extension-options");return m(),I("div",null,[i(a,{modelValue:e.interfaceID,"onUpdate:modelValue":t[0]||(t[0]=p=>e.interfaceID=p),class:"select",items:e.selectItems},null,8,["modelValue","items"]),e.interfaceID&&!e.selectedInterface?(m(),C(r,{key:0,class:"not-found",type:"danger"},{default:d(()=>[T(b(e.t("interface_not_found",{interface:e.interfaceID}))+" ",1),sI,S("button",{onClick:t[1]||(t[1]=p=>e.interfaceID=null)},b(e.t("reset_interface")),1)]),_:1})):R("",!0),e.interfaceID&&e.selectedInterface?(m(),C(s,{key:1,modelValue:e.options,"onUpdate:modelValue":t[2]||(t[2]=p=>e.options=p),type:"interface",options:e.customOptionsFields,extension:e.interfaceID,"show-advanced":""},null,8,["modelValue","options","extension"])):R("",!0)])}var uI=q(iI,[["render",dI],["__scopeId","data-v-1fd2336e"]]);const cI=z({components:{ExtensionOptions:jl},setup(){const{t:e}=J(),t=kt(),{field:n,displaysForType:l}=Vt(t),o=F(()=>{var _;return(_=n.value.meta)==null?void 0:_.interface}),u=Ee("field.meta.display"),a=F(()=>Et(o.value)),r=F(()=>Zn(u.value)),s=F(()=>{var g;let _=U.exports.clone((g=a.value)==null?void 0:g.recommendedDisplays)||[];_.push("raw","formatted-value"),_=[...new Set(_)];const y=l.value.map(k=>{const A={text:k.name,description:k.description,value:k.id,icon:k.icon};return _.includes(A.value)&&(A.iconRight="star"),A}),v=[],h=_.map(k=>y.find(A=>A.value===k));h!==void 0&&v.push(...h.filter(k=>k)),y.length>=5&&_.length>0&&v.push({divider:!0});const w=y.filter(k=>_.includes(k.value)===!1);return w!==void 0&&v.push(...w.filter(k=>k)),v}),p=F(()=>{var _,y;return typeof((_=r.value)==null?void 0:_.options)=="function"?(y=r.value)==null?void 0:y.options(t):null}),f=F({get(){var _,y;return(y=(_=t.field.meta)==null?void 0:_.display_options)!=null?y:{}},set(_){t.$patch(y=>{var v;y.field.meta=Ve(pe({},(v=y.field.meta)!=null?v:{}),{display_options:_})})}});return{t:e,selectItems:s,selectedDisplay:r,display:u,options:f,customOptionsFields:p}}}),pI=e=>(He("data-v-1f1d74cc"),e=e(),We(),e),mI=pI(()=>S("div",{class:"spacer"},null,-1));function fI(e,t,n,l,o,u){const a=c("v-fancy-select"),r=c("v-notice"),s=c("extension-options");return m(),I("div",null,[i(a,{modelValue:e.display,"onUpdate:modelValue":t[0]||(t[0]=p=>e.display=p),class:"select",items:e.selectItems},null,8,["modelValue","items"]),e.display&&!e.selectedDisplay?(m(),C(r,{key:0,class:"not-found",type:"danger"},{default:d(()=>[T(b(e.t("display_not_found",{display:e.display}))+" ",1),mI,S("button",{onClick:t[1]||(t[1]=p=>e.display=null)},b(e.t("reset_display")),1)]),_:1})):R("",!0),e.display&&e.selectedDisplay?(m(),C(s,{key:1,modelValue:e.options,"onUpdate:modelValue":t[2]||(t[2]=p=>e.options=p),type:"display",options:e.customOptionsFields,extension:e.display},null,8,["modelValue","options","extension"])):R("",!0)])}var _I=q(cI,[["render",fI],["__scopeId","data-v-1f1d74cc"]]);const vI=z({setup(){const{t:e}=J(),t=kt(),{field:n,collection:l}=Vt(t),o=Ee("field.meta.conditions"),u=F(()=>{var r;return(r=n.value.meta)==null?void 0:r.interface});return{repeaterFields:F(()=>[{field:"name",name:e("name"),type:"string",meta:{interface:"input",options:{iconLeft:"label",placeholder:e("enter_a_value")}}},{field:"rule",name:e("rule"),type:"json",meta:{interface:"system-filter",options:{collectionName:l.value}}},{field:"readonly",name:e("readonly"),type:"boolean",meta:{interface:"boolean",options:{label:e("disabled_editing_value")},width:"half"}},{field:"hidden",name:e("hidden"),type:"boolean",meta:{interface:"boolean",options:{label:e("hidden_on_detail")},width:"half"}},{field:"required",name:e("required"),type:"boolean",meta:{interface:"boolean",options:{label:e("require_value_to_be_set")},width:"half"}},{field:"options",name:e("interface_options"),type:"json",meta:{interface:"system-interface-options",options:{interface:u.value}}}]),conditions:o}}});function yI(e,t,n,l,o,u){const a=c("interface-list");return m(),I("div",null,[i(a,{fields:e.repeaterFields,template:"{{ name }}",value:e.conditions,onInput:t[0]||(t[0]=r=>e.conditions=r)},null,8,["fields","value"])])}var hI=q(vI,[["render",yI]]);const gI=z({components:{FieldDetailAdvancedSchema:QF,FieldDetailAdvancedRelationship:H7,FieldDetailAdvancedField:aI,FieldDetailAdvancedInterface:uI,FieldDetailAdvancedDisplay:_I,FieldDetailAdvancedConditions:hI},props:{currentTab:{type:String,required:!0}}}),bI={class:"content"};function wI(e,t,n,l,o,u){const a=c("field-detail-advanced-schema"),r=c("field-detail-advanced-relationship"),s=c("field-detail-advanced-field"),p=c("field-detail-advanced-interface"),f=c("field-detail-advanced-display"),_=c("field-detail-advanced-conditions");return m(),I("div",bI,[e.currentTab==="schema"?(m(),C(a,{key:0})):R("",!0),e.currentTab==="relationship"?(m(),C(r,{key:1})):R("",!0),e.currentTab==="field"?(m(),C(s,{key:2})):R("",!0),e.currentTab==="interface"?(m(),C(p,{key:3})):R("",!0),e.currentTab==="display"?(m(),C(f,{key:4})):R("",!0),e.currentTab==="conditions"?(m(),C(_,{key:5})):R("",!0)])}var $I=q(gI,[["render",wI],["__scopeId","data-v-25cdbb16"]]);const kI=z({props:{currentTab:{type:Array,required:!0}},emits:["update:currentTab"],setup(e,{emit:t}){const n=kt(),{localType:l}=Vt(n),o=je(e,"currentTab",t),{t:u}=J();return{tabs:F(()=>{const r=[{text:u("schema"),value:"schema"},{text:u("field",1),value:"field"},{text:u("interface_label"),value:"interface"}];return l.value!=="presentation"&&l.value!=="group"&&r.push({text:u("display"),value:"display"}),["o2m","m2o","m2m","m2a","files","file"].includes(l.value)&&r.splice(1,0,{text:u("relationship"),value:"relationship"}),l.value==="translations"&&r.splice(1,0,{text:u("translations"),value:"relationship"}),r.push({text:u("conditions"),value:"conditions"}),r}),currentTabSync:o}}});function SI(e,t,n,l,o,u){const a=c("v-tab"),r=c("v-tabs");return m(),C(r,{modelValue:e.currentTabSync,"onUpdate:modelValue":t[0]||(t[0]=s=>e.currentTabSync=s),vertical:""},{default:d(()=>[(m(!0),I(x,null,$e(e.tabs,s=>(m(),C(a,{key:s.value,value:s.value,disabled:s.disabled},{default:d(()=>[T(b(s.text),1)]),_:2},1032,["value","disabled"]))),128))]),_:1},8,["modelValue"])}var CI=q(kI,[["render",SI]]);const VI=z({emits:["save"],setup(){const e=kt(),{saving:t,readyToSave:n}=Vt(e),{t:l}=J();return{saving:t,t:l,readyToSave:n}}});function FI(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-button"),s=ke("tooltip");return Q((m(),C(r,{disabled:e.readyToSave===!1,loading:e.saving,icon:"",rounded:"",onClick:t[0]||(t[0]=p=>e.$emit("save"))},{default:d(()=>[i(a,{name:"check"})]),_:1},8,["disabled","loading"])),[[s,e.t("save"),void 0,{bottom:!0}]])}var AI=q(VI,[["render",FI]]);const II=z({name:"FieldDetail",components:{FieldDetailSimple:CF,FieldDetailAdvanced:$I,FieldDetailAdvancedTabs:CI,FieldDetailAdvancedActions:AI},props:{collection:{type:String,required:!0},field:{type:String,required:!0},type:{type:String,default:null}},setup(e){const{collection:t}=Me(e),n=fn(),l=kt(),{editing:o}=Vt(l);ye(()=>e.field,()=>l.startEditing(e.collection,e.field,e.type),{immediate:!0});const u=Ke(),a=Le(),r=Xe(),{t:s}=J(),p=F(()=>u.getCollection(t.value)),f=E(e.type===null),_=F(()=>{var A,V;const g=a.getField(e.collection,e.field),k=(g==null?void 0:g.name)||Dt(l.field.name||"");return e.field==="+"&&k===""?s("creating_new_field",{collection:(A=p.value)==null?void 0:A.name}):s("field_in_collection",{field:k,collection:(V=p.value)==null?void 0:V.name})}),y=E(["schema"]),v=F(()=>o.value!=="+"||!f.value);return{simple:f,cancel:h,collectionInfo:p,t:s,title:_,save:w,isOpen:n,currentTab:y,showAdvanced:v};async function h(){await r.push(`/settings/data-model/${e.collection}`),l.$reset()}async function w(){await l.save(),r.push(`/settings/data-model/${e.collection}`),l.$reset()}}});function EI(e,t,n,l,o,u){const a=c("field-detail-simple"),r=c("field-detail-advanced-tabs"),s=c("field-detail-advanced-actions"),p=c("field-detail-advanced"),f=c("v-drawer");return m(),C(f,{"model-value":e.isOpen,title:e.title,persistent:"",onCancel:e.cancel,"onUpdate:modelValue":e.cancel},xe({default:d(()=>[e.showAdvanced?R("",!0):(m(),C(a,{key:0,collection:e.collectionInfo,onSave:e.save,onToggleAdvanced:t[0]||(t[0]=_=>e.simple=!1)},null,8,["collection","onSave"])),e.showAdvanced?(m(),C(p,{key:1,collection:e.collectionInfo,"current-tab":e.currentTab[0],onSave:e.save},null,8,["collection","current-tab","onSave"])):R("",!0)]),_:2},[e.showAdvanced?{name:"sidebar",fn:d(()=>[i(r,{"current-tab":e.currentTab,"onUpdate:current-tab":t[1]||(t[1]=_=>e.currentTab=_)},null,8,["current-tab"])])}:void 0,e.showAdvanced?{name:"actions",fn:d(()=>[i(s,{onSave:e.save},null,8,["onSave"])])}:void 0]),1032,["model-value","title","onCancel","onUpdate:modelValue"])}var DI=q(II,[["render",EI],["__scopeId","data-v-4fc67dfe"]]);const TI=z({name:"FieldSelectMenu",props:{field:{type:Object,required:!0},noDelete:{type:Boolean,default:!1}},emits:["toggleVisibility","duplicate","delete","setWidth"],setup(e){const{t}=J(),n=F(()=>ll(e.field.collection,e.field.field)),l=F(()=>{var u;return((u=e.field.schema)==null?void 0:u.is_primary_key)===!0}),o=F(()=>n.value==="standard"&&l.value===!1);return{t,localType:n,isPrimaryKey:l,duplicable:o}}});function LI(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-list-item-icon"),s=c("v-list-item-content"),p=c("v-list-item"),f=c("v-divider"),_=c("v-list"),y=c("v-menu");return m(),C(y,{"show-arrow":"",placement:"bottom-end"},{activator:d(({toggle:v})=>[i(a,{clickable:"",name:"more_vert",onClick:v},null,8,["onClick"])]),default:d(()=>[i(_,null,{default:d(()=>{var v,h,w,g;return[i(p,{to:`/settings/data-model/${e.field.collection}/${e.field.field}`},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"edit",outline:""})]),_:1}),i(s,null,{default:d(()=>[T(b(e.t("edit_field")),1)]),_:1})]),_:1},8,["to"]),i(p,{disabled:e.duplicable===!1,clickable:"",onClick:t[0]||(t[0]=k=>e.$emit("duplicate"))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"content_copy"})]),_:1}),i(s,null,{default:d(()=>[T(b(e.t("duplicate_field")),1)]),_:1})]),_:1},8,["disabled"]),i(p,{clickable:"",onClick:t[1]||(t[1]=k=>e.$emit("toggleVisibility"))},{default:d(()=>{var k;return[((k=e.field.meta)==null?void 0:k.hidden)===!1?(m(),I(x,{key:0},[i(r,null,{default:d(()=>[i(a,{name:"visibility_off"})]),_:1}),i(s,null,{default:d(()=>[T(b(e.t("hide_field_on_detail")),1)]),_:1})],64)):(m(),I(x,{key:1},[i(r,null,{default:d(()=>[i(a,{name:"visibility"})]),_:1}),i(s,null,{default:d(()=>[T(b(e.t("show_field_on_detail")),1)]),_:1})],64))]}),_:1}),i(f),i(p,{clickable:"",disabled:((v=e.field.meta)==null?void 0:v.width)==="half"||e.localType==="group",onClick:t[2]||(t[2]=k=>e.$emit("setWidth","half"))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"border_vertical"})]),_:1}),i(s,null,{default:d(()=>[T(b(e.t("half_width")),1)]),_:1})]),_:1},8,["disabled"]),i(p,{clickable:"",disabled:((h=e.field.meta)==null?void 0:h.width)==="full"||e.localType==="group",onClick:t[3]||(t[3]=k=>e.$emit("setWidth","full"))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"border_right"})]),_:1}),i(s,null,{default:d(()=>[T(b(e.t("full_width")),1)]),_:1})]),_:1},8,["disabled"]),i(p,{clickable:"",disabled:((w=e.field.meta)==null?void 0:w.width)==="fill"||e.localType==="group",onClick:t[4]||(t[4]=k=>e.$emit("setWidth","fill"))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"aspect_ratio"})]),_:1}),i(s,null,{default:d(()=>[T(b(e.t("fill_width")),1)]),_:1})]),_:1},8,["disabled"]),i(f),i(p,{clickable:"",class:"danger",disabled:((g=e.field.schema)==null?void 0:g.is_primary_key)===!0||e.noDelete,onClick:t[5]||(t[5]=k=>e.$emit("delete"))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"delete",outline:""})]),_:1}),i(s,null,{default:d(()=>[T(b(e.t("delete_field")),1)]),_:1})]),_:1},8,["disabled"])]}),_:1})]),_:1})}var PI=q(TI,[["render",LI],["__scopeId","data-v-acd7855e"]]);function zt(e){const t=new Image;e.setDragImage(t,0,0)}const OI=z({name:"FieldSelect",components:{FieldSelectMenu:PI,Draggable:It},props:{field:{type:Object,required:!0},disabled:{type:Boolean,default:!1},fields:{type:Array,default:()=>[]}},emits:["setNestedSort"],setup(e,{emit:t}){const{t:n}=J(),l=Xe(),o=Ke(),u=Le(),a=E(!1),{deleteActive:r,deleting:s,deleteField:p}=L(),{duplicateActive:f,duplicateName:_,collections:y,duplicateTo:v,saveDuplicate:h,duplicating:w}=B(),g=F(()=>{var N,K;return(K=Et((N=e.field.meta)==null?void 0:N.interface))==null?void 0:K.name}),k=F(()=>{var N;return((N=e.field.meta)==null?void 0:N.hidden)===!0}),A=F(()=>ll(e.field.collection,e.field.field)),V=F(()=>e.fields.filter(N=>{var K;return((K=N.meta)==null?void 0:K.group)===e.field.field}));return{t:n,interfaceName:g,formatTitle:Dt,editActive:a,setWidth:D,deleteActive:r,deleting:s,deleteField:p,duplicateActive:f,collections:y,duplicateName:_,duplicateTo:v,saveDuplicate:h,duplicating:w,openFieldDetail:O,hidden:k,toggleVisibility:P,localType:A,hideDragImage:zt,onGroupSortChange:M,nestedFields:V};function D(N){u.updateField(e.field.collection,e.field.field,{meta:{width:N}})}function P(){var N;u.updateField(e.field.collection,e.field.field,{meta:{hidden:!((N=e.field.meta)==null?void 0:N.hidden)}})}function L(){const N=E(!1),K=E(!1);return{deleteActive:N,deleting:K,deleteField:G};async function G(){await u.deleteField(e.field.collection,e.field.field),K.value=!1,N.value=!1}}function B(){const N=E(!1),K=E(e.field.field+"_copy"),G=E(!1),ie=F(()=>o.collections.map(({collection:le})=>le).filter(le=>le.startsWith("directus_")===!1)),de=E(e.field.collection);return{duplicateActive:N,duplicateName:K,collections:ie,duplicateTo:de,saveDuplicate:ne,duplicating:G};async function ne(){const le=Ve(pe({},U.exports.cloneDeep(e.field)),{field:K.value,collection:de.value});le.meta&&(delete le.meta.id,delete le.meta.sort,delete le.meta.group),le.schema&&delete le.schema.comment,delete le.name,G.value=!0;try{await u.createField(de.value,le),st({title:n("field_create_success",{field:le.field}),type:"success"}),N.value=!1}catch(se){Se(se)}finally{G.value=!1}}}async function O(){e.field.meta||await u.updateField(e.field.collection,e.field.field,{meta:{}}),l.push(`/settings/data-model/${e.field.collection}/${e.field.field}`)}async function M(N){const K=N.map((G,ie)=>({field:G.field,meta:{sort:ie+1,group:e.field.meta.field}}));t("setNestedSort",K)}}}),RI={class:"label"},jI={class:"name"},MI={class:"header full"},UI={class:"name"},NI={class:"label-inner"},BI={class:"name"},qI={key:0,class:"interface"},zI={key:1,class:"interface"},KI={class:"icons"},HI={class:"form-grid"},WI={class:"field"},GI={class:"type-label"},ZI={class:"field"},JI={class:"type-label"};function QI(e,t,n,l,o,u){var V;const a=c("v-icon"),r=c("v-input"),s=c("field-select-menu"),p=c("field-select",!0),f=c("draggable"),_=c("v-card-title"),y=c("v-select"),v=c("v-card-text"),h=c("v-button"),w=c("v-card-actions"),g=c("v-card"),k=c("v-dialog"),A=ke("tooltip");return m(),I("div",{class:ae(["field-select",((V=e.field.meta)==null?void 0:V.width)||"full"])},[e.disabled?(m(),C(r,{key:0,disabled:"",class:"field"},{prepend:d(()=>[Q(i(a,{name:"lock"},null,512),[[A,e.t("system_fields_locked")]])]),input:d(()=>[S("div",RI,[S("span",jI,b(e.field.field),1)])]),_:1})):(m(),I(x,{key:1},[e.localType==="group"?(m(),C(f,{key:0,class:"field-grid group full nested","model-value":e.nestedFields,"force-fallback":!0,handle:".drag-handle",group:{name:"fields"},"set-data":e.hideDragImage,animation:150,"item-key":"field","fallback-on-body":!0,"invert-swap":!0,"onUpdate:modelValue":e.onGroupSortChange},{header:d(()=>[S("div",MI,[i(a,{class:"drag-handle",name:"drag_indicator",onClick:t[0]||(t[0]=Ae(()=>{},["stop"]))}),S("span",UI,b(e.field.field),1),e.hidden?Q((m(),C(a,{key:0,name:"visibility_off",class:"hidden-icon",small:""},null,512)),[[A,e.t("hidden_field")]]):R("",!0),i(s,{field:e.field,"no-delete":e.nestedFields.length>0,onToggleVisibility:e.toggleVisibility,onSetWidth:t[1]||(t[1]=D=>e.setWidth(D)),onDuplicate:t[2]||(t[2]=D=>e.duplicateActive=!0),onDelete:t[3]||(t[3]=D=>e.deleteActive=!0)},null,8,["field","no-delete","onToggleVisibility"])])]),item:d(({element:D})=>[i(p,{field:D,fields:e.fields,onSetNestedSort:t[4]||(t[4]=P=>e.$emit("setNestedSort",P))},null,8,["field","fields"])]),_:1},8,["model-value","set-data","onUpdate:modelValue"])):(m(),C(r,{key:1,class:ae(["field",{hidden:e.hidden}]),readonly:""},{prepend:d(()=>[i(a,{class:"drag-handle",name:"drag_indicator",onClick:t[5]||(t[5]=Ae(()=>{},["stop"]))})]),input:d(()=>{var D;return[Q(S("div",{class:"label",onClick:t[6]||(t[6]=(...P)=>e.openFieldDetail&&e.openFieldDetail(...P))},[S("div",NI,[S("span",BI,[T(b(e.field.field)+" ",1),((D=e.field.meta)==null?void 0:D.required)===!0?(m(),C(a,{key:0,name:"star",class:"required",sup:""})):R("",!0)]),e.field.meta?(m(),I("span",qI,b(e.interfaceName),1)):(m(),I("span",zI,b(e.t("db_only_click_to_configure")),1))])],512),[[A,e.interfaceName?`${e.field.name} (${e.formatTitle(e.field.type)}) - ${e.interfaceName}`:e.field.name]])]}),append:d(()=>[S("div",KI,[e.field.schema&&e.field.schema.is_primary_key?Q((m(),C(a,{key:0,name:"vpn_key",small:""},null,512)),[[A,e.t("primary_key")]]):R("",!0),e.field.meta?R("",!0):Q((m(),C(a,{key:1,name:"report_problem",class:"unmanaged",small:""},null,512)),[[A,e.t("db_only_click_to_configure")]]),e.hidden?Q((m(),C(a,{key:2,name:"visibility_off",class:"hidden-icon",small:""},null,512)),[[A,e.t("hidden_field")]]):R("",!0),i(s,{field:e.field,onToggleVisibility:e.toggleVisibility,onSetWidth:t[7]||(t[7]=D=>e.setWidth(D)),onDuplicate:t[8]||(t[8]=D=>e.duplicateActive=!0),onDelete:t[9]||(t[9]=D=>e.deleteActive=!0)},null,8,["field","onToggleVisibility"])])]),_:1},8,["class"])),i(k,{modelValue:e.duplicateActive,"onUpdate:modelValue":t[13]||(t[13]=D=>e.duplicateActive=D),onEsc:t[14]||(t[14]=D=>e.duplicateActive=!1)},{default:d(()=>[i(g,{class:"duplicate"},{default:d(()=>[i(_,null,{default:d(()=>[T(b(e.t("duplicate_where_to")),1)]),_:1}),i(v,null,{default:d(()=>[S("div",HI,[S("div",WI,[S("span",GI,b(e.t("collection",0)),1),i(y,{modelValue:e.duplicateTo,"onUpdate:modelValue":t[10]||(t[10]=D=>e.duplicateTo=D),class:"monospace",items:e.collections},null,8,["modelValue","items"])]),S("div",ZI,[S("span",JI,b(e.t("field",0)),1),i(r,{modelValue:e.duplicateName,"onUpdate:modelValue":t[11]||(t[11]=D=>e.duplicateName=D),class:"monospace","db-safe":"",autofocus:""},null,8,["modelValue"])])])]),_:1}),i(w,null,{default:d(()=>[i(h,{secondary:"",onClick:t[12]||(t[12]=D=>e.duplicateActive=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(h,{disabled:e.duplicateName===null,loading:e.duplicating,onClick:e.saveDuplicate},{default:d(()=>[T(b(e.t("duplicate")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),i(k,{modelValue:e.deleteActive,"onUpdate:modelValue":t[16]||(t[16]=D=>e.deleteActive=D),onEsc:t[17]||(t[17]=D=>e.deleteActive=!1)},{default:d(()=>[i(g,null,{default:d(()=>[i(_,null,{default:d(()=>[T(b(e.t("delete_field_are_you_sure",{field:e.field.field})),1)]),_:1}),i(w,null,{default:d(()=>[i(h,{secondary:"",onClick:t[15]||(t[15]=D=>e.deleteActive=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(h,{loading:e.deleting,kind:"danger",onClick:e.deleteField},{default:d(()=>[T(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))],2)}var XI=q(OI,[["render",QI],["__scopeId","data-v-8c7dc1c8"]]);const YI=z({name:"FieldsManagement",components:{Draggable:It,FieldSelect:XI},props:{collection:{type:String,required:!0}},setup(e){const{t}=J(),{collection:n}=Me(e),{fields:l}=ot(n),o=Le(),u=F(()=>U.exports.orderBy(l.value,[_=>{var y,v;return((y=_.meta)==null?void 0:y.sort)?Number((v=_.meta)==null?void 0:v.sort):null},_=>{var y;return(y=_.meta)==null?void 0:y.id}]).filter(_=>_.field.startsWith("$")===!1)),a=F(()=>u.value.filter(_=>{var y;return((y=_.meta)==null?void 0:y.system)===!0})),r=F(()=>u.value.filter(_=>{var y;return((y=_.meta)==null?void 0:y.system)!==!0})),s=F(()=>[{type:"standard",icon:"create",text:t("standard_field")},{type:"presentation",icon:"scatter_plot",text:t("presentation_and_aliases")},{type:"group",icon:"view_in_ar",text:t("field_group")},{divider:!0},{type:"file",icon:"photo",text:t("single_file")},{type:"files",icon:"collections",text:t("multiple_files")},{divider:!0},{type:"m2o",icon:"call_merge",text:t("m2o_relationship")},{type:"o2m",icon:"call_split",text:t("o2m_relationship")},{type:"m2m",icon:"import_export",text:t("m2m_relationship")},{type:"m2a",icon:"gesture",text:t("m2a_relationship")},{divider:!0},{type:"translations",icon:"translate",text:t("translations")}]);return{t,usableFields:r,lockedFields:a,setSort:p,hideDragImage:zt,addOptions:s,setNestedSort:f,isNil:U.exports.isNil};async function p(_){const y=_.map((v,h)=>({field:v.field,meta:{sort:h+1,group:null}}));await o.updateFields(n.value,y)}async function f(_){_=(_||[]).filter(y=>U.exports.isNil(y)===!1),_.length>0&&await o.updateFields(n.value,_)}}}),xI={class:"fields-management"},eE={key:0,class:"field-grid"},tE=["dashed","onClick"];function nE(e,t,n,l,o,u){const a=c("field-select"),r=c("draggable"),s=c("v-button"),p=c("v-divider"),f=c("v-icon"),_=c("v-list-item-icon"),y=c("v-list-item-content"),v=c("v-list-item"),h=c("v-list"),w=c("v-menu");return m(),I("div",xI,[e.lockedFields.length>0?(m(),I("div",eE,[(m(!0),I(x,null,$e(e.lockedFields,g=>(m(),C(a,{key:g.field,disabled:"",field:g},null,8,["field"]))),128))])):R("",!0),i(r,{class:"field-grid","model-value":e.usableFields.filter(g=>{var k;return e.isNil((k=g==null?void 0:g.meta)==null?void 0:k.group)}),"force-fallback":!0,handle:".drag-handle",group:{name:"fields"},"set-data":e.hideDragImage,"item-key":"field",animation:150,"fallback-on-body":!0,"invert-swap":!0,"onUpdate:modelValue":e.setSort},{item:d(({element:g})=>[i(a,{field:g,fields:e.usableFields,onSetNestedSort:e.setNestedSort},null,8,["field","fields","onSetNestedSort"])]),_:1},8,["model-value","set-data","onUpdate:modelValue"]),i(s,{"full-width":"",to:`/settings/data-model/${e.collection}/+`},{default:d(()=>[T(b(e.t("create_field")),1)]),_:1},8,["to"]),i(w,{"show-arrow":""},{activator:d(({toggle:g,active:k})=>[S("button",{class:ae(["add-field-advanced",{active:k}]),dashed:!k,onClick:g},b(e.t("create_in_advanced_field_creation_mode")),11,tE)]),default:d(()=>[i(h,null,{default:d(()=>[(m(!0),I(x,null,$e(e.addOptions,(g,k)=>(m(),I(x,{key:k},[g.divider===!0?(m(),C(p,{key:0})):(m(),C(v,{key:1,to:`/settings/data-model/${e.collection}/+?type=${g.type}`},{default:d(()=>[i(_,null,{default:d(()=>[i(f,{name:g.icon},null,8,["name"])]),_:2},1024),i(y,null,{default:d(()=>[T(b(g.text),1)]),_:2},1024)]),_:2},1032,["to"]))],64))),128))]),_:1})]),_:1})])}var lE=q(YI,[["render",nE],["__scopeId","data-v-4cc65bb1"]]);const oE=z({components:{SettingsNavigation:Ut,FieldsManagement:lE},props:{collection:{type:String,required:!0},field:{type:String,default:null},type:{type:String,default:null}},setup(e){const{t}=J(),n=Xe(),{collection:l}=Me(e),{info:o,fields:u}=ot(l),a=Ke(),r=Le(),{isNew:s,edits:p,item:f,saving:_,loading:y,error:v,save:h,remove:w,deleting:g,saveAsCopy:k,isBatch:A}=gn(E("directus_collections"),l),V=F(()=>p.value.meta?Object.keys(p.value.meta).length>0:!1);nt("meta+s",()=>{V.value&&O()});const D=E(!1),{confirmLeave:P,leaveTo:L}=en(V);return{t,collectionInfo:o,fields:u,confirmDelete:D,isNew:s,edits:p,item:f,saving:_,loading:y,error:v,save:h,remove:w,deleting:g,saveAsCopy:k,isBatch:A,deleteAndQuit:B,saveAndQuit:M,hasEdits:V,confirmLeave:P,leaveTo:L,discardAndLeave:N};async function B(){await w(),await a.hydrate(),await r.hydrate(),n.replace("/settings/data-model")}async function O(){await h(),await a.hydrate(),await r.hydrate()}async function M(){await h(),await a.hydrate(),await r.hydrate(),n.push("/settings/data-model")}function N(){!L.value||(p.value={},P.value=!1,n.push(L.value))}}}),aE={class:"collections-item"},iE={class:"fields"},rE={class:"title type-label"},sE={class:"instant-save"},dE={class:"page-description"};function uE(e,t,n,l,o,u){const a=c("v-breadcrumb"),r=c("v-icon"),s=c("v-button"),p=c("v-card-title"),f=c("v-card-actions"),_=c("v-card"),y=c("v-dialog"),v=c("settings-navigation"),h=c("fields-management"),w=c("router-view"),g=c("v-form"),k=c("sidebar-detail"),A=c("v-card-text"),V=c("private-view"),D=ke("tooltip"),P=ke("md");return m(),C(V,{title:e.collectionInfo&&e.collectionInfo.name},{headline:d(()=>[i(a,{items:[{name:e.t("settings_data_model"),to:"/settings/data-model"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[i(s,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/data-model"},{default:d(()=>[i(r,{name:"arrow_back"})]),_:1})]),actions:d(()=>[i(y,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=L=>e.confirmDelete=L),onEsc:t[2]||(t[2]=L=>e.confirmDelete=!1)},{activator:d(({on:L})=>[e.item&&e.item.collection.startsWith("directus_")===!1?Q((m(),C(s,{key:0,rounded:"",icon:"",class:"action-delete",disabled:e.item===null,onClick:L},{default:d(()=>[i(r,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"])),[[D,e.t("delete_collection"),void 0,{bottom:!0}]]):R("",!0)]),default:d(()=>[i(_,null,{default:d(()=>[i(p,null,{default:d(()=>[T(b(e.t("delete_are_you_sure")),1)]),_:1}),i(f,null,{default:d(()=>[i(s,{secondary:"",onClick:t[0]||(t[0]=L=>e.confirmDelete=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(s,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:d(()=>[T(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),Q(i(s,{rounded:"",icon:"",loading:e.saving,disabled:e.hasEdits===!1,onClick:e.saveAndQuit},{default:d(()=>[i(r,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[D,e.t("save"),void 0,{bottom:!0}]])]),navigation:d(()=>[i(v)]),sidebar:d(()=>[i(k,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[Q(S("div",dE,null,512),[[P,e.t("page_help_settings_datamodel_fields")]])]),_:1},8,["title"])]),default:d(()=>[S("div",aE,[S("div",iE,[S("h2",rE,[T(b(e.t("fields_and_layout"))+" ",1),S("span",sE,b(e.t("saves_automatically")),1)]),i(h,{collection:e.collection},null,8,["collection"])]),i(w,{name:"field",collection:e.collection,field:e.field,type:e.type},null,8,["collection","field","type"]),i(g,{modelValue:e.edits.meta,"onUpdate:modelValue":t[3]||(t[3]=L=>e.edits.meta=L),collection:"directus_collections",loading:e.loading,"initial-values":e.item&&e.item.meta,"batch-mode":e.isBatch,"primary-key":e.collection,disabled:e.item&&e.item.collection.startsWith("directus_")},null,8,["modelValue","loading","initial-values","batch-mode","primary-key","disabled"])]),i(y,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[5]||(t[5]=L=>e.confirmLeave=L),onEsc:t[6]||(t[6]=L=>e.confirmLeave=!1)},{default:d(()=>[i(_,null,{default:d(()=>[i(p,null,{default:d(()=>[T(b(e.t("unsaved_changes")),1)]),_:1}),i(A,null,{default:d(()=>[T(b(e.t("unsaved_changes_copy")),1)]),_:1}),i(f,null,{default:d(()=>[i(s,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[T(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),i(s,{onClick:t[4]||(t[4]=L=>e.confirmLeave=!1)},{default:d(()=>[T(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var cE=q(oE,[["render",uE],["__scopeId","data-v-41b0be39"]]);const yr={status:{enabled:!1,inputDisabled:!1,name:"status",label:"status",icon:"flag"},sort:{enabled:!1,inputDisabled:!1,name:"sort",label:"sort",icon:"low_priority"},dateCreated:{enabled:!1,inputDisabled:!1,name:"date_created",label:"created_on",icon:"access_time"},userCreated:{enabled:!1,inputDisabled:!1,name:"user_created",label:"created_by",icon:"account_circle"},dateUpdated:{enabled:!1,inputDisabled:!1,name:"date_updated",label:"updated_on",icon:"access_time"},userUpdated:{enabled:!1,inputDisabled:!1,name:"user_updated",label:"updated_by",icon:"account_circle"}},pE=z({setup(){const{t:e}=J(),t=Xe(),n=Ke(),l=Le(),o=pt(),u=fn(),a=E(["collection_setup"]),r=E(null),s=E(!1),p=E("id"),f=E("auto_int"),_=E(),y=E(),v=E(),h=E(),w=rn(U.exports.cloneDeep(yr)),g=E(!1);return ye(()=>s.value,k),{t:e,router:t,isOpen:u,currentTab:a,save:A,systemFields:w,primaryKeyFieldName:p,primaryKeyFieldType:f,collectionName:r,saving:g,singleton:s};function k(){w.sort=pe({},yr.sort),w.sort.inputDisabled=s.value}async function A(){g.value=!0;try{await re.post("/collections",{collection:r.value,fields:[V(),...D()],schema:{},meta:{sort_field:_.value,archive_field:y.value,archive_value:v.value,unarchive_value:h.value,singleton:s.value}});const L=P();if(L.length>0){for(const B of L)await re.post("/relations",B);await o.hydrate()}await n.hydrate(),await l.hydrate(),st({title:e("collection_created"),type:"success"}),t.replace(`/settings/data-model/${r.value}`)}catch(L){Se(L)}finally{g.value=!1}}function V(){return f.value==="uuid"?{field:p.value,type:"uuid",meta:{hidden:!0,readonly:!0,interface:"input",special:["uuid"]},schema:{is_primary_key:!0,length:36,has_auto_increment:!1}}:f.value==="manual"?{field:p.value,type:"string",meta:{interface:"input",readonly:!1,hidden:!1},schema:{is_primary_key:!0,length:255,has_auto_increment:!1}}:{field:p.value,type:"integer",meta:{hidden:!0,interface:"input",readonly:!0},schema:{is_primary_key:!0,has_auto_increment:!0}}}function D(){const L=[];return w.status.enabled===!0&&(L.push({field:w.status.name,type:"string",meta:{width:"full",options:{choices:[{text:"$t:published",value:"published"},{text:"$t:draft",value:"draft"},{text:"$t:archived",value:"archived"}]},interface:"select-dropdown",display:"labels",display_options:{showAsDot:!0,choices:[{background:"#00C897",value:"published"},{background:"#D3DAE4",value:"draft"},{background:"#F7971C",value:"archived"}]}},schema:{default_value:"draft",is_nullable:!1}}),y.value="status",v.value="archived",h.value="draft"),w.sort.enabled===!0&&(L.push({field:w.sort.name,type:"integer",meta:{interface:"input",hidden:!0},schema:{}}),_.value=w.sort.name),w.userCreated.enabled===!0&&L.push({field:w.userCreated.name,type:"uuid",meta:{special:["user-created"],interface:"select-dropdown-m2o",options:{template:"{{avatar.$thumbnail}} {{first_name}} {{last_name}}"},display:"user",readonly:!0,hidden:!0,width:"half"},schema:{}}),w.dateCreated.enabled===!0&&L.push({field:w.dateCreated.name,type:"timestamp",meta:{special:["date-created"],interface:"datetime",readonly:!0,hidden:!0,width:"half",display:"datetime",display_options:{relative:!0}},schema:{}}),w.userUpdated.enabled===!0&&L.push({field:w.userUpdated.name,type:"uuid",meta:{special:["user-updated"],interface:"select-dropdown-m2o",options:{template:"{{avatar.$thumbnail}} {{first_name}} {{last_name}}"},display:"user",readonly:!0,hidden:!0,width:"half"},schema:{}}),w.dateUpdated.enabled===!0&&L.push({field:w.dateUpdated.name,type:"timestamp",meta:{special:["date-updated"],interface:"datetime",readonly:!0,hidden:!0,width:"half",display:"datetime",display_options:{relative:!0}},schema:{}}),L}function P(){const L=[];return w.userCreated.enabled===!0&&L.push({collection:r.value,field:w.userCreated.name,related_collection:"directus_users",schema:{}}),w.userUpdated.enabled===!0&&L.push({collection:r.value,field:w.userUpdated.name,related_collection:"directus_users",schema:{}}),L}}}),mE={class:"grid"},fE={class:"field half"},_E={class:"type-label"},vE={class:"field half"},yE={class:"type-label"},hE={class:"field half"},gE={class:"type-label"},bE={class:"field half"},wE={class:"type-label"},$E={class:"grid system"},kE={class:"type-label"};function SE(e,t,n,l,o,u){const a=c("v-tab"),r=c("v-tabs"),s=c("v-notice"),p=c("v-icon"),f=c("v-input"),_=c("v-checkbox"),y=c("v-divider"),v=c("v-select"),h=c("v-tab-item"),w=c("v-tabs-items"),g=c("v-button"),k=c("v-drawer"),A=ke("tooltip");return m(),C(k,{title:e.t("creating_new_collection"),"model-value":e.isOpen,class:"new-collection",persistent:"","sidebar-label":e.t(e.currentTab[0]),onCancel:t[7]||(t[7]=V=>e.router.push("/settings/data-model"))},{sidebar:d(()=>[i(r,{modelValue:e.currentTab,"onUpdate:modelValue":t[0]||(t[0]=V=>e.currentTab=V),vertical:""},{default:d(()=>[i(a,{value:"collection_setup"},{default:d(()=>[T(b(e.t("collection_setup")),1)]),_:1}),i(a,{value:"optional_system_fields",disabled:!e.collectionName},{default:d(()=>[T(b(e.t("optional_system_fields")),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),actions:d(()=>[e.currentTab[0]==="collection_setup"?Q((m(),C(g,{key:0,disabled:!e.collectionName||e.collectionName.length===0,icon:"",rounded:"",onClick:t[6]||(t[6]=V=>e.currentTab=["optional_system_fields"])},{default:d(()=>[i(p,{name:"arrow_forward"})]),_:1},8,["disabled"])),[[A,e.t("next"),void 0,{bottom:!0}]]):R("",!0),e.currentTab[0]==="optional_system_fields"?Q((m(),C(g,{key:1,loading:e.saving,icon:"",rounded:"",onClick:e.save},{default:d(()=>[i(p,{name:"check"})]),_:1},8,["loading","onClick"])),[[A,e.t("finish_setup"),void 0,{bottom:!0}]]):R("",!0)]),default:d(()=>[i(w,{modelValue:e.currentTab,"onUpdate:modelValue":t[5]||(t[5]=V=>e.currentTab=V),class:"content"},{default:d(()=>[i(h,{value:"collection_setup"},{default:d(()=>[i(s,{type:"info"},{default:d(()=>[T(b(e.t("creating_collection_info")),1)]),_:1}),S("div",mE,[S("div",fE,[S("div",_E,[T(b(e.t("name"))+" ",1),Q(i(p,{class:"required",name:"star",sup:""},null,512),[[A,e.t("required")]])]),i(f,{modelValue:e.collectionName,"onUpdate:modelValue":t[1]||(t[1]=V=>e.collectionName=V),autofocus:"",class:"monospace","db-safe":"",placeholder:e.t("a_unique_table_name")},null,8,["modelValue","placeholder"])]),S("div",vE,[S("div",yE,b(e.t("singleton")),1),i(_,{modelValue:e.singleton,"onUpdate:modelValue":t[2]||(t[2]=V=>e.singleton=V),block:"",label:e.t("singleton_label")},null,8,["modelValue","label"])]),i(y,{class:"full"}),S("div",hE,[S("div",gE,b(e.t("primary_key_field")),1),i(f,{modelValue:e.primaryKeyFieldName,"onUpdate:modelValue":t[3]||(t[3]=V=>e.primaryKeyFieldName=V),class:"monospace","db-safe":"",placeholder:e.t("a_unique_column_name")},null,8,["modelValue","placeholder"])]),S("div",bE,[S("div",wE,b(e.t("type")),1),i(v,{modelValue:e.primaryKeyFieldType,"onUpdate:modelValue":t[4]||(t[4]=V=>e.primaryKeyFieldType=V),items:[{text:e.t("auto_increment_integer"),value:"auto_int"},{text:e.t("generated_uuid"),value:"uuid"},{text:e.t("manual_string"),value:"manual"}]},null,8,["modelValue","items"])])])]),_:1}),i(h,{value:"optional_system_fields"},{default:d(()=>[i(s,{type:"info"},{default:d(()=>[T(b(e.t("creating_collection_system")),1)]),_:1}),S("div",$E,[(m(!0),I(x,null,$e(e.systemFields,(V,D,P)=>(m(),I("div",{key:D,class:ae(["field",P%2==0?"half":"half-right"])},[S("div",kE,b(e.t(V.label)),1),i(f,{modelValue:V.name,"onUpdate:modelValue":L=>V.name=L,class:ae(["monospace",{active:V.enabled}]),disabled:V.inputDisabled,onFocus:L=>V.enabled=!0},{prepend:d(()=>[i(_,{modelValue:V.enabled,"onUpdate:modelValue":L=>V.enabled=L,disabled:V.inputDisabled},null,8,["modelValue","onUpdate:modelValue","disabled"])]),append:d(()=>[i(p,{name:V.icon},null,8,["name"])]),_:2},1032,["modelValue","onUpdate:modelValue","class","disabled","onFocus"])],2))),128))])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title","model-value","sidebar-label"])}var CE=q(pE,[["render",SE],["__scopeId","data-v-6f961fa8"]]);const VE=z({components:{SettingsNavigation:Ut},setup(){const{t:e}=J();return{t:e}}}),FE={class:"not-found"};function AE(e,t,n,l,o,u){const a=c("settings-navigation"),r=c("v-info"),s=c("private-view");return m(),C(s,{title:e.t("page_not_found")},{navigation:d(()=>[i(a)]),default:d(()=>[S("div",FE,[i(r,{title:e.t("page_not_found"),icon:"not_interested"},{default:d(()=>[T(b(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var IE=q(VE,[["render",AE],["__scopeId","data-v-bf888afe"]]);const EE={},DE={class:"null"};function TE(e,t){return m(),I("span",DE,"--")}var tn=q(EE,[["render",TE],["__scopeId","data-v-cf005d72"]]);const LE=z({setup(){const{t:e}=J(),t=E(!1),n=E(null),l=E(null);return o(),{t:e,bookmarksCount:n,presetsCount:l};async function o(){t.value=!0;try{const u=await re.get("/presets",{params:{["filter[bookmark][_nnull]"]:!0,fields:["id"],meta:"filter_count,total_count"}});n.value=u.data.meta.filter_count,l.value=u.data.meta.total_count-n.value}catch(u){Se(u)}finally{t.value=!1}}}}),PE={class:"page-description"};function OE(e,t,n,l,o,u){const a=c("v-divider"),r=c("sidebar-detail"),s=ke("md");return m(),C(r,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[S("dl",null,[S("div",null,[S("dt",null,b(e.t("bookmarks")),1),S("dd",null,b(e.bookmarksCount),1)]),S("div",null,[S("dt",null,b(e.t("presets")),1),S("dd",null,b(e.presetsCount),1)])]),i(a),Q(S("div",PE,null,512),[[s,e.t("page_help_settings_presets_collection")]])]),_:1},8,["title"])}var RE=q(LE,[["render",OE],["__scopeId","data-v-7ed28445"]]);const jE=z({components:{SettingsNavigation:Ut,ValueNull:tn,PresetsInfoSidebarDetail:RE},setup(){const{t:e}=J(),t=Xe(),n=Ke(),l=E([]),{addNewLink:o}=v(),{loading:u,presets:a,getPresets:r}=h(),{headers:s}=w(),{confirmDelete:p,deleting:f,deleteSelection:_}=k(),y=kn();return r(),{t:e,addNewLink:o,usePresets:h,loading:u,presets:a,getPresets:r,headers:s,selection:l,onRowClick:g,confirmDelete:p,deleting:f,deleteSelection:_};function v(){return{addNewLink:F(()=>"/settings/presets/+")}}function h(){const A=E(!1),V=E(null),D=F(()=>(V.value||[]).map(L=>{var N,K;let B="all";L.role&&(B=L.role.name),L.user&&(B=wt(L.user));const O=(N=n.getCollection(L.collection))==null?void 0:N.name,M=(K=lo(L.layout))==null?void 0:K.name;return{id:L.id,scope:B,collection:O,layout:M,name:L.bookmark}}));return{loading:A,presetsRaw:V,getPresets:P,presets:D};async function P(){A.value=!0;try{const L=await re.get("/presets",{params:{fields:["id","bookmark","user.email","user.first_name","user.last_name","role.name","collection","layout"],limit:-1}});V.value=L.data.data}catch(L){Se(L)}finally{A.value=!1}}}function w(){return{headers:[{text:e("collection"),value:"collection",align:"left",sortable:!0,width:200},{text:e("scope"),value:"scope",align:"left",sortable:!0,width:200},{text:e("layout"),value:"layout",align:"left",sortable:!0,width:200},{text:e("name"),value:"name",align:"left",sortable:!0,width:200}]}}function g({item:A}){A=E(A).value,l.value.length===0?t.push(`/settings/presets/${A.id}`):l.value.includes(A)?l.value=l.value.filter(V=>V!==A):l.value=[...l.value,A]}function k(){const A=E(!1),V=E(!1);return{confirmDelete:A,deleting:V,deleteSelection:D};async function D(){V.value=!0;try{const P=l.value.map(L=>L.id);await y.delete(P),l.value=[],await r(),A.value=!1}finally{V.value=!1}}}}}),ME={class:"presets-collection"},UE={key:1};function NE(e,t,n,l,o,u){const a=c("v-breadcrumb"),r=c("v-icon"),s=c("v-button"),p=c("v-card-title"),f=c("v-card-actions"),_=c("v-card"),y=c("v-dialog"),v=c("settings-navigation"),h=c("v-info"),w=c("value-null"),g=c("v-table"),k=c("presets-info-sidebar-detail"),A=c("private-view"),V=ke("tooltip");return m(),C(A,{title:e.t("settings_presets")},{headline:d(()=>[i(a,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[i(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[i(r,{name:"bookmark_border"})]),_:1})]),actions:d(()=>[e.selection.length>0?(m(),C(y,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=D=>e.confirmDelete=D),onEsc:t[2]||(t[2]=D=>e.confirmDelete=!1)},{activator:d(({on:D})=>[Q(i(s,{rounded:"",icon:"",class:"action-delete",onClick:D},{default:d(()=>[i(r,{name:"delete",outline:""})]),_:2},1032,["onClick"]),[[V,e.t("delete_label"),void 0,{bottom:!0}]])]),default:d(()=>[i(_,null,{default:d(()=>[i(p,null,{default:d(()=>[T(b(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),i(f,null,{default:d(()=>[i(s,{secondary:"",onClick:t[0]||(t[0]=D=>e.confirmDelete=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(s,{kind:"danger",loading:e.deleting,onClick:e.deleteSelection},{default:d(()=>[T(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),Q(i(s,{rounded:"",icon:"",to:e.addNewLink},{default:d(()=>[i(r,{name:"add"})]),_:1},8,["to"]),[[V,e.t("create_preset"),void 0,{bottom:!0}]])]),navigation:d(()=>[i(v)]),sidebar:d(()=>[i(k)]),default:d(()=>[S("div",ME,[!e.loading&&e.presets.length===0?(m(),C(h,{key:0,center:"",type:"warning",title:e.t("no_presets"),icon:"bookmark"},{append:d(()=>[i(s,{to:e.addNewLink},{default:d(()=>[T(b(e.t("no_presets_cta")),1)]),_:1},8,["to"])]),default:d(()=>[T(b(e.t("no_presets_copy"))+" ",1)]),_:1},8,["title"])):(m(),C(g,{key:1,modelValue:e.selection,"onUpdate:modelValue":t[3]||(t[3]=D=>e.selection=D),headers:e.headers,"fixed-header":"",items:e.presets,loading:e.loading,"show-select":"multiple","onClick:row":e.onRowClick},{["item.scope"]:d(({item:D})=>[S("span",{class:ae({all:D.scope==="all"})},b(D.scope==="all"?e.t("all"):D.scope),3)]),["item.layout"]:d(({item:D})=>[D.layout?(m(),I("span",UE,b(D.layout),1)):(m(),C(w,{key:0}))]),["item.name"]:d(({item:D})=>[S("span",{class:ae({default:D.name===null})},b(D.name===null?e.t("default_label"):D.name),3)]),_:2},1032,["modelValue","headers","items","loading","onClick:row"]))])]),_:1},8,["title"])}var BE=q(jE,[["render",NE],["__scopeId","data-v-05149cae"]]);const qE=z({components:{SettingsNavigation:Ut},props:{id:{type:String,default:null}},setup(e){const{t}=J(),n=Xe(),l=Ke(),o=kn(),{layouts:u}=An(),{backLink:a}=se(),r=F(()=>e.id==="+"),{loading:s,preset:p}=le(),{fields:f}=ee(),{edits:_,hasEdits:y,initialValues:v,values:h,layoutQuery:w,layoutOptions:g,updateFilters:k,search:A}=ne(),{save:V,saving:D}=ie(),{deleting:P,deleteAndQuit:L,confirmDelete:B}=de(),O=F({get(){var te;return(te=h.value.filter)!=null?te:null},set(te){k(te)}}),M=F(()=>h.value.layout),{layoutWrapper:N}=dn(M);nt("meta+s",()=>{y.value&&V()});const{confirmLeave:K,leaveTo:G}=en(y);return{t,backLink:a,loading:s,preset:p,edits:_,fields:f,values:h,initialValues:v,saving:D,save:V,layoutWrapper:N,layoutQuery:w,layoutOptions:g,layoutFilter:O,hasEdits:y,deleting:P,deleteAndQuit:L,confirmDelete:B,updateFilters:k,search:A,confirmLeave:K,leaveTo:G,discardAndLeave:Z};function ie(){const te=E(!1);return{saving:te,save:me};async function me(){var Y;te.value=!0;const H={};_.value.name&&(H.bookmark=_.value.name),((Y=_.value.name)==null?void 0:Y.length)===0&&(H.bookmark=null),_.value.collection&&(H.collection=_.value.collection),_.value.layout&&(H.layout=_.value.layout),_.value.layout_query&&(H.layout_query=_.value.layout_query),_.value.layout_options&&(H.layout_options=_.value.layout_options),_.value.filter&&(H.filter=_.value.filter),H.search=_.value.search,_.value.scope&&(_.value.scope.startsWith("role_")?(H.role=_.value.scope.substring(5),H.user=null):_.value.scope.startsWith("user_")?(H.user=_.value.scope.substring(5),H.role=null):(H.role=null,H.user=null));try{r.value===!0?await re.post("/presets",H):await re.patch(`/presets/${e.id}`,H),await o.hydrate(),_.value={}}catch(_e){Se(_e)}finally{te.value=!1,n.push("/settings/presets")}}}function de(){const te=E(!1),me=E(!1);return{deleting:te,confirmDelete:me,deleteAndQuit:H};async function H(){te.value=!0;try{await o.delete([Number(e.id)]),n.replace("/settings/presets")}catch(Y){Se(Y)}finally{te.value=!1}}}function ne(){const te=E({}),me=F(()=>Object.keys(te.value).length>0),H=F(()=>{const X={collection:null,layout:"tabular",search:null,scope:"all",layout_query:null,layout_options:null,filter:null};if(r.value===!0||p.value===null)return X;let ce="all";return p.value.user!==null?ce=`user_${p.value.user}`:p.value.role!==null&&(ce=`role_${p.value.role}`),{id:p.value.id,collection:p.value.collection,layout:p.value.layout,name:p.value.bookmark,search:p.value.search,scope:ce,layout_query:p.value.layout_query,layout_options:p.value.layout_options,filter:p.value.filter}}),Y=F(()=>pe(pe({},H.value),te.value)),_e=F({get(){return!Y.value.layout_query||!Y.value.layout?null:Y.value.layout_query[Y.value.layout]},set(X){Y.value.layout_query&&Y.value.layout&&U.exports.isEqual(X,Y.value.layout_query[Y.value.layout])||(te.value=Ve(pe({},te.value),{layout_query:Ve(pe({},te.value.layout_query),{[Y.value.layout||"tabular"]:X})}))}}),ve=F({get(){return!Y.value.layout_options||!Y.value.layout?null:Y.value.layout_options[Y.value.layout]},set(X){Y.value.layout_options&&Y.value.layout&&U.exports.isEqual(X,Y.value.layout_options[Y.value.layout])||(te.value=Ve(pe({},te.value),{layout_options:Ve(pe({},te.value.layout_options),{[Y.value.layout||"tabular"]:X})}))}}),ue=F({get(){return Y.value.search},set(X){te.value=Ve(pe({},te.value),{search:X})}});return{edits:te,initialValues:H,values:Y,layoutQuery:_e,layoutOptions:ve,hasEdits:me,updateFilters:W,search:ue};function W(X){te.value=Ve(pe({},te.value),{filter:X})}}function le(){const te=E(!1),me=E(null);return H(),{loading:te,preset:me,fetchPreset:H};async function H(){if(e.id!=="+"){te.value=!0;try{const Y=await re.get(`/presets/${e.id}`);me.value=Y.data.data}catch(Y){Se(Y)}finally{te.value=!1}}}}function se(){return{backLink:F(()=>"/settings/presets")}}function ee(){const te=["directus_users","directus_files","directus_activity"];return{fields:F(()=>[{field:"collection",name:t("collection"),type:"string",meta:{interface:"select-dropdown",options:{choices:l.collections.map(H=>({text:H.name,value:H.collection})).filter(H=>H.value.startsWith("directus_")?te.includes(H.value):!0)},width:"half"}},{field:"scope",name:t("scope"),type:"string",meta:{interface:"system-scope",width:"half"}},{field:"layout",name:t("layout"),type:"string",meta:{interface:"select-dropdown",options:{choices:u.value.map(H=>({text:H.name,value:H.id}))},width:"half"}},{field:"name",name:t("name"),type:"string",meta:{interface:"input",width:"half",options:{placeholder:t("preset_name_placeholder")}}},{field:"divider",name:t("divider"),type:"alias",meta:{interface:"presentation-divider",width:"fill",options:{title:t("layout_preview"),icon:"visibility"}}}])}}function Z(){!G.value||(_.value={},K.value=!1,n.push(G.value))}}}),zE={class:"preset-item"},KE={class:"layout"},HE={class:"page-description"},WE={class:"layout-sidebar"},GE={class:"layout-options"};function ZE(e,t,n,l,o,u){const a=c("v-breadcrumb"),r=c("v-icon"),s=c("v-button"),p=c("settings-navigation"),f=c("v-card-title"),_=c("v-card-actions"),y=c("v-card"),v=c("v-dialog"),h=c("v-form"),w=c("v-info"),g=c("v-notice"),k=c("sidebar-detail"),A=c("v-input"),V=c("v-card-text"),D=c("private-view"),P=ke("tooltip"),L=ke("md");return m(),C(qe(e.layoutWrapper),{"layout-options":e.layoutOptions,"onUpdate:layout-options":t[8]||(t[8]=B=>e.layoutOptions=B),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[9]||(t[9]=B=>e.layoutQuery=B),filter:e.layoutFilter,search:e.search,collection:e.values.collection,readonly:""},{default:d(({layoutState:B})=>[i(D,{title:e.t("editing_preset")},{headline:d(()=>[i(a,{items:[{name:e.t("settings_presets"),to:"/settings/presets"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[i(s,{class:"header-icon",rounded:"",icon:"",exact:"",to:e.backLink},{default:d(()=>[i(r,{name:"arrow_back"})]),_:1},8,["to"])]),navigation:d(()=>[i(p)]),actions:d(()=>[i(v,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=O=>e.confirmDelete=O),onEsc:t[2]||(t[2]=O=>e.confirmDelete=!1)},{activator:d(({on:O})=>[Q(i(s,{rounded:"",icon:"",class:"action-delete",disabled:e.preset===null||e.id==="+",onClick:O},{default:d(()=>[i(r,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[P,e.t("delete_label"),void 0,{bottom:!0}]])]),default:d(()=>[i(y,null,{default:d(()=>[i(f,null,{default:d(()=>[T(b(e.t("delete_are_you_sure")),1)]),_:1}),i(_,null,{default:d(()=>[i(s,{secondary:"",onClick:t[0]||(t[0]=O=>e.confirmDelete=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(s,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:d(()=>[T(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),Q(i(s,{icon:"",rounded:"",disabled:e.hasEdits===!1,loading:e.saving,onClick:e.save},{default:d(()=>[i(r,{name:"check"})]),_:1},8,["disabled","loading","onClick"]),[[P,e.t("save"),void 0,{bottom:!0}]])]),sidebar:d(()=>[i(k,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[Q(S("div",HE,null,512),[[L,e.t("page_help_settings_presets_item")]])]),_:1},8,["title"]),S("div",WE,[i(k,{icon:"search",title:e.t("search")},{default:d(()=>[i(A,{modelValue:e.search,"onUpdate:modelValue":t[4]||(t[4]=O=>e.search=O),placeholder:e.t("preset_search_placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["title"]),e.values.layout&&e.values.collection?(m(),C(qe(`layout-sidebar-${e.values.layout}`),Je(mt({key:0},B)),null,16)):R("",!0),i(k,{icon:"layers",title:e.t("layout_options")},{default:d(()=>[S("div",GE,[e.values.layout&&e.values.collection?(m(),C(qe(`layout-options-${e.values.layout}`),Je(mt({key:0},B)),null,16)):R("",!0)])]),_:2},1032,["title"])])]),default:d(()=>[S("div",zE,[i(h,{modelValue:e.edits,"onUpdate:modelValue":t[3]||(t[3]=O=>e.edits=O),fields:e.fields,loading:e.loading,"initial-values":e.initialValues,"primary-key":e.id},null,8,["modelValue","fields","loading","initial-values","primary-key"]),S("div",KE,[e.values.layout&&e.values.collection?(m(),C(qe(`layout-${e.values.layout}`),Je(mt({key:0},B)),{"no-results":d(()=>[i(w,{title:e.t("no_results"),icon:"search",center:""},{default:d(()=>[T(b(e.t("no_results_copy")),1)]),_:1},8,["title"])]),"no-items":d(()=>[i(w,{title:e.t("item_count",0),center:""},{default:d(()=>[T(b(e.t("no_items_copy")),1)]),_:1},8,["title"])]),_:2},1040)):(m(),C(g,{key:1},{default:d(()=>[T(b(e.t("no_layout_collection_selected_yet")),1)]),_:1}))])]),i(v,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[6]||(t[6]=O=>e.confirmLeave=O),onEsc:t[7]||(t[7]=O=>e.confirmLeave=!1)},{default:d(()=>[i(y,null,{default:d(()=>[i(f,null,{default:d(()=>[T(b(e.t("unsaved_changes")),1)]),_:1}),i(V,null,{default:d(()=>[T(b(e.t("unsaved_changes_copy")),1)]),_:1}),i(_,null,{default:d(()=>[i(s,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[T(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),i(s,{onClick:t[5]||(t[5]=O=>e.confirmLeave=!1)},{default:d(()=>[T(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:2},1032,["title"])]),_:1},8,["layout-options","layout-query","filter","search","collection"])}var JE=q(qE,[["render",ZE],["__scopeId","data-v-0430ef3d"]]);const QE=z({setup(){const{t:e}=J(),{parsedInfo:t}=ni();return{t:e,parsedInfo:t}}}),XE={key:0},YE={class:"page-description"};function xE(e,t,n,l,o,u){const a=c("v-divider"),r=c("sidebar-detail"),s=ke("md");return m(),C(r,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[e.parsedInfo?(m(),I("dl",XE,[S("div",null,[S("dt",null,b(e.t("directus_version")),1),S("dd",null,b(e.parsedInfo.directus.version),1)]),S("div",null,[S("dt",null,b(e.t("node_version")),1),S("dd",null,b(e.parsedInfo.node.version),1)]),S("div",null,[S("dt",null,b(e.t("node_uptime")),1),S("dd",null,b(e.parsedInfo.node.uptime),1)]),S("div",null,[S("dt",null,b(e.t("os_type")),1),S("dd",null,b(e.parsedInfo.os.type),1)]),S("div",null,[S("dt",null,b(e.t("os_version")),1),S("dd",null,b(e.parsedInfo.os.version),1)]),S("div",null,[S("dt",null,b(e.t("os_uptime")),1),S("dd",null,b(e.parsedInfo.os.uptime),1)]),S("div",null,[S("dt",null,b(e.t("os_totalmem")),1),S("dd",null,b(e.parsedInfo.os.totalmem),1)])])):R("",!0),i(a),Q(S("div",YE,null,512),[[s,e.t("page_help_settings_project")]])]),_:1},8,["title"])}var eD=q(QE,[["render",xE],["__scopeId","data-v-1a92ed59"]]);const tD=z({components:{SettingsNavigation:Ut,ProjectInfoSidebarDetail:eD},setup(){const{t:e}=J(),t=Xe(),n=Nl(),l=Sn(),{fields:o}=ot("directus_settings"),u=E(U.exports.clone(n.settings)),a=E(null),r=F(()=>a.value!==null&&Object.keys(a.value).length>0),s=E(!1);nt("meta+s",()=>{r.value&&_()});const{confirmLeave:p,leaveTo:f}=en(r);return{t:e,fields:o,initialValues:u,edits:a,hasEdits:r,saving:s,confirmLeave:p,leaveTo:f,save:_,discardAndLeave:y};async function _(){a.value!==null&&(s.value=!0,await n.updateSettings(a.value),await l.hydrate(),a.value=null,s.value=!1,u.value=U.exports.clone(n.settings))}function y(){!f.value||(a.value={},p.value=!1,t.push(f.value))}}}),nD={class:"settings"};function lD(e,t,n,l,o,u){const a=c("v-breadcrumb"),r=c("v-icon"),s=c("v-button"),p=c("settings-navigation"),f=c("v-form"),_=c("project-info-sidebar-detail"),y=c("v-card-title"),v=c("v-card-text"),h=c("v-card-actions"),w=c("v-card"),g=c("v-dialog"),k=c("private-view"),A=ke("tooltip");return m(),C(k,{title:e.t("settings_project")},{headline:d(()=>[i(a,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[i(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[i(r,{name:"public"})]),_:1})]),actions:d(()=>[Q(i(s,{icon:"",rounded:"",disabled:!e.hasEdits,loading:e.saving,onClick:e.save},{default:d(()=>[i(r,{name:"check"})]),_:1},8,["disabled","loading","onClick"]),[[A,e.t("save"),void 0,{bottom:!0}]])]),navigation:d(()=>[i(p)]),sidebar:d(()=>[i(_)]),default:d(()=>[S("div",nD,[i(f,{modelValue:e.edits,"onUpdate:modelValue":t[0]||(t[0]=V=>e.edits=V),"initial-values":e.initialValues,fields:e.fields,"primary-key":1},null,8,["modelValue","initial-values","fields"])]),i(g,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[2]||(t[2]=V=>e.confirmLeave=V),onEsc:t[3]||(t[3]=V=>e.confirmLeave=!1)},{default:d(()=>[i(w,null,{default:d(()=>[i(y,null,{default:d(()=>[T(b(e.t("unsaved_changes")),1)]),_:1}),i(v,null,{default:d(()=>[T(b(e.t("unsaved_changes_copy")),1)]),_:1}),i(h,null,{default:d(()=>[i(s,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[T(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),i(s,{onClick:t[1]||(t[1]=V=>e.confirmLeave=!1)},{default:d(()=>[T(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var oD=q(tD,[["render",lD],["__scopeId","data-v-3677e6b1"]]);const hr=[{collection:"directus_files",action:"create",permissions:{},fields:["*"]},{collection:"directus_files",action:"read",permissions:{},fields:["*"]},{collection:"directus_files",action:"update",permissions:{},fields:["*"]},{collection:"directus_files",action:"delete",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"create",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"read",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"update",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"delete",permissions:{},fields:["*"]},{collection:"directus_panels",action:"create",permissions:{},fields:["*"]},{collection:"directus_panels",action:"read",permissions:{},fields:["*"]},{collection:"directus_panels",action:"update",permissions:{},fields:["*"]},{collection:"directus_panels",action:"delete",permissions:{},fields:["*"]},{collection:"directus_folders",action:"create",permissions:{},fields:["*"]},{collection:"directus_folders",action:"read",permissions:{},fields:["*"]},{collection:"directus_folders",action:"update",permissions:{},fields:["*"]},{collection:"directus_folders",action:"delete",permissions:{}},{collection:"directus_users",action:"read",permissions:{}},{collection:"directus_users",action:"update",permissions:{id:{_eq:"$CURRENT_USER"}},fields:["first_name","last_name","email","password","location","title","description","avatar","language","theme"]},{collection:"directus_roles",action:"read",permissions:{},fields:["*"]},{collection:"directus_shares",action:"read",permissions:{_or:[{role:{_eq:"$CURRENT_ROLE"}},{role:{_null:!0}}]},fields:["*"]},{collection:"directus_shares",action:"create",permissions:{},fields:["*"]},{collection:"directus_shares",action:"update",permissions:{user_created:{_eq:"$CURRENT_USER"}},fields:["*"]},{collection:"directus_shares",action:"delete",permissions:{user_created:{_eq:"$CURRENT_USER"}},fields:["*"]}],gr=[{collection:"directus_activity",action:"read",permissions:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_activity",action:"create",validation:{comment:{_nnull:!0}}},{collection:"directus_collections",action:"read"},{collection:"directus_fields",action:"read"},{collection:"directus_permissions",action:"read",permissions:{role:{_eq:"$CURRENT_ROLE"}}},{collection:"directus_presets",action:"read",permissions:{_or:[{user:{_eq:"$CURRENT_USER"}},{_and:[{user:{_null:!0}},{role:{_eq:"$CURRENT_ROLE"}}]},{_and:[{user:{_null:!0}},{role:{_null:!0}}]}]}},{collection:"directus_presets",action:"create",validation:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_presets",action:"update",permissions:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_presets",action:"delete",permissions:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_relations",action:"read"},{collection:"directus_roles",action:"read",permissions:{id:{_eq:"$CURRENT_ROLE"}}},{collection:"directus_settings",action:"read"},{collection:"directus_shares",action:"read",permissions:{user_created:{_eq:"$CURRENT_USER"}}},{collection:"directus_users",action:"read",permissions:{id:{_eq:"$CURRENT_USER"}},fields:["id","first_name","last_name","last_page","email","password","location","title","description","tags","preferences_divider","avatar","language","theme","tfa_secret","status","role"]}];const aD=z({setup(){const{t:e}=J(),t=Xe(),n=fn(),l=E(null),o=E(!0),u=E(!1),{saving:a,save:r}=s();return{t:e,router:t,isOpen:n,roleName:l,saving:a,save:r,appAccess:o,adminAccess:u};function s(){const p=E(!1);return{saving:p,save:f};async function f(){p.value=!0;try{const _=await re.post("/roles",{name:l.value,admin_access:u.value,app_access:o.value});o.value===!0&&u.value===!1&&await re.post("/permissions",hr.map(y=>Ve(pe({},y),{role:_.data.data.id}))),t.push(`/settings/roles/${_.data.data.id}`)}catch(_){Se(_)}finally{p.value=!1}}}}}),iD={class:"form-grid"},rD={class:"field full"},sD={class:"field half"},dD={class:"type-label"},uD={class:"field half"},cD={class:"type-label"};function pD(e,t,n,l,o,u){const a=c("v-card-title"),r=c("v-input"),s=c("v-checkbox"),p=c("v-card-text"),f=c("v-button"),_=c("v-card-actions"),y=c("v-card"),v=c("v-dialog");return m(),C(v,{"model-value":e.isOpen,persistent:"",onEsc:t[3]||(t[3]=h=>e.router.push("/settings/roles"))},{default:d(()=>[i(y,null,{default:d(()=>[i(a,null,{default:d(()=>[T(b(e.t("create_role")),1)]),_:1}),i(p,null,{default:d(()=>[S("div",iD,[S("div",rD,[i(r,{modelValue:e.roleName,"onUpdate:modelValue":t[0]||(t[0]=h=>e.roleName=h),autofocus:"",placeholder:e.t("role_name")+"...",onKeyup:Vn(e.save,["enter"])},null,8,["modelValue","placeholder","onKeyup"])]),S("div",sD,[S("p",dD,b(e.t("fields.directus_roles.app_access")),1),i(s,{modelValue:e.appAccess,"onUpdate:modelValue":t[1]||(t[1]=h=>e.appAccess=h),block:"",label:e.t("enabled")},null,8,["modelValue","label"])]),S("div",uD,[S("p",cD,b(e.t("fields.directus_roles.admin_access")),1),i(s,{modelValue:e.adminAccess,"onUpdate:modelValue":t[2]||(t[2]=h=>e.adminAccess=h),block:"",label:e.t("enabled")},null,8,["modelValue","label"])])])]),_:1}),i(_,null,{default:d(()=>[i(f,{to:"/settings/roles",secondary:""},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(f,{disabled:e.roleName===null,loading:e.saving,onClick:e.save},{default:d(()=>[T(b(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"])}var mD=q(aD,[["render",pD],["__scopeId","data-v-2bf24ab7"]]);const fD=z({name:"RolesCollection",components:{SettingsNavigation:Ut,ValueNull:tn},props:{},setup(){const{t:e}=J(),t=Xe(),n=E([]),l=E(!1),o=[{text:"",value:"icon",sortable:!1,width:42,align:"left"},{text:e("name"),value:"name",sortable:!1,width:140,align:"left"},{text:e("users"),value:"count",sortable:!1,width:140,align:"left"},{text:e("description"),value:"description",sortable:!1,width:470,align:"left"}];a();const u=F(()=>"/settings/roles/+");return{t:e,loading:l,roles:n,tableHeaders:o,addNewLink:u,navigateToRole:r};async function a(){l.value=!0;try{const s=await re.get("/roles",{params:{limit:-1,fields:["id","name","description","icon","users"],deep:{users:{_aggregate:{count:"id"},_groupBy:["role"],_sort:"role",_limit:-1}},sort:"name"}});n.value=[{public:!0,name:e("public_label"),icon:"public",description:e("public_description"),id:"public"},...s.data.data.map(p=>{var f;return Ve(pe({},Ft(p)),{count:((f=p.users[0])==null?void 0:f.count.id)||0})})]}catch(s){Se(s)}finally{l.value=!1}}function r({item:s}){t.push(`/settings/roles/${s.id}`)}}}),_D={class:"page-description"},vD={class:"roles"},yD={class:"description"};function hD(e,t,n,l,o,u){const a=c("v-breadcrumb"),r=c("v-icon"),s=c("v-button"),p=c("settings-navigation"),f=c("sidebar-detail"),_=c("value-null"),y=c("v-table"),v=c("router-view"),h=c("private-view"),w=ke("tooltip"),g=ke("md");return m(),C(h,{title:e.t("settings_permissions")},{headline:d(()=>[i(a,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[i(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[i(r,{name:"admin_panel_settings",outline:""})]),_:1})]),actions:d(()=>[Q(i(s,{rounded:"",icon:"",to:e.addNewLink},{default:d(()=>[i(r,{name:"add"})]),_:1},8,["to"]),[[w,e.t("create_role"),void 0,{bottom:!0}]])]),navigation:d(()=>[i(p)]),sidebar:d(()=>[i(f,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[Q(S("div",_D,null,512),[[g,e.t("page_help_settings_roles_collection")]])]),_:1},8,["title"])]),default:d(()=>[S("div",vD,[i(y,{items:e.roles,headers:e.tableHeaders,"fixed-header":"","item-key":"id",loading:e.loading,"onClick:row":e.navigateToRole},{["item.icon"]:d(({item:k})=>[i(r,{class:ae(["icon",{public:k.public}]),name:k.icon},null,8,["name","class"])]),["item.name"]:d(({item:k})=>[S("span",{class:ae(["name",{public:k.public}])},b(k.name),3)]),["item.count"]:d(({item:k})=>[k.public?(m(),C(_,{key:0})):R("",!0)]),["item.description"]:d(({item:k})=>[S("span",yD,b(k.description),1)]),_:2},1032,["items","headers","loading","onClick:row"])]),i(v,{name:"add"})]),_:1},8,["title"])}var gD=q(fD,[["render",hD],["__scopeId","data-v-40ae09d6"]]);const bD=z({props:{isNew:{type:Boolean,default:!1},role:{type:Object,default:null}},setup(){const{t:e}=J();return{t:e}}}),wD={class:"page-description"};function $D(e,t,n,l,o,u){const a=c("v-divider"),r=c("sidebar-detail"),s=ke("md");return m(),C(r,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[!e.isNew&&e.role?(m(),I(x,{key:0},[S("dl",null,[S("div",null,[S("dt",null,b(e.t("primary_key")),1),S("dd",null,b(e.role.id),1)])]),i(a)],64)):R("",!0),Q(S("div",wD,null,512),[[s,e.t("page_help_settings_roles_item")]])]),_:1},8,["title"])}var br=q(bD,[["render",$D],["__scopeId","data-v-27256f44"]]);const kD=z({setup(){const{t:e}=J();return{t:e}}}),SD={class:"permissions-overview-header"},CD={class:"name"};function VD(e,t,n,l,o,u){const a=c("v-icon"),r=ke("tooltip");return m(),I("div",SD,[S("span",CD,b(e.t("collection")),1),Q(i(a,{name:"add"},null,512),[[r,e.t("create")]]),Q(i(a,{name:"visibility"},null,512),[[r,e.t("read")]]),Q(i(a,{name:"edit",outline:""},null,512),[[r,e.t("update")]]),Q(i(a,{name:"delete",outline:""},null,512),[[r,e.t("delete_label")]]),Q(i(a,{name:"share",outline:""},null,512),[[r,e.t("share")]])])}var FD=q(kD,[["render",VD],["__scopeId","data-v-a82c03f2"]]);const AD=["create","read","update","delete","share"];function wr(e,t,n){const l=E(!1),o=ct("refresh-permissions");return{getPermission:u,setFullAccess:a,setNoAccess:r,setFullAccessAll:s,setNoAccessAll:p};function u(f){return t.value.find(_=>_.action===f)}async function a(f){if(l.value===!0)return;l.value=!0,e.value.meta===null&&await re.patch(`/collections/${e.value.collection}`,{meta:{}});const _=u(f);if(_)try{await re.patch(`/permissions/${_.id}`,{fields:"*",permissions:{},validation:{}})}catch(y){Se(y)}finally{await(o==null?void 0:o()),l.value=!1}else try{await re.post("/permissions/",{role:n.value,collection:e.value.collection,action:f,fields:"*",permissions:{},validation:{}})}catch(y){Se(y)}finally{await(o==null?void 0:o()),l.value=!1}}async function r(f){if(l.value===!0)return;const _=u(f);if(!!_){l.value=!0;try{await re.delete(`/permissions/${_.id}`)}catch(y){Se(y)}finally{await(o==null?void 0:o()),l.value=!1}}}async function s(){l.value!==!0&&(l.value=!0,e.value.meta===null&&await re.patch(`/collections/${e.value.collection}`,{meta:{}}),await Promise.all(AD.map(async f=>{const _=u(f);if(_)try{await re.patch(`/permissions/${_.id}`,{fields:"*",permissions:{},validation:{}})}catch(y){Se(y)}else try{await re.post("/permissions/",{role:n.value,collection:e.value.collection,action:f,fields:"*",permissions:{},validation:{}})}catch(y){Se(y)}})),await(o==null?void 0:o()),l.value=!1)}async function p(){if(l.value!==!0){l.value=!0;try{await re.delete("/permissions",{data:t.value.map(f=>f.id)})}catch(f){Se(f)}finally{await(o==null?void 0:o()),l.value=!1}}}}const ID=z({props:{collection:{type:Object,required:!0},role:{type:String,default:null},action:{type:String,required:!0},permissions:{type:Array,default:null},loading:{type:Boolean,default:!1},appMinimal:{type:[Boolean,Object],default:!1}},setup(e){const{t}=J(),n=Xe(),{collection:l,role:o,permissions:u}=Me(e),{setFullAccess:a,setNoAccess:r,getPermission:s}=wr(l,u,o),p=F(()=>s(e.action)),f=F(()=>{var w;return p.value===void 0?"none":((w=p.value.fields)==null?void 0:w.includes("*"))&&Object.keys(p.value.permissions||{}).length===0&&Object.keys(p.value.validation||{}).length===0?"all":"custom"}),_=E(!1),y=ct("refresh-permissions"),v=F(()=>e.appMinimal===!1?null:Object.keys(e.appMinimal).length===2?"full":"partial");return{t,permissionLevel:f,saving:_,setFullAccess:a,setNoAccess:r,openPermissions:h,appMinimalLevel:v};async function h(){if(e.collection.meta===null&&await re.patch(`/collections/${e.collection.collection}`,{meta:{}}),p.value)n.push(`/settings/roles/${e.role||"public"}/${p.value.id}`);else{_.value=!0;const w=await re.post("/permissions",{role:e.role,collection:e.collection.collection,action:e.action});await(y==null?void 0:y()),_.value=!1,n.push(`/settings/roles/${e.role||"public"}/${w.data.data.id}`)}}}});function ED(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-progress-circular"),s=c("v-list-item-icon"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("v-divider"),y=c("v-list"),v=c("v-menu"),h=ke("tooltip");return Q((m(),I("div",{class:ae(["permissions-overview-toggle",[{"has-app-minimal":!!e.appMinimal},e.permissionLevel,e.appMinimalLevel]])},[e.appMinimalLevel==="full"?(m(),C(a,{key:0,name:"check",class:"all app-minimal"})):(m(),C(v,{key:1,"show-arrow":""},{activator:d(({toggle:w})=>[S("div",null,[e.loading||e.saving?(m(),C(r,{key:0,indeterminate:"",small:""})):e.permissionLevel==="all"?(m(),C(a,{key:1,clickable:"",name:"check",onClick:w},null,8,["onClick"])):e.appMinimalLevel==="partial"||e.permissionLevel==="custom"?(m(),C(a,{key:2,clickable:"",name:"rule",onClick:w},null,8,["onClick"])):e.permissionLevel==="none"?(m(),C(a,{key:3,clickable:"",name:"block",onClick:w},null,8,["onClick"])):R("",!0)])]),default:d(()=>[i(y,null,{default:d(()=>[i(f,{disabled:e.permissionLevel==="all",clickable:"",onClick:t[0]||(t[0]=w=>e.setFullAccess(e.action))},{default:d(()=>[i(s,null,{default:d(()=>[i(a,{name:"check"})]),_:1}),i(p,null,{default:d(()=>[T(b(e.t("all_access")),1)]),_:1})]),_:1},8,["disabled"]),e.appMinimalLevel?R("",!0):(m(),C(f,{key:0,disabled:e.permissionLevel==="none",clickable:"",onClick:t[1]||(t[1]=w=>e.setNoAccess(e.action))},{default:d(()=>[i(s,null,{default:d(()=>[i(a,{name:"block"})]),_:1}),i(p,null,{default:d(()=>[T(b(e.t("no_access")),1)]),_:1})]),_:1},8,["disabled"])),i(_),i(f,{clickable:"",onClick:e.openPermissions},{default:d(()=>[i(s,null,{default:d(()=>[i(a,{name:"rule"})]),_:1}),i(p,null,{default:d(()=>[T(b(e.t("use_custom")),1)]),_:1}),i(s,null,{default:d(()=>[i(a,{name:"launch"})]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1}))],2)),[[h,e.appMinimal&&e.t("required_for_app_access")]])}var DD=q(ID,[["render",ED],["__scopeId","data-v-169ac11c"]]);const TD=z({components:{PermissionsOverviewToggle:DD},props:{role:{type:String,default:null},collection:{type:Object,required:!0},permissions:{type:Array,required:!0},refreshing:{type:Array,required:!0},appMinimal:{type:[Boolean,Array],default:!1}},setup(e){const{t}=J(),{collection:n,role:l,permissions:o}=Me(e),{setFullAccessAll:u,setNoAccessAll:a,getPermission:r}=wr(n,o,l);return{t,getPermission:r,isLoading:s,setFullAccessAll:u,setNoAccessAll:a};function s(p){const f=r(p);return f?e.refreshing.includes(f.id):!1}}}),LD=e=>(He("data-v-75a217f4"),e=e(),We(),e),PD={class:"permissions-overview-row"},OD={class:"name"},RD={class:"actions"},jD=LD(()=>S("span",{class:"divider"},"/",-1));function MD(e,t,n,l,o,u){const a=c("permissions-overview-toggle");return m(),I("div",PD,[S("span",OD,[T(b(e.collection.name)+" ",1),S("span",RD,[S("span",{class:"all",onClick:t[0]||(t[0]=(...r)=>e.setFullAccessAll&&e.setFullAccessAll(...r))},b(e.t("all")),1),jD,S("span",{class:"none",onClick:t[1]||(t[1]=(...r)=>e.setNoAccessAll&&e.setNoAccessAll(...r))},b(e.t("none")),1)])]),i(a,{action:"create",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("create"),"app-minimal":e.appMinimal&&e.appMinimal.find(r=>r.action==="create")},null,8,["collection","role","permissions","loading","app-minimal"]),i(a,{action:"read",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("read"),"app-minimal":e.appMinimal&&e.appMinimal.find(r=>r.action==="read")},null,8,["collection","role","permissions","loading","app-minimal"]),i(a,{action:"update",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("update"),"app-minimal":e.appMinimal&&e.appMinimal.find(r=>r.action==="update")},null,8,["collection","role","permissions","loading","app-minimal"]),i(a,{action:"delete",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("delete"),"app-minimal":e.appMinimal&&e.appMinimal.find(r=>r.action==="delete")},null,8,["collection","role","permissions","loading","app-minimal"]),i(a,{action:"share",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("share"),"app-minimal":e.appMinimal&&e.appMinimal.find(r=>r.action==="share")},null,8,["collection","role","permissions","loading","app-minimal"])])}var UD=q(TD,[["render",MD],["__scopeId","data-v-75a217f4"]]);const ND=z({components:{PermissionsOverviewHeader:FD,PermissionsOverviewRow:UD},props:{role:{type:String,default:null},permission:{type:String,default:null},appAccess:{type:Boolean,default:!1}},setup(e){const{t}=J(),n=Ke(),l=F(()=>n.collections.filter(k=>k.collection.startsWith("directus_")===!1&&k.schema)),o=F(()=>U.exports.orderBy(n.collections.filter(k=>k.collection.startsWith("directus_")===!0),"name")),u=E(!1),{permissions:a,loading:r,fetchPermissions:s,refreshPermission:p,refreshing:f}=w(),{resetActive:_,resetSystemPermissions:y,resetting:v,resetError:h}=g();return s(),ye(()=>e.permission,s,{immediate:!0}),Kt("refresh-permissions",s),{t,systemVisible:u,regularCollections:l,systemCollections:o,permissions:a,loading:r,fetchPermissions:s,refreshPermission:p,refreshing:f,resetActive:_,resetSystemPermissions:y,resetting:v,resetError:h,appMinimalPermissions:gr};function w(){const k=E([]),A=E(!1),V=E([]);return{permissions:k,loading:A,fetchPermissions:D,refreshPermission:P,refreshing:V};async function D(){A.value=!0;try{const L={filter:{role:{}},limit:-1};e.role===null?L.filter.role={_null:!0}:L.filter.role={_eq:e.role};const B=await re.get("/permissions",{params:L});k.value=B.data.data}catch(L){Se(L)}finally{A.value=!1}}async function P(L){V.value.includes(L)===!1&&V.value.push(L);try{const B=await re.get(`/permissions/${L}`);k.value=k.value.map(O=>O.id===L?B.data.data:O)}catch(B){Se(B)}finally{V.value=V.value.filter(B=>B!==L)}}}function g(){const k=E(!1),A=E(!1),V=E(null);return{resetActive:k,resetSystemPermissions:D,resetting:A,resetError:V};async function D(P){A.value=!0;const L=a.value.filter(B=>B.collection.startsWith("directus_")).map(B=>B.id);try{L.length>0&&await re.delete("/permissions",{data:L}),e.role!==null&&e.appAccess===!0&&P===!0&&await re.post("/permissions",hr.map(B=>Ve(pe({},B),{role:e.role}))),await s(),k.value=!1}catch(B){V.value=B}finally{A.value=!1}}}}}),BD={class:"permissions-overview"},qD={class:"title type-label"},zD={class:"instant-save"},KD={class:"table"},HD={key:0},WD={key:0,class:"reset-toggle"},GD=T(" / ");function ZD(e,t,n,l,o,u){const a=c("permissions-overview-header"),r=c("permissions-overview-row"),s=c("v-icon"),p=c("transition-expand"),f=c("router-view"),_=c("v-card-title"),y=c("v-button"),v=c("v-card-actions"),h=c("v-card"),w=c("v-dialog");return m(),I("div",BD,[S("h2",qD,[T(b(e.t("permissions"))+" ",1),S("span",zD,b(e.t("saves_automatically")),1)]),S("div",KD,[i(a),(m(!0),I(x,null,$e(e.regularCollections,g=>(m(),C(r,{key:g.collection,collection:g,role:e.role,permissions:e.permissions.filter(k=>k.collection===g.collection),refreshing:e.refreshing},null,8,["collection","role","permissions","refreshing"]))),128)),S("button",{class:"system-toggle",onClick:t[0]||(t[0]=g=>e.systemVisible=!e.systemVisible)},[T(b(e.t("system_collections"))+" ",1),i(s,{name:e.systemVisible?"expand_less":"expand_more"},null,8,["name"])]),i(p,null,{default:d(()=>[e.systemVisible?(m(),I("div",HD,[(m(!0),I(x,null,$e(e.systemCollections,g=>(m(),C(r,{key:g.collection,collection:g,role:e.role,permissions:e.permissions.filter(k=>k.collection===g.collection),refreshing:e.refreshing,"app-minimal":e.appAccess&&e.appMinimalPermissions.filter(k=>k.collection===g.collection)},null,8,["collection","role","permissions","refreshing","app-minimal"]))),128))])):R("",!0)]),_:1}),e.systemVisible&&e.appAccess?(m(),I("span",WD,[T(b(e.t("reset_system_permissions_to"))+" ",1),S("button",{onClick:t[1]||(t[1]=g=>e.resetActive="minimum")},b(e.t("app_access_minimum")),1),GD,S("button",{onClick:t[2]||(t[2]=g=>e.resetActive="recommended")},b(e.t("recommended_defaults")),1)])):R("",!0)]),i(f,{name:"permissionsDetail","role-key":e.role,"permission-key":e.permission},null,8,["role-key","permission-key"]),i(w,{"model-value":!!e.resetActive,"onUpdate:modelValue":t[5]||(t[5]=g=>e.resetActive=!1),onEsc:t[6]||(t[6]=g=>e.resetActive=!1)},{default:d(()=>[i(h,null,{default:d(()=>[i(_,null,{default:d(()=>[T(b(e.t("reset_system_permissions_copy")),1)]),_:1}),i(v,null,{default:d(()=>[i(y,{secondary:"",onClick:t[3]||(t[3]=g=>e.resetActive=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(y,{loading:e.resetting,onClick:t[4]||(t[4]=g=>e.resetSystemPermissions(e.resetActive==="recommended"))},{default:d(()=>[T(b(e.t("reset")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model-value"])])}var $r=q(ND,[["render",ZD],["__scopeId","data-v-554c2db2"]]);const JD=z({props:{modelValue:{type:Boolean,default:!1},role:{type:String,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:n}=J(),l=E(""),o=E([]),u=E(e.role),a=E(!1),r=E([]);return ye(()=>e.modelValue,()=>{p()}),{t:n,emails:l,inviteUsers:s,roles:o,roleSelected:u,loading:a,uniqueValidationErrors:r};async function s(){var f,_,y,v,h,w;a.value=!0;try{const g=l.value.split(/,|\n/).filter(k=>k).map(k=>k.trim());await re.post("/users/invite",{email:g,role:u.value}),l.value="",t("update:modelValue",!1)}catch(g){r.value=(y=(_=(f=g==null?void 0:g.response)==null?void 0:f.data)==null?void 0:_.errors)==null?void 0:y.filter(A=>{var V;return((V=A.extensions)==null?void 0:V.code)==="RECORD_NOT_UNIQUE"});const k=(w=(h=(v=g==null?void 0:g.response)==null?void 0:v.data)==null?void 0:h.errors)==null?void 0:w.filter(A=>{var V;return((V=A==null?void 0:A.extensions)==null?void 0:V.code)!=="RECORD_NOT_UNIQUE"});k.length>0&&k.forEach(A=>Se(A))}finally{a.value=!1}}async function p(){const f=await re.get("/roles");o.value=f.data.data.map(_=>({text:_.name,value:_.id})),o.value.length>0&&u.value===null&&(u.value=o.value[0].value)}}}),QD={class:"grid"},XD={class:"field"},YD={class:"type-label"},xD={key:0,class:"field"},eT={class:"type-label"};function tT(e,t,n,l,o,u){const a=c("v-card-title"),r=c("v-textarea"),s=c("v-select"),p=c("v-notice"),f=c("v-card-text"),_=c("v-button"),y=c("v-card-actions"),v=c("v-card"),h=c("v-dialog");return m(),C(h,{"model-value":e.modelValue,"onUpdate:modelValue":t[3]||(t[3]=w=>e.$emit("update:modelValue",w)),onEsc:t[4]||(t[4]=w=>e.$emit("update:modelValue",!1))},{default:d(()=>[i(v,null,{default:d(()=>[i(a,null,{default:d(()=>[T(b(e.t("invite_users")),1)]),_:1}),i(f,null,{default:d(()=>[S("div",QD,[S("div",XD,[S("div",YD,b(e.t("emails")),1),i(r,{modelValue:e.emails,"onUpdate:modelValue":t[0]||(t[0]=w=>e.emails=w),nullable:!1,placeholder:"admin@example.com, user@example.com..."},null,8,["modelValue"])]),e.role===null?(m(),I("div",xD,[S("div",eT,b(e.t("role")),1),i(s,{modelValue:e.roleSelected,"onUpdate:modelValue":t[1]||(t[1]=w=>e.roleSelected=w),items:e.roles},null,8,["modelValue","items"])])):R("",!0),e.uniqueValidationErrors.length>0?(m(),C(p,{key:1,class:"field",type:"danger"},{default:d(()=>[(m(!0),I(x,null,$e(e.uniqueValidationErrors,(w,g)=>(m(),I("div",{key:g},[w.extensions.invalid?(m(),I(x,{key:0},[T(b(e.t("email_already_invited",{email:w.extensions.invalid})),1)],64)):g===0?(m(),I(x,{key:1},[T(b(e.t("validationError.unique")),1)],64)):R("",!0)]))),128))]),_:1})):R("",!0)])]),_:1}),i(y,null,{default:d(()=>[i(_,{secondary:"",onClick:t[2]||(t[2]=w=>e.$emit("update:modelValue",!1))},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(_,{disabled:e.emails===null||e.emails.length===0,loading:e.loading,onClick:e.inviteUsers},{default:d(()=>[T(b(e.t("invite")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"])}var kr=q(JD,[["render",tT],["__scopeId","data-v-52e00551"]]);const nT=z({name:"RolesItem",components:{SettingsNavigation:Ut,RevisionsDrawerDetail:Xn,RoleInfoSidebarDetail:br,PermissionsOverview:$r,UsersInvite:kr},props:{primaryKey:{type:String,required:!0},permissionKey:{type:String,default:null}},setup(e){const{t}=J(),n=Xe(),l=Ze(),o=E(!1),{primaryKey:u}=Me(e),{edits:a,hasEdits:r,item:s,saving:p,loading:f,error:_,save:y,remove:v,deleting:h,isBatch:w}=gn(E("directus_roles"),u),g=E(!1),k=F(()=>!!pe(pe({},s.value),a.value).admin_access),A=F(()=>!!pe(pe({},s.value),a.value).app_access);nt("meta+s",()=>{r.value&&P()});const{confirmLeave:V,leaveTo:D}=en(r);return{t,item:s,loading:f,error:_,edits:a,hasEdits:r,saving:p,saveAndQuit:L,deleteAndQuit:B,confirmDelete:g,deleting:h,isBatch:w,adminEnabled:k,userInviteModalActive:o,appAccess:A,confirmLeave:V,leaveTo:D,discardAndLeave:O};async function P(){await y(),await l.hydrate()}async function L(){await y(),await l.hydrate(),n.push("/settings/roles")}async function B(){await v(),n.replace("/settings/roles")}function O(){!D.value||(a.value={},V.value=!1,n.push(D.value))}}}),lT={class:"roles"};function oT(e,t,n,l,o,u){const a=c("v-breadcrumb"),r=c("v-icon"),s=c("v-button"),p=c("v-card-title"),f=c("v-card-actions"),_=c("v-card"),y=c("v-dialog"),v=c("settings-navigation"),h=c("users-invite"),w=c("v-notice"),g=c("permissions-overview"),k=c("v-form"),A=c("role-info-sidebar-detail"),V=c("revisions-drawer-detail"),D=c("v-card-text"),P=c("private-view"),L=ke("tooltip");return m(),C(P,{title:e.loading?e.t("loading"):e.t("editing_role",{role:e.item&&e.item.name})},{headline:d(()=>[i(a,{items:[{name:e.t("settings_permissions"),to:"/settings/roles"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[i(s,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/roles/"},{default:d(()=>[i(r,{name:"arrow_back"})]),_:1})]),actions:d(()=>[[1,2].includes(+e.primaryKey)===!1?(m(),C(y,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=B=>e.confirmDelete=B),onEsc:t[2]||(t[2]=B=>e.confirmDelete=!1)},{activator:d(({on:B})=>[Q(i(s,{rounded:"",icon:"",class:"action-delete",disabled:e.item===null,onClick:B},{default:d(()=>[i(r,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[L,e.t("delete_label"),void 0,{bottom:!0}]])]),default:d(()=>[i(_,null,{default:d(()=>[i(p,null,{default:d(()=>[T(b(e.t("delete_are_you_sure")),1)]),_:1}),i(f,null,{default:d(()=>[i(s,{secondary:"",onClick:t[0]||(t[0]=B=>e.confirmDelete=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(s,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:d(()=>[T(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),Q(i(s,{rounded:"",icon:"",class:"invite-user",onClick:t[3]||(t[3]=B=>e.userInviteModalActive=!0)},{default:d(()=>[i(r,{name:"person_add"})]),_:1},512),[[L,e.t("invite_users"),void 0,{bottom:!0}]]),Q(i(s,{rounded:"",icon:"",loading:e.saving,disabled:e.hasEdits===!1,onClick:e.saveAndQuit},{default:d(()=>[i(r,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[L,e.t("save"),void 0,{bottom:!0}]])]),navigation:d(()=>[i(v)]),sidebar:d(()=>[i(A,{role:e.item},null,8,["role"]),i(V,{collection:"directus_roles","primary-key":e.primaryKey},null,8,["primary-key"])]),default:d(()=>[i(h,{modelValue:e.userInviteModalActive,"onUpdate:modelValue":t[4]||(t[4]=B=>e.userInviteModalActive=B),role:e.primaryKey},null,8,["modelValue","role"]),S("div",lT,[e.adminEnabled?(m(),C(w,{key:0,type:"info"},{default:d(()=>[T(b(e.t("admins_have_all_permissions")),1)]),_:1})):(m(),C(g,{key:1,role:e.primaryKey,permission:e.permissionKey,"app-access":e.appAccess},null,8,["role","permission","app-access"])),i(k,{modelValue:e.edits,"onUpdate:modelValue":t[5]||(t[5]=B=>e.edits=B),collection:"directus_roles","primary-key":e.primaryKey,loading:e.loading,"initial-values":e.item,"batch-mode":e.isBatch},null,8,["modelValue","primary-key","loading","initial-values","batch-mode"])]),i(y,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[7]||(t[7]=B=>e.confirmLeave=B),onEsc:t[8]||(t[8]=B=>e.confirmLeave=!1)},{default:d(()=>[i(_,null,{default:d(()=>[i(p,null,{default:d(()=>[T(b(e.t("unsaved_changes")),1)]),_:1}),i(D,null,{default:d(()=>[T(b(e.t("unsaved_changes_copy")),1)]),_:1}),i(f,null,{default:d(()=>[i(s,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[T(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),i(s,{onClick:t[6]||(t[6]=B=>e.confirmLeave=!1)},{default:d(()=>[T(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var aT=q(nT,[["render",oT],["__scopeId","data-v-98577216"]]);function Sr(e){return(e.fields||[]).length===0&&Object.keys(e.validation||{}).length===0&&Object.keys(e.presets||{}).length===0&&Object.keys(e.permissions||{}).length===0}const iT=z({props:{roleKey:{type:String,default:null},permission:{type:Object,required:!0}},emits:["refresh"],setup(e,{emit:t}){const{t:n}=J(),l=Xe(),o=E(!1);return{t:n,save:u,loading:o};async function u(){o.value=!0;try{Sr(e.permission)?await re.delete(`/permissions/${e.permission.id}`):await re.patch(`/permissions/${e.permission.id}`,e.permission),t("refresh"),l.push(`/settings/roles/${e.roleKey||"public"}`)}catch(a){Se(a)}finally{o.value=!1}}}}),rT={class:"actions"};function sT(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-button"),s=ke("tooltip");return m(),I("div",rT,[Q(i(r,{loading:e.loading,icon:"",rounded:"",onClick:e.save},{default:d(()=>[i(a,{name:"check"})]),_:1},8,["loading","onClick"]),[[s,e.t("save"),void 0,{bottom:!0}]])])}var dT=q(iT,[["render",sT],["__scopeId","data-v-47610afd"]]);const uT=z({props:{currentTab:{type:Array,default:null},tabs:{type:Array,required:!0}},emits:["update:currentTab"],setup(e,{emit:t}){return{internalCurrentTab:je(e,"currentTab",t)}}}),cT={class:"text"};function pT(e,t,n,l,o,u){const a=c("v-tab"),r=c("v-tabs");return m(),C(r,{modelValue:e.internalCurrentTab,"onUpdate:modelValue":t[0]||(t[0]=s=>e.internalCurrentTab=s),vertical:""},{default:d(()=>[(m(!0),I(x,null,$e(e.tabs,s=>(m(),C(a,{key:s.value,value:s.value},{default:d(()=>[S("span",cT,b(s.text),1),S("span",{class:ae(["dot",{on:s.hasValue}])},null,2)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])}var mT=q(uT,[["render",pT],["__scopeId","data-v-678d5948"]]);const fT=z({props:{permission:{type:Object,required:!0},role:{type:Object,default:null},appMinimal:{type:Object,default:void 0}},emits:["update:permission"],setup(e,{emit:t}){const{t:n}=J(),l=je(e,"permission",t),o=F(()=>[{field:"permissions",name:n("rule"),type:"json",meta:{interface:"system-filter",options:{collectionName:l.value.collection}}}]);return{t:n,fields:o,permissionSync:l}}}),_T={key:0,class:"app-minimal"},vT={class:"app-minimal-preview"};function yT(e,t,n,l,o,u){const a=c("v-notice"),r=c("v-form"),s=c("v-divider");return m(),I("div",null,[i(a,{type:"info"},{default:d(()=>[T(b(e.t("permissions_for_role",{action:e.t(e.permission.action==="delete"?"delete_label":e.permission.action).toLowerCase(),role:e.role?e.role.name:e.t("public_label")})),1)]),_:1}),i(r,{modelValue:e.permissionSync,"onUpdate:modelValue":t[0]||(t[0]=p=>e.permissionSync=p),fields:e.fields},null,8,["modelValue","fields"]),e.appMinimal?(m(),I("div",_T,[i(s),i(a,{type:"warning"},{default:d(()=>[T(b(e.t("the_following_are_minimum_permissions")),1)]),_:1}),S("pre",vT,b(e.appMinimal),1)])):R("",!0)])}var hT=q(fT,[["render",yT],["__scopeId","data-v-da09841c"]]);const gT=z({props:{permission:{type:Object,required:!0},role:{type:Object,default:null},appMinimal:{type:Object,default:void 0}},emits:["update:permission"],setup(e,{emit:t}){const{t:n}=J(),l=Le(),o=je(e,"permission",t),u=F(()=>l.getFieldsForCollectionSorted(e.permission.collection).map(s=>({text:s.name,value:s.field}))),a=F({get(){return o.value.fields?o.value.fields.includes("*")?u.value.map(({value:r})=>r):o.value.fields:[]},set(r){r&&r.length>0?o.value=Ve(pe({},o.value),{fields:r}):o.value=Ve(pe({},o.value),{fields:null})}});return{t:n,fields:a,fieldsInCollection:u}}}),bT={class:"type-label"},wT={key:0,class:"app-minimal"},$T={class:"app-minimal-preview"};function kT(e,t,n,l,o,u){const a=c("v-notice"),r=c("interface-select-multiple-checkbox"),s=c("v-divider");return m(),I("div",null,[i(a,{type:"info"},{default:d(()=>[T(b(e.t("fields_for_role",{role:e.role?e.role.name:e.t("public_label"),action:e.t(e.permission.action).toLowerCase()})),1)]),_:1}),S("p",bT,b(e.t("field",0)),1),i(r,{value:e.fields,type:"json",choices:e.fieldsInCollection,onInput:t[0]||(t[0]=p=>e.fields=p)},null,8,["value","choices"]),e.appMinimal?(m(),I("div",wT,[i(s),i(a,{type:"warning"},{default:d(()=>[T(b(e.t("the_following_are_minimum_permissions")),1)]),_:1}),S("pre",$T,b(e.appMinimal),1)])):R("",!0)])}var ST=q(gT,[["render",kT],["__scopeId","data-v-51594cba"]]);const CT=z({props:{permission:{type:Object,required:!0},role:{type:Object,default:null}},emits:["update:permission"],setup(e,{emit:t}){const{t:n}=J(),l=je(e,"permission",t),o=F(()=>[{field:"validation",name:n("rule"),type:"json",meta:{interface:"system-filter",options:{collectionName:l.value.collection}}}]);return{t:n,permissionSync:l,fields:o}}});function VT(e,t,n,l,o,u){const a=c("v-notice"),r=c("v-form");return m(),I("div",null,[i(a,{type:"info"},{default:d(()=>[T(b(e.t("validation_for_role",{action:e.t(e.permission.action).toLowerCase(),role:e.role?e.role.name:e.t("public_label")})),1)]),_:1}),i(r,{modelValue:e.permissionSync,"onUpdate:modelValue":t[0]||(t[0]=s=>e.permissionSync=s),fields:e.fields},null,8,["modelValue","fields"])])}var FT=q(CT,[["render",VT],["__scopeId","data-v-e3088adc"]]);const AT=z({props:{permission:{type:Object,default:null},role:{type:Object,default:null}},emits:["update:permission"],setup(e,{emit:t}){const{t:n}=J(),l=je(e,"permission",t),o=F({get(){return l.value.presets},set(u){l.value=Ve(pe({},l.value),{presets:u})}});return{t:n,presets:o}}});function IT(e,t,n,l,o,u){const a=c("v-notice"),r=c("interface-input-code");return m(),I("div",null,[i(a,{type:"info"},{default:d(()=>[T(b(e.t("presets_for_role",{action:e.t(e.permission.action).toLowerCase(),role:e.role?e.role.name:e.t("public_label")})),1)]),_:1}),i(r,{value:e.presets,language:"json",type:"json",onInput:t[0]||(t[0]=s=>e.presets=s)},null,8,["value"])])}var ET=q(AT,[["render",IT],["__scopeId","data-v-660c7066"]]);const DT=z({components:{Actions:dT,Tabs:mT,Permissions:hT,Fields:ST,Validation:FT,Presets:ET},props:{roleKey:{type:String,default:null},permissionKey:{type:String,required:!0}},emits:["refresh"],setup(e){const{t}=J(),n=Xe(),l=Ke(),o=fn(),u=E(),a=E(),r=E(!1),s=F(()=>{var g;return u.value?(g=l.collections.find(k=>k.collection===u.value.collection))==null?void 0:g.name:null}),p=F(()=>r.value||!u.value?t("loading"):e.roleKey?a.value.name+" -> "+s.value+" -> "+t(u.value.action):t("public_label")+" -> "+s.value+" -> "+t(u.value.action));ye(()=>e.permissionKey,w,{immediate:!0});const f=F(()=>{if(!u.value)return[];const g=u.value.action,k=[];return["read","update","delete","share"].includes(g)&&k.push({text:t("item_permissions"),value:"permissions",hasValue:u.value.permissions!==null&&Object.keys(u.value.permissions).length>0}),["create","read","update"].includes(g)&&k.push({text:t("field_permissions"),value:"fields",hasValue:u.value.fields!==null}),["create","update"].includes(g)&&k.push({text:t("field_validation"),value:"validation",hasValue:u.value.validation!==null&&Object.keys(u.value.validation).length>0}),["create","update"].includes(g)&&k.push({text:t("field_presets"),value:"presets",hasValue:u.value.presets!==null&&Object.keys(u.value.presets).length>0}),k}),_=E([]),y=F(()=>{var k;const g=(k=_.value)==null?void 0:k[0];return g?f.value.find(A=>A.value===g):null});ye(f,(g,k)=>{var A,V;g&&k&&g.length===k.length||(_.value=[(V=(A=f==null?void 0:f.value)==null?void 0:A[0])==null?void 0:V.value])},{immediate:!0});const v=F(()=>u.value?gr.find(g=>g.collection===u.value.collection&&g.action===u.value.action):null);return{isOpen:o,permission:u,role:a,loading:r,modalTitle:p,tabs:f,currentTab:_,currentTabInfo:y,appMinimal:v,close:h};async function h(){u.value&&Sr(u.value)?(await re.delete(`/permissions/${u.value.id}`),n.replace(`/settings/roles/${e.roleKey||"public"}`)):n.push(`/settings/roles/${e.roleKey||"public"}`)}async function w(){var g;r.value=!0;try{if(e.roleKey){const A=await re.get(`/roles/${e.roleKey}`);a.value=A.data.data}const k=await re.get(`/permissions/${e.permissionKey}`);u.value=k.data.data}catch(k){((g=k==null?void 0:k.response)==null?void 0:g.status)===403?n.push(`/settings/roles/${e.roleKey||"public"}`):Se(k)}finally{r.value=!1}}}}),TT={key:0,class:"content"};function LT(e,t,n,l,o,u){const a=c("tabs"),r=c("permissions"),s=c("fields"),p=c("validation"),f=c("presets"),_=c("actions"),y=c("v-drawer");return m(),C(y,{title:e.modalTitle,"model-value":e.isOpen,class:"new-collection",persistent:"","sidebar-label":e.currentTabInfo&&e.currentTabInfo.text,onCancel:e.close},xe({default:d(()=>[e.loading?R("",!0):(m(),I("div",TT,[e.currentTab[0]==="permissions"?(m(),C(r,{key:0,permission:e.permission,"onUpdate:permission":t[1]||(t[1]=v=>e.permission=v),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.permissions},null,8,["permission","role","app-minimal"])):R("",!0),e.currentTab[0]==="fields"?(m(),C(s,{key:1,permission:e.permission,"onUpdate:permission":t[2]||(t[2]=v=>e.permission=v),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.fields},null,8,["permission","role","app-minimal"])):R("",!0),e.currentTab[0]==="validation"?(m(),C(p,{key:2,permission:e.permission,"onUpdate:permission":t[3]||(t[3]=v=>e.permission=v),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.validation},null,8,["permission","role","app-minimal"])):R("",!0),e.currentTab[0]==="presets"?(m(),C(f,{key:3,permission:e.permission,"onUpdate:permission":t[4]||(t[4]=v=>e.permission=v),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.presets},null,8,["permission","role","app-minimal"])):R("",!0)]))]),_:2},[e.loading?void 0:{name:"sidebar",fn:d(()=>[i(a,{"current-tab":e.currentTab,"onUpdate:current-tab":t[0]||(t[0]=v=>e.currentTab=v),tabs:e.tabs},null,8,["current-tab","tabs"])])},e.loading?void 0:{name:"actions",fn:d(()=>[i(_,{"role-key":e.roleKey,permission:e.permission,onRefresh:t[5]||(t[5]=v=>e.$emit("refresh",Number(e.permissionKey)))},null,8,["role-key","permission"])])}]),1032,["title","model-value","sidebar-label","onCancel"])}var Cr=q(DT,[["render",LT],["__scopeId","data-v-16a8989c"]]);const PT=z({name:"RolesItem",components:{SettingsNavigation:Ut,PermissionsOverview:$r,RoleInfoSidebarDetail:br},props:{permissionKey:{type:String,default:null}},setup(){const{t:e}=J();return{t:e}}}),OT={class:"roles"};function RT(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-button"),s=c("settings-navigation"),p=c("permissions-overview"),f=c("role-info-sidebar-detail"),_=c("private-view");return m(),C(_,{title:e.t("public_label")},{headline:d(()=>[T(b(e.t("settings_permissions")),1)]),"title-outer:prepend":d(()=>[i(r,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/roles/"},{default:d(()=>[i(a,{name:"arrow_back"})]),_:1})]),navigation:d(()=>[i(s)]),sidebar:d(()=>[i(f,{role:null})]),default:d(()=>[S("div",OT,[i(p,{role:null,permission:e.permissionKey},null,8,["permission"])])]),_:1},8,["title"])}var jT=q(PT,[["render",RT],["__scopeId","data-v-2f0681c2"]]);const MT=z({name:"WebhooksCollection",components:{SettingsNavigation:Ut,LayoutSidebarDetail:Qn,SearchInput:Dn},setup(){const{t:e}=J(),t=E(),n=E([]),{layout:l,layoutOptions:o,layoutQuery:u,filter:a,search:r}=En(E("directus_webhooks")),{addNewLink:s,batchLink:p}=g(),{confirmDelete:f,deleting:_,batchDelete:y}=w(),{layoutWrapper:v}=dn(l);return{t:e,addNewLink:s,batchDelete:y,batchLink:p,confirmDelete:f,deleting:_,layoutRef:t,layoutWrapper:v,filter:a,selection:n,layoutOptions:o,layoutQuery:u,layout:l,search:r,clearFilters:k};async function h(){var A,V,D;await((D=(V=(A=t.value)==null?void 0:A.state)==null?void 0:V.refresh)==null?void 0:D.call(V))}function w(){const A=E(!1),V=E(!1);return{confirmDelete:A,deleting:V,batchDelete:D};async function D(){V.value=!0,A.value=!1;const P=n.value;await re.delete(`/webhooks/${P}`),await h(),n.value=[],V.value=!1,A.value=!1}}function g(){const A=F(()=>"/settings/webhooks/+"),V=F(()=>`/settings/webhooks/${n.value}`);return{addNewLink:A,batchLink:V}}function k(){a.value=null,r.value=null}}}),UT={class:"page-description"};function NT(e,t,n,l,o,u){const a=c("v-breadcrumb"),r=c("v-icon"),s=c("v-button"),p=c("settings-navigation"),f=c("search-input"),_=c("v-card-title"),y=c("v-card-actions"),v=c("v-card"),h=c("v-dialog"),w=c("v-info"),g=c("sidebar-detail"),k=c("layout-sidebar-detail"),A=c("private-view"),V=ke("tooltip"),D=ke("md");return m(),C(qe(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[5]||(t[5]=P=>e.selection=P),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[6]||(t[6]=P=>e.layoutOptions=P),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[7]||(t[7]=P=>e.layoutQuery=P),filter:e.filter,search:e.search,collection:"directus_webhooks"},{default:d(({layoutState:P})=>[i(A,{title:e.t("webhooks")},{headline:d(()=>[i(a,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[i(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[i(r,{name:"anchor"})]),_:1})]),navigation:d(()=>[i(p)]),actions:d(()=>[i(f,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=L=>e.search=L),collection:"directus_webhooks"},null,8,["modelValue"]),e.selection.length>0?(m(),C(h,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=L=>e.confirmDelete=L),onEsc:t[3]||(t[3]=L=>e.confirmDelete=!1)},{activator:d(({on:L})=>[i(s,{rounded:"",icon:"",class:"action-delete",onClick:L},{default:d(()=>[i(r,{name:"delete",outline:""})]),_:2},1032,["onClick"])]),default:d(()=>[i(v,null,{default:d(()=>[i(_,null,{default:d(()=>[T(b(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),i(y,null,{default:d(()=>[i(s,{secondary:"",onClick:t[1]||(t[1]=L=>e.confirmDelete=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(s,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:d(()=>[T(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>0?Q((m(),C(s,{key:1,rounded:"",icon:"",class:"action-batch",to:e.batchLink},{default:d(()=>[i(r,{name:"edit",outline:""})]),_:1},8,["to"])),[[V,e.t("edit"),void 0,{bottom:!0}]]):R("",!0),Q(i(s,{rounded:"",icon:"",to:e.addNewLink},{default:d(()=>[i(r,{name:"add"})]),_:1},8,["to"]),[[V,e.t("create_webhook"),void 0,{bottom:!0}]])]),sidebar:d(()=>[i(g,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[Q(S("div",UT,null,512),[[D,e.t("page_help_settings_webhooks_collection")]])]),_:1},8,["title"]),i(k,{modelValue:e.layout,"onUpdate:modelValue":t[4]||(t[4]=L=>e.layout=L)},{default:d(()=>[(m(),C(qe(`layout-options-${e.layout}`),Je(et(P)),null,16))]),_:2},1032,["modelValue"]),(m(),C(qe(`layout-sidebar-${e.layout}`),Je(et(P)),null,16))]),default:d(()=>[(m(),C(qe(`layout-${e.layout}`),mt({class:"layout"},P),{"no-results":d(()=>[i(w,{title:e.t("no_results"),icon:"search",center:""},{append:d(()=>[i(s,{onClick:e.clearFilters},{default:d(()=>[T(b(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:d(()=>[T(b(e.t("no_results_copy"))+" ",1)]),_:1},8,["title"])]),"no-items":d(()=>[i(w,{title:e.t("webhooks_count",0),icon:"anchor",center:"",type:"info"},{append:d(()=>[i(s,{to:{path:"/settings/webhooks/+"}},{default:d(()=>[T(b(e.t("create_webhook")),1)]),_:1})]),default:d(()=>[T(b(e.t("no_webhooks_copy"))+" ",1)]),_:1},8,["title"])]),_:2},1040))]),_:2},1032,["title"])]),_:1},8,["selection","layout-options","layout-query","filter","search"])}var BT=q(MT,[["render",NT],["__scopeId","data-v-40aefd22"]]);const qT=z({name:"WebhooksItem",components:{SettingsNavigation:Ut,RevisionsDrawerDetail:Xn,SaveOptions:Tl},props:{primaryKey:{type:String,required:!0}},setup(e){const{t}=J(),n=Xe(),{primaryKey:l}=Me(e),{isNew:o,edits:u,hasEdits:a,item:r,saving:s,loading:p,error:f,save:_,remove:y,deleting:v,saveAsCopy:h,isBatch:w,validationErrors:g}=gn(E("directus_webhooks"),l),k=E(!1),A=F(()=>{var G;return p.value?t("loading"):o.value?t("creating_webhook"):(G=r.value)==null?void 0:G.name});nt("meta+s",()=>{a.value&&L()}),nt("meta+shift+s",()=>{a.value&&B()});const{confirmLeave:V,leaveTo:D}=en(a);return{t,item:r,loading:p,error:f,isNew:o,edits:u,hasEdits:a,saving:s,saveAndQuit:P,deleteAndQuit:M,confirmDelete:k,deleting:v,saveAndStay:L,saveAndAddNew:B,saveAsCopyAndNavigate:O,discardAndStay:K,isBatch:w,title:A,validationErrors:g,confirmLeave:V,leaveTo:D,discardAndLeave:N};async function P(){await _(),n.push("/settings/webhooks")}async function L(){await _()}async function B(){await _(),n.push("/settings/webhooks/+")}async function O(){const G=await h();G&&n.push(`/settings/webhooks/${G}`)}async function M(){await y(),n.replace("/settings/webhooks")}function N(){!D.value||(u.value={},V.value=!1,n.push(D.value))}function K(){u.value={},V.value=!1}}}),zT={class:"page-description"};function KT(e,t,n,l,o,u){const a=c("v-breadcrumb"),r=c("v-icon"),s=c("v-button"),p=c("v-card-title"),f=c("v-card-actions"),_=c("v-card"),y=c("v-dialog"),v=c("save-options"),h=c("settings-navigation"),w=c("v-form"),g=c("sidebar-detail"),k=c("revisions-drawer-detail"),A=c("v-card-text"),V=c("private-view"),D=ke("md");return m(),C(V,{title:e.title},{headline:d(()=>[i(a,{items:[{name:e.t("settings_webhooks"),to:"/settings/webhooks"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[i(s,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/webhooks/"},{default:d(()=>[i(r,{name:"arrow_back"})]),_:1})]),actions:d(()=>[i(y,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=P=>e.confirmDelete=P),onEsc:t[2]||(t[2]=P=>e.confirmDelete=!1)},{activator:d(({on:P})=>[i(s,{rounded:"",icon:"",class:"action-delete",disabled:e.item===null,onClick:P},{default:d(()=>[i(r,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"])]),default:d(()=>[i(_,null,{default:d(()=>[i(p,null,{default:d(()=>[T(b(e.t("delete_are_you_sure")),1)]),_:1}),i(f,null,{default:d(()=>[i(s,{secondary:"",onClick:t[0]||(t[0]=P=>e.confirmDelete=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(s,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:d(()=>[T(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),i(s,{rounded:"",icon:"",loading:e.saving,disabled:e.hasEdits===!1,onClick:e.saveAndQuit},{"append-outer":d(()=>[e.hasEdits===!0?(m(),C(v,{key:0,onSaveAndStay:e.saveAndStay,onSaveAndAddNew:e.saveAndAddNew,onSaveAsCopy:e.saveAsCopyAndNavigate,onDiscardAndStay:e.discardAndStay},null,8,["onSaveAndStay","onSaveAndAddNew","onSaveAsCopy","onDiscardAndStay"])):R("",!0)]),default:d(()=>[i(r,{name:"check"})]),_:1},8,["loading","disabled","onClick"])]),navigation:d(()=>[i(h)]),sidebar:d(()=>[i(g,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[Q(S("div",zT,null,512),[[D,e.t("page_help_settings_webhooks_item")]])]),_:1},8,["title"]),e.isNew===!1?(m(),C(k,{key:0,collection:"directus_webhooks","primary-key":e.primaryKey},null,8,["primary-key"])):R("",!0)]),default:d(()=>[i(w,{modelValue:e.edits,"onUpdate:modelValue":t[3]||(t[3]=P=>e.edits=P),loading:e.loading,"initial-values":e.item,collection:"directus_webhooks","batch-mode":e.isBatch,"primary-key":e.primaryKey,"validation-errors":e.validationErrors},null,8,["modelValue","loading","initial-values","batch-mode","primary-key","validation-errors"]),i(y,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[5]||(t[5]=P=>e.confirmLeave=P),onEsc:t[6]||(t[6]=P=>e.confirmLeave=!1)},{default:d(()=>[i(_,null,{default:d(()=>[i(p,null,{default:d(()=>[T(b(e.t("unsaved_changes")),1)]),_:1}),i(A,null,{default:d(()=>[T(b(e.t("unsaved_changes_copy")),1)]),_:1}),i(f,null,{default:d(()=>[i(s,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[T(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),i(s,{onClick:t[4]||(t[4]=P=>e.confirmLeave=!1)},{default:d(()=>[T(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var HT=q(qT,[["render",KT],["__scopeId","data-v-3a6f9006"]]),WT=un({id:"settings",name:"$t:settings",icon:"settings",color:"var(--warning)",routes:[{path:"",redirect:"/settings/data-model"},{name:"settings-project",path:"project",component:oD},{path:"data-model",component:_n,children:[{name:"settings-collections",path:"",component:rV,beforeEnter(){Ke().hydrate()},children:[{path:"+",name:"settings-add-new",components:{add:CE}}]},{name:"settings-fields",path:":collection",component:cE,async beforeEnter(e){const n=Ke().getCollection(e.params.collection),l=Le();(n==null?void 0:n.meta)||await re.patch(`/collections/${e.params.collection}`,{meta:{}}),l.hydrate()},props:e=>({collection:e.params.collection,field:e.params.field,type:e.query.type}),children:[{path:":field",name:"settings-fields-field",components:{field:DI}}]}]},{path:"roles",component:_n,children:[{name:"settings-roles-collection",path:"",component:gD,children:[{path:"+",name:"settings-add-new-role",components:{add:mD}}]},{path:"public",component:jT,props:!0,children:[{path:":permissionKey",components:{permissionsDetail:Cr}}]},{name:"settings-roles-item",path:":primaryKey",component:aT,props:!0,children:[{path:":permissionKey",components:{permissionsDetail:Cr}}]}]},{path:"presets",component:_n,children:[{name:"settings-presets-collection",path:"",component:BE},{name:"settings-presets-item",path:":id",component:JE,props:!0}]},{path:"webhooks",component:_n,children:[{name:"settings-webhooks-collection",path:"",component:BT},{name:"settings-webhooks-item",path:":primaryKey",component:HT,props:!0}]},{name:"settings-not-found",path:":_(.+)+",component:IE}],preRegisterCheck:e=>e.role.admin_access===!0}),GT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:WT});let Mn=null,Qt=null;function Vr(){return Mn===null&&(Mn=E(null)),Qt===null&&(Qt=E(!1)),(Qt==null?void 0:Qt.value)===!1&&e(),{roles:Mn,loading:Qt};async function e(){if(!Qt||!Mn)return;Mn.value||(Qt.value=!0);const t=await re.get("/roles",{params:{sort:"name"}});Mn.value=t.data.data,Qt.value=!1}}const ZT=z({props:{currentRole:{type:String,default:null}},setup(){const{t:e}=J(),{roles:t,loading:n}=Vr();return{t:e,roles:t,loading:n}}});function JT(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-list-item-icon"),s=c("v-list-item-content"),p=c("v-list-item"),f=c("v-divider"),_=c("v-skeleton-loader"),y=c("v-list");return m(),C(y,{nav:""},{default:d(()=>[i(p,{to:"/users",exact:"",active:e.currentRole===null},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"folder_shared",outline:""})]),_:1}),i(s,null,{default:d(()=>[T(b(e.t("all_users")),1)]),_:1})]),_:1},8,["active"]),e.roles&&e.roles.length>0||e.loading?(m(),C(f,{key:0})):R("",!0),e.loading?(m(),I(x,{key:1},$e(4,v=>i(p,{key:v},{default:d(()=>[i(_,{type:"list-item-icon"})]),_:2},1024)),64)):R("",!0),(m(!0),I(x,null,$e(e.roles,({name:v,id:h,icon:w})=>(m(),C(p,{key:h,to:`/users/roles/${h}`,active:e.currentRole===h},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:w,outline:""},null,8,["name"])]),_:2},1024),i(s,null,{default:d(()=>[T(b(v),1)]),_:2},1024)]),_:2},1032,["to","active"]))),128))]),_:1})}var Fr=q(ZT,[["render",JT],["__scopeId","data-v-1db98fc0"]]);const QT=z({name:"UsersCollection",components:{UsersNavigation:Fr,LayoutSidebarDetail:Qn,SearchInput:Dn,UsersInvite:kr,DrawerBatch:fo},props:{role:{type:String,default:null}},setup(e){const{t}=J(),{roles:n}=Vr(),l=E(!1),o=Ze(),u=Lt(),a=E(),r=E([]),{layout:s,layoutOptions:p,layoutQuery:f,filter:_,search:y,resetPreset:v}=En(E("directus_users")),{addNewLink:h}=de(),{confirmDelete:w,deleting:g,batchDelete:k,error:A,batchEditActive:V}=ie(),{breadcrumb:D,title:P}=ne(),L=F(()=>e.role!==null?{_and:[{role:{_eq:e.role}}]}:null),B=F(()=>{var me,H;if(!!((H=(me=o.currentUser)==null?void 0:me.role)==null?void 0:H.admin_access))return!0;const Z=u.permissions.find(Y=>Y.collection==="directus_users"&&Y.action==="create"),te=u.permissions.find(Y=>Y.collection==="directus_roles"&&Y.action==="read");return!!Z&&!!te}),{layoutWrapper:O}=dn(s),{batchEditAllowed:M,batchDeleteAllowed:N,createAllowed:K}=se();return Hn(()=>{r.value=[]}),hl(()=>{r.value=[]}),{t,canInviteUsers:B,addNewLink:h,breadcrumb:D,title:P,layoutRef:a,layoutWrapper:O,selection:r,layoutOptions:p,layoutQuery:f,layout:s,search:y,clearFilters:le,userInviteModalActive:l,refresh:G,batchEditAllowed:M,batchDeleteAllowed:N,createAllowed:K,resetPreset:v,confirmDelete:w,deleting:g,batchDelete:k,deleteError:A,batchEditActive:V,filter:_,roleFilter:L,mergeFilters:Vl};async function G(){var ee,Z,te;await((te=(Z=(ee=a.value)==null?void 0:ee.state)==null?void 0:Z.refresh)==null?void 0:te.call(Z))}function ie(){const ee=E(!1),Z=E(!1),te=E(!1),me=E();return{batchEditActive:te,confirmDelete:ee,deleting:Z,batchDelete:H,error:me};async function H(){Z.value=!0;const Y=r.value;try{await re.delete("/users",{data:Y}),await G(),r.value=[],ee.value=!1}catch(_e){me.value=_e,Se(_e)}finally{Z.value=!1}}}function de(){return{addNewLink:F(()=>e.role?`/users/roles/${e.role}/+`:"/users/+")}}function ne(){const ee=F(()=>e.role?[{name:t("user_directory"),to:"/users"}]:null),Z=F(()=>{var te,me;return e.role?(me=(te=n.value)==null?void 0:te.find(H=>H.id===e.role))==null?void 0:me.name:t("user_directory")});return{breadcrumb:ee,title:Z}}function le(){_.value=null,y.value=null}function se(){const ee=F(()=>{var Y;return((Y=o==null?void 0:o.currentUser)==null?void 0:Y.role.admin_access)===!0?!0:!!u.permissions.find(_e=>_e.action==="update"&&_e.collection==="directus_users")}),Z=F(()=>{var Y;return((Y=o==null?void 0:o.currentUser)==null?void 0:Y.role.admin_access)===!0?!0:!!u.permissions.find(_e=>_e.action==="delete"&&_e.collection==="directus_users")}),te=F(()=>{var Y;return((Y=o==null?void 0:o.currentUser)==null?void 0:Y.role.admin_access)===!0?!0:!!u.permissions.find(_e=>_e.action==="create"&&_e.collection==="directus_users")});return{batchEditAllowed:ee,batchDeleteAllowed:Z,createAllowed:te}}}}),XT={class:"page-description"};function YT(e,t,n,l,o,u){const a=c("v-breadcrumb"),r=c("v-icon"),s=c("v-button"),p=c("search-input"),f=c("v-card-title"),_=c("v-card-actions"),y=c("v-card"),v=c("v-dialog"),h=c("users-navigation"),w=c("users-invite"),g=c("v-info"),k=c("drawer-batch"),A=c("sidebar-detail"),V=c("layout-sidebar-detail"),D=c("export-sidebar-detail"),P=c("private-view"),L=ke("tooltip"),B=ke("md");return m(),C(qe(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[10]||(t[10]=O=>e.selection=O),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[11]||(t[11]=O=>e.layoutOptions=O),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[12]||(t[12]=O=>e.layoutQuery=O),filter:e.mergeFilters(e.filter,e.roleFilter),"filter-user":e.filter,"filter-system":e.roleFilter,search:e.search,collection:"directus_users","reset-preset":e.resetPreset},{default:d(({layoutState:O})=>[i(P,{title:e.title},xe({"title-outer:prepend":d(()=>[i(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[i(r,{name:"people_alt",outline:""})]),_:1})]),"actions:prepend":d(()=>[(m(),C(qe(`layout-actions-${e.layout}`),Je(et(O)),null,16))]),actions:d(()=>[i(p,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=M=>e.search=M),filter:e.filter,"onUpdate:filter":t[1]||(t[1]=M=>e.filter=M),collection:"directus_users"},null,8,["modelValue","filter"]),e.selection.length>0?(m(),C(v,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[3]||(t[3]=M=>e.confirmDelete=M),onEsc:t[4]||(t[4]=M=>e.confirmDelete=!1)},{activator:d(({on:M})=>[Q(i(s,{disabled:e.batchDeleteAllowed!==!0,rounded:"",icon:"",class:"action-delete",onClick:M},{default:d(()=>[i(r,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[L,e.batchDeleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:d(()=>[i(y,null,{default:d(()=>[i(f,null,{default:d(()=>[T(b(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),i(_,null,{default:d(()=>[i(s,{secondary:"",onClick:t[2]||(t[2]=M=>e.confirmDelete=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(s,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:d(()=>[T(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>0?Q((m(),C(s,{key:1,rounded:"",icon:"",class:"action-batch",disabled:e.batchEditAllowed===!1,onClick:t[5]||(t[5]=M=>e.batchEditActive=!0)},{default:d(()=>[i(r,{name:"edit",outline:""})]),_:1},8,["disabled"])),[[L,e.batchEditAllowed?e.t("edit"):e.t("not_allowed"),void 0,{bottom:!0}]]):R("",!0),e.canInviteUsers?Q((m(),C(s,{key:2,rounded:"",icon:"",class:"invite-user",onClick:t[6]||(t[6]=M=>e.userInviteModalActive=!0)},{default:d(()=>[i(r,{name:"person_add"})]),_:1},512)),[[L,e.t("invite_users"),void 0,{bottom:!0}]]):R("",!0),Q(i(s,{rounded:"",icon:"",to:e.addNewLink,disabled:e.createAllowed===!1},{default:d(()=>[i(r,{name:"add"})]),_:1},8,["to","disabled"]),[[L,e.createAllowed?e.t("create_item"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:d(()=>[i(h,{"current-role":e.role},null,8,["current-role"])]),sidebar:d(()=>[i(A,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[Q(S("div",XT,null,512),[[B,e.t("page_help_users_collection")]])]),_:1},8,["title"]),i(V,{modelValue:e.layout,"onUpdate:modelValue":t[9]||(t[9]=M=>e.layout=M)},{default:d(()=>[(m(),C(qe(`layout-options-${e.layout}`),Je(et(O)),null,16))]),_:2},1032,["modelValue"]),(m(),C(qe(`layout-sidebar-${e.layout}`),Je(et(O)),null,16)),i(D,{collection:"directus_users",filter:e.mergeFilters(e.filter,e.roleFilter),search:e.search},null,8,["filter","search"])]),default:d(()=>[e.canInviteUsers?(m(),C(w,{key:0,modelValue:e.userInviteModalActive,"onUpdate:modelValue":[t[7]||(t[7]=M=>e.userInviteModalActive=M),e.refresh]},null,8,["modelValue","onUpdate:modelValue"])):R("",!0),(m(),C(qe(`layout-${e.layout}`),mt({class:"layout"},O),{"no-results":d(()=>[!e.filter&&!e.search?(m(),C(g,{key:0,title:e.t("user_count",0),icon:"people_alt",center:""},xe({default:d(()=>[T(b(e.t("no_users_copy"))+" ",1)]),_:2},[e.canInviteUsers?{name:"append",fn:d(()=>[i(s,{to:e.role?{path:`/users/roles/${e.role}/+`}:{path:"/users/+"}},{default:d(()=>[T(b(e.t("create_user")),1)]),_:1},8,["to"])])}:void 0]),1032,["title"])):(m(),C(g,{key:1,title:e.t("no_results"),icon:"search",center:""},{append:d(()=>[i(s,{onClick:e.clearFilters},{default:d(()=>[T(b(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:d(()=>[T(b(e.t("no_results_copy"))+" ",1)]),_:1},8,["title"]))]),"no-items":d(()=>[i(g,{title:e.t("user_count",0),icon:"people_alt",center:""},xe({default:d(()=>[T(b(e.t("no_users_copy"))+" ",1)]),_:2},[e.canInviteUsers?{name:"append",fn:d(()=>[i(s,{to:e.role?{path:`/users/roles/${e.role}/+`}:{path:"/users/+"}},{default:d(()=>[T(b(e.t("create_user")),1)]),_:1},8,["to"])])}:void 0]),1032,["title"])]),_:2},1040)),i(k,{active:e.batchEditActive,"onUpdate:active":t[8]||(t[8]=M=>e.batchEditActive=M),"primary-keys":e.selection,collection:"directus_users",onRefresh:e.refresh},null,8,["active","primary-keys","onRefresh"])]),_:2},[e.breadcrumb?{name:"headline",fn:d(()=>[i(a,{items:e.breadcrumb},null,8,["items"])])}:void 0]),1032,["title"])]),_:1},8,["selection","layout-options","layout-query","filter","filter-user","filter-system","search","reset-preset"])}var Ar=q(QT,[["render",YT],["__scopeId","data-v-593e0ca8"]]);const xT={alias:"input",bigInteger:"input",binary:"input",boolean:"boolean",date:"datetime",dateTime:"datetime",decimal:"input",float:"input",integer:"input",json:"input-code",string:"input",text:"input-multiline",time:"datetime",timestamp:"datetime",uuid:"input",unknown:"input",csv:"tags",hash:"input-hash",geometry:"map","geometry.Point":"map","geometry.LineString":"map","geometry.Polygon":"map","geometry.MultiPoint":"map","geometry.MultiLineString":"map","geometry.MultiPolygon":"map"};function Ir(e){return xT[e]||"input"}function Er(e){return{formFields:F(()=>{let n=U.exports.clone(e.value);return n=n.map((l,o)=>{var a;if(!l.meta)return l;let u=Et(l.meta.interface);return u===void 0&&(l.meta.interface=Ir(l.type),u=Et(l.meta.interface)),(u==null?void 0:u.hideLabel)===!0&&(l.hideLabel=!0),(u==null?void 0:u.hideLoader)===!0&&(l.hideLoader=!0),o!==0&&l.meta.width==="half"&&((a=n[o-1].meta)==null?void 0:a.width)==="half"&&(l.meta.width="half-right"),l}),n=n.filter(l=>{var u;return(((u=l.field)==null?void 0:u.startsWith("$"))||!1)===!1}),n=U.exports.orderBy(n,[l=>{var o;return!!((o=l.meta)==null?void 0:o.system)},"meta.sort","meta.id"],["desc","asc","asc"]),n=Ft(n),n})}}const eL=z({props:{user:{type:Object,default:null},isNew:{type:Boolean,default:!1}},setup(e){const{t}=J(),n=E("");return ye(()=>e,async()=>{!e.user||(n.value=await $t(new Date(e.user.last_access),String(t("date-fns_date_short"))))},{immediate:!0}),{t,lastAccessDate:n}}}),tL={key:0},nL={key:0},lL={key:1},oL={key:2},aL={key:3},iL={key:4},rL={key:5},sL={class:"page-description"};function dL(e,t,n,l,o,u){const a=c("router-link"),r=c("v-divider"),s=c("sidebar-detail"),p=ke("md");return m(),C(s,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[e.isNew===!1&&e.user?(m(),I("dl",tL,[e.user.id?(m(),I("div",nL,[S("dt",null,b(e.t("key")),1),S("dd",null,b(e.user.id),1)])):R("",!0),e.user.last_page?(m(),I("div",lL,[S("dt",null,b(e.t("last_page")),1),S("dd",null,[i(a,{to:e.user.last_page},{default:d(()=>[T(b(e.user.last_page),1)]),_:1},8,["to"])])])):R("",!0),e.user.last_access?(m(),I("div",oL,[S("dt",null,b(e.t("last_access")),1),S("dd",null,b(e.lastAccessDate),1)])):R("",!0),e.user.created_on?(m(),I("div",aL,[S("dt",null,b(e.t("created_on")),1),S("dd",null,b(e.user.created_on),1)])):R("",!0),e.user.created_by?(m(),I("div",iL,[S("dt",null,b(e.t("created_by")),1),S("dd",null,b(e.user.created_by),1)])):R("",!0),e.user.modified_on?(m(),I("div",rL,[S("dt",null,b(e.t("modified_on")),1),S("dd",null,b(e.user.modified_on),1)])):R("",!0)])):R("",!0),i(r),Q(S("div",sL,null,512),[[p,e.t("page_help_users_item")]])]),_:1},8,["title"])}var uL=q(eL,[["render",dL],["__scopeId","data-v-c6cfea44"]]);const cL=z({name:"UsersItem",components:{UsersNavigation:Fr,RevisionsDrawerDetail:Xn,SaveOptions:Tl,CommentsSidebarDetail:vo,UserInfoSidebarDetail:uL},props:{primaryKey:{type:String,required:!0},role:{type:String,default:null}},setup(e){const{t,locale:n}=J(),l=Xe(),o=E(),u=Le(),a=Ke(),r=Ze(),{primaryKey:s}=Me(e),{breadcrumb:p}=he(),{info:f}=ot("directus_users"),_=E(null),{isNew:y,edits:v,hasEdits:h,item:w,saving:g,loading:k,save:A,remove:V,deleting:D,saveAsCopy:P,isBatch:L,archive:B,archiving:O,isArchived:M,validationErrors:N}=gn(E("directus_users"),s);e.role&&(v.value=pe({role:e.role},v.value));const K=F(()=>Y.value&&h.value),{confirmLeave:G,leaveTo:ie}=en(h),de=E(!1),ne=E(!1),le=E(null),se=F(()=>{if(k.value===!0)return t("loading");if(y.value===!1&&w.value){const fe=w.value;return wt(fe)}return t("adding_user")}),{loading:ee,avatarSrc:Z,roleName:te}=Oe(),{deleteAllowed:me,archiveAllowed:H,saveAllowed:Y,updateAllowed:_e,revisionsAllowed:ve,fields:ue}=Pn(E("directus_users"),w,y),W=["id","external_id","last_page","created_on","created_by","modified_by","modified_on","last_access"],X=F(()=>ue.value.filter(fe=>(!y.value&&["provider","external_identifier"].includes(fe.field)&&(fe.meta.readonly=!0),!W.includes(fe.field)))),{formFields:ce}=Er(X),oe=F(()=>H.value===!1?t("not_allowed"):M.value===!0?t("unarchive"):t("archive"));return nt("meta+s",we,o),nt("meta+shift+s",Ce,o),{t,router:l,title:se,item:w,loading:k,isNew:y,breadcrumb:p,edits:v,hasEdits:h,saving:g,saveAndQuit:ge,deleteAndQuit:De,confirmDelete:de,deleting:D,saveAndStay:we,saveAndAddNew:Ce,saveAsCopyAndNavigate:Fe,discardAndStay:Qe,isBatch:L,revisionsDrawerDetail:_,previewLoading:ee,avatarSrc:Z,roleName:te,confirmLeave:G,leaveTo:ie,discardAndLeave:Te,formFields:ce,deleteAllowed:me,saveAllowed:Y,archiveAllowed:H,isArchived:M,updateAllowed:_e,toggleArchive:Be,confirmArchive:ne,collectionInfo:f,archiving:O,archiveTooltip:oe,form:o,userName:wt,revisionsAllowed:ve,validationErrors:N,revert:Ie,avatarError:le,isSavable:K};function he(){return{breadcrumb:F(()=>[{name:t("user_directory"),to:"/users"}])}}async function ge(){try{const fe=await A();await tt(fe),await Pe(),l.push("/users")}catch{}}async function we(){var fe,Re;try{const Ye=await A();if(await tt(Ye),(Re=(fe=_.value)==null?void 0:fe.refresh)==null||Re.call(fe),e.primaryKey==="+"){const lt=Ye.id;l.replace(`/users/${lt}`)}}catch{}}async function Ce(){try{const fe=await A();await tt(fe),await Pe(),l.push("/users/+")}catch{}}async function Fe(){try{const fe=await P();fe&&l.push(`/users/${fe}`)}catch{}}async function De(){try{await V(),l.replace("/users")}catch{}}async function tt(fe){var Ye;if(r.currentUser.id!==((Ye=w.value)==null?void 0:Ye.id))return;const Re=fe==null?void 0:fe.language;Re&&Re!==n.value&&(await Da(Re),await u.hydrate(),await a.hydrate())}async function Pe(){var fe;r.currentUser.id===((fe=w.value)==null?void 0:fe.id)&&await r.hydrate()}function Oe(){const fe=E(!1),Re=E(null),Ye=E(null);return ye(()=>e.primaryKey,lt,{immediate:!0}),{loading:fe,avatarSrc:Re,roleName:Ye};async function lt(){var at,rt,_t;if(e.primaryKey!=="+"){fe.value=!0;try{const St=await re.get(`/users/${e.primaryKey}`,{params:{fields:["role.name","avatar.id"]}});Re.value=((at=St.data.data.avatar)==null?void 0:at.id)?ut(Ge()+`assets/${St.data.data.avatar.id}?key=system-medium-cover`):null,Ye.value=(_t=(rt=St.data.data)==null?void 0:rt.role)==null?void 0:_t.name}catch(St){Se(St)}finally{fe.value=!1}}}}function Te(){!ie.value||(v.value={},G.value=!1,l.push(ie.value))}function Qe(){v.value={},G.value=!1}async function Be(){await B(),M.value===!0?l.push("/users"):ne.value=!1}function Ie(fe){v.value=pe(pe({},v.value),fe)}}}),pL={class:"user-item"},mL={key:0,class:"user-box"},fL={class:"avatar"},_L=["src","alt"],vL={class:"user-box-content"},yL={class:"name type-label"},hL={key:0,class:"title"},gL={key:0,class:"email"},bL={key:1,class:"location"};function wL(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-button"),s=c("v-breadcrumb"),p=c("v-card-title"),f=c("v-card-actions"),_=c("v-card"),y=c("v-dialog"),v=c("save-options"),h=c("users-navigation"),w=c("v-skeleton-loader"),g=c("v-chip"),k=c("v-form"),A=c("v-card-text"),V=c("user-info-sidebar-detail"),D=c("revisions-drawer-detail"),P=c("comments-sidebar-detail"),L=c("private-view"),B=ke("tooltip");return m(),C(L,{title:e.title},{"title-outer:prepend":d(()=>[i(r,{class:"header-icon",rounded:"",icon:"",secondary:"",exact:"",onClick:t[0]||(t[0]=O=>e.router.back())},{default:d(()=>[i(a,{name:"arrow_back"})]),_:1})]),headline:d(()=>[i(s,{items:e.breadcrumb},null,8,["items"])]),actions:d(()=>[i(y,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=O=>e.confirmDelete=O),disabled:e.deleteAllowed===!1,onEsc:t[3]||(t[3]=O=>e.confirmDelete=!1)},{activator:d(({on:O})=>[Q(i(r,{rounded:"",icon:"",class:"action-delete",disabled:e.item===null||e.deleteAllowed!==!0,onClick:O},{default:d(()=>[i(a,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[B,e.deleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:d(()=>[i(_,null,{default:d(()=>[i(p,null,{default:d(()=>[T(b(e.t("delete_are_you_sure")),1)]),_:1}),i(f,null,{default:d(()=>[i(r,{secondary:"",onClick:t[1]||(t[1]=O=>e.confirmDelete=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(r,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:d(()=>[T(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"]),e.collectionInfo.meta&&e.collectionInfo.meta.archive_field&&!e.isNew?(m(),C(y,{key:0,modelValue:e.confirmArchive,"onUpdate:modelValue":t[5]||(t[5]=O=>e.confirmArchive=O),disabled:e.archiveAllowed===!1,onEsc:t[6]||(t[6]=O=>e.confirmArchive=!1)},{activator:d(({on:O})=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!1?Q((m(),C(r,{key:0,rounded:"",icon:"",class:"action-archive",disabled:e.item===null||e.archiveAllowed!==!0,onClick:O},{default:d(()=>[i(a,{name:e.isArchived?"unarchive":"archive",outline:""},null,8,["name"])]),_:2},1032,["disabled","onClick"])),[[B,e.archiveTooltip,void 0,{bottom:!0}]]):R("",!0)]),default:d(()=>[i(_,null,{default:d(()=>[i(p,null,{default:d(()=>[T(b(e.isArchived?e.t("unarchive_confirm"):e.t("archive_confirm")),1)]),_:1}),i(f,null,{default:d(()=>[i(r,{secondary:"",onClick:t[4]||(t[4]=O=>e.confirmArchive=!1)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1}),i(r,{kind:"warning",loading:e.archiving,onClick:e.toggleArchive},{default:d(()=>[T(b(e.isArchived?e.t("unarchive"):e.t("archive")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])):R("",!0),Q(i(r,{rounded:"",icon:"",loading:e.saving,disabled:!e.isSavable,onClick:e.saveAndQuit},{"append-outer":d(()=>[e.isSavable?(m(),C(v,{key:0,onSaveAndStay:e.saveAndStay,onSaveAndAddNew:e.saveAndAddNew,onSaveAsCopy:e.saveAsCopyAndNavigate,onDiscardAndStay:e.discardAndStay},null,8,["onSaveAndStay","onSaveAndAddNew","onSaveAsCopy","onDiscardAndStay"])):R("",!0)]),default:d(()=>[i(a,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[B,e.saveAllowed?e.t("save"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:d(()=>[i(h,{"current-role":e.item&&e.item.role||e.role},null,8,["current-role"])]),sidebar:d(()=>[i(V,{"is-new":e.isNew,user:e.item},null,8,["is-new","user"]),e.isBatch===!1&&e.isNew===!1&&e.revisionsAllowed?(m(),C(D,{key:0,ref:"revisionsDrawerDetail",collection:"directus_users","primary-key":e.primaryKey,onRevert:e.revert},null,8,["primary-key","onRevert"])):R("",!0),e.isBatch===!1&&e.isNew===!1?(m(),C(P,{key:1,collection:"directus_users","primary-key":e.primaryKey},null,8,["primary-key"])):R("",!0)]),default:d(()=>[S("div",pL,[e.isNew===!1?(m(),I("div",mL,[S("div",fL,[e.loading||e.previewLoading?(m(),C(w,{key:0})):e.avatarSrc&&!e.avatarError?(m(),I("img",{key:1,src:e.avatarSrc,alt:e.t("avatar"),onError:t[7]||(t[7]=O=>e.avatarError=O)},null,40,_L)):(m(),C(a,{key:2,name:"account_circle",outline:"","x-large":""}))]),S("div",vL,[e.loading?(m(),I(x,{key:0},[i(w,{type:"text"}),i(w,{type:"text"}),i(w,{type:"text"})],64)):e.isNew===!1&&e.item?(m(),I(x,{key:1},[S("div",yL,[T(b(e.userName(e.item))+" ",1),e.item.title?(m(),I("span",hL,", "+b(e.item.title),1)):R("",!0)]),e.item.email?(m(),I("div",gL,[i(a,{name:"alternate_email",small:"",outline:""}),T(" "+b(e.item.email),1)])):R("",!0),e.item.location?(m(),I("div",bL,[i(a,{name:"place",small:"",outline:""}),T(" "+b(e.item.location),1)])):R("",!0),e.roleName?(m(),C(g,{key:2,class:ae(e.item.status),small:""},{default:d(()=>[T(b(e.roleName),1)]),_:1},8,["class"])):R("",!0)],64)):R("",!0)])])):R("",!0),i(k,{ref:"form",modelValue:e.edits,"onUpdate:modelValue":t[8]||(t[8]=O=>e.edits=O),disabled:e.isNew?!1:e.updateAllowed===!1,fields:e.formFields,loading:e.loading,"initial-values":e.item,"batch-mode":e.isBatch,"primary-key":e.primaryKey,"validation-errors":e.validationErrors},null,8,["modelValue","disabled","fields","loading","initial-values","batch-mode","primary-key","validation-errors"])]),i(y,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[10]||(t[10]=O=>e.confirmLeave=O),onEsc:t[11]||(t[11]=O=>e.confirmLeave=!1)},{default:d(()=>[i(_,null,{default:d(()=>[i(p,null,{default:d(()=>[T(b(e.t("unsaved_changes")),1)]),_:1}),i(A,null,{default:d(()=>[T(b(e.t("unsaved_changes_copy")),1)]),_:1}),i(f,null,{default:d(()=>[i(r,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[T(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),i(r,{onClick:t[9]||(t[9]=O=>e.confirmLeave=!1)},{default:d(()=>[T(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var Dr=q(cL,[["render",wL],["__scopeId","data-v-18135820"]]),$L=un({id:"users",name:"$t:user_directory",icon:"people_alt",routes:[{name:"users-collection",path:"",component:Ar},{name:"users-item",path:":primaryKey",component:Dr,props:!0},{path:"roles",redirect:"/users"},{name:"roles-collection",path:"roles/:role",component:Ar,props:!0},{name:"roles-item-add",path:"roles/:role/+",component:Dr,props:e=>({primaryKey:"+",role:e.params.role})}],preRegisterCheck(e,t){return e.role.admin_access?!0:!!t.find(o=>o.collection==="directus_users"&&o.action==="read")}}),kL=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$L});const{modulesRaw:Uo}=Cl();let Tr=[];async function SL(){const t=Object.values({"./activity/index.ts":hk,"./content/index.ts":N3,"./docs/index.ts":r5,"./files/index.ts":TS,"./insights/index.ts":N6,"./settings/index.ts":GT,"./users/index.ts":kL}).map(n=>n.default);try{const n=await j(()=>import(`${Ge()}extensions/modules/index.js`),[]);t.push(...n.default)}catch(n){console.warn("Couldn't load custom modules"),console.warn(n)}Tr=t}async function CL(){const e=Ze(),t=Lt(),n=[];for(const l of Tr)!e.currentUser||(l.preRegisterCheck?await l.preRegisterCheck(e.currentUser,t.permissions)&&n.push(l):n.push(l));for(const l of n)Mt.addRoute({name:l.id,path:`/${l.id}`,component:_n,children:l.routes});Uo.value=n}function VL(){for(const e of Uo.value)Mt.removeRoute(e.id);Uo.value=[]}function Un(e){const t=Nl();return t.settings?t.settings[e]:null}function FL(){const e=Ze();return e.currentUser?e.currentUser.theme==="auto"?window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e.currentUser.theme:"light"}const Lr={name:"OpenStreetMap",type:"raster",url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",tileSize:256,attribution:"\xA9 OpenStreetMap contributors"},AL={version:8,glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"};function al(){return Un("mapbox_key")?[DL(),Lr,...Un("basemaps")||[]]:[Lr,...Un("basemaps")||[]]}function No(e){if(EL(e.url),e.type=="style")return e.url;{const t=pe({},AL),n={type:"raster"};return e.attribution&&(n.attribution=e.attribution),e.type=="raster"&&(n.tiles=IL(e.url),n.tileSize=e.tileSize||512),e.type=="tile"&&(n.url=e.url),t.layers=[{id:e.name,source:e.name,type:"raster"}],t.sources={[e.name]:n},t}}function IL(e){const t=[];let n=/\{([a-z])-([a-z])\}/.exec(e);if(n){const l=n[1].charCodeAt(0),o=n[2].charCodeAt(0);let u;for(u=l;u<=o;++u)t.push(e.replace(n[0],String.fromCharCode(u)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e),n){const l=parseInt(n[2],10);for(let o=parseInt(n[1],10);o<=l;o++)t.push(e.replace(n[0],o.toString()));return t}if(n=/\{(([a-z0-9]+)(,([a-z0-9]+))+)\}/.exec(e),n){const l=n[1].split(",");for(const o of l)t.push(e.replace(n[0],o));return t}return t.push(e),t}function EL(e){e=e.replace(/^mapbox:\//,"https://api.mapbox.com/styles/v1");try{const t=new URL(e);if(t.host=="api.mapbox.com"){const n=t.searchParams.get("access_token");n&&(Yl.accessToken=n)}}catch{return}}function DL(){const e={name:"Mapbox",type:"style",url:"mapbox://styles/directus/cktaiz31c509n18nrxj63zdy6"};return FL()==="dark"&&(e.url="mapbox://styles/directus/cktaixyhk2joh17lrb5i8zs22"),e}function Pr(e=[Ke,Le,Ze,ul,kn,Nl,Sn,Wo,pt,Lt,qn,dl]){return e.map(t=>t())}async function il(){var o,u,a;const e=Pr(),t=bt(),n=Ze(),l=Lt();if(!t.hydrated&&!t.hydrating){t.hydrating=!0;try{if(await n.hydrate(),(o=n.currentUser)==null?void 0:o.role){await l.hydrate();const r=["userStore","permissionsStore"];await Promise.all(e.filter(({$id:s})=>!r.includes(s)).map(s=>{var p;return(p=s.hydrate)==null?void 0:p.call(s)})),await CL(),await Da((a=(u=n.currentUser)==null?void 0:u.language)!=null?a:"en-US")}t.basemap=al()[0].name}catch(r){t.error=r}finally{t.hydrating=!1}t.hydrated=!0}}async function TL(e=Pr()){var n;const t=bt();if(t.hydrated!==!1){for(const l of e)await((n=l.dehydrate)==null?void 0:n.call(l));VL(),t.hydrated=!1}}const Or=["pointermove","pointerdown","keydown"],LL=5*60*1e3;let Bo,Ul=!0,qo=!1;const nn=ua();function PL(){document.addEventListener("visibilitychange",jr);for(const e of Or)document.addEventListener(e,Rr);Mr()}function OL(){document.removeEventListener("visibilitychange",jr);for(const e of Or)document.removeEventListener(e,Rr)}function Rr(){qo===!0&&(qo=!1,nn.emit("active")),Mr()}function jr(){document.visibilityState==="hidden"&&Ul===!0&&(Ul=!1,nn.emit("hide")),document.visibilityState==="visible"&&Ul===!1&&(Ul=!0,nn.emit("show"))}function Mr(){Bo&&clearTimeout(Bo),Bo=setTimeout(()=>{qo=!0,nn.emit("idle")},LL)}function RL(e,t){return t?"/shares/auth":e===mo?"/auth/login":`/auth/login/${e}`}async function zo({credentials:e,provider:t,share:n}){const l=bt(),o=await re.post(RL(t,n),Ve(pe({},e),{mode:"cookie"})),u=o.data.data.access_token;re.defaults.headers.common.Authorization=`Bearer ${u}`,o.data.data.expires<=21e8&&(ln=setTimeout(()=>$n(),o.data.data.expires-1e4)),l.accessTokenExpiry=Date.now()+o.data.data.expires,l.authenticated=!0,await il()}let ln,Nn=!1,Ko=!1,Ur=!0;nn.on("idle",()=>{clearTimeout(ln),Nn=!0});nn.on("hide",()=>{clearTimeout(ln),Nn=!0});nn.on("active",()=>{Nn===!0&&($n(),Nn=!1)});nn.on("show",()=>{Nn===!0&&($n(),Nn=!1)});async function $n({navigate:e}={navigate:!0}){if(Ur)Ur=!1;else if(!re.defaults.headers.common.Authorization)return;if(Ko)return;const t=bt();if(t.accessTokenExpiry&&Date.now()<t.accessTokenExpiry-1e4){clearTimeout(ln),ln=setTimeout(()=>$n(),t.accessTokenExpiry-1e4-Date.now());return}Ko=!0;try{const n=await re.post("/auth/refresh",void 0,{transformRequest(o,u){var a;return(a=u==null?void 0:u.common)==null||delete a.Authorization,o}}),l=n.data.data.access_token;return re.defaults.headers.common.Authorization=`Bearer ${l}`,clearTimeout(ln),n.data.data.expires<=21e8&&(ln=setTimeout(()=>$n(),n.data.data.expires-1e4)),t.accessTokenExpiry=Date.now()+n.data.data.expires,t.authenticated=!0,l}catch{await rl({navigate:e,reason:Bn.SESSION_EXPIRED})}finally{Ko=!1}}var Bn;(function(e){e.SIGN_OUT="SIGN_OUT",e.SESSION_EXPIRED="SESSION_EXPIRED"})(Bn||(Bn={}));async function rl(e={}){const t=bt(),n={navigate:!0,reason:Bn.SIGN_OUT};delete re.defaults.headers.common.Authorization,clearTimeout(ln);const l=pe(pe({},n),e);if(l.reason===Bn.SIGN_OUT&&await re.post("/auth/logout"),t.authenticated=!1,await TL(),l.navigate===!0){const o={path:"/login",query:{reason:l.reason}};Mt.push(o)}}const sl=Xl.create({baseURL:Ge(),withCredentials:!0,headers:{"Cache-Control":"no-store"}}),Ho=new id({concurrency:5,intervalCap:5,interval:500,carryoverConcurrencyCount:!0}),jL=e=>{const n=ul().startRequest(),l=pe({id:n},e);return new Promise(o=>{e.url&&e.url==="/auth/refresh"?(Ho.pause(),o(l),Ho.start()):Ho.add(()=>o(l))})},ML=e=>{var l;const t=ul(),n=(l=e.config)==null?void 0:l.id;return n&&t.endRequest(n),e},UL=async e=>{var u,a,r,s,p,f,_,y;const t=ul(),n=(a=(u=e.response)==null?void 0:u.config)==null?void 0:a.id;n&&t.endRequest(n);const l=(r=e.response)==null?void 0:r.status,o=(y=(_=(f=(p=(s=e.response)==null?void 0:s.data)==null?void 0:p.errors)==null?void 0:f[0])==null?void 0:_.extensions)==null?void 0:y.code;if(l===401&&o==="INVALID_CREDENTIALS"&&e.request.responseURL.includes("refresh")===!1&&e.request.responseURL.includes("login")===!1&&e.request.responseURL.includes("tfa")===!1){let v;try{v=await $n()}catch{return rl({reason:Bn.SESSION_EXPIRED}),Promise.reject()}if(v)return sl.request(Ve(pe({},e.config),{headers:{Authorization:`Bearer ${v}`}}))}return Promise.reject(e)};sl.interceptors.request.use(jL);sl.interceptors.response.use(ML,UL);var re=sl;function NL(){var e;return((e=sl.defaults.headers.common.Authorization)==null?void 0:e.split(" ")[1])||null}function ut(e,t){const n=t||NL();return n?ro(e,{access_token:n}):e}const pt=Tt({id:"relationsStore",state:()=>({relations:[]}),actions:{async hydrate(){const e=await re.get("/relations",{params:{limit:-1}});this.relations=e.data.data},async dehydrate(){this.$reset()},getRelationsForCollection(e){return this.relations.filter(t=>t.collection===e||t.related_collection===e)},async upsertRelation(e,t,n){const l=this.getRelationForField(e,t);try{if(l){if(U.exports.isEqual(l,n))return;const o=await re.patch(`/relations/${e}/${t}`,n);this.relations=this.relations.map(u=>u.collection===e&&u.field===t?o.data.data:u)}else{const o=await re.post("/relations",n);this.relations=[...this.relations,o.data.data]}}catch(o){Se(o)}},getRelationsForField(e,t){var u;if(!Le().getField(e,t))return[];const o=this.getRelationsForCollection(e).filter(a=>{var r;return a.collection===e&&a.field===t||a.related_collection===e&&((r=a.meta)==null?void 0:r.one_field)===t});if(o.length>0&&((u=o[0].meta)==null?void 0:u.junction_field)!==null){const r=this.relations.find(s=>{var p;return s.collection===o[0].collection&&s.field===((p=o[0].meta)==null?void 0:p.junction_field)});r&&o.push(r)}return o},getRelationForField(e,t){return Le().getField(e,t)&&this.getRelationsForCollection(e).filter(u=>{var a;return u.collection===e&&u.field===t||u.related_collection===e&&((a=u.meta)==null?void 0:a.one_field)===t}).find(u=>u.collection===e&&u.field===t)||null}}}),Ke=Tt({id:"collectionsStore",state:()=>({collections:[]}),getters:{visibleCollections(){return this.collections.filter(({collection:e})=>e.startsWith("directus_")===!1).filter(e=>{var t;return((t=e.meta)==null?void 0:t.hidden)!==!0})},allCollections(){return this.collections.filter(({collection:e})=>e.startsWith("directus_")===!1)},crudSafeSystemCollections(){return U.exports.orderBy(this.collections.filter(e=>e.collection.startsWith("directus_")===!0),["collection"],["asc"]).filter(e=>y8.includes(e.collection)===!1)}},actions:{async hydrate(){const t=(await re.get("/collections",{params:{limit:-1}})).data.data;this.collections=t.map(this.prepareCollectionForApp)},prepareCollectionForApp(e){var u,a;const t=((u=e.meta)==null?void 0:u.icon)||"label",n=(a=e.meta)==null?void 0:a.color;let l=Dt(e.collection);const o=P$(e);if(e.meta&&qt(e.meta.translations))for(let r=0;r<e.meta.translations.length;r++){const{language:s,translation:p,singular:f,plural:_}=e.meta.translations[r],y=p?p.replace(/([{}@$|])/g,"{'$1'}"):"";ze.global.mergeLocaleMessage(s,{collection_names:{[e.collection]:y},collection_names_singular:{[e.collection]:f},collection_names_plural:{[e.collection]:_}})}return ze.global.te(`collection_names.${e.collection}`)&&(l=ze.global.t(`collection_names.${e.collection}`)),Ve(pe({},e),{name:l,type:o,icon:t,color:n})},async dehydrate(){this.$reset()},translateCollections(){this.collections=this.collections.map(e=>(ze.global.te(`collection_names.${e.collection}`)&&(e.name=ze.global.t(`collection_names.${e.collection}`)),e))},async upsertCollection(e,t){const n=this.getCollection(e),l=U.exports.omit(t,["name","type","icon","color"]);try{if(n){if(U.exports.isEqual(n,t))return;const o=await re.patch(`/collections/${e}`,l);this.collections=this.collections.map(u=>u.collection===e?this.prepareCollectionForApp(o.data.data):u)}else{const o=await re.post("/collections",l);this.collections=[...this.collections,this.prepareCollectionForApp(o.data.data)]}}catch(o){Se(o)}},async updateCollection(e,t){try{await re.patch(`/collections/${e}`,t),await this.hydrate(),st({type:"success",title:ze.global.t("update_collection_success")})}catch(n){Se(n)}},async deleteCollection(e){const t=pt();try{await re.delete(`/collections/${e}`),await this.hydrate(),await t.hydrate(),st({type:"success",title:ze.global.t("delete_collection_success")})}catch(n){Se(n)}},getCollection(e){return this.collections.find(t=>t.collection===e)||null}}}),BL={collection:"directus_files",field:"$thumbnail",schema:null,name:"$thumbnail",type:"integer",meta:{id:-1,collection:"directus_files",field:"$thumbnail",sort:null,special:null,interface:null,options:null,display:"file",display_options:null,hidden:!1,translations:null,readonly:!0,width:"full",group:null,note:null,required:!1,conditions:null}};let Nr;const Le=Tt({id:"fieldsStore",state:()=>({fields:[]}),actions:{async hydrate(){const t=(await re.get("/fields",{params:{limit:-1}})).data.data;this.fields=[...t.map(this.parseField),BL],this.translateFields()},async dehydrate(){this.$reset()},parseField(e){let t=Dt(e.field);if(e.meta&&qt(e.meta.translations)&&e.meta.translations.length>0)for(let n=0;n<e.meta.translations.length;n++){const{language:l,translation:o}=e.meta.translations[n],u=o?o.replace(/([{}@$|])/g,"{'$1'}"):"";ze.global.mergeLocaleMessage(l,{fields:{[e.collection]:{[e.field]:u}}})}return ze.global.te(`fields.${e.collection}.${e.field}`)&&(t=ze.global.t(`fields.${e.collection}.${e.field}`)),Ve(pe({},e),{name:t})},translateFields(){this.fields=this.fields.map(e=>(ze.global.te(`fields.${e.collection}.${e.field}`)&&(e.name=ze.global.t(`fields.${e.collection}.${e.field}`)),e))},async upsertField(e,t,n){const l=this.getField(e,t),o=U.exports.omit(n,["name"]);return l?U.exports.isEqual(n,l)?void 0:await this.updateField(e,t,o):await this.createField(e,o)},async createField(e,t){const n=[...this.fields];try{const l=await re.post(`/fields/${e}`,t),o=this.parseField(l.data.data);return this.fields=[...this.fields,o],o}catch(l){this.fields=n,Se(l)}},async updateField(e,t,n){const l=[...this.fields];this.fields=this.fields.map(o=>o.collection===e&&o.field===t?U.exports.merge({},o,n):o);try{const o=await re.patch(`/fields/${e}/${t}`,n);this.fields=this.fields.map(u=>u.collection===e&&u.field===t?this.parseField(o.data.data):u)}catch(o){this.fields=l,Se(o)}},async updateFields(e,t){const n=yt(),l=[...this.fields];Nr=n,this.fields=this.fields.map(o=>{if(o.collection===e){const u=t.find(a=>a.field===o.field);if(u)return U.exports.merge({},o,u)}return o});try{const o=await re.patch(`/fields/${e}`,t);Nr===n&&(this.fields=this.fields.map(u=>{if(u.collection===e){const a=o.data.data.find(r=>r.field===u.field);if(a)return this.parseField(a)}return u}),this.translateFields())}catch(o){this.fields=l,Se(o)}},async deleteField(e,t){const n=pt(),l=Ke(),o=[...this.fields],u=[...n.relations];this.fields=this.fields.filter(a=>!(a.field===t&&a.collection===e)),n.relations=n.relations.filter(a=>{var r;return!(a.collection===e&&a.field===t||a.related_collection===e&&((r=a.meta)==null?void 0:r.one_field)===t)});try{await re.delete(`/fields/${e}/${t}`),await l.hydrate()}catch(a){this.fields=o,n.relations=u,Se(a)}},getPrimaryKeyFieldForCollection(e){const t=this.fields.find(n=>{var l;return n.collection===e&&((l=n.schema)==null?void 0:l.is_primary_key)===!0});return t!=null?t:null},getFieldsForCollection(e){return U.exports.orderBy(this.fields.filter(t=>t.collection===e),[t=>{var n;return((n=t.meta)==null?void 0:n.system)===!0},t=>{var n,l;return((n=t.meta)==null?void 0:n.sort)?Number((l=t.meta)==null?void 0:l.sort):null}],["desc","asc"])},getFieldsForCollectionAlphabetical(e){return this.getFieldsForCollection(e).sort((t,n)=>t.field<n.field?-1:(t.field>n.field,1))},getFieldsForCollectionSorted(e){const t=this.fields.filter(o=>o.collection===e),n=t.filter(o=>{var u;return!((u=o.meta)==null?void 0:u.group)}),l=(o,u)=>{var a,r;return!((a=o.meta)==null?void 0:a.sort)||!((r=u.meta)==null?void 0:r.sort)?0:o.meta.sort-u.meta.sort};for(const[o,u]of n.entries()){const a=t.filter(r=>{var s;return((s=r.meta)==null?void 0:s.group)===u.field});a.length&&n.splice(o+1,0,...a.sort(l))}return n},getField(e,t){return t.includes(".")?this.getRelationalField(e,t)||null:this.fields.find(n=>n.collection===e&&n.field===t)||null},getRelationalField(e,t){const n=pt(),[l,...o]=t.split(".");if(l.includes(":")){const[p,f]=l.split(":");return this.getField(f,o.join("."))}const u=n.getRelationsForField(e,l),a=u==null?void 0:u.find(p=>{var f;return p.field===l||((f=p.meta)==null?void 0:f.one_field)===l});if(a===void 0)return!1;const r=a.field===l?a.related_collection:a.collection;if(r===null)return!1;const s=o.join(".");return this.getField(r,s)}}}),qn=Tt({id:"insightsStore",state:()=>({dashboards:[]}),actions:{async hydrate(){const e=Ze(),t=Lt();if(e.isAdmin!==!0&&!t.hasPermission("directus_dashboards","read"))this.dashboards=[];else try{const n=await re.get("/dashboards",{params:{limit:-1,fields:["*","panels.*"],sort:["name"]}});this.dashboards=n.data.data}catch{this.dashboards=[]}},async dehydrate(){this.$reset()}}}),Wo=Tt({id:"latencyStore",state:()=>({latency:[]}),actions:{async dehydrate(){this.$reset()},save(e){this.latency.push(e),this.latency=this.latency.slice(-20)}}}),dl=Tt({id:"notificationsStore",state:()=>({dialogs:[],queue:[],previous:[],notifications:[],unread:0}),actions:{async hydrate(){const e=Ze();e.currentUser&&!("share"in e.currentUser)&&await this.getUnreadCount()},async getUnreadCount(){const e=Ze();if(!e.currentUser||!("id"in e.currentUser))return;const t=await re.get("/notifications",{params:{filter:{_and:[{recipient:{_eq:e.currentUser.id}},{status:{_eq:"inbox"}}]},aggregate:{count:"id"}}});this.unread=t.data.data[0].count.id},add(e){const t=yt(),n=Date.now();return e.dialog===!0?(e.persist=!0,this.dialogs=[...this.dialogs,Ve(pe({},e),{id:t,timestamp:n})]):this.queue=[...this.queue,Ve(pe({},e),{id:t,timestamp:n})],e.persist!==!0&&setTimeout(()=>{this.remove(t)},3e3),t},hide(e){const n=[...this.queue,...this.dialogs].find(l=>l.id===e);!n||(n.dialog===!0?this.dialogs=this.dialogs.filter(l=>l.id!==e):this.queue=this.queue.filter(l=>l.id!==e),this.previous=[...this.previous,n])},remove(e){const n=[...this.queue,...this.dialogs].find(l=>l.id===e);!n||(n.dialog===!0?this.dialogs=this.dialogs.filter(l=>l.id!==e):this.queue=this.queue.filter(l=>l.id!==e))},update(e,t){this.queue=this.queue.map(n),this.dialogs=this.dialogs.map(n),this.previous=this.queue.map(n);function n(l){return l.id===e?pe(pe({},l),t):l}}},getters:{lastFour(){const e=[...this.queue,...this.previous.filter(l=>l.dialog!==!0)],n=U.exports.reverse(U.exports.sortBy(e,["timestamp"])).slice(0,4);return U.exports.reverse(n)}}}),Lt=Tt({id:"permissionsStore",state:()=>({permissions:[]}),actions:{async hydrate(){const e=Ze(),t=await re.get("/permissions",{params:{limit:-1,filter:{role:{_eq:e.currentUser.role.id}}}});this.permissions=t.data.data.map(n=>(n.permissions&&(n.permissions=hn(n.permissions)),n.validation&&(n.validation=hn(n.validation)),n))},dehydrate(){this.$reset()},getPermissionsForUser(e,t){const n=Ze();return this.permissions.find(l=>{var o,u;return l.action===t&&l.collection===e&&l.role===((u=(o=n.currentUser)==null?void 0:o.role)==null?void 0:u.id)})||null},hasPermission(e,t){var l,o;return((o=(l=Ze().currentUser)==null?void 0:l.role)==null?void 0:o.admin_access)===!0?!0:!!this.getPermissionsForUser(e,t)}}}),Br={bookmark:null,role:null,user:null,search:null,filter:null,layout:null,layout_query:null,layout_options:null,refresh_interval:null},qr={directus_files:{collection:"directus_files",layout:"cards",layout_query:{cards:{sort:["-uploaded_on"]}},layout_options:{cards:{icon:"insert_drive_file",title:"{{ title }}",subtitle:"{{ type }} \u2022 {{ filesize }}",size:4,imageFit:"crop"}}},directus_users:{collection:"directus_users",layout:"cards",layout_query:{cards:{sort:["email"]}},layout_options:{cards:{icon:"account_circle",title:"{{ first_name }} {{ last_name }}",subtitle:"{{ email }}",size:4}}},directus_activity:{collection:"directus_activity",layout:"tabular",layout_query:{tabular:{sort:["-timestamp"],fields:["action","collection","timestamp","user"]}},layout_options:{tabular:{widths:{action:100,collection:210,timestamp:240,user:240}}}},directus_roles:{collection:"directus_roles",layout:"tabular",layout_query:{tabular:{fields:["icon","name","description"]}},layout_options:{tabular:{widths:{icon:36,name:248,description:500}}}},directus_webhooks:{collection:"directus_webhooks",layout:"tabular",layout_query:{tabular:{fields:["status","method","name","collections","actions"]}},layout_options:{tabular:{widths:{status:32,method:100,name:210,collections:240,actions:210}}}}},zr={},kn=Tt({id:"presetsStore",state:()=>({collectionPresets:[]}),getters:{bookmarks(){return this.collectionPresets.filter(e=>e.bookmark!==null)}},actions:{async hydrate(){const e=Ze();if(!e.currentUser||"share"in e.currentUser)return;const{id:t,role:n}=e.currentUser,o=(await Promise.all([re.get("/presets",{params:{"filter[user][_eq]":t,limit:-1}}),re.get("/presets",{params:{"filter[role][_eq]":n.id,"filter[user][_null]":!0,limit:-1}}),re.get("/presets",{params:{"filter[role][_null]":!0,"filter[user][_null]":!0,limit:-1}})])).map(u=>u.data.data).flat();for(const u of Object.keys(qr))o.find(r=>r.collection===u&&!r.user&&!r.role&&!r.bookmark)||o.push(U.exports.merge({},Br,qr[u]));this.collectionPresets=o},async dehydrate(){this.$reset()},async create(e){const t=await re.post("/presets",e);return this.collectionPresets.push(t.data.data),t.data.data},async update(e,t){const n=yt();zr[e]=n;const l=await re.patch(`/presets/${e}`,t);return zr[e]===n&&(this.collectionPresets=this.collectionPresets.map(o=>{const u=l.data.data;return o.id===u.id?u:o})),l.data.data},async delete(e){await re.delete("/presets",{data:e}),this.collectionPresets=this.collectionPresets.filter(t=>!e.includes(t.id))},getPresetForCollection(e){const t=Ze();if(t.currentUser===null)return null;const{id:n,role:l}=t.currentUser,o=Ve(pe({},Br),{collection:e,user:n}),u=this.collectionPresets.filter(p=>{const f=p.user===n||p.user===null,_=p.role===l.id||p.role===null,y=p.collection===e;return p.bookmark?!1:!!(f&&y||_&&y)});if(u.length===0)return o;if(u.length===1)return u[0];const a=u.find(p=>p.user===n);if(a)return a;const r=u.find(p=>p.role===l.id);return r||u[u.length-1]},getBookmark(e){return this.collectionPresets.find(t=>t.id===e)||null},async savePreset(e){const t=Ze();if(t.currentUser===null)return null;const{id:n}=t.currentUser;if(e=U.exports.cloneDeep(e),e.id===void 0||e.id===null)return await this.create(Ve(pe({},e),{user:n}));if(e.user!==n)return"id"in e&&delete e.id,await this.create(Ve(pe({},e),{user:n}));{const l=e.id;return delete e.id,await this.update(l,e)}},saveLocal(e){this.collectionPresets=this.collectionPresets.map(t=>t.id===e.id?pe({},e):t)},async clearLocalSave(e){const t=await re.get(`/presets/${e.id}`);this.collectionPresets=this.collectionPresets.map(n=>n.id===t.data.data.id?t.data.data:n)}}}),ul=Tt({id:"requestsStore",state:()=>({queue:[]}),getters:{queueHasItems(){return this.queue.length>0}},actions:{startRequest(){const e=yt();return this.queue=[...this.queue,e],setTimeout(()=>this.endRequest(e),3500),e},endRequest(e){this.queue=this.queue.filter(t=>t!==e)}}}),Sn=Tt({id:"serverStore",state:()=>({info:null}),actions:{async hydrate(){const e=await re.get("/server/info",{params:{limit:-1}});this.info=e.data.data},dehydrate(){this.$reset()}}}),Nl=Tt({id:"settingsStore",state:()=>({settings:null}),actions:{async hydrate(){const e=Ze();if(!e.currentUser||"share"in e.currentUser)return;const t=await re.get("/settings");this.settings=t.data.data},async dehydrate(){this.$reset()},async updateSettings(e){const t=pe({},this.settings),n=U.exports.merge({},this.settings,e);this.settings=n;try{const l=await re.patch("/settings",e);this.settings=l.data.data,st({title:ze.global.t("settings_update_success"),type:"success"})}catch(l){this.settings=t,Se(l)}}}});var qL=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",useAppStore:bt,useCollectionsStore:Ke,useFieldsStore:Le,useInsightsStore:qn,useLatencyStore:Wo,useNotificationsStore:dl,usePermissionsStore:Lt,usePresetsStore:kn,useRelationsStore:pt,useRequestsStore:ul,useServerStore:Sn,useSettingsStore:Nl,useUserStore:Ze});function zL(){Kt(eu,qL),Kt(tu,re),Kt(nu,{interfaces:cn().interfaces,displays:Sl().displays,layouts:An().layouts,modules:Cl().modules,panels:Jn().panels})}const KL=(e,t)=>`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">
	<style>
		circle {
			fill: ${e};
		}
	</style>

	<circle cx="100" cy="100" r="100"/>

	${t?"":'<path d="M143.122 109.533c-.663-.167-1.216-.334-1.715-.557a3.945 3.945 0 01-1.216-.836c.332-2.952 0-5.514.276-8.411 1.106-11.253 8.132-7.688 14.439-9.526 3.928-1.114 7.855-3.398 8.851-8.078-4.315-5.069-9.128-9.526-14.383-13.314-17.094-12.255-39.444-17.157-59.747-13.76a30.762 30.762 0 0013.428 12.535s-5.502 0-10.218-3.548c-1.383.558-4.15 1.654-5.478 2.322 10.788 10.417 27.66 11.587 39.776 2.228-.055.112-1.107 1.727-2.379 8.468-2.821 14.372-10.954 13.258-21.022 9.637-20.911-7.631-32.418-.557-42.873-15.04a9.73 9.73 0 00-4.924 8.467c0 3.621 1.992 6.685 4.868 8.356 1.57-2.098 2.275-2.695 5.014-2.695-4.239 2.42-4.737 4.533-6.563 10.382-2.213 7.075-1.272 14.317-11.617 16.211-5.477.279-5.366 4.011-7.358 9.582-2.489 7.242-5.808 10.139-12.281 16.99 2.655 3.231 5.421 3.621 8.243 2.451 5.808-2.45 10.29-10.027 14.494-14.929 4.702-5.46 15.988-3.12 24.507-8.467 5.864-3.622 8.74-8.524 4.868-16.824 2.49 2.785 3.983 6.295 4.204 10.027 9.848-1.28 23.014 10.807 35.019 12.813-1.217-1.56-2.213-3.231-2.932-4.958-1.383-3.342-1.826-6.406-1.55-9.08 1.107 6.629 7.746 15.152 18.423 15.932 2.71.223 5.697-.112 8.795-1.058 3.707-1.115 7.137-2.563 11.23-1.783 3.043.557 5.864 2.117 7.635 4.735 2.655 3.9 8.464 4.735 11.064-.056-5.864-15.43-22.018-16.433-28.878-18.216z" fill="#FFF"/>'}
</svg>`;function HL(e="#00C897",t=!1){const n=KL(e,t),l=document.createElement("div");if(l.innerHTML=n.trim(),l.firstChild){const o=new XMLSerializer().serializeToString(l.firstChild),u="data:image/svg+xml;base64,"+window.btoa(o),a=document.querySelector("link[rel*='icon']")||document.createElement("link");a.type="image/x-icon",a.rel="icon",a.href=u,document.getElementsByTagName("head")[0].appendChild(a)}}const WL=z({setup(){const{t:e}=J(),t=bt(),n=Ze(),l=Sn(),{hydrating:o}=Me(t),u=F(()=>{var s,p;return{"--brand":((p=(s=l.info)==null?void 0:s.project)==null?void 0:p.project_color)||"var(--primary)"}});it(()=>PL()),At(()=>OL()),ye([()=>{var s,p;return(p=(s=l.info)==null?void 0:s.project)==null?void 0:p.project_color},()=>{var s,p;return(p=(s=l.info)==null?void 0:s.project)==null?void 0:p.project_logo}],()=>{var p,f,_,y;const s=!!((f=(p=l.info)==null?void 0:p.project)==null?void 0:f.project_logo);HL(((y=(_=l.info)==null?void 0:_.project)==null?void 0:y.project_color)||"#00C897",s)}),ye(()=>n.currentUser,s=>{var p;document.body.classList.remove("dark"),document.body.classList.remove("light"),document.body.classList.remove("auto"),s!=null&&s.theme?(document.body.classList.add(s.theme),(p=document.querySelector('head meta[name="theme-color"]'))==null||p.setAttribute("content",s.theme==="light"?"#ffffff":"#263238")):document.body.classList.add("light")}),ye(()=>{var s,p;return(p=(s=l.info)==null?void 0:s.project)==null?void 0:p.project_name},s=>{document.title=s||"Directus"});const a=F(()=>{var s,p;return((p=(s=l.info)==null?void 0:s.project)==null?void 0:p.custom_css)||""}),r=F(()=>t.error);return zL(),{t:e,hydrating:o,brandStyle:u,error:r,customCSS:a}}}),GL={key:0,class:"hydrating"};function ZL(e,t,n,l,o,u){const a=c("v-progress-circular"),r=c("v-error"),s=c("v-info"),p=c("router-view");return m(),I("div",{id:"directus",style:Ue(e.brandStyle)},[i(Ot,{name:"fade"},{default:d(()=>[e.hydrating?(m(),I("div",GL,[i(a,{indeterminate:""})])):R("",!0)]),_:1}),e.error?(m(),C(s,{key:0,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:d(()=>[i(r,{error:e.error},null,8,["error"])]),default:d(()=>[T(b(e.t("unexpected_error_copy"))+" ",1)]),_:1},8,["title"])):e.hydrating?R("",!0):(m(),C(p,{key:1})),(m(),C(xl,{to:"#custom-css"},[T(b(e.customCSS),1)]))],4)}var JL=q(WL,[["render",ZL],["__scopeId","data-v-d66a0348"]]);const QL=z({components:{ValueNull:tn},props:{display:{type:String,default:null},options:{type:Object,default:()=>({})},interface:{type:String,default:null},interfaceOptions:{type:Object,default:null},value:{type:[String,Number,Object,Array,Boolean],default:null},type:{type:String,required:!0},collection:{type:String,required:!0},field:{type:String,required:!0}},setup(e){return{displayInfo:F(()=>Zn(e.display))}}});function XL(e,t,n,l,o,u){const a=c("value-null"),r=c("v-text-overflow");return e.value===null||e.value===void 0?(m(),C(a,{key:0})):e.displayInfo===null?(m(),C(r,{key:1,class:"display",text:e.value},null,8,["text"])):(m(),C(qe(`display-${e.display}`),mt({key:2},e.options,{interface:e.interface,"interface-options":e.interfaceOptions,value:e.value,type:e.type,collection:e.collection,field:e.field}),null,16,["interface","interface-options","value","type","collection","field"]))}var YL=q(QL,[["render",XL],["__scopeId","data-v-3c1719c8"]]);const xL={alias:"raw",bigInteger:"formatted-value",binary:"raw",boolean:"boolean",date:"datetime",dateTime:"datetime",decimal:"formatted-value",float:"formatted-value",integer:"formatted-value",json:"raw",string:"formatted-value",text:"formatted-value",time:"datetime",timestamp:"datetime",uuid:"formatted-value",unknown:"raw",csv:"labels",hash:"formatted-value",geometry:"raw","geometry.Point":"raw","geometry.LineString":"raw","geometry.Polygon":"raw","geometry.MultiPoint":"raw","geometry.MultiLineString":"raw","geometry.MultiPolygon":"raw"};function Kr(e){return xL[e]||"raw"}const eP=z({components:{ValueNull:tn},props:{collection:{type:String,default:null},fields:{type:Array,default:null},item:{type:Object,default:null},template:{type:String,required:!0}},setup(e){const t=Le(),n=E(),l=/({{.*?}})/g;return{parts:F(()=>e.template.split(l).filter(u=>u).map(u=>{var _,y,v,h,w,g,k;if(u.startsWith("{{")===!1)return u;let a=u.replace(/{{/g,"").replace(/}}/g,"").trim();const r=t.getField(e.collection,a)||((_=e.fields)==null?void 0:_.find(A=>A.field===a));r&&r.collection==="directus_files"&&r.field==="$thumbnail"&&(a=a.split(".").filter(A=>A!=="$thumbnail").join("."));const s=U.exports.get(e.item,a);return s===void 0?null:!r||(((y=r==null?void 0:r.meta)==null?void 0:y.display)||Kr(r.type))==="raw"||!Zn((v=r.meta)==null?void 0:v.display)?s:{component:(h=r.meta)==null?void 0:h.display,options:(w=r.meta)==null?void 0:w.display_options,value:s,interface:(g=r.meta)==null?void 0:g.interface,interfaceOptions:(k=r.meta)==null?void 0:k.options,type:r.type,collection:r.collection,field:r.field}}).map(u=>u!=null?u:null)),templateEl:n,translate:Ia}}}),tP=e=>(He("data-v-c51c776c"),e=e(),We(),e),nP={ref:"templateEl",class:"render-template"},lP=tP(()=>S("span",{class:"vertical-aligner"},null,-1)),oP={key:2},aP={key:3};function iP(e,t,n,l,o,u){const a=c("value-null");return m(),I("div",nP,[lP,(m(!0),I(x,null,$e(e.parts,(r,s)=>(m(),I(x,{key:s},[r===null||typeof r=="object"&&r.value===null?(m(),C(a,{key:0})):typeof r=="object"&&r.component?(m(),C(qe(`display-${r.component}`),mt({key:1},r.options,{value:r.value,interface:r.interface,"interface-options":r.interfaceOptions,type:r.type,collection:r.collection,field:r.field}),null,16,["value","interface","interface-options","type","collection","field"])):typeof r=="string"?(m(),I("span",oP,b(e.translate(r)),1)):(m(),I("span",aP,b(r),1))],64))),128))],512)}var rP=q(eP,[["render",iP],["__scopeId","data-v-c51c776c"]]);function Cn(e){var p;const t=ct((e==null?void 0:e.group)||"item-group",null);if(Oa(t))return{active:E(!1),toggle:()=>{},activate:()=>{},deactivate:()=>{}};const{register:n,unregister:l,toggle:o,selection:u}=t;let a=!1;((p=e==null?void 0:e.active)==null?void 0:p.value)===!0&&(a=!0),(e==null?void 0:e.value)&&u.value.includes(e.value)&&(a=!0);const r=E(a),s={active:r,value:e==null?void 0:e.value};return n(s),(e==null?void 0:e.active)!==void 0&&e.watch===!0&&ye(e.active,()=>{e.active!==void 0&&(e.active.value===!0&&(r.value===!1&&o(s),r.value=!0),e.active.value===!1&&(r.value===!0&&o(s),r.value=!1))}),yl(()=>l(s)),{active:r,toggle:()=>{o(s)},activate:()=>{r.value===!1&&o(s)},deactivate:()=>{r.value===!0&&o(s)}}}function Go(e={},t={},n="item-group"){const l=Rt([]),o=E([]),u=F({get(){return qt(e.selection)&&qt(e.selection.value)?e.selection.value:o.value},set(v){qt(e.onSelectionChange)&&e.onSelectionChange(v),o.value=[...v]}});return Kt(n,{register:a,unregister:r,toggle:s,selection:u}),ye(u,y,{immediate:!0}),gl().then(y),ye(()=>{var v;return(v=t==null?void 0:t.mandatory)==null?void 0:v.value},(v,h)=>{var w;U.exports.isEqual(v,h)||(!u.value||u.value.length===0&&((w=t==null?void 0:t.mandatory)==null?void 0:w.value)===!0)&&(u.value=[_(l.value[0])])}),{items:l,selection:u,internalSelection:o,getValueForItem:_,updateChildren:y};function a(v){var w;l.value=[...l.value,v];const h=_(v);u.value.length===0&&((w=t==null?void 0:t.mandatory)==null?void 0:w.value)===!0&&l.value.length===1&&(u.value=[h]),v.active.value&&u.value.includes(h)===!1&&s(v)}function r(v){l.value=l.value.filter(h=>h!==v)}function s(v){var h;((h=t==null?void 0:t.multiple)==null?void 0:h.value)===!0?f(v):p(v),qt(e.onToggle)&&e.onToggle(v)}function p(v){var w;const h=_(v);if(u.value[0]===h&&((w=t==null?void 0:t.mandatory)==null?void 0:w.value)!==!0){u.value=[];return}u.value[0]!==h&&(u.value=[h])}function f(v){var w,g;const h=_(v);if(u.value.includes(h)){if(((w=t==null?void 0:t.mandatory)==null?void 0:w.value)===!0&&u.value.length===1){y();return}u.value=u.value.filter(k=>k!==h);return}if(((g=t==null?void 0:t.max)==null?void 0:g.value)&&t.max.value!==-1&&u.value.length>=t.max.value){y();return}u.value=[...u.value,h]}function _(v){return v.value||l.value.findIndex(h=>v===h)}function y(){l.value.forEach(v=>{v.active.value=u.value.includes(_(v))})}}const sP=z({props:{icon:{type:String,required:!0},title:{type:String,required:!0},badge:{type:[Boolean,String,Number],default:null},close:{type:Boolean,default:!1}},setup(e){const{active:t,toggle:n}=Cn({value:e.title,group:"sidebar-detail"}),l=bt(),{sidebarOpen:o}=Me(l);return{active:t,toggle:n,sidebarOpen:o}}}),dP={class:"icon"},uP={key:0,class:"icon"},cP={class:"content"};function pP(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-badge"),s=c("transition-expand"),p=ke("tooltip");return m(),I("div",{class:ae(["sidebar-detail",{open:e.sidebarOpen}])},[Q(S("button",{class:ae(["toggle",{open:e.active}]),onClick:t[0]||(t[0]=(...f)=>e.toggle&&e.toggle(...f))},[S("div",dP,[i(r,{dot:e.badge===!0,bordered:"",value:e.badge,disabled:!e.badge},{default:d(()=>[i(a,{name:e.icon,outline:""},null,8,["name"])]),_:1},8,["dot","value","disabled"])]),Q(S("div",{class:"title"},b(e.title),513),[[Pt,e.sidebarOpen]]),e.close?R("",!0):(m(),I("div",uP,[i(a,{class:"expand-icon",name:e.active?"expand_less":"expand_more",outline:""},null,8,["name"])]))],2),[[p,e.title,void 0,{left:!0}]]),e.close?Q((m(),I("div",{key:0,class:"close",onClick:t[1]||(t[1]=f=>e.sidebarOpen=!1)},[i(a,{name:"close"})],512)),[[Pt,e.sidebarOpen]]):R("",!0),i(s,{class:"scroll-container"},{default:d(()=>[Q(S("div",null,[S("div",cP,[be(e.$slots,"default",{},void 0,!0)])],512),[[Pt,e.active]])]),_:3})],2)}var mP=q(sP,[["render",pP],["__scopeId","data-v-11e1b90b"]]);const fP=z({props:{user:{type:String,required:!0}},setup(e){const{t}=J(),n=Xe(),l=E(!1),o=E(null),u=E(null),a=F(()=>{var f;return u.value===null?null:((f=u.value.avatar)==null?void 0:f.id)?ut(`${Ge()}assets/${u.value.avatar.id}?key=system-medium-cover`):null}),r=E(!1);return ye(r,()=>{r.value===!0&&u.value===null&&l.value===!1&&s()}),At(()=>{l.value=!1,o.value=null,u.value=null}),{t,loading:l,error:o,data:u,active:r,avatarSrc:a,userName:wt,navigateToUser:p};async function s(){l.value=!0,o.value=null;try{const f=await re.get(`/users/${e.user}`,{params:{fields:["id","first_name","last_name","avatar.id","role.name","status","email"]}});u.value=f.data.data}catch(f){o.value=f}finally{l.value=!1}}function p(){u.value&&n.push(`/users/${u.value.id}`)}}}),_P={key:0,class:"loading"},vP={key:1,class:"error"},yP=["src","alt"],hP={class:"data"},gP={class:"name type-title"},bP={class:"email"};function wP(e,t,n,l,o,u){const a=c("v-skeleton-loader"),r=c("v-icon"),s=c("v-avatar"),p=c("v-menu");return m(),C(p,{modelValue:e.active,"onUpdate:modelValue":t[1]||(t[1]=f=>e.active=f),"show-arrow":"",placement:"top",trigger:"hover",delay:300},{activator:d(()=>[be(e.$slots,"default",{},void 0,!0)]),default:d(()=>[e.loading?(m(),I("div",_P,[i(a,{class:"avatar"}),S("div",null,[i(a,{type:"text"}),i(a,{type:"text"}),i(a,{type:"text"})])])):e.error?(m(),I("div",vP,b(e.error),1)):e.data?(m(),I("div",{key:2,class:"user-box",onClick:t[0]||(t[0]=Ae((...f)=>e.navigateToUser&&e.navigateToUser(...f),["stop"]))},[i(s,{"x-large":"",class:"avatar"},{default:d(()=>[e.avatarSrc?(m(),I("img",{key:0,src:e.avatarSrc,alt:e.data.first_name},null,8,yP)):(m(),C(r,{key:1,name:"person",outline:""}))]),_:1}),S("div",hP,[S("div",gP,b(e.userName(e.data)),1),S("div",{class:ae(["status-role",e.data.status])},b(e.t(e.data.status))+" "+b(e.data.role.name),3),S("div",bP,b(e.data.email),1)])])):R("",!0)]),_:3},8,["modelValue"])}var $P=q(fP,[["render",wP],["__scopeId","data-v-71abbf85"]]);const kP=z({props:{frontmatter:{type:Object,required:!0}},emits:["update:title","update:modularExtension"],setup(e,{emit:t}){const n=Ht(),l=ct("main-element"),o=F(()=>{var u;return(u=e.frontmatter)==null?void 0:u.pageClass});return ye(()=>e.frontmatter,()=>{t("update:title",e.frontmatter.title),t("update:modularExtension",e.frontmatter.modularExtension)},{immediate:!0}),it(()=>{if(n.hash&&(l==null?void 0:l.value)){const u=document.querySelector(n.hash);u&&l.value.scrollTo({top:u.offsetTop-100})}}),{pageClass:o}}});function SP(e,t,n,l,o,u){return m(),I("div",{class:ae(["md",e.pageClass])},[be(e.$slots,"default",{},void 0,!0)],2)}var CP=q(kP,[["render",SP],["__scopeId","data-v-2e43f355"]]);const VP={};function FP(e,t){return m(),C(ma,mt({name:"bounce",tag:"div"},e.$attrs),{default:d(()=>[be(e.$slots,"default")]),_:3},16)}var AP=q(VP,[["render",FP]]);const IP={};function EP(e,t){return m(),C(Ot,{name:"dialog"},{default:d(()=>[be(e.$slots,"default")]),_:3})}var DP=q(IP,[["render",EP]]);function TP(e="",t=!1,n){const l=t?"width":"height",o=`offset${ho(l)}`;return{beforeEnter(a){n("beforeEnter"),a._parent=a.parentNode,a._initialStyle={transition:a.style.transition,visibility:a.style.visibility,overflow:a.style.overflow,[l]:a.style[l]}},enter(a){n("enter");const r=a._initialStyle;if(!r)return;const s=`${a[o]}px`;a.style.setProperty("transition","none","important"),a.style.visibility="hidden",a.style.visibility=r.visibility,a.style.overflow="hidden",a.style[l]="0",a.offsetHeight,a.style.transition=r.transition!==""?r.transition:`${l} var(--medium) var(--transition)`,e&&a._parent&&a._parent.classList.add(e),requestAnimationFrame(()=>{a.style[l]=s})},afterEnter(a){n("afterEnter"),u(a)},enterCancelled(a){n("enterCancelled"),u(a)},leave(a){n("leave"),a._initialStyle={transition:"",visibility:"",overflow:a.style.overflow,[l]:a.style[l]},a.style.overflow="hidden",a.style[l]=`${a[o]}px`,a.offsetHeight,requestAnimationFrame(()=>a.style[l]="0")},afterLeave(a){n("afterLeave"),e&&a._parent&&a._parent.classList.remove(e),u(a)},leaveCancelled(a){n("leaveCancelled"),e&&a._parent&&a._parent.classList.remove(e),u(a)}};function u(a){if(!a._initialStyle)return;const r=a._initialStyle[l];a.style.overflow=a._initialStyle.overflow,r!=null&&(a.style[l]=r),delete a._initialStyle}}const LP=z({props:{xAxis:{type:Boolean,default:!1},expandedParentClass:{type:String,default:""}},emits:["beforeEnter","enter","afterEnter","enterCancelled","leave","afterLeave","leaveCancelled"],setup(e,{emit:t}){return{methods:TP(e.expandedParentClass,e.xAxis,t)}}});function PP(e,t,n,l,o,u){return m(),C(Ot,mt({name:"expand-transition",mode:"in-out"},eo(e.methods)),{default:d(()=>[be(e.$slots,"default")]),_:3},16)}var OP=q(LP,[["render",PP]]);const cl={xSmall:{type:Boolean,default:!1},small:{type:Boolean,default:!1},large:{type:Boolean,default:!1},xLarge:{type:Boolean,default:!1}};function pl(e){return F(()=>e.xSmall?"x-small":e.small?"small":e.large?"large":e.xLarge?"x-large":null)}const RP=z({props:pe({size:{type:Number,default:null},tile:{type:Boolean,default:!1}},cl),setup(e){return{sizeClass:pl(e)}}});function jP(e,t,n,l,o,u){return m(),I("div",{class:ae(["v-avatar",[{tile:e.tile},e.sizeClass]])},[be(e.$slots,"default")],2)}var MP=q(RP,[["render",jP],["__scopeId","data-v-fee7284a"]]);const UP=z({props:{value:{type:[Boolean,String,Number],default:null},dot:{type:Boolean,default:!1},left:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},icon:{type:String,default:null},bordered:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}}}),NP={key:1};function BP(e,t,n,l,o,u){const a=c("v-icon");return m(),I("div",{class:ae(["v-badge",{dot:e.dot,bordered:e.bordered}])},[e.disabled?R("",!0):(m(),I("span",{key:0,class:ae(["badge",{dot:e.dot,bordered:e.bordered,left:e.left,bottom:e.bottom}])},[e.icon?(m(),C(a,{key:0,name:e.icon,color:e.color,"x-small":""},null,8,["name","color"])):(m(),I("span",NP,b(e.value),1))],2)),be(e.$slots,"default",{},void 0,!0)],2)}var qP=q(UP,[["render",BP],["__scopeId","data-v-5d3df5d4"]]);const zP=z({props:{items:{type:Array,default:()=>[]}},setup(){return{}}}),KP={class:"v-breadcrumb"},HP={key:2,class:"section-link"};function WP(e,t,n,l,o,u){const a=c("v-icon"),r=c("router-link");return m(),I("span",KP,[(m(!0),I(x,null,$e(e.items,(s,p)=>(m(),I("span",{key:s.name,class:ae(["section",{disabled:s.disabled}])},[p>0?(m(),C(a,{key:0,name:"chevron_right",small:""})):R("",!0),s.disabled?(m(),I("span",HP,[s.icon?(m(),C(a,{key:0,name:s.icon},null,8,["name"])):R("",!0),T(" "+b(s.name),1)])):(m(),C(r,{key:1,to:s.to,class:"section-link"},{default:d(()=>[s.icon?(m(),C(a,{key:0,name:s.icon,small:""},null,8,["name"])):R("",!0),T(" "+b(s.name),1)]),_:2},1032,["to"]))],2))),128))])}var GP=q(zP,[["render",WP],["__scopeId","data-v-884352f6"]]);const ZP=z({props:pe({autofocus:{type:Boolean,default:!1},kind:{type:String,default:"normal"},fullWidth:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},icon:{type:Boolean,default:!1},type:{type:String,default:"button"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},to:{type:[String,Object],default:""},href:{type:String,default:void 0},active:{type:Boolean,default:void 0},exact:{type:Boolean,default:!1},query:{type:Boolean,default:!1},secondary:{type:Boolean,default:!1},warning:{type:Boolean,default:!1},danger:{type:Boolean,default:!1},value:{type:[Number,String],default:void 0},dashed:{type:Boolean,default:!1},tile:{type:Boolean,default:!1},align:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},download:{type:String,default:void 0}},cl),emits:["click"],setup(e,{emit:t}){const n=Ht(),{route:l,isActive:o,isExactActive:u}=fa(e),a=pl(e),r=F(()=>e.disabled?"button":qt(e.href)?"a":e.to?"router-link":"button"),{active:s,toggle:p}=Cn({value:e.value,group:"item-group"}),f=F(()=>{if(e.active!==void 0)return e.active;if(e.to){const y=!e.query||U.exports.isEqual(n.query,l.value.query);return e.exact?u.value&&y||s.value:o.value&&y||s.value}return!1});return{sizeClass:a,onClick:_,component:r,isActiveRoute:f,toggle:p};function _(y){e.loading!==!0&&(p(),t("click",y))}}}),JP={class:"spinner"};function QP(e,t,n,l,o,u){const a=c("v-progress-circular"),r=ke("focus");return m(),I("div",{class:ae(["v-button",{secondary:e.secondary,warning:e.warning,danger:e.danger,"full-width":e.fullWidth}])},[be(e.$slots,"prepend-outer",{},void 0,!0),Q((m(),C(qe(e.component),{download:e.download,class:ae(["button",[e.sizeClass,`align-${e.align}`,{active:e.isActiveRoute,rounded:e.rounded,icon:e.icon,outlined:e.outlined,loading:e.loading,dashed:e.dashed,tile:e.tile,"full-width":e.fullWidth},e.kind]]),type:e.type,disabled:e.disabled,to:e.to!==""?e.to:void 0,href:e.href,target:e.component==="a"?"_blank":void 0,rel:e.component==="a"?"noopener noreferrer":void 0,onClick:e.onClick},{default:d(()=>[S("span",{class:ae(["content",{invisible:e.loading}])},[be(e.$slots,"default",Je(et({active:e.active,toggle:e.toggle})),void 0,!0)],2),S("div",JP,[e.loading?be(e.$slots,"loading",{key:0},()=>[i(a,{"x-small":e.xSmall,small:e.small,indeterminate:""},null,8,["x-small","small"])],!0):R("",!0)])]),_:3},8,["download","class","type","disabled","to","href","target","rel","onClick"])),[[r,e.autofocus]]),be(e.$slots,"append-outer",{},void 0,!0)],2)}var XP=q(ZP,[["render",QP],["__scopeId","data-v-55816638"]]);const YP={},xP={class:"v-card-actions"};function e9(e,t){return m(),I("div",xP,[be(e.$slots,"default")])}var t9=q(YP,[["render",e9],["__scopeId","data-v-1c0af2d8"]]);const n9={},l9={class:"v-card-subtitle"};function o9(e,t){return m(),I("div",l9,[be(e.$slots,"default",{},void 0,!0)])}var a9=q(n9,[["render",o9],["__scopeId","data-v-61d074a0"]]);const i9={},r9={class:"v-card-text"};function s9(e,t){return m(),I("div",r9,[be(e.$slots,"default",{},void 0,!0)])}var d9=q(i9,[["render",s9],["__scopeId","data-v-641303f3"]]);const u9={},c9={class:"v-card-title type-label"};function p9(e,t){return m(),I("div",c9,[be(e.$slots,"default",{},void 0,!0)])}var m9=q(u9,[["render",p9],["__scopeId","data-v-4ef4d67b"]]);const f9=z({props:{disabled:{type:Boolean,default:!1},tile:{type:Boolean,default:!1}},setup(){return{}}});function _9(e,t,n,l,o,u){return m(),I("div",{class:ae(["v-card",{disabled:e.disabled,tile:e.tile}])},[be(e.$slots,"default",{},void 0,!0)],2)}var v9=q(f9,[["render",_9],["__scopeId","data-v-7bf2718c"]]);const y9=z({props:{value:{type:String,default:null},modelValue:{type:[Boolean,Array],default:null},label:{type:String,default:null},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},iconOn:{type:String,default:"check_box"},iconOff:{type:String,default:"check_box_outline_blank"},iconIndeterminate:{type:String,default:"indeterminate_check_box"},block:{type:Boolean,default:!1},customValue:{type:Boolean,default:!1},checked:{type:Boolean,default:null}},emits:["update:indeterminate","update:modelValue","update:value"],setup(e,{emit:t}){const n=je(e,"value",t),l=F(()=>e.checked!==null?e.checked:e.modelValue instanceof Array?e.modelValue.includes(e.value):e.modelValue===!0),o=F(()=>e.indeterminate===!0||e.checked===null&&e.modelValue===null?e.iconIndeterminate:l.value?e.iconOn:e.iconOff);return{isChecked:l,toggleInput:u,icon:o,internalValue:n};function u(){if(e.indeterminate===!0&&t("update:indeterminate",!1),e.modelValue instanceof Array){const a=[...e.modelValue];e.modelValue.includes(e.value)===!1?a.push(e.value):a.splice(a.indexOf(e.value),1),t("update:modelValue",a)}else t("update:modelValue",!e.modelValue)}}}),h9={key:0,class:"prepend"},g9={class:"label type-text"},b9={key:1,class:"append"};function w9(e,t,n,l,o,u){const a=c("v-icon");return m(),C(qe(e.customValue?"div":"button"),{class:ae(["v-checkbox",{checked:e.isChecked,indeterminate:e.indeterminate,block:e.block}]),type:"button",role:"checkbox","aria-pressed":e.isChecked?"true":"false",disabled:e.disabled,onClick:Ae(e.toggleInput,["stop"])},{default:d(()=>[e.$slots.prepend?(m(),I("div",h9,[be(e.$slots,"prepend",{},void 0,!0)])):R("",!0),i(a,{class:"checkbox",name:e.icon,disabled:e.disabled},null,8,["name","disabled"]),S("span",g9,[e.customValue===!1?be(e.$slots,"default",{key:0},()=>[T(b(e.label),1)],!0):Q((m(),I("input",{key:1,"onUpdate:modelValue":t[0]||(t[0]=r=>e.internalValue=r),class:"custom-input"},null,512)),[[to,e.internalValue]])]),e.$slots.append?(m(),I("div",b9,[be(e.$slots,"append",{},void 0,!0)])):R("",!0)]),_:3},8,["aria-pressed","disabled","class","onClick"])}var $9=q(y9,[["render",w9],["__scopeId","data-v-03762a5f"]]);const k9=z({name:"VCheckboxTreeCheckbox",props:{text:{type:String,required:!0},value:{type:[String,Number],required:!0},children:{type:Array,default:null},modelValue:{type:Array,default:()=>[]},valueCombining:{type:String,required:!0},checked:{type:Boolean,default:null},search:{type:String,default:null},hidden:{type:Boolean,default:!1},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},itemChildren:{type:String,default:"children"},disabled:{type:Boolean,default:!1},showSelectionOnly:{type:Boolean,default:!1},parentValue:{type:[String,Number],default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const n=F(()=>{let k=e.children||[];return e.search&&(k=k.filter(D=>D[e.itemText].toLowerCase().includes(e.search.toLowerCase())||A(D[e.itemChildren]))),e.showSelectionOnly&&(k=k.filter(D=>e.modelValue.includes(D[e.itemValue])||V(D[e.itemChildren])||e.modelValue.includes(e.parentValue)||e.modelValue.includes(e.value))),k.map(D=>D[e.itemValue]);function A(D){return D?D.some(P=>P[e.itemText].toLowerCase().includes(e.search.toLowerCase())||A(P[e.itemChildren])):!1}function V(D){return D?D.some(P=>e.modelValue.includes(P[e.itemValue])||V(P[e.itemChildren])):!1}}),l=F(()=>e.showSelectionOnly===!0&&e.modelValue.includes(e.value)?!0:n.value.length>0),o=F(()=>e.showSelectionOnly===!0?n.value.length>0:typeof e.search=="string"&&e.search.length>0),u=F(()=>{var k;return((k=e.children)==null?void 0:k.map(A=>A[e.itemValue]))||[]}),a=F({get(){return e.modelValue||[]},set(k){const A=U.exports.difference(k,e.modelValue),V=U.exports.difference(e.modelValue,k);if(e.children)switch(e.valueCombining){case"all":return f(k,{added:A,removed:V});case"branch":return _(k,{added:A,removed:V});case"leaf":return y(k,{added:A,removed:V});case"indeterminate":return v(k,{added:A,removed:V});case"exclusive":return h(k,{added:A,removed:V});default:return w(k)}w(k)}}),r=F(()=>e.checked!==null?e.checked:e.valueCombining==="all"?null:e.valueCombining==="leaf"?g("leaf").every(A=>e.modelValue.includes(A)):null),s=F(()=>{const k=g("all");if(e.valueCombining==="all"||e.valueCombining==="branch")return k.some(A=>e.modelValue.includes(A))&&e.modelValue.includes(e.value)===!1;if(e.valueCombining==="indeterminate")return k.some(A=>e.modelValue.includes(A))&&k.every(A=>e.modelValue.includes(A))===!1;if(e.valueCombining==="leaf"){const A=g("leaf");return A.some(V=>e.modelValue.includes(V))&&A.every(V=>e.modelValue.includes(V))===!1}return e.valueCombining==="exclusive"?k.some(A=>e.modelValue.includes(A)):null}),p=F(()=>e.checked!==null?e.checked:e.valueCombining==="all"?null:e.valueCombining==="branch"&&e.modelValue.includes(e.value)?!0:null);return{groupCheckedStateOverride:r,childrenCheckedStateOverride:p,treeValue:a,groupIndeterminateState:s,visibleChildrenValues:n,groupShown:l,groupOpen:o};function f(k,{added:A,removed:V}){const D=g("all");if((A==null?void 0:A[0])===e.value){const L=[...k.filter(B=>B!==e.value&&u.value.includes(B)===!1),...D,e.value];return w(L)}if((V==null?void 0:V[0])===e.value){const L=k.filter(B=>B!==e.value&&D.includes(B)===!1);return w(L)}if(u.value.every(L=>k.includes(L))){const L=[...k.filter(B=>B!==e.value&&D.includes(B)===!1),...D,e.value];return w(L)}const P=k.filter(L=>L!==e.value);return w(P)}function _(k,{added:A,removed:V}){var P;const D=g("all");if((e.modelValue.includes(e.value)||e.checked===!0)&&A&&A.length===1&&u.value.includes(A[0])){const L=[...k.filter(B=>B!==e.value&&B!==A[0]),...u.value.filter(B=>B!==A[0])];return w(L)}if(e.modelValue.includes(e.value)&&D.some(L=>k.includes(L))){const L=e.children.find(O=>{const M=g("all",O[e.itemChildren]);return k.some(N=>M.includes(N))===!0}),B=[...k.filter(O=>O!==e.value),...(e.children||[]).filter(O=>O[e.itemChildren]?O[e.itemValue]!==(L==null?void 0:L[e.itemValue]):!0).map(O=>O[e.itemValue]),...((P=L==null?void 0:L[e.itemChildren])!=null?P:[]).filter(O=>{const M=g("all",O[e.itemChildren]);return k.some(N=>M.includes(N))===!1}).map(O=>O[e.itemValue])];return w(B)}if(A==null?void 0:A.includes(e.value)){const L=[...k.filter(B=>B!==e.value&&D.includes(B)===!1),e.value];return w(L)}if(V==null?void 0:V.includes(e.value)){const L=k.filter(B=>B!==e.value&&D.includes(B)===!1);return w(L)}if(u.value.every(L=>k.includes(L))){const L=[...k.filter(B=>B!==e.value&&D.includes(B)===!1),e.value];return w(L)}return w(k)}function y(k,{added:A}){const V=g("all"),D=g("leaf");if(A==null?void 0:A.includes(e.value))if(D.every(P=>k.includes(P))){const P=k.filter(L=>L!==e.value&&V.includes(L)===!1);return w(P)}else{const P=[...k.filter(L=>L!==e.value&&V.includes(L)===!1),...D];return w(P)}return w(k)}function v(k,{added:A,removed:V}){const D=g("all");if((A==null?void 0:A[0])===e.value){const P=[...k.filter(L=>L!==e.value&&u.value.includes(L)===!1),...D,e.value];return w(P)}if((V==null?void 0:V[0])===e.value){const P=k.filter(L=>L!==e.value&&D.includes(L)===!1);return w(P)}if(u.value.some(P=>k.includes(P))){const P=[...k.filter(L=>L!==e.value),e.value];return w(P)}return u.value.every(P=>k.includes(P)===!1)?w(k.filter(P=>P!==e.value)):w(k)}function h(k,{added:A}){const V=g("all");if((A==null?void 0:A[0])===e.value){const D=[...k.filter(P=>P!==e.value&&V.includes(P)===!1),e.value];return w(D)}if(V.some(D=>k.includes(D))){const D=[...k.filter(P=>P!==e.value)];return w(D)}return w(k)}function w(k){t("update:modelValue",k)}function g(k,A=e.children){const V=[];return D(A),V;function D(P){if(!!P)for(const L of P)k==="all"&&V.push(L[e.itemValue]),k==="branch"&&L[e.itemChildren]&&V.push(L[e.itemValue]),k==="leaf"&&!L[e.itemChildren]&&V.push(L[e.itemValue]),L[e.itemChildren]&&D(L[e.itemChildren])}}}});function S9(e,t,n,l,o,u){const a=c("v-highlight"),r=c("v-checkbox"),s=c("v-checkbox-tree-checkbox",!0),p=c("v-list-group"),f=c("v-list-item");return e.children?Q((m(),C(p,{key:0,value:e.value,open:e.groupOpen,"arrow-placement":"before"},{activator:d(()=>[i(r,{modelValue:e.treeValue,"onUpdate:modelValue":t[0]||(t[0]=_=>e.treeValue=_),indeterminate:e.groupIndeterminateState,checked:e.groupCheckedStateOverride,label:e.text,value:e.value,disabled:e.disabled},{default:d(()=>[i(a,{text:e.text,query:e.search},null,8,["text","query"])]),_:1},8,["modelValue","indeterminate","checked","label","value","disabled"])]),default:d(()=>[(m(!0),I(x,null,$e(e.children,_=>(m(),C(s,{key:_[e.itemValue],modelValue:e.treeValue,"onUpdate:modelValue":t[1]||(t[1]=y=>e.treeValue=y),"value-combining":e.valueCombining,checked:e.childrenCheckedStateOverride,hidden:e.visibleChildrenValues.includes(_[e.itemValue])===!1,search:e.search,"item-text":e.itemText,"item-value":e.itemValue,"item-children":e.itemChildren,text:_[e.itemText],value:_[e.itemValue],children:_[e.itemChildren],disabled:e.disabled,"show-selection-only":e.showSelectionOnly,"parent-value":e.value},null,8,["modelValue","value-combining","checked","hidden","search","item-text","item-value","item-children","text","value","children","disabled","show-selection-only","parent-value"]))),128))]),_:1},8,["value","open"])),[[Pt,e.groupShown]]):e.children?R("",!0):Q((m(),C(f,{key:1,class:"item"},{default:d(()=>[i(r,{modelValue:e.treeValue,"onUpdate:modelValue":t[2]||(t[2]=_=>e.treeValue=_),disabled:e.disabled,checked:e.checked,label:e.text,value:e.value},{default:d(()=>[i(a,{text:e.text,query:e.search},null,8,["text","query"])]),_:1},8,["modelValue","disabled","checked","label","value"])]),_:1},512)),[[Pt,!e.hidden]])}var C9=q(k9,[["render",S9],["__scopeId","data-v-57134db0"]]);const V9=z({name:"VCheckboxTree",components:{VCheckboxTreeCheckbox:C9},props:{choices:{type:Array,default:()=>[]},modelValue:{type:Array,default:null},valueCombining:{type:String,default:"all"},search:{type:String,default:null},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},itemChildren:{type:String,default:"children"},disabled:{type:Boolean,default:!1},showSelectionOnly:{type:Boolean,default:!1}},emits:["update:modelValue","group-toggle"],setup(e,{emit:t}){const n=F({get(){return e.modelValue||[]},set(o){t("update:modelValue",o)}}),l=E([]);return{value:n,openSelection:l}}});function F9(e,t,n,l,o,u){const a=c("v-checkbox-tree-checkbox"),r=c("v-list");return m(),C(r,{modelValue:e.openSelection,"onUpdate:modelValue":t[1]||(t[1]=s=>e.openSelection=s),mandatory:!1,onToggle:t[2]||(t[2]=s=>e.$emit("group-toggle",s))},{default:d(()=>[(m(!0),I(x,null,$e(e.choices,s=>(m(),C(a,{key:s[e.itemValue],modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=p=>e.value=p),"value-combining":e.valueCombining,search:e.search,"item-text":e.itemText,"item-value":e.itemValue,"item-children":e.itemChildren,text:s[e.itemText],value:s[e.itemValue],children:s[e.itemChildren],disabled:e.disabled,"show-selection-only":e.showSelectionOnly},null,8,["modelValue","value-combining","search","item-text","item-value","item-children","text","value","children","disabled","show-selection-only"]))),128))]),_:1},8,["modelValue"])}var A9=q(V9,[["render",F9]]);const I9=z({props:pe({active:{type:Boolean,default:null},close:{type:Boolean,default:!1},closeIcon:{type:String,default:"close"},outlined:{type:Boolean,default:!1},label:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},cl),emits:["update:active","click","close"],setup(e,{emit:t}){const n=E(!0),l=F({get:()=>e.active!==null?e.active:n.value,set:r=>{t("update:active",r),n.value=r}});return{sizeClass:pl(e),internalActive:l,onClick:u,onCloseClick:a};function u(r){e.disabled||t("click",r)}function a(r){e.disabled||(l.value=!l.value,t("close",r))}}}),E9={class:"chip-content"};function D9(e,t,n,l,o,u){const a=c("v-icon");return e.internalActive?(m(),I("span",{key:0,class:ae(["v-chip",[e.sizeClass,{outlined:e.outlined,label:e.label,disabled:e.disabled,close:e.close}]]),onClick:t[1]||(t[1]=(...r)=>e.onClick&&e.onClick(...r))},[S("span",E9,[be(e.$slots,"default",{},void 0,!0),e.close?(m(),I("span",{key:0,class:ae(["close-outline",{disabled:e.disabled}]),onClick:t[0]||(t[0]=Ae((...r)=>e.onCloseClick&&e.onCloseClick(...r),["stop"]))},[i(a,{class:"close",name:e.closeIcon,"x-small":""},null,8,["name"])],2)):R("",!0)])],2)):R("",!0)}var T9=q(I9,[["render",D9],["__scopeId","data-v-d55b27c0"]]);const L9=z({props:{modelValue:{type:Boolean,default:void 0},label:{type:String,default:ze.global.t("toggle")},startOpen:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=E(e.startOpen),l=F({get(){return e.modelValue!==void 0?e.modelValue:n.value},set(r){n.value=r,t("update:modelValue",r)}});return{internalActive:l,enable:o,disable:u,toggle:a};function o(){l.value=!0}function u(){l.value=!1}function a(){l.value=!l.value}}}),P9={key:0};function O9(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-divider"),s=c("transition-expand");return m(),I("div",{class:ae(["v-detail",{disabled:e.disabled}])},[be(e.$slots,"activator",Je(et({active:e.internalActive,enable:e.enable,disable:e.disable,toggle:e.toggle})),()=>[i(r,{onClick:t[0]||(t[0]=p=>e.internalActive=!e.internalActive)},{default:d(()=>[e.disabled?R("",!0):(m(),C(a,{key:0,name:e.internalActive?"expand_more":"chevron_right",small:""},null,8,["name"])),be(e.$slots,"title",{},()=>[T(b(e.label),1)],!0)]),_:3})],!0),i(s,null,{default:d(()=>[e.internalActive?(m(),I("div",P9,[be(e.$slots,"default",{},void 0,!0)])):R("",!0)]),_:3})],2)}var R9=q(L9,[["render",O9],["__scopeId","data-v-e0ddb8ec"]]);const j9=z({props:{modelValue:{type:Boolean,default:void 0},persistent:{type:Boolean,default:!1},placement:{type:String,default:"center",validator:e=>["center","right"].includes(e)}},emits:["esc","update:modelValue"],setup(e,{emit:t}){nt("escape",(p,f)=>{u.value&&(t("esc"),f())});const n=E(!1),l=E(null),o=F(()=>yt()),u=F({get(){return e.modelValue!==void 0?e.modelValue:n.value},set(p){n.value=p,t("update:modelValue",p)}}),a=ok();return{emitToggle:r,className:l,nudge:s,leave:a,id:o,internalActive:u};function r(){e.persistent===!1?t("update:modelValue",!e.modelValue):s()}function s(){l.value="nudge",setTimeout(()=>{l.value=null},200)}}}),M9={class:"v-dialog"};function U9(e,t,n,l,o,u){const a=c("v-overlay"),r=c("transition-dialog");return m(),I("div",M9,[be(e.$slots,"activator",Je(et({on:()=>e.internalActive=!0}))),(m(),C(xl,{to:"#dialog-outlet"},[i(r,{onAfterLeave:e.leave},{default:d(()=>[e.internalActive?(m(),C(qe(e.placement==="right"?"div":"span"),{key:0,class:ae(["container",[e.className,e.placement]])},{default:d(()=>[i(a,{active:"",absolute:"",onClick:e.emitToggle},null,8,["onClick"]),be(e.$slots,"default")]),_:3},8,["class"])):R("",!0)]),_:3},8,["onAfterLeave"])]))])}var N9=q(j9,[["render",U9],["__scopeId","data-v-02af2763"]]);const B9=z({props:{vertical:{type:Boolean,default:!1},inlineTitle:{type:Boolean,default:!0},large:{type:Boolean,default:!1}}}),q9={key:0,class:"wrapper"},z9={key:0,class:"type-text"},K9=["aria-orientation"];function H9(e,t,n,l,o,u){return m(),I("div",{class:ae(["v-divider",{vertical:e.vertical,inlineTitle:e.inlineTitle,large:e.large}])},[e.$slots.icon||e.$slots.default?(m(),I("span",q9,[be(e.$slots,"icon",{class:"icon"}),!e.vertical&&e.$slots.default?(m(),I("span",z9,[be(e.$slots,"default")])):R("",!0)])):R("",!0),S("hr",{role:"separator","aria-orientation":e.vertical?"vertical":"horizontal"},null,8,K9)],2)}var W9=q(B9,[["render",H9],["__scopeId","data-v-70aa2cf8"]]);const G9=z({props:{showSidebarToggle:{type:Boolean,default:!1}},emits:["toggle:sidebar"],setup(){return{active:E(!1)}}}),Z9={class:"action-buttons"};function J9(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-button");return m(),I("div",{class:ae(["actions",{active:e.active}])},[i(r,{class:"expand",icon:"",rounded:"",secondary:"",outlined:"",onClick:t[0]||(t[0]=s=>e.active=!e.active)},{default:d(()=>[i(a,{name:"arrow_left"})]),_:1}),S("div",Z9,[e.showSidebarToggle?(m(),C(r,{key:0,class:"sidebar-toggle",icon:"",rounded:"",secondary:"",outlined:"",onClick:t[1]||(t[1]=s=>e.$emit("toggle:sidebar"))},{default:d(()=>[i(a,{name:"info",outline:""})]),_:1})):R("",!0),be(e.$slots,"default",{},void 0,!0)])],2)}var Q9=q(G9,[["render",J9],["__scopeId","data-v-352239c0"]]);const X9=z({components:{HeaderBarActions:Q9},props:{title:{type:String,default:null},showSidebarToggle:{type:Boolean,default:!1},primaryActionIcon:{type:String,default:"menu"},small:{type:Boolean,default:!1}},emits:["primary","toggle:sidebar"],setup(){const e=E(),t=E(!1),n=new IntersectionObserver(([l])=>{t.value=l.boundingClientRect.y===-1},{threshold:[1]});return it(()=>{n.observe(e.value)}),At(()=>{n.disconnect()}),{headerEl:e,collapsed:t}}}),Y9=e=>(He("data-v-c54480fe"),e=e(),We(),e),x9={key:0,class:"title-outer-prepend"},eO={class:"headline"},tO={class:"title"},nO={class:"type-title"},lO=Y9(()=>S("div",{class:"spacer"},null,-1));function oO(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-button"),s=c("header-bar-actions");return m(),I("header",{ref:"headerEl",class:ae(["header-bar",{collapsed:e.collapsed,small:e.small}])},[i(r,{secondary:"",class:"nav-toggle",icon:"",rounded:"",onClick:t[0]||(t[0]=p=>e.$emit("primary"))},{default:d(()=>[i(a,{name:e.primaryActionIcon},null,8,["name"])]),_:1}),e.$slots["title-outer:prepend"]?(m(),I("div",x9,[be(e.$slots,"title-outer:prepend",{},void 0,!0)])):R("",!0),S("div",{class:ae(["title-container",{full:!e.$slots["title-outer:append"]}])},[S("div",eO,[be(e.$slots,"headline",{},void 0,!0)]),S("div",tO,[be(e.$slots,"title",{},()=>[be(e.$slots,"title:prepend",{},void 0,!0),S("h1",nO,b(e.title),1),be(e.$slots,"title:append",{},void 0,!0)],!0)]),be(e.$slots,"title-outer:append",{},void 0,!0)],2),lO,be(e.$slots,"actions:prepend",{},void 0,!0),i(s,{"show-sidebar-toggle":e.showSidebarToggle,"onToggle:sidebar":t[1]||(t[1]=p=>e.$emit("toggle:sidebar"))},{default:d(()=>[be(e.$slots,"actions",{},void 0,!0)]),_:3},8,["show-sidebar-toggle"]),be(e.$slots,"actions:append",{},void 0,!0)],2)}var aO=q(X9,[["render",oO],["__scopeId","data-v-c54480fe"]]);const iO=z({components:{HeaderBar:aO},props:{title:{type:String,required:!0},subtitle:{type:String,default:null},modelValue:{type:Boolean,default:void 0},persistent:{type:Boolean,default:!1},icon:{type:String,default:"box"},sidebarLabel:{type:String,default:ze.global.t("sidebar")},cancelable:{type:Boolean,default:!0}},emits:["cancel","update:modelValue"],setup(e,{emit:t}){const{t:n}=J(),l=E(!1),o=E();Kt("main-element",o);const u=F({get(){return e.modelValue===void 0?l.value:e.modelValue},set(a){l.value=a,t("update:modelValue",a)}});return{t:n,internalActive:u,mainEl:o}}}),rO={class:"v-drawer"},sO={class:"content"},dO={key:1,class:"sidebar"},uO={ref:"mainEl",class:"main"},cO={key:0,class:"subtitle"};function pO(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-button"),s=c("v-overlay"),p=c("header-bar"),f=c("v-detail"),_=c("v-dialog"),y=ke("tooltip");return m(),C(_,{modelValue:e.internalActive,"onUpdate:modelValue":t[3]||(t[3]=v=>e.internalActive=v),persistent:e.persistent,placement:"right",onEsc:t[4]||(t[4]=v=>e.$emit("cancel"))},{activator:d(({on:v})=>[be(e.$slots,"activator",Je(et({on:v})),void 0,!0)]),default:d(()=>[S("article",rO,[e.cancelable?Q((m(),C(r,{key:0,class:"cancel",icon:"",rounded:"",secondary:"",onClick:t[0]||(t[0]=v=>e.$emit("cancel"))},{default:d(()=>[i(a,{name:"close"})]),_:1},512)),[[y,e.t("cancel"),void 0,{bottom:!0}]]):R("",!0),S("div",sO,[e.$slots.sidebar?(m(),C(s,{key:0,absolute:"",onClick:t[1]||(t[1]=v=>e.sidebarActive=!1)})):R("",!0),e.$slots.sidebar?(m(),I("nav",dO,[be(e.$slots,"sidebar",{},void 0,!0)])):R("",!0),S("main",uO,[i(p,{title:e.title,"primary-action-icon":"close",onPrimary:t[2]||(t[2]=v=>e.$emit("cancel"))},{title:d(()=>[be(e.$slots,"title",{},void 0,!0)]),headline:d(()=>[be(e.$slots,"subtitle",{},()=>[e.subtitle?(m(),I("p",cO,b(e.subtitle),1)):R("",!0)],!0)]),"title-outer:prepend":d(()=>[be(e.$slots,"title-outer:prepend",{},()=>[i(r,{class:"header-icon",rounded:"",icon:"",secondary:"",disabled:""},{default:d(()=>[i(a,{name:e.icon},null,8,["name"])]),_:1})],!0)]),"actions:prepend":d(()=>[be(e.$slots,"actions:prepend",{},void 0,!0)]),actions:d(()=>[be(e.$slots,"actions",{},void 0,!0)]),"title:append":d(()=>[be(e.$slots,"header:append",{},void 0,!0)]),_:3},8,["title"]),e.$slots.sidebar?(m(),C(f,{key:0,class:"mobile-sidebar",label:e.sidebarLabel},{default:d(()=>[S("nav",null,[be(e.$slots,"sidebar",{},void 0,!0)])]),_:3},8,["label"])):R("",!0),be(e.$slots,"default",{},void 0,!0)],512)])])]),_:3},8,["modelValue","persistent"])}var mO=q(iO,[["render",pO],["__scopeId","data-v-4ea29c7f"]]);const fO=z({props:{error:{type:[Object,Error],required:!0}},setup(e){const{t}=J(),n=F(()=>{var r,s,p,f,_,y,v,h;return((y=(_=(f=(p=(s=(r=e.error)==null?void 0:r.response)==null?void 0:s.data)==null?void 0:p.errors)==null?void 0:f[0])==null?void 0:_.extensions)==null?void 0:y.code)||((h=(v=e.error)==null?void 0:v.extensions)==null?void 0:h.code)||"UNKNOWN"}),l=F(()=>{var s,p,f,_,y,v;let r=((y=(_=(f=(p=(s=e.error)==null?void 0:s.response)==null?void 0:p.data)==null?void 0:f.errors)==null?void 0:_[0])==null?void 0:y.message)||((v=e.error)==null?void 0:v.message);return r.length>200&&(r=r.substring(0,197)+"..."),r}),o=E(!1),u=F(()=>{var r;return!!((r=navigator.clipboard)==null?void 0:r.writeText)});return{t,code:n,copyError:a,showCopy:u,copied:o,message:l};async function a(){var s,p;const r=((p=(s=e.error)==null?void 0:s.response)==null?void 0:p.data)||e.error;await navigator.clipboard.writeText(JSON.stringify(r,U.exports.isPlainObject(r)?null:Object.getOwnPropertyNames(r),2)),o.value=!0}}}),_O={class:"v-error selectable"};function vO(e,t,n,l,o,u){const a=c("v-icon"),r=ke("tooltip");return m(),I("div",_O,[S("output",null,"["+b(e.code)+"] "+b(e.message),1),e.showCopy?Q((m(),C(a,{key:0,small:"",class:"copy-error",name:e.copied?"check":"content_copy",clickable:"",onClick:e.copyError},null,8,["name","onClick"])),[[r,e.t("copy_details")]]):R("",!0)])}var yO=q(fO,[["render",vO],["__scopeId","data-v-7ea421c6"]]);const hO=z({props:{items:{type:Array,required:!0},modelValue:{type:[String,Number],default:null},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=F(()=>e.modelValue===null?e.items:e.items.filter(o=>o.value===e.modelValue));return{toggle:l,visibleItems:n};function l(o){e.disabled!==!0&&(e.modelValue===o.value?t("update:modelValue",null):t("update:modelValue",o.value))}}}),gO={class:"v-fancy-select"},bO=["onClick"],wO={class:"icon"},$O={class:"content"},kO={class:"text"},SO={class:"description"};function CO(e,t,n,l,o,u){const a=c("v-divider"),r=c("v-icon");return m(),I("div",gO,[i(ma,{tag:"div",name:"option"},{default:d(()=>[(m(!0),I(x,null,$e(e.visibleItems,(s,p)=>(m(),I(x,{key:p},[s.divider===!0?(m(),C(a,{key:0})):(m(),I("div",{key:1,class:ae(["v-fancy-select-option",{active:s.value===e.modelValue,disabled:e.disabled}]),style:Ue({"--index":p}),onClick:f=>e.toggle(s)},[S("div",wO,[i(r,{name:s.icon},null,8,["name"])]),S("div",$O,[S("div",kO,b(s.text),1),S("div",SO,b(s.description),1)]),e.modelValue===s.value&&e.disabled===!1?(m(),C(r,{key:0,name:"cancel",onClick:Ae(f=>e.toggle(s),["stop"])},null,8,["onClick"])):s.iconRight?(m(),C(r,{key:1,class:"icon-right",name:s.iconRight},null,8,["name"])):R("",!0)],14,bO))],64))),128))]),_:1})])}var VO=q(hO,[["render",CO],["__scopeId","data-v-70a5597b"]]);const FO=z({name:"FieldListItem",props:{field:{type:Object,required:!0},depth:{type:Number,default:void 0}},emits:["add"],setup(){return{formatTitle:Dt}}});function AO(e,t,n,l,o,u){const a=c("v-list-item-content"),r=c("v-list-item"),s=c("field-list-item",!0),p=c("v-list-group");return e.field.children===void 0||e.depth===0?(m(),C(r,{key:0,disabled:e.field.disabled,clickable:"",onClick:t[0]||(t[0]=f=>e.$emit("add",e.field.key))},{default:d(()=>[i(a,null,{default:d(()=>[T(b(e.field.name||e.formatTitle(e.field.field)),1)]),_:1})]),_:1},8,["disabled"])):(m(),C(p,{key:1,value:e.field.key,clickable:"",onClick:t[2]||(t[2]=f=>e.$emit("add",e.field.key))},{activator:d(()=>[T(b(e.field.name||e.formatTitle(e.field.field)),1)]),default:d(()=>[(m(!0),I(x,null,$e(e.field.children,f=>(m(),C(s,{key:f.key,field:f,depth:e.depth-1,onAdd:t[1]||(t[1]=_=>e.$emit("add",_))},null,8,["field","depth"]))),128))]),_:1},8,["value"]))}var Hr=q(FO,[["render",AO]]);function ml(e,t,n=()=>!0){const l=Le(),o=pt(),u=E([]),a=E(new Set);return ye(()=>e.value,r,{immediate:!0}),{treeList:u,loadFieldRelations:v};function r(h){var w;a.value=new Set,u.value=(w=s(h))!=null?w:[];for(const g of u.value)g.children=s(g.relatedCollection,g)}function s(h,w){var A;const g=(A=t==null?void 0:t.value)==null?void 0:A.fields.filter(V=>V.collection===h),k=l.getFieldsForCollectionSorted(h).concat(g||[]).filter(V=>{var D,P,L,B,O,M;return((P=(D=V.meta)==null?void 0:D.special)==null?void 0:P.includes("group"))||!((B=(L=V.meta)==null?void 0:L.special)==null?void 0:B.includes("alias"))&&!((M=(O=V.meta)==null?void 0:O.special)==null?void 0:M.includes("no-data"))}).filter(n).flatMap(V=>p(V,w));return k.length?k:void 0}function p(h,w){const g=f(h),k=w?w.key+".":"";return g.length<=1?{name:h.name,field:h.field,collection:h.collection,relatedCollection:g[0],key:k+h.field}:g.map(A=>({name:`${h.name} (${A})`,field:`${h.field}:${A}`,collection:h.collection,relatedCollection:A,key:k+`${h.field}:${A}`}))}function f(h){const w=_(h);if(!(w==null?void 0:w.meta))return[];switch(lu({relation:w,collection:h.collection,field:h.field})){case"o2m":return[w.meta.many_collection];case"m2o":return[w.meta.one_collection];case"m2a":return w.meta.one_allowed_collections;default:return[]}}function _(h){var g;return[...o.getRelationsForField(h.collection,h.field),...((g=t==null?void 0:t.value)==null?void 0:g.relations)||[]].find(k=>{var A;return k.collection===h.collection&&k.field===h.field||k.related_collection===h.collection&&((A=k.meta)==null?void 0:A.one_field)===h.field})}function y([h,...w],g){for(const k of g||[])if(k.field===h)return w.length?y(w,k.children):k}function v(h){if(!a.value.has(h)){a.value.add(h);const w=y(h.split("."),u.value);for(const g of(w==null?void 0:w.children)||[])g.children=s(g.relatedCollection,g)}}}const IO=z({components:{FieldListItem:Hr,Draggable:It},props:{disabled:{type:Boolean,default:!1},modelValue:{type:Array,default:null},collection:{type:String,required:!0},depth:{type:Number,default:void 0},inject:{type:Object,default:()=>({fields:[],collections:[],relations:[]})}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:n}=J(),l=E(!1),{collection:o,inject:u}=Me(e),{info:a}=ot(o),{treeList:r,loadFieldRelations:s}=ml(o,u),p=F({get(){return e.modelValue||[]},set(g){t("update:modelValue",g)}}),f=F({get(){return p.value.map(g=>{var k;return{field:g,name:(k=y(r.value,g.split(".")))==null?void 0:k.name}})},set(g){p.value=g.map(k=>k.field)}}),_=F(()=>v(r.value));return{t:n,menuActive:l,addField:w,removeField:h,availableFields:_,selectedFields:f,hideDragImage:zt,treeList:r,loadFieldRelations:s,collectionInfo:a};function y(g,k){if(g===void 0)return;const A=g.find(V=>V.field===k[0]);if(A!==void 0)return k.length===1?A:y(A.children,k.slice(1))}function v(g,k=""){if(g===void 0)return;const A=g.map(V=>({name:V.name,field:V.field,key:V.key,disabled:p.value.includes(k+V.field),children:v(V.children,k+V.field+".")}));return A.length===0?void 0:A}function h(g){p.value=p.value.filter(k=>k!==g)}function w(g){const k=p.value;k.push(g),p.value=[...new Set(k)]}}});function EO(e,t,n,l,o,u){const a=c("v-notice"),r=c("v-chip"),s=c("v-icon"),p=c("v-button"),f=c("field-list-item"),_=c("v-list"),y=c("v-menu"),v=c("draggable"),h=ke("tooltip");return!e.availableFields||e.availableFields.length===0?(m(),C(a,{key:0},{default:d(()=>[T(b(e.t("no_fields_in_collection",{collection:e.collectionInfo&&e.collectionInfo.name||e.collection})),1)]),_:1})):(m(),C(v,{key:1,modelValue:e.selectedFields,"onUpdate:modelValue":t[2]||(t[2]=w=>e.selectedFields=w),"force-fallback":!0,"item-key":"field",draggable:".draggable","set-data":e.hideDragImage,class:"v-field-select"},{item:d(({element:w})=>[Q(i(r,{clickable:"",class:"field draggable",onClick:g=>e.removeField(w.field)},{default:d(()=>[T(b(w.name),1)]),_:2},1032,["onClick"]),[[h,w.field]])]),footer:d(()=>[i(y,{modelValue:e.menuActive,"onUpdate:modelValue":t[1]||(t[1]=w=>e.menuActive=w),"show-arrow":"",class:"add",placement:"bottom"},{activator:d(({toggle:w})=>[i(p,{small:"",onClick:w},{default:d(()=>[T(b(e.t("add_field"))+" ",1),i(s,{small:"",name:"add"})]),_:2},1032,["onClick"])]),default:d(()=>[i(_,{mandatory:!1,onToggle:t[0]||(t[0]=w=>e.loadFieldRelations(w.value))},{default:d(()=>[(m(!0),I(x,null,$e(e.availableFields,w=>(m(),C(f,{key:w.key,field:w,depth:e.depth,onAdd:e.addField},null,8,["field","depth","onAdd"]))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue","set-data"]))}var DO=q(IO,[["render",EO],["__scopeId","data-v-21e81fb0"]]);const TO=z({components:{FieldListItem:Hr},props:{disabled:{type:Boolean,default:!1},modelValue:{type:String,default:null},nullable:{type:Boolean,default:!0},collection:{type:String,default:null},depth:{type:Number,default:void 0},placeholder:{type:String,default:null},inject:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const n=E(null),l=E(!1),{collection:o,inject:u}=Me(e),{treeList:a,loadFieldRelations:r}=ml(o,u);return ye(()=>e.modelValue,k,{immediate:!0}),it(()=>{n.value&&(n.value.addEventListener("selectstart",_),k())}),At(()=>{n.value&&n.value.removeEventListener("selectstart",_)}),{menuActive:l,treeList:a,addField:y,onInput:s,contentEl:n,onClick:p,loadFieldRelations:r,onKeyDown:f};function s(){if(!n.value)return;const A=g();t("update:modelValue",A)}function p(A){var B;const V=A.target;if(V.tagName.toLowerCase()!=="button")return;const D=V.dataset.field;t("update:modelValue",e.modelValue.replace(`{{${D}}}`,""));const P=V.previousElementSibling,L=V.nextElementSibling;!P||!L||!(P instanceof HTMLElement)||!(L instanceof HTMLElement)||(V.remove(),h(P,L),(B=window.getSelection())==null||B.removeAllRanges(),s())}function f(A){var V;(A.key==="{"||A.key==="}")&&(A.preventDefault(),l.value=!0),((V=n.value)==null?void 0:V.innerHTML)===""&&(n.value.innerHTML='<span class="text"></span>')}function _(){var P;if(!n.value)return;const A=window.getSelection();if(!A||A.rangeCount<=0)return;const V=A.getRangeAt(0);if(!V)return;const D=V.startContainer;if(!(D instanceof HTMLElement&&D.classList.contains("text"))&&!((P=D.parentElement)==null?void 0:P.classList.contains("text"))){A.removeAllRanges();const L=new Range;let B=null;for(let O=0;O<n.value.childNodes.length||!B;O++){const M=n.value.children[O];M.classList.contains("text")&&(B=M)}B||(B=document.createElement("span"),B.classList.add("text"),n.value.appendChild(B)),L.setStart(B,0),A.addRange(L)}}function y(A){var B,O,M,N;if(!n.value)return;const V=v(a.value,A.split("."));if(!V)return;const D=document.createElement("button");if(D.dataset.field=A,D.setAttribute("contenteditable","false"),D.innerText=String(V.name),((B=window.getSelection())==null?void 0:B.rangeCount)==0){const K=document.createRange();K.selectNodeContents(n.value.children[0]),(O=window.getSelection())==null||O.addRange(K)}const P=(M=window.getSelection())==null?void 0:M.getRangeAt(0);if(!P)return;P.deleteContents();const L=w();if(L)n.value.insertBefore(D,L),(N=window.getSelection())==null||N.removeAllRanges();else{n.value.appendChild(D);const K=document.createElement("span");K.classList.add("text"),n.value.appendChild(K)}s()}function v(A,V){if(A===void 0)return;const D=A.find(P=>P.field===V[0]);if(D!==void 0)return V.length===1?D:v(D.children,V.slice(1))}function h(A,V){A.innerText+=V.innerText,V.remove()}function w(){var M,N,K,G;const A=(M=window.getSelection())==null?void 0:M.getRangeAt(0);if(!A)return;const V=A.startContainer;if(V.nodeType!==Node.TEXT_NODE)return;const D=V.parentElement;if(!D||!(D instanceof HTMLSpanElement)||!D.classList.contains("text"))return;const P=A.startOffset,L=((N=D.textContent)==null?void 0:N.substr(0,P))||"",B=((K=D.textContent)==null?void 0:K.substr(P))||"";D.innerText=L;const O=document.createElement("span");return O.classList.add("text"),O.innerText=B,(G=n.value)==null||G.insertBefore(O,D.nextSibling),O}function g(){if(!n.value)return null;const A=Array.from(n.value.childNodes).reduce((V,D)=>{const P=D,L=P.tagName;return L&&L.toLowerCase()==="button"?V+=`{{${P.dataset.field}}}`:"textContent"in P?V+=P.textContent:V+=""},"");return e.nullable===!0&&A===""?null:A}function k(){if(!!n.value){if(e.modelValue===null||e.modelValue===""){n.value.innerHTML='<span class="text"></span>';return}if(e.modelValue!==g()){const A=/({{.*?}})/g,V=e.modelValue.split(A).map(D=>{if(D.startsWith("{{")===!1)return`<span class="text">${D}</span>`;const P=D.replace(/({|})/g,"").trim(),L=P.split(".");for(let O=0;O<L.length;O++)r(L.slice(0,O).join("."));const B=v(a.value,L);return B?`<button contenteditable="false" data-field="${P}" ${e.disabled?"disabled":""}>${B.name}</button>`:""}).join("");n.value.innerHTML=V}}}}}),LO=e=>(He("data-v-4b6d5b31"),e=e(),We(),e),PO=["contenteditable"],OO=LO(()=>S("span",{class:"text"},null,-1)),RO=[OO],jO={key:0,class:"placeholder"};function MO(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-input"),s=c("field-list-item"),p=c("v-list"),f=c("v-menu");return m(),C(f,{modelValue:e.menuActive,"onUpdate:modelValue":t[4]||(t[4]=_=>e.menuActive=_),attached:""},{activator:d(({toggle:_})=>[i(r,{disabled:e.disabled},{input:d(()=>[S("span",{ref:"contentEl",class:"content",contenteditable:!e.disabled,onKeydown:t[0]||(t[0]=(...y)=>e.onKeyDown&&e.onKeyDown(...y)),onInput:t[1]||(t[1]=(...y)=>e.onInput&&e.onInput(...y)),onClick:t[2]||(t[2]=(...y)=>e.onClick&&e.onClick(...y))},RO,40,PO),e.placeholder&&!e.modelValue?(m(),I("span",jO,b(e.placeholder),1)):R("",!0)]),append:d(()=>[i(a,{name:"add_box",outline:"",clickable:"",disabled:e.disabled,onClick:_},null,8,["disabled","onClick"])]),_:2},1032,["disabled"])]),default:d(()=>[e.disabled?R("",!0):(m(),C(p,{key:0,mandatory:!1,onToggle:t[3]||(t[3]=_=>e.loadFieldRelations(_.value))},{default:d(()=>[(m(!0),I(x,null,$e(e.treeList,_=>(m(),C(s,{key:_.field,field:_,depth:e.depth,onAdd:e.addField},null,8,["field","depth","onAdd"]))),128))]),_:1}))]),_:1},8,["modelValue"])}var UO=q(TO,[["render",MO],["__scopeId","data-v-4b6d5b31"]]);const NO=z({props:{batchMode:{type:Boolean,default:!1},batchActive:{type:Boolean,default:!1},field:{type:Object,required:!0},disabled:{type:Boolean,default:!1},toggle:{type:Function,required:!0},active:{type:Boolean,default:!1},edited:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},badge:{type:String,default:null},loading:{type:Boolean,default:!1}},emits:["toggle-batch"],setup(){const{t:e}=J();return{t:e}}});function BO(e,t,n,l,o,u){var f;const a=c("v-checkbox"),r=c("v-icon"),s=c("v-chip"),p=ke("tooltip");return m(),I("div",{class:ae(["label type-label",{disabled:e.disabled,edited:e.edited&&!e.batchMode&&!e.hasError&&!e.loading}])},[e.batchMode?(m(),C(a,{key:0,"model-value":e.batchActive,value:e.field.field,"onUpdate:modelValue":t[0]||(t[0]=_=>e.$emit("toggle-batch",e.field))},null,8,["model-value","value"])):R("",!0),Q(S("span",{class:"field-name",onClick:t[1]||(t[1]=(..._)=>e.toggle&&e.toggle(..._))},[T(b(e.field.name)+" ",1),((f=e.field.meta)==null?void 0:f.required)===!0?(m(),C(r,{key:0,class:"required",sup:"",name:"star"})):R("",!0),e.disabled?R("",!0):(m(),C(r,{key:1,class:ae(["ctx-arrow",{active:e.active}]),name:"arrow_drop_down"},null,8,["class"]))],512),[[p,e.edited?e.t("edited"):null]]),e.badge?(m(),C(s,{key:1,"x-small":""},{default:d(()=>[T(b(e.badge),1)]),_:1})):R("",!0)],2)}var qO=q(NO,[["render",BO],["__scopeId","data-v-792c5ca7"]]);const zO=z({props:{field:{type:Object,required:!0},modelValue:{type:[String,Number,Object,Array,Boolean],default:null},initialValue:{type:[String,Number,Object,Array,Boolean],default:null},restricted:{type:Boolean,default:!1}},emits:["update:modelValue","unset","edit-raw","copy-raw","paste-raw"],setup(e){const{t}=J(),n=F(()=>{var u,a;const o=(a=(u=e.field)==null?void 0:u.schema)==null?void 0:a.default_value;return o!==void 0?o:null}),l=F(()=>{var o,u;return((u=(o=e.field)==null?void 0:o.schema)==null?void 0:u.is_nullable)===!1});return{t,defaultValue:n,isRequired:l}}});function KO(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-list-item-icon"),s=c("v-list-item-content"),p=c("v-list-item"),f=c("v-divider"),_=c("v-list");return m(),C(_,null,{default:d(()=>[i(p,{clickable:"",onClick:t[0]||(t[0]=y=>e.$emit("edit-raw"))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"code"})]),_:1}),i(s,null,{default:d(()=>[T(b(e.restricted?e.t("view_raw_value"):e.t("edit_raw_value")),1)]),_:1})]),_:1}),i(p,{disabled:e.modelValue===null,clickable:"",onClick:t[1]||(t[1]=y=>e.$emit("copy-raw"))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"copy_outline"})]),_:1}),i(s,null,{default:d(()=>[T(b(e.t("copy_raw_value")),1)]),_:1})]),_:1},8,["disabled"]),e.restricted?R("",!0):(m(),C(p,{key:0,clickable:"",onClick:t[2]||(t[2]=y=>e.$emit("paste-raw"))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"paste_outline"})]),_:1}),i(s,null,{default:d(()=>[T(b(e.t("paste_raw_value")),1)]),_:1})]),_:1})),e.restricted?R("",!0):(m(),C(f,{key:1})),!e.restricted&&e.defaultValue!==null?(m(),C(p,{key:2,disabled:e.modelValue===e.defaultValue,clickable:"",onClick:t[3]||(t[3]=y=>e.$emit("update:modelValue",e.defaultValue))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"settings_backup_restore"})]),_:1}),i(s,null,{default:d(()=>[T(b(e.t("reset_to_default")),1)]),_:1})]),_:1},8,["disabled"])):R("",!0),!e.restricted&&e.initialValue?(m(),C(p,{key:3,disabled:e.initialValue===void 0||e.modelValue===e.initialValue,clickable:"",onClick:t[4]||(t[4]=y=>e.$emit("unset",e.field))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"undo"})]),_:1}),i(s,null,{default:d(()=>[T(b(e.t("undo_changes")),1)]),_:1})]),_:1},8,["disabled"])):R("",!0),!e.restricted&&(e.defaultValue===null||!e.isRequired)?(m(),C(p,{key:4,disabled:e.modelValue===null,clickable:"",onClick:t[5]||(t[5]=y=>e.$emit("update:modelValue",null))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:"delete_outline"})]),_:1}),i(s,null,{default:d(()=>[T(b(e.t("clear_value")),1)]),_:1})]),_:1},8,["disabled"])):R("",!0)]),_:1})}var HO=q(zO,[["render",KO]]);const WO=z({props:{field:{type:Object,required:!0},batchMode:{type:Boolean,default:!1},batchActive:{type:Boolean,default:!1},primaryKey:{type:[Number,String],default:null},modelValue:{type:[String,Number,Object,Array,Boolean],default:void 0},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){const{t}=J(),n=F(()=>{var l,o;return!!Et(((o=(l=e.field)==null?void 0:l.meta)==null?void 0:o.interface)||"input")});return{t,interfaceExists:n,getDefaultInterfaceForType:Ir}}});function GO(e,t,n,l,o,u){var s;const a=c("v-skeleton-loader"),r=c("v-notice");return m(),I("div",{class:ae(["interface",{subdued:e.batchMode&&e.batchActive===!1}])},[e.loading&&e.field.hideLoader!==!0?(m(),C(a,{key:0})):R("",!0),e.interfaceExists?(m(),C(qe(e.field.meta&&e.field.meta.interface?`interface-${e.field.meta.interface}`:`interface-${e.getDefaultInterfaceForType(e.field.type)}`),mt({key:1},e.field.meta&&e.field.meta.options||{},{autofocus:e.disabled!==!0&&e.autofocus,disabled:e.disabled,loading:e.loading,value:e.modelValue===void 0?(s=e.field.schema)==null?void 0:s.default_value:e.modelValue,width:e.field.meta&&e.field.meta.width||"full",type:e.field.type,collection:e.field.collection,field:e.field.field,"field-data":e.field,"primary-key":e.primaryKey,length:e.field.schema&&e.field.schema.max_length,onInput:t[0]||(t[0]=p=>e.$emit("update:modelValue",p))}),null,16,["autofocus","disabled","loading","value","width","type","collection","field","field-data","primary-key","length"])):(m(),C(r,{key:2,type:"warning"},{default:d(()=>[T(b(e.t("interface_not_found",{interface:e.field.meta&&e.field.meta.interface})),1)]),_:1}))],2)}var ZO=q(WO,[["render",GO],["__scopeId","data-v-6f93e439"]]);function JO(e){var t;return Array.isArray((t=e.meta)==null?void 0:t.special)&&e.meta.special.some(n=>["m2o","o2m","m2m","m2a","files","translations"].includes(n))?"object":["bigInteger","integer","float","decimal"].includes(e.type)?"number":["string","text","uuid","hash"].includes(e.type)?"string":["boolean"].includes(e.type)?"boolean":["time","timestamp","date","dateTime"].includes(e.type)?"string":["json","csv"].includes(e.type)?"object":"undefined"}const QO=z({components:{FormFieldLabel:qO,FormFieldMenu:HO,FormFieldInterface:ZO},props:{field:{type:Object,required:!0},batchMode:{type:Boolean,default:!1},batchActive:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},modelValue:{type:[String,Number,Object,Array,Boolean],default:void 0},initialValue:{type:[String,Number,Object,Array,Boolean],default:void 0},primaryKey:{type:[String,Number],default:null},loading:{type:Boolean,default:!1},validationError:{type:Object,default:null},autofocus:{type:Boolean,default:!1},badge:{type:String,default:null}},emits:["toggle-batch","unset","update:modelValue"],setup(e,{emit:t}){const{t:n}=J(),l=F(()=>{var h,w;return!!(e.disabled||((w=(h=e.field)==null?void 0:h.meta)==null?void 0:w.readonly)===!0||e.batchMode&&e.batchActive===!1)}),o=F(()=>{var w,g;const h=(g=(w=e.field)==null?void 0:w.schema)==null?void 0:g.default_value;if(h!==void 0)return h}),u=F(()=>e.modelValue!==void 0?e.modelValue:e.initialValue!==void 0?e.initialValue:o.value),a=F(()=>e.modelValue!==void 0&&U.exports.isEqual(e.modelValue,e.initialValue)===!1),{showRaw:r,rawValue:s,copyRaw:p,pasteRaw:f}=v(),_=F(()=>e.validationError?e.validationError.code==="RECORD_NOT_UNIQUE"?n("validationError.unique"):n(`validationError.${e.validationError.type}`,e.validationError):null);return{t:n,isDisabled:l,internalValue:u,emitValue:y,showRaw:r,rawValue:s,copyRaw:p,pasteRaw:f,validationMessage:_,isEdited:a};function y(h){(U.exports.isEqual(h,e.initialValue)||e.initialValue===void 0&&U.exports.isEqual(h,o.value))&&e.batchMode===!1?t("unset",e.field):t("update:modelValue",h)}function v(){const h=E(!1),w=F(()=>JO(e.field)),g=F({get(){switch(w.value){case"object":return JSON.stringify(u.value,null,"	");case"string":case"number":case"boolean":default:return u.value}},set(V){switch(w.value){case"string":t("update:modelValue",V);break;case"number":t("update:modelValue",Number(V));break;case"boolean":t("update:modelValue",V==="true");break;case"object":t("update:modelValue",JSON.parse(V));break;default:t("update:modelValue",V);break}}});async function k(){var V;try{await((V=navigator==null?void 0:navigator.clipboard)==null?void 0:V.writeText(g.value)),st({type:"success",title:n("copy_raw_value_success")})}catch{st({type:"error",title:n("copy_raw_value_fail")})}}async function A(){var V;try{const D=await((V=navigator==null?void 0:navigator.clipboard)==null?void 0:V.readText());g.value=D,st({type:"success",title:n("paste_raw_value_success")})}catch{st({type:"error",title:n("paste_raw_value_fail")})}}return{showRaw:h,rawValue:g,copyRaw:k,pasteRaw:A}}}}),XO={key:1,class:"label-spacer"},YO={key:2,class:"type-note"},xO={key:3,class:"validation-error"};function eR(e,t,n,l,o,u){var A;const a=c("form-field-label"),r=c("form-field-menu"),s=c("v-menu"),p=c("form-field-interface"),f=c("v-card-title"),_=c("v-textarea"),y=c("v-card-text"),v=c("v-button"),h=c("v-card-actions"),w=c("v-card"),g=c("v-dialog"),k=ke("md");return m(),I("div",{key:e.field.field,class:ae(["field",[((A=e.field.meta)==null?void 0:A.width)||"full",{invalid:e.validationError}]])},[e.field.hideLabel!==!0?(m(),C(s,{key:0,placement:"bottom-start","show-arrow":""},{activator:d(({toggle:V,active:D})=>[i(a,{field:e.field,toggle:V,active:D,"batch-mode":e.batchMode,"batch-active":e.batchActive,edited:e.isEdited,"has-error":!!e.validationError,badge:e.badge,loading:e.loading,onToggleBatch:t[0]||(t[0]=P=>e.$emit("toggle-batch",P))},null,8,["field","toggle","active","batch-mode","batch-active","edited","has-error","badge","loading"])]),default:d(()=>[i(r,{field:e.field,"model-value":e.internalValue,"initial-value":e.initialValue,restricted:e.isDisabled,"onUpdate:modelValue":t[1]||(t[1]=V=>e.emitValue(V)),onUnset:t[2]||(t[2]=V=>e.$emit("unset",V)),onEditRaw:t[3]||(t[3]=V=>e.showRaw=!0),onCopyRaw:e.copyRaw,onPasteRaw:e.pasteRaw},null,8,["field","model-value","initial-value","restricted","onCopyRaw","onPasteRaw"])]),_:1})):["full","fill"].includes(e.field.meta&&e.field.meta.width)===!1?(m(),I("div",XO)):R("",!0),i(p,{autofocus:e.autofocus,"model-value":e.internalValue,field:e.field,loading:e.loading,"batch-mode":e.batchMode,"batch-active":e.batchActive,disabled:e.isDisabled,"primary-key":e.primaryKey,"onUpdate:modelValue":t[4]||(t[4]=V=>e.emitValue(V))},null,8,["autofocus","model-value","field","loading","batch-mode","batch-active","disabled","primary-key"]),i(g,{modelValue:e.showRaw,"onUpdate:modelValue":t[7]||(t[7]=V=>e.showRaw=V),onEsc:t[8]||(t[8]=V=>e.showRaw=!1)},{default:d(()=>[i(w,null,{default:d(()=>[i(f,null,{default:d(()=>[T(b(e.isDisabled?e.t("view_raw_value"):e.t("edit_raw_value")),1)]),_:1}),i(y,null,{default:d(()=>[i(_,{modelValue:e.rawValue,"onUpdate:modelValue":t[5]||(t[5]=V=>e.rawValue=V),disabled:e.isDisabled,class:"raw-value",placeholder:e.t("enter_raw_value")},null,8,["modelValue","disabled","placeholder"])]),_:1}),i(h,null,{default:d(()=>[i(v,{onClick:t[6]||(t[6]=V=>e.showRaw=!1)},{default:d(()=>[T(b(e.t("done")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.field.meta&&e.field.meta.note?Q((m(),I("small",YO,null,512)),[[k,e.field.meta.note]]):R("",!0),e.validationError?(m(),I("small",xO,b(e.validationMessage),1)):R("",!0)],2)}var tR=q(QO,[["render",eR],["__scopeId","data-v-c7b47d1e"]]);const nR=z({name:"VForm",components:{FormField:tR},props:{collection:{type:String,default:void 0},fields:{type:Array,default:void 0},initialValues:{type:Object,default:null},modelValue:{type:Object,default:null},loading:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},primaryKey:{type:[String,Number],default:null},disabled:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},autofocus:{type:Boolean,default:!1},group:{type:String,default:null},badge:{type:String,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:n}=J(),l=Le(),o=F(()=>Object.assign({},e.initialValues,e.modelValue)),u=E(),{width:a}=mn(u),r=F(()=>u.value===null?null:a.value>792?"grid with-fill":"grid"),{formFields:s,getFieldsForGroup:p,fieldsForGroup:f,isDisabled:_}=k(),{toggleBatchField:y,batchActiveFields:v}=P(),h=F(()=>{var L,B;for(let O=0;O<s.value.length;O++)if(s.value[O].meta&&!((L=s.value[O].meta)==null?void 0:L.readonly)&&!((B=s.value[O].meta)==null?void 0:B.hidden))return O;return null}),w=F(()=>{var L;for(let B=0;B<s.value.length;B++)if(s.value[B].meta&&!((L=s.value[B].meta)==null?void 0:L.hidden))return B;return null}),g=F(()=>{const L=p(e.group),B=L.map(M=>M.field),O=s.value.map(M=>M.field);return e.validationErrors.filter(M=>{var K,G;let N=O.includes(M.field)===!1&&B.includes(M.field);return e.group===null&&(N=N&&((G=(K=L.find(ie=>ie.field===M.field))==null?void 0:K.meta)==null?void 0:G.group)===null),N})});return Kt("values",o),{t:n,formFields:s,values:o,setValue:A,batchActiveFields:v,toggleBatchField:y,unsetValue:D,unknownValidationErrors:g,firstEditableFieldIndex:h,firstVisibleFieldIndex:w,isNil:U.exports.isNil,apply:V,el:u,gridClass:r,omit:U.exports.omit,getFieldsForGroup:p,fieldsForGroup:f,isDisabled:_};function k(){const L=F(()=>{if(e.collection)return l.getFieldsForCollection(e.collection);if(e.fields)return e.fields;throw new Error("[v-form]: You need to pass either the collection or fields prop.")}),B=F(()=>L.value.reduce(function(de,ne){var le,se;return((le=ne.schema)==null?void 0:le.default_value)!==void 0&&!(ne.schema.is_primary_key&&ne.schema.data_type==="integer"&&typeof ne.schema.default_value=="string")&&(de[ne.field]=(se=ne.schema)==null?void 0:se.default_value),de},{})),O=F(()=>{if(e.group!==null)return L.value;const de=le=>{var se,ee;if(((se=le.schema)==null?void 0:se.has_auto_increment)===!0||((ee=le.schema)==null?void 0:ee.is_primary_key)===!0&&e.primaryKey!=="+"){const Z=U.exports.cloneDeep(le);return Z.meta||(Z.meta={}),Z.meta.readonly=!0,Z}return le},ne=Object.assign({},B.value,o.value);return L.value.map(le=>Ka(ne,de(le)))}),M=F(()=>O.value.filter(de=>{var ne,le;return((ne=de.meta)==null?void 0:ne.group)===e.group||e.group===null&&U.exports.isNil((le=de.meta)==null?void 0:le.group)})),{formFields:N}=Er(M),K=F(()=>N.value.map(de=>ie(de.meta.field)));return{formFields:N,isDisabled:G,getFieldsForGroup:ie,fieldsForGroup:K};function G(de){var ne,le;return e.loading||e.disabled===!0||((ne=de.meta)==null?void 0:ne.readonly)===!0||((le=de.schema)==null?void 0:le.is_generated)===!0||e.batchMode&&v.value.includes(de.field)===!1}function ie(de){var le,se;const ne=O.value.filter(ee=>{var Z;return((Z=ee.meta)==null?void 0:Z.group)===de||de===null&&U.exports.isNil(ee.meta)});for(const ee of ne)((se=(le=ee.meta)==null?void 0:le.special)==null?void 0:se.includes("group"))&&ne.push(...ie(ee.meta.field));return ne}}function A(L,B){const O=e.modelValue?U.exports.cloneDeep(e.modelValue):{};O[L.field]=B,t("update:modelValue",O)}function V(L){t("update:modelValue",U.exports.pick(U.exports.assign({},e.modelValue,L),Object.keys(L)))}function D(L){if(L.field in(e.modelValue||{})){const B=pe({},e.modelValue);delete B[L.field],t("update:modelValue",B)}}function P(){const L=E([]);return{batchActiveFields:L,toggleBatchField:B};function B(O){var M;L.value.includes(O.field)?(L.value=L.value.filter(N=>N!==O.field),D(O)):(L.value=[...L.value,O.field],A(O,(M=O.schema)==null?void 0:M.default_value))}}}}),lR={key:0};function oR(e,t,n,l,o,u){const a=c("v-notice"),r=c("form-field");return m(),I("div",{ref:"el",class:ae(["v-form",e.gridClass])},[e.unknownValidationErrors.length>0?(m(),C(a,{key:0,type:"danger",class:"full"},{default:d(()=>[S("div",null,[S("p",null,b(e.t("unknown_validation_errors")),1),S("ul",null,[(m(!0),I(x,null,$e(e.unknownValidationErrors,(s,p)=>(m(),I("li",{key:p},[s.field?(m(),I("strong",lR,b(s.field)+":",1)):R("",!0),s.code==="RECORD_NOT_UNIQUE"?(m(),I(x,{key:1},[T(b(e.t("validationError.unique",s)),1)],64)):(m(),I(x,{key:2},[T(b(e.t(`validationError.${s.code}`,s)),1)],64))]))),128))])])]),_:1})):R("",!0),(m(!0),I(x,null,$e(e.formFields,(s,p)=>{var f,_,y,v,h,w,g;return m(),I(x,null,[((_=(f=s.meta)==null?void 0:f.special)==null?void 0:_.includes("group"))?Q((m(),C(qe(`interface-${((y=s.meta)==null?void 0:y.interface)||"group-standard"}`),mt({key:0,key:s.field,class:[((v=s.meta)==null?void 0:v.width)||"full",p===e.firstVisibleFieldIndex?"first-visible-field":""],field:s,fields:e.fieldsForGroup[p],values:e.modelValue||{},"initial-values":e.initialValues||{},disabled:e.disabled,"batch-mode":e.batchMode,"batch-active-fields":e.batchActiveFields,"primary-key":e.primaryKey,loading:e.loading,"validation-errors":e.validationErrors},((h=s.meta)==null?void 0:h.options)||{},{onApply:e.apply}),null,16,["class","field","fields","values","initial-values","disabled","batch-mode","batch-active-fields","primary-key","loading","validation-errors","onApply"])),[[Pt,!((w=s.meta)==null?void 0:w.hidden)]]):((g=s.meta)==null?void 0:g.hidden)?R("",!0):(m(),C(r,{key:s.field,class:ae(p===e.firstVisibleFieldIndex?"first-visible-field":""),field:s,autofocus:p===e.firstEditableFieldIndex&&e.autofocus,"model-value":(e.values||{})[s.field],"initial-value":(e.initialValues||{})[s.field],disabled:e.isDisabled(s),"batch-mode":e.batchMode,"batch-active":e.batchActiveFields.includes(s.field),"primary-key":e.primaryKey,loading:e.loading,"validation-error":e.validationErrors.find(k=>k.field===s.field),badge:e.badge,"onUpdate:modelValue":k=>e.setValue(s,k),onUnset:k=>e.unsetValue(s),onToggleBatch:k=>e.toggleBatchField(s)},null,8,["class","field","autofocus","model-value","initial-value","disabled","batch-mode","batch-active","primary-key","loading","validation-error","badge","onUpdate:modelValue","onUnset","onToggleBatch"]))],64)}),256))],2)}var aR=q(nR,[["render",oR],["__scopeId","data-v-9ceec766"]]);const iR=z({props:{closeDelay:{type:Number,default:0},openDelay:{type:Number,default:0},disabled:{type:Boolean,default:!1},tag:{type:String,default:"div"}},setup(e){const t=E(!1);return{hover:t,onMouseEnter:n,onMouseLeave:l};function n(){e.disabled!==!0&&setTimeout(()=>{t.value=!0},e.openDelay)}function l(){e.disabled!==!0&&setTimeout(()=>{t.value=!1},e.closeDelay)}}});function rR(e,t,n,l,o,u){return m(),C(qe(e.tag),{onMouseenter:e.onMouseEnter,onMouseleave:e.onMouseLeave},{default:d(()=>[be(e.$slots,"default",Je(et({hover:e.hover})))]),_:3},8,["onMouseenter","onMouseleave"])}var sR=q(iR,[["render",rR]]);const dR=z({name:"VHighlight",props:{query:{type:[String,Array],default:null},text:{type:String,default:""}},setup(e){return{parts:F(()=>{let n=_a(e.text.toLowerCase());const l=Fl(e.query);if(l.length===0)return[{highlighted:!1,text:e.text}];const o=U.exports.flatten(l.filter(f=>f).map(f=>{f=_a(f.toLowerCase());const _=[];let y=0,v=n.indexOf(f,y);for(;v>-1;)y=v+f.length,_.push([v,y]),v=n.indexOf(f,v+1);return _}));if(o.sort((f,_)=>f[0]!==_[0]?f[0]-_[0]:f[1]-_[1]),o.length===0)return[{highlighted:!1,text:e.text}];const u=[];let a=o[0][0],r=o[0][1];o.shift();for(const[f,_]of o)f>=r?(u.push([a,r]),a=f,r=_):_>r&&(r=_);u.push([a,r]);let s=0;const p=[];for(const[f,_]of u)s!==f&&p.push({highlighted:!1,text:e.text.slice(s,f)}),p.push({highlighted:!0,text:e.text.slice(f,_)}),s=_;return s!==n.length&&p.push({highlighted:!1,text:e.text.slice(s)}),p})}}});function uR(e,t,n,l,o,u){return m(!0),I(x,null,$e(e.parts,({highlighted:a,text:r},s)=>(m(),I(x,null,[a?(m(),I("mark",{key:s,class:"highlight"},b(r),1)):(m(),I(x,{key:1},[T(b(r),1)],64))],64))),256)}var cR=q(dR,[["render",uR],["__scopeId","data-v-40e82be6"]]);const pR={},mR={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},fR=S("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.2 14.15a1.8 1.8 0 01-.35-.12c-.1-.05-.14-.18-.13-.3.02-.41-.01-.78.03-1.2.18-1.85 1.38-1.26 2.46-1.57.58-.16 1.17-.47 1.42-1.06.07-.16.02-.35-.1-.48a13.66 13.66 0 00-2.27-1.98 14.25 14.25 0 00-9.85-2.31.2.2 0 00-.15.32A5.17 5.17 0 0011.93 7c.1.06.06.2-.06.18-.3-.06-.68-.18-1.06-.4a.43.43 0 00-.38-.05l-.44.18a.2.2 0 00-.05.34 5.32 5.32 0 006.14.42c.1-.06.25.07.22.18-.07.21-.15.52-.23.95-.48 2.37-1.87 2.18-3.58 1.59-3.36-1.19-5.3-.22-7-2.1-.19-.21-.5-.29-.7-.09a1.55 1.55 0 00.1 2.29c.15.12.36.07.5-.06.07-.06.13-.1.21-.14.1-.04.16.11.07.18-.4.33-.51.7-.76 1.48-.38 1.16-.22 2.36-1.98 2.67-.93.04-.91.66-1.25 1.58A5.2 5.2 0 01.3 18.27c-.4.41-.44 1.18.14 1.23.18 0 .36-.03.55-.1.99-.4 1.75-1.65 2.47-2.46.8-.9 2.72-.51 4.17-1.4.82-.48 1.3-1.1 1.08-2.07-.02-.12.12-.2.18-.09.1.2.18.41.23.63.05.22.25.39.47.4 1.36.1 3.02 1.3 4.63 1.88.32.11.56-.26.43-.57-.1-.24-.18-.48-.23-.7-.02-.13.16-.16.22-.05a3.5 3.5 0 002.88 1.88c.46.03.97-.02 1.5-.18.63-.18 1.22-.42 1.91-.3.52.1 1 .36 1.3.79.36.5 1.04.7 1.54.38.28-.19.29-.58.13-.87-1.14-2.08-3.61-2.25-4.7-2.52z"},null,-1),_R=[fR];function vR(e,t,n,l,o,u){return m(),I("svg",mR,_R)}var yR=q(pR,[["render",vR]]);const hR={},gR={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},bR=S("path",{d:"M18.38 3.6c-.38-.4-.83-.6-1.36-.6H6.98c-.53 0-1 .2-1.4.6-.38.42-.56.88-.56 1.42V21L12 18l6.98 3V5.02c0-.54-.2-1-.6-1.41zm-8.05 11.5l6.7-6.7-1.4-1.4-5.3 5.3-1.92-1.93L7 11.79l3.33 3.33z"},null,-1),wR=[bR];function $R(e,t,n,l,o,u){return m(),I("svg",gR,wR)}var kR=q(hR,[["render",$R]]);const SR={},CR={viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},VR=S("path",{d:"M2.036 16.961l8.578 3.944a.886.886 0 00.772 0l8.576-3.944c.357-.164.536-.443.536-.836V5.875a.924.924 0 00-.016-.166v-.048a.95.95 0 00-.037-.118l-.014-.039a.91.91 0 00-.073-.138l-.021-.03a1.067 1.067 0 00-.081-.097l-.043-.03a.901.901 0 00-.102-.083l-.025-.018a1.003 1.003 0 00-.124-.069l-8.578-3.944a.886.886 0 00-.772 0L2.036 5.039a.935.935 0 00-.124.069l-.025.018a.901.901 0 00-.102.083l-.03.032a.915.915 0 00-.08.097l-.021.03a.916.916 0 00-.074.138l-.025.037a1.006 1.006 0 00-.037.118v.048a.924.924 0 00-.016.166v10.25c0 .393.178.671.534.836zm1.306-9.646l6.735 3.102v8.223l-6.735-3.104V7.315zm8.578 11.323v-8.221l6.735-3.102v8.223l-6.735 3.1zm-.921-15.7l6.376 2.937-6.376 2.937-6.376-2.937 6.376-2.937z"},null,-1),FR=[VR];function AR(e,t,n,l,o,u){return m(),I("svg",CR,FR)}var IR=q(SR,[["render",AR]]);const ER={},DR={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},TR=S("path",{d:"M10.588 13.412c.408.408.879.611 1.412.611.533 0 1.004-.203 1.412-.611.408-.408.611-.879.611-1.412 0-.533-.203-1.004-.611-1.412-.408-.408-.879-.612-1.412-.612-.533 0-1.004.204-1.412.612-.408.408-.612.879-.612 1.412 0 .533.204 1.004.612 1.412zM9.176 9.176C9.961 8.392 10.902 8 12 8c1.098 0 2.04.392 2.823 1.176C15.608 9.961 16 10.902 16 12c0 1.098-.392 2.04-1.177 2.823C14.04 15.608 13.098 16 12 16c-1.098 0-2.04-.392-2.824-1.177C8.392 14.04 8 13.098 8 12c0-1.098.392-2.04 1.176-2.824z"},null,-1),LR=S("path",{d:"M13 3v6h-2V3h2zM13 15v6h-2v-6h2z"},null,-1),PR=[TR,LR];function OR(e,t,n,l,o,u){return m(),I("svg",DR,PR)}var RR=q(ER,[["render",OR]]);const jR={},MR={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},UR=S("path",{d:"M3 3h18v18H3z"},null,-1),NR=[UR];function BR(e,t,n,l,o,u){return m(),I("svg",MR,NR)}var qR=q(jR,[["render",BR]]);const zR={},KR={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},HR=S("path",{d:"M11 2H2v9h9V2zm0 11H2v9h9v-9zm2-11h9v9h-9V2zm9 11h-9v9h9v-9z"},null,-1),WR=[HR];function GR(e,t,n,l,o,u){return m(),I("svg",KR,WR)}var ZR=q(zR,[["render",GR]]);const JR={},QR={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},XR=S("path",{d:"M1 1h6v6H1V1zm0 8h6v6H1V9zm6 8H1v6h6v-6zM9 1h6v6H9V1zm6 8H9v6h6V9zm-6 8h6v6H9v-6zM23 1h-6v6h6V1zm-6 8h6v6h-6V9zm6 8h-6v6h6v-6z"},null,-1),YR=[XR];function xR(e,t,n,l,o,u){return m(),I("svg",QR,YR)}var ej=q(JR,[["render",xR]]);const tj={},nj={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},lj=S("path",{d:"M6 3H3v3h3V3zm0 5H3v3h3V8zm-3 5h3v3H3v-3zm3 5H3v3h3v-3zM8 3h3v3H8V3zm3 5H8v3h3V8zm-3 5h3v3H8v-3zm3 5H8v3h3v-3zm2-15h3v3h-3V3zm3 5h-3v3h3V8zm-3 5h3v3h-3v-3zm3 5h-3v3h3v-3zm2-15h3v3h-3V3zm3 5h-3v3h3V8zm-3 5h3v3h-3v-3zm3 5h-3v3h3v-3z"},null,-1),oj=[lj];function aj(e,t,n,l,o,u){return m(),I("svg",nj,oj)}var ij=q(tj,[["render",aj]]);const rj={},sj={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},dj=S("path",{d:"M3 3h2v2H3V3zm4 0h2v2H7V3zm0 4h2v2H7V7zm2 4H7v2h2v-2zm-2 4h2v2H7v-2zm2 4H7v2h2v-2zM5 7H3v2h2V7zm-2 4h2v2H3v-2zm2 4H3v2h2v-2zm-2 4h2v2H3v-2zM13 3h-2v2h2V3zm-2 4h2v2h-2V7zm2 4h-2v2h2v-2zm-2 4h2v2h-2v-2zm2 4h-2v2h2v-2zm2-16h2v2h-2V3zm2 4h-2v2h2V7zm-2 4h2v2h-2v-2zm2 4h-2v2h2v-2zm-2 4h2v2h-2v-2zm6-16h-2v2h2V3zm-2 4h2v2h-2V7zm2 4h-2v2h2v-2zm-2 4h2v2h-2v-2zm2 4h-2v2h2v-2z"},null,-1),uj=[dj];function cj(e,t,n,l,o,u){return m(),I("svg",sj,uj)}var pj=q(rj,[["render",cj]]);const mj={},fj={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},_j=S("path",{d:"M5 4H4v1h1V4zm0 6H4v1h1v-1zm-1 6h1v1H4v-1zm1-9H4v1h1V7zm-1 6h1v1H4v-1zm1 6H4v1h1v-1zM7 4h1v1H7V4zm1 6H7v1h1v-1zm-1 6h1v1H7v-1zm1-9H7v1h1V7zm-1 6h1v1H7v-1zm1 6H7v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1z"},null,-1),vj=[_j];function yj(e,t,n,l,o,u){return m(),I("svg",fj,vj)}var hj=q(mj,[["render",yj]]);const gj={},bj={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},wj=S("path",{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"},null,-1),$j=S("path",{d:"M0 0h48v48H0z",fill:"none"},null,-1),kj=S("path",{d:"M13.34 29.72l10.65 13.27.01.01.01-.01 10.65-13.27C34.13 29.31 30.06 26 24 26s-10.13 3.31-10.66 3.72z"},null,-1),Sj=[wj,$j,kj];function Cj(e,t,n,l,o,u){return m(),I("svg",bj,Sj)}var Vj=q(gj,[["render",Cj]]);const Fj={},Aj={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},Ij=S("path",{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"},null,-1),Ej=S("path",{d:"M0 0h48v48H0z",fill:"none"},null,-1),Dj=S("path",{d:"M7.07 21.91l16.92 21.07.01.02.02-.02 16.92-21.07C40.08 21.25 33.62 16 24 16c-9.63 0-16.08 5.25-16.93 5.91z"},null,-1),Tj=[Ij,Ej,Dj];function Lj(e,t,n,l,o,u){return m(),I("svg",Aj,Tj)}var Pj=q(Fj,[["render",Lj]]);const Oj={},Rj={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},jj=S("path",{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"},null,-1),Mj=S("path",{d:"M0 0h48v48H0z",fill:"none"},null,-1),Uj=S("path",{d:"M9.58 25.03l14.41 17.95.01.02.01-.02 14.41-17.95C37.7 24.47 32.2 20 24 20s-13.7 4.47-14.42 5.03z"},null,-1),Nj=[jj,Mj,Uj];function Bj(e,t,n,l,o,u){return m(),I("svg",Rj,Nj)}var qj=q(Oj,[["render",Bj]]);const zj={},Kj={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},Hj=S("path",{d:"M 3 2 L 3 11 L 21 11 L 3 2 z M 5 5.2363281 L 12.527344 9 L 5 9 L 5 5.2363281 z M 3 13 L 3 22 L 21 13 L 3 13 z"},null,-1),Wj=[Hj];function Gj(e,t,n,l,o,u){return m(),I("svg",Kj,Wj)}var Zj=q(zj,[["render",Gj]]);const Jj={},Qj={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},Xj=S("path",{d:"M3,2 L3,11 L21,11 L3,2 Z M5,5.2363281 L12.527344,9 L5,9 L5,5.2363281 Z M3,13 L3,22 L21,13 L3,13 Z",transform:"translate(12.000000, 12.000000) rotate(-90.000000) translate(-12.000000, -12.000000) "},null,-1),Yj=[Xj];function xj(e,t,n,l,o,u){return m(),I("svg",Qj,Yj)}var eM=q(Jj,[["render",xj]]);const tM={},nM={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},lM=S("path",{d:"M11.17 8l-2-2H4v12h16V8h-8.83zM4 4h6l2 2h8a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2l.01-12A2 2 0 014 4zm10.44 5l4 4-4 4v-3H11v-2h3.44V9z"},null,-1),oM=[lM];function aM(e,t,n,l,o,u){return m(),I("svg",nM,oM)}var iM=q(tM,[["render",aM]]);const rM={},sM={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},dM=rd('<path d="M9.1875 6L11.1562 8.01562H20.0156V18H3.98438V6H9.1875ZM9.98438 3.98438H3.98438C2.90625 3.98438 2.01562 4.92188 2.01562 6V18C2.01562 19.0781 2.90625 20.0156 3.98438 20.0156H20.0156C21.0938 20.0156 21.9844 19.0781 21.9844 18V8.01562C21.9844 6.89062 21.0938 6 20.0156 6H12L9.98438 3.98438Z"></path><rect x="13" y="12" width="6" height="5" rx="1"></rect><rect x="17" y="11" width="1" height="1"></rect><rect x="14" y="11" width="1" height="1"></rect><path d="M17 11H18C18 9.89543 17.1046 9 16 9C14.8954 9 14 9.89543 14 11H15C15 10.4477 15.4477 10 16 10C16.5523 10 17 10.4477 17 11Z"></path>',5),uM=[dM];function cM(e,t,n,l,o,u){return m(),I("svg",sM,uM)}var pM=q(rM,[["render",cM]]);const mM={},fM={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},_M=S("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),vM=S("path",{d:"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4a2 2 0 00-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},null,-1),yM=[_M,vM];function hM(e,t,n,l,o,u){return m(),I("svg",fM,yM)}var gM=q(mM,[["render",hM]]);const bM=z({props:{name:{type:String,required:!0}},render(){const e=sd(dd({prefix:"fab",iconName:this.name}));return aa({template:e==null?void 0:e.html[0]})}});ud.add(cd);const wM=["directus","bookmark_save","box","commit_node","grid_1","grid_2","grid_3","grid_4","grid_5","grid_6","signal_wifi_1_bar","signal_wifi_2_bar","signal_wifi_3_bar","flip_horizontal","flip_vertical","folder_move","folder_lock","logout"],$M=["500px","accessible_icon","accusoft","acquisitions_incorporated","adn","adversal","affiliatetheme","airbnb","algolia","alipay","amazon","amazon_pay","amilia","android","angellist","angrycreative","angular","app_store","app_store_ios","apper","apple","apple_pay","artstation","asymmetrik","atlassian","audible","autoprefixer","avianex","aviato","aws","bandcamp","battle_net","behance","behance_square","bimobject","bitbucket","bitcoin","bity","black_tie","blackberry","blogger","blogger_b","bluetooth","bluetooth_b","bootstrap","btc","buffer","buromobelexperte","buy_n_large","buysellads","canadian_maple_leaf","cc_amazon_pay","cc_amex","cc_apple_pay","cc_diners_club","cc_discover","cc_jcb","cc_mastercard","cc_paypal","cc_stripe","cc_visa","centercode","centos","chrome","chromecast","cloudflare","cloudscale","cloudsmith","cloudversify","codepen","codiepie","confluence","connectdevelop","contao","cotton_bureau","cpanel","creative_commons","creative_commons_by","creative_commons_nc","creative_commons_nc_eu","creative_commons_nc_jp","creative_commons_nd","creative_commons_pd","creative_commons_pd_alt","creative_commons_remix","creative_commons_sa","creative_commons_sampling","creative_commons_sampling_plus","creative_commons_share","creative_commons_zero","critical_role","css3","css3_alt","cuttlefish","d_and_d","d_and_d_beyond","dailymotion","dashcube","deezer","delicious","deploydog","deskpro","dev","deviantart","dhl","diaspora","digg","digital_ocean","discord","discourse","dochub","docker","draft2digital","dribbble","dribbble_square","dropbox","drupal","dyalog","earlybirds","ebay","edge","edge_legacy","elementor","ello","ember","empire","envira","erlang","ethereum","etsy","evernote","expeditedssl","facebook","facebook_f","facebook_messenger","facebook_square","fantasy_flight_games","fedex","fedora","figma","firefox","firefox_browser","first_order","first_order_alt","firstdraft","flickr","flipboard","fly","font_awesome","font_awesome_alt","font_awesome_flag","fonticons","fonticons_fi","fort_awesome","fort_awesome_alt","forumbee","foursquare","free_code_camp","freebsd","fulcrum","galactic_republic","galactic_senate","get_pocket","gg","gg_circle","git","git_alt","git_square","github","github_alt","github_square","gitkraken","gitlab","gitter","glide","glide_g","gofore","goodreads","goodreads_g","google","google_drive","google_pay","google_play","google_plus","google_plus_g","google_plus_square","google_wallet","gratipay","grav","gripfire","grunt","guilded","gulp","hacker_news","hacker_news_square","hackerrank","hips","hire_a_helper","hive","hooli","hornbill","hotjar","houzz","html5","hubspot","ideal","imdb","innosoft","instagram","instagram_square","instalod","intercom","internet_explorer","invision","ioxhost","itch_io","itunes","itunes_note","java","jedi_order","jenkins","jira","joget","joomla","js","js_square","jsfiddle","kaggle","keybase","keycdn","kickstarter","kickstarter_k","korvue","laravel","lastfm","lastfm_square","leanpub","less","line","linkedin","linkedin_in","linode","linux","lyft","magento","mailchimp","mandalorian","markdown","mastodon","maxcdn","mdb","medapps","medium","medium_m","medrt","meetup","megaport","mendeley","microblog","microsoft","mix","mixcloud","mixer","mizuni","modx","monero","napster","neos","nimblr","node","node_js","npm","ns8","nutritionix","octopus_deploy","odnoklassniki","odnoklassniki_square","old_republic","opencart","openid","opera","optin_monster","orcid","osi","page4","pagelines","palfed","patreon","paypal","penny_arcade","perbyte","periscope","phabricator","phoenix_framework","phoenix_squadron","php","pied_piper","pied_piper_alt","pied_piper_hat","pied_piper_pp","pied_piper_square","pinterest","pinterest_p","pinterest_square","playstation","product_hunt","pushed","python","qq","quinscape","quora","r_project","raspberry_pi","ravelry","react","reacteurope","readme","rebel","red_river","reddit","reddit_alien","reddit_square","redhat","renren","replyd","researchgate","resolving","rev","rocketchat","rockrms","rust","safari","salesforce","sass","schlix","scribd","searchengin","sellcast","sellsy","servicestack","shirtsinbulk","shopify","shopware","simplybuilt","sistrix","sith","sketch","skyatlas","skype","slack","slack_hash","slideshare","snapchat","snapchat_ghost","snapchat_square","soundcloud","sourcetree","speakap","speaker_deck","spotify","squarespace","stack_exchange","stack_overflow","stackpath","staylinked","steam","steam_square","steam_symbol","sticker_mule","strava","stripe","stripe_s","studiovinari","stumbleupon","stumbleupon_circle","superpowers","supple","suse","swift","symfony","teamspeak","telegram","telegram_plane","tencent_weibo","the_red_yeti","themeco","themeisle","think_peaks","tiktok","trade_federation","trello","tumblr","tumblr_square","twitch","twitter","twitter_square","typo3","uber","ubuntu","uikit","umbraco","uncharted","uniregistry","unity","unsplash","untappd","ups","usb","usps","ussunnah","vaadin","viacoin","viadeo","viadeo_square","viber","vimeo","vimeo_square","vimeo_v","vine","vk","vnv","vuejs","watchman_monitoring","waze","weebly","weibo","weixin","whatsapp","whatsapp_square","whmcs","wikipedia_w","windows","wix","wizards_of_the_coast","wodu","wolf_pack_battalion","wordpress","wordpress_simple","wpbeginner","wpexplorer","wpforms","wpressr","xbox","xing","xing_square","y_combinator","yahoo","yammer","yandex","yandex_international","yarn","yelp","yoast","youtube","youtube_square","zhihu"],kM=z({components:{CustomIconDirectus:yR,CustomIconBookmarkSave:kR,CustomIconBox:IR,CustomIconCommitNode:RR,CustomIconGrid1:qR,CustomIconGrid2:ZR,CustomIconGrid3:ej,CustomIconGrid4:ij,CustomIconGrid5:pj,CustomIconGrid6:hj,CustomIconSignalWifi1Bar:Vj,CustomIconSignalWifi2Bar:Pj,CustomIconSignalWifi3Bar:qj,CustomIconFlipHorizontal:Zj,CustomIconFlipVertical:eM,CustomIconFolderMove:iM,CustomIconFolderLock:pM,CustomIconLogout:gM,SocialIcon:bM},props:pe({name:{type:String,required:!0},filled:{type:Boolean,default:!1},sup:{type:Boolean,default:!1},left:{type:Boolean,default:!1},right:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},color:{type:String,default:null}},cl),emits:["click"],setup(e,{emit:t}){const n=F(()=>e.sup?"sup":pl(e).value),l=F(()=>wM.includes(e.name)?`custom-icon-${e.name}`.replace(/_/g,"-"):null),o=F(()=>$M.includes(e.name)?e.name.replace(/_/g,"-"):null);return{sizeClass:n,customIconName:l,socialIconName:o,emitClick:u};function u(a){e.disabled||t("click",a)}}}),SM=["role","tabindex"],CM=["data-icon"];function VM(e,t,n,l,o,u){const a=c("socialIcon");return m(),I("span",{class:ae(["v-icon",[e.sizeClass,{"has-click":!e.disabled&&e.clickable,left:e.left,right:e.right}]]),role:e.clickable?"button":null,tabindex:e.clickable?0:null,style:Ue({"--v-icon-color":e.color}),onClick:t[0]||(t[0]=(...r)=>e.emitClick&&e.emitClick(...r))},[e.customIconName?(m(),C(qe(e.customIconName),{key:0})):e.socialIconName?(m(),C(a,{key:1,name:e.socialIconName},null,8,["name"])):(m(),I("i",{key:2,class:ae({filled:e.filled}),"data-icon":e.name},null,10,CM))],14,SM)}var FM=q(kM,[["render",VM],["__scopeId","data-v-3b7a3696"]]);const AM=z({props:{icon:{type:String,default:"box"},title:{type:String,required:!0},type:{type:String,default:"info"},center:{type:Boolean,default:!1}}}),IM={class:"icon"},EM={class:"title type-title"},DM={class:"content"};function TM(e,t,n,l,o,u){const a=c("v-icon");return m(),I("div",{class:ae(["v-info",[e.type,{center:e.center}]])},[S("div",IM,[i(a,{large:"",name:e.icon,outline:""},null,8,["name"])]),S("h2",EM,b(e.title),1),S("p",DM,[be(e.$slots,"default",{},void 0,!0)]),be(e.$slots,"append",{},void 0,!0)],2)}var LM=q(AM,[["render",TM],["__scopeId","data-v-0b8e46a0"]]);const PM=z({inheritAttrs:!1,props:{autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},prefix:{type:String,default:null},suffix:{type:String,default:null},fullWidth:{type:Boolean,default:!0},placeholder:{type:[String,Number],default:null},modelValue:{type:[String,Number],default:null},nullable:{type:Boolean,default:!0},slug:{type:Boolean,default:!1},slugSeparator:{type:String,default:"-"},type:{type:String,default:"text"},hideArrows:{type:Boolean,default:!1},max:{type:Number,default:null},min:{type:Number,default:null},step:{type:Number,default:1},active:{type:Boolean,default:!1},dbSafe:{type:Boolean,default:!1},trim:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"}},emits:["click","keydown","update:modelValue","focus"],setup(e,{emit:t,attrs:n}){const l=E(null),o=F(()=>({input:_,keydown:p,blur:h=>{f(),typeof n.onBlur=="function"&&n.onBlur(h)},focus:h=>t("focus",h)})),u=F(()=>U.exports.omit(n,["class"])),a=F(()=>[{"full-width":e.fullWidth,"has-click":e.clickable,disabled:e.disabled},...(n.class||"").split(" ")]),r=F(()=>e.disabled===!1&&(e.max===null||parseInt(String(e.modelValue),10)<e.max)),s=F(()=>e.disabled===!1&&(e.min===null||parseInt(String(e.modelValue),10)>e.min));return{listeners:o,attributes:u,classes:a,stepUp:y,stepDown:v,isStepUpAllowed:r,isStepDownAllowed:s,input:l};function p(h){if(!h.key)return;const w=h.key.toLowerCase(),g=["meta","shift","alt","backspace","delete","tab"],k=h.target.value;e.slug===!0&&(("abcdefghijklmnopqrstuvwxyz01234567890-_~ ".split("").includes(w)||g.includes(w)||w.startsWith("arrow"))===!1&&h.preventDefault(),w===" "&&k.endsWith(e.slugSeparator)&&h.preventDefault()),e.dbSafe===!0&&(("abcdefghijklmnopqrstuvwxyz01234567890_ ".split("").includes(w)||g.includes(w)||w.startsWith("arrow"))===!1&&h.preventDefault(),k.length===0&&"0123456789".split("").includes(w)&&h.preventDefault()),t("keydown",h)}function f(){e.modelValue&&e.trim&&["string","text"].includes(e.type)&&t("update:modelValue",String(e.modelValue).trim())}function _(h){let w=h.target.value;if(e.nullable===!0&&w===""){t("update:modelValue",null);return}if(e.type==="number"){const g=Number(w);e.modelValue!==g&&t("update:modelValue",g)}else{if(e.slug===!0){const g=w.endsWith(" ");w=pd(w,{separator:e.slugSeparator,preserveTrailingDash:!0}),g&&(w+=e.slugSeparator)}e.dbSafe===!0&&(w=w.replace(/\s/g,"_"),w=w.normalize("NFD").replace(/[\u0300-\u036f]/g,"")),t("update:modelValue",w)}}function y(){if(!!l.value&&r.value!==!1&&(l.value.stepUp(),l.value.value!=null))return t("update:modelValue",Number(l.value.value))}function v(){if(!!l.value&&s.value!==!1)return l.value.stepDown(),l.value.value?t("update:modelValue",Number(l.value.value)):t("update:modelValue",e.min||0)}}}),OM={key:0,class:"prepend-outer"},RM={key:0,class:"prepend"},jM={key:1,class:"prefix"},MM=["placeholder","autocomplete","type","min","max","step","disabled","value"],UM={key:2,class:"suffix"},NM={key:3},BM={key:4,class:"append"},qM={key:1,class:"append-outer"};function zM(e,t,n,l,o,u){const a=c("v-icon"),r=ke("focus");return m(),I("div",{class:ae(["v-input",e.classes]),onClick:t[0]||(t[0]=s=>e.$emit("click",s))},[e.$slots["prepend-outer"]?(m(),I("div",OM,[be(e.$slots,"prepend-outer",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):R("",!0),S("div",{class:ae(["input",{disabled:e.disabled,active:e.active}])},[e.$slots.prepend?(m(),I("div",RM,[be(e.$slots,"prepend",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):R("",!0),e.prefix?(m(),I("span",jM,b(e.prefix),1)):R("",!0),be(e.$slots,"input",{},()=>[Q(S("input",mt({ref:"input"},e.attributes,{placeholder:e.placeholder,autocomplete:e.autocomplete,type:e.type,min:e.min,max:e.max,step:e.step,disabled:e.disabled,value:e.modelValue===null?"":String(e.modelValue)},eo(e.listeners)),null,16,MM),[[r,e.autofocus]])],!0),e.suffix?(m(),I("span",UM,b(e.suffix),1)):R("",!0),e.type==="number"&&!e.hideArrows?(m(),I("span",NM,[i(a,{class:ae([{disabled:!e.isStepUpAllowed},"step-up"]),name:"keyboard_arrow_up",tabindex:"-1",clickable:"",disabled:!e.isStepUpAllowed,onClick:e.stepUp},null,8,["class","disabled","onClick"]),i(a,{class:ae([{disabled:!e.isStepDownAllowed},"step-down"]),name:"keyboard_arrow_down",tabindex:"-1",clickable:"",disabled:!e.isStepDownAllowed,onClick:e.stepDown},null,8,["class","disabled","onClick"])])):R("",!0),e.$slots.append?(m(),I("div",BM,[be(e.$slots,"append",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):R("",!0)],2),e.$slots["append-outer"]?(m(),I("div",qM,[be(e.$slots,"append-outer",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):R("",!0)],2)}var KM=q(PM,[["render",zM],["__scopeId","data-v-497fc93a"]]);const HM=z({props:{mandatory:{type:Boolean,default:!1},max:{type:Number,default:-1},multiple:{type:Boolean,default:!1},modelValue:{type:Array,default:void 0},scope:{type:String,default:"item-group"}},emits:["update:modelValue"],setup(e,{emit:t}){const{modelValue:n,multiple:l,max:o,mandatory:u}=Me(e);return Go({selection:n,onSelectionChange:a=>t("update:modelValue",a)},{multiple:l,max:o,mandatory:u},e.scope),{}}}),WM={class:"v-item-group"};function GM(e,t,n,l,o,u){return m(),I("div",WM,[be(e.$slots,"default")])}var ZM=q(HM,[["render",GM]]);const JM=z({props:{value:{type:String,default:null},scope:{type:String,default:"item-group"},active:{type:Boolean,default:void 0},watch:{type:Boolean,default:!0}},setup(e){const{active:t}=Me(e),{active:n,toggle:l}=Cn({value:e.value,group:e.scope,watch:e.watch,active:t});return{isActive:n,toggle:l}}}),QM={class:"v-item"};function XM(e,t,n,l,o,u){return m(),I("div",QM,[be(e.$slots,"default",Je(et({active:e.isActive,toggle:e.toggle})))])}var YM=q(JM,[["render",XM]]);const xM=z({props:{multiple:{type:Boolean,default:!0},to:{type:String,default:""},active:{type:Boolean,default:void 0},exact:{type:Boolean,default:!1},query:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},scope:{type:String,default:"v-list"},value:{type:[String,Number],default:void 0},dense:{type:Boolean,default:!1},open:{type:Boolean,default:!1},arrowPlacement:{type:[String,Boolean],default:"after",validator:e=>["before","after",!1].includes(e)}},emits:["click"],setup(e,{emit:t}){const{active:n,toggle:l}=Cn({group:e.scope,value:e.value});return{groupActive:F(()=>n.value||e.open),toggle:l,onClick:u};function u(a){if(e.to)return null;if(e.clickable)return t("click",a);a.stopPropagation(),l()}}}),eU={class:"v-list-group"},tU={key:0,class:"items"};function nU(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-list-item-icon"),s=c("v-list-item");return m(),I("li",eU,[i(s,{class:"activator",active:e.active,to:e.to,exact:e.exact,query:e.query,disabled:e.disabled,dense:e.dense,clickable:"",onClick:e.onClick},{default:d(()=>[e.$slots.default&&e.arrowPlacement&&e.arrowPlacement==="before"?(m(),C(r,{key:0,class:ae(["activator-icon",{active:e.groupActive}])},{default:d(()=>[i(a,{name:"chevron_right",disabled:e.disabled,onClick:Ae(e.toggle,["stop","prevent"])},null,8,["disabled","onClick"])]),_:1},8,["class"])):R("",!0),be(e.$slots,"activator",{active:e.groupActive},void 0,!0),e.$slots.default&&e.arrowPlacement&&e.arrowPlacement==="after"?(m(),C(r,{key:1,class:ae(["activator-icon",{active:e.groupActive}])},{default:d(()=>[i(a,{name:"chevron_right",disabled:e.disabled,onClick:Ae(e.toggle,["stop","prevent"])},null,8,["disabled","onClick"])]),_:1},8,["class"])):R("",!0)]),_:3},8,["active","to","exact","query","disabled","dense","onClick"]),e.groupActive?(m(),I("ul",tU,[be(e.$slots,"default",{},void 0,!0)])):R("",!0)])}var lU=q(xM,[["render",nU],["__scopeId","data-v-2419d436"]]);const oU={},aU={class:"v-list-item-content"};function iU(e,t){return m(),I("div",aU,[be(e.$slots,"default")])}var rU=q(oU,[["render",iU],["__scopeId","data-v-275e8d1e"]]);const sU=z({props:{center:{type:Boolean,default:!1}}});function dU(e,t,n,l,o,u){return m(),I("div",{class:ae(["v-list-item-hint",{center:e.center}])},[be(e.$slots,"default",{},void 0,!0)],2)}var uU=q(sU,[["render",dU],["__scopeId","data-v-13faae5b"]]);const cU=z({props:{center:{type:Boolean,default:!1}}});function pU(e,t,n,l,o,u){return m(),I("div",{class:ae(["v-list-item-icon",{center:e.center}])},[be(e.$slots,"default")],2)}var mU=q(cU,[["render",pU],["__scopeId","data-v-3a2c81de"]]);const fU=z({props:{block:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},to:{type:[String,Object],default:""},href:{type:String,default:void 0},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},active:{type:Boolean,default:void 0},dashed:{type:Boolean,default:!1},exact:{type:Boolean,default:!1},query:{type:Boolean,default:!1},download:{type:String,default:void 0},value:{type:[String,Number],default:void 0},nav:{type:Boolean,default:!1},scope:{type:String,default:"v-list"}},emits:["click"],setup(e,{emit:t}){const n=Ht(),{route:l,isActive:o,isExactActive:u}=fa(e),a=F(()=>e.to?"router-link":e.href?"a":"li");Cn({value:e.value,group:e.scope});const r=F(()=>Boolean(e.to||e.href||e.clickable)),s=F(()=>{if(e.active!==void 0)return e.active;if(e.to){const f=!e.query||U.exports.isEqual(n.query,l.value.query);return e.exact?u.value&&f:o.value&&f}return!1});return{component:a,isLink:r,isActiveRoute:s,onClick:p};function p(f){e.disabled!==!0&&t("click",f)}}});function _U(e,t,n,l,o,u){return m(),C(qe(e.component),{class:ae(["v-list-item",{active:e.isActiveRoute,dense:e.dense,link:e.isLink,disabled:e.disabled,dashed:e.dashed,block:e.block,nav:e.nav,clickable:e.clickable}]),to:e.to!==""?e.to:void 0,href:e.href,download:e.download,target:e.component==="a"?"_blank":void 0,onClick:e.onClick},{default:d(()=>[be(e.$slots,"default")]),_:3},8,["to","class","href","download","target","onClick"])}var vU=q(fU,[["render",_U],["__scopeId","data-v-2943a798"]]);const yU=z({props:{modelValue:{type:Array,default:null},nav:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0},mandatory:{type:Boolean,default:!0},scope:{type:String,default:"v-list"}},emits:["update:modelValue","toggle"],setup(e,{emit:t}){const{modelValue:n,multiple:l,mandatory:o}=Me(e);return Go({selection:n,onSelectionChange:u=>{t("update:modelValue",u)},onToggle:u=>{t("toggle",u)}},{mandatory:o,multiple:l},e.scope),{}}});function hU(e,t,n,l,o,u){return m(),I("ul",{class:ae(["v-list",{nav:e.nav,dense:e.dense}])},[be(e.$slots,"default")],2)}var gU=q(yU,[["render",hU],["__scopeId","data-v-b97aaa68"]]);function bU(e,t,n){const l=E(null),o=E({}),u=E({}),a=E(n.value.placement);At(()=>{p()}),ye(n,()=>{var _;(_=l.value)==null||_.setOptions({placement:n.value.attached?"bottom-start":n.value.placement,modifiers:f()})},{immediate:!0});const r=new MutationObserver(()=>{var _;(_=l.value)==null||_.forceUpdate()});return{popperInstance:l,placement:a,start:s,stop:p,styles:o,arrowStyles:u};function s(){return new Promise(_=>{l.value=md(e.value,t.value,{placement:n.value.attached?"bottom-start":n.value.placement,modifiers:f(_),strategy:"fixed"}),l.value.forceUpdate(),r.observe(t.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0})})}function p(){var _;(_=l.value)==null||_.destroy(),r.disconnect()}function f(_=()=>{}){var v,h;const y=[fd,Ve(pe({},_d),{options:{offset:n.value.attached?[0,0]:[(v=n.value.offsetX)!=null?v:0,(h=n.value.offsetY)!=null?h:8]}}),Ve(pe({},vd),{options:{padding:8}}),yd,hd,gd,{name:"placementUpdater",enabled:!0,phase:"afterWrite",fn({state:w}){a.value=w.placement}},{name:"applyStyles",enabled:!0,phase:"write",fn({state:w}){o.value=w.styles.popper,u.value=w.styles.arrow,_()}}];return n.value.arrow===!0&&y.push(Ve(pe({},bd),{options:{padding:6}})),n.value.attached===!0&&y.push({name:"sameWidth",enabled:!0,fn:({state:w})=>{w.styles.popper.width=`${w.rects.reference.width}px`},phase:"beforeWrite",requires:["computeStyles"]}),y}}const wU=z({props:{placement:{type:String,default:"bottom"},modelValue:{type:Boolean,default:void 0},closeOnClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},attached:{type:Boolean,default:!1},showArrow:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},trigger:{type:String,default:null,validator:e=>["hover","click","keyDown"].includes(e)},delay:{type:Number,default:0},offsetY:{type:Number,default:8},offsetX:{type:Number,default:0},fullHeight:{type:Boolean,default:!1},seamless:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=E(null),l=E(null),o=E({getBoundingClientRect(){return{top:0,left:0,bottom:0,right:0,width:0,height:0}}}),u=F(()=>yt()),a=E(null),{start:r,stop:s,styles:p,arrowStyles:f,placement:_}=bU(l,a,F(()=>({placement:e.placement,attached:e.attached,arrow:e.showArrow,offsetY:e.offsetY,offsetX:e.offsetX}))),{isActive:y,activate:v,deactivate:h,toggle:w}=D();ye(y,O=>{var M;O===!0&&(l.value=((M=n.value)==null?void 0:M.children[0])||o.value,gl(()=>{a.value=document.getElementById(u.value)}))});const{onClick:g,onPointerEnter:k,onPointerLeave:A}=B(),V=E(!1);return{id:u,activator:n,popper:a,reference:l,isActive:y,toggle:w,deactivate:h,onContentClick:L,onClickOutsideMiddleware:P,styles:p,arrowStyles:f,popperPlacement:_,activate:v,onClick:g,onPointerLeave:A,onPointerEnter:k,hoveringOnPopperContent:V};function D(){const O=E(!1),M=F({get(){return e.modelValue!==void 0?e.modelValue:O.value},async set(ie){O.value=ie,t("update:modelValue",ie)}});return ye(a,async()=>{a.value!==null?await r():s()},{immediate:!0}),{isActive:M,activate:N,deactivate:K,toggle:G};function N(ie){ie&&(o.value={getBoundingClientRect(){return{top:ie.clientY,left:ie.clientX,bottom:0,right:0,width:0,height:0}}}),M.value=!0}function K(){M.value=!1}function G(){e.disabled!==!0&&(M.value=!M.value)}}function P(O){var M;return!((M=n.value)==null?void 0:M.contains(O.target))}function L(O){e.closeOnContentClick===!0&&O.target!==O.currentTarget&&h()}function B(){const O=E(!1);return ye(O,U.exports.debounce(G=>{G?y.value||v():h()},e.delay)),{onClick:M,onPointerLeave:K,onPointerEnter:N};function M(){e.trigger==="click"&&w()}function N(){e.trigger==="hover"&&(O.value=!0)}function K(){e.trigger==="hover"&&(O.value=!1)}}}}),$U=["id","data-placement"];function kU(e,t,n,l,o,u){const a=c("transition-bounce"),r=ke("click-outside");return m(),I("div",{class:"v-menu",onClick:t[5]||(t[5]=(...s)=>e.onClick&&e.onClick(...s))},[S("div",{ref:"activator",class:ae(["v-menu-activator",{attached:e.attached}]),onPointerenter:t[0]||(t[0]=Ae((...s)=>e.onPointerEnter&&e.onPointerEnter(...s),["stop"])),onPointerleave:t[1]||(t[1]=Ae((...s)=>e.onPointerLeave&&e.onPointerLeave(...s),["stop"]))},[be(e.$slots,"activator",Je(et({toggle:e.toggle,active:e.isActive,activate:e.activate,deactivate:e.deactivate})),void 0,!0)],34),(m(),C(xl,{to:"#menu-outlet"},[i(a,null,{default:d(()=>[e.isActive?Q((m(),I("div",{id:e.id,key:e.id,class:ae(["v-menu-popper",{active:e.isActive,attached:e.attached}]),"data-placement":e.popperPlacement,style:Ue(e.styles)},[S("div",{class:ae(["arrow",{active:e.showArrow&&e.isActive}]),style:Ue(e.arrowStyles),"data-popper-arrow":""},null,6),S("div",{class:ae(["v-menu-content",{"full-height":e.fullHeight,seamless:e.seamless}]),onClick:t[2]||(t[2]=Ae((...s)=>e.onContentClick&&e.onContentClick(...s),["stop"])),onPointerenter:t[3]||(t[3]=Ae((...s)=>e.onPointerEnter&&e.onPointerEnter(...s),["stop"])),onPointerleave:t[4]||(t[4]=Ae((...s)=>e.onPointerLeave&&e.onPointerLeave(...s),["stop"]))},[be(e.$slots,"default",Je(et({toggle:e.toggle,active:e.isActive,activate:e.activate,deactivate:e.deactivate})),void 0,!0)],34)],14,$U)),[[r,{handler:e.deactivate,middleware:e.onClickOutsideMiddleware,disabled:e.isActive===!1||e.closeOnClick===!1,events:["click"]}]]):R("",!0)]),_:3})]))])}var SU=q(wU,[["render",kU],["__scopeId","data-v-502cb6b2"]]);const CU=z({props:{type:{type:String,default:"normal"},icon:{type:[String,Boolean],default:null},center:{type:Boolean,default:!1}},setup(e){return{iconName:F(()=>e.icon!==!1&&typeof e.icon=="string"?e.icon:e.type=="info"?"info":e.type=="success"?"check_circle":e.type=="warning"?"warning":e.type=="danger"?"error":"info")}}});function VU(e,t,n,l,o,u){const a=c("v-icon");return m(),I("div",{class:ae(["v-notice",[e.type,{center:e.center}]])},[e.icon!==!1?(m(),C(a,{key:0,name:e.iconName,left:""},null,8,["name"])):R("",!0),be(e.$slots,"default")],2)}var FU=q(CU,[["render",VU],["__scopeId","data-v-2d5b0a1b"]]);const AU=z({props:{active:{type:Boolean,default:!1},absolute:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0}},emits:["click"],setup(e,{emit:t}){return{onClick:n};function n(l){t("click",l)}}}),IU=e=>(He("data-v-3e74acbb"),e=e(),We(),e),EU=IU(()=>S("div",{class:"overlay"},null,-1)),DU={key:0,class:"content"};function TU(e,t,n,l,o,u){return m(),I("div",{class:ae(["v-overlay",{active:e.active,absolute:e.absolute,"has-click":e.clickable}]),onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},[EU,e.active?(m(),I("div",DU,[be(e.$slots,"default",{},void 0,!0)])):R("",!0)],2)}var LU=q(AU,[["render",TU],["__scopeId","data-v-3e74acbb"]]);const PU=z({props:{disabled:{type:Boolean,default:!1},length:{type:Number,default:null,required:!0,validator:e=>e%1==0},totalVisible:{type:Number,default:void 0,validator:e=>e>=0},modelValue:{type:Number,default:null},showFirstLast:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=F(()=>{if(e.totalVisible===void 0)return[];let a,r;if(Oa(e.totalVisible)||e.length<=e.totalVisible)a=1,r=e.length;else{const s=Math.floor(e.totalVisible/2),p=Math.ceil(e.totalVisible/2)-1;e.modelValue<=s?(a=1,r=e.totalVisible):e.modelValue+p>=e.length?(a=e.length-e.totalVisible+1,r=e.length):(a=e.modelValue-s,r=e.modelValue+p)}return Array.from(Array(r+1-a).keys()).map(s=>a+s)});return{toPage:u,toPrev:l,toNext:o,visiblePages:n};function l(){u(e.modelValue-1)}function o(){u(e.modelValue+1)}function u(a){t("update:modelValue",a)}}}),OU={class:"v-pagination"},RU=T(" 1 "),jU={key:1,class:"gap"},MU={key:2,class:"gap"};function UU(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-button");return m(),I("div",OU,[i(r,{class:"previous",disabled:e.disabled||e.modelValue===1,secondary:"",icon:"",small:"",onClick:e.toPrev},{default:d(()=>[i(a,{name:"chevron_left"})]),_:1},8,["disabled","onClick"]),e.showFirstLast&&e.modelValue>Math.ceil(e.totalVisible/2)+1&&e.length>e.totalVisible?(m(),C(r,{key:0,class:"page",secondary:"",small:"",disabled:e.disabled,onClick:t[0]||(t[0]=s=>e.toPage(1))},{default:d(()=>[RU]),_:1},8,["disabled"])):R("",!0),e.showFirstLast&&e.modelValue>Math.ceil(e.totalVisible/2)+1&&e.length>e.totalVisible+1?(m(),I("span",jU," ... ")):R("",!0),(m(!0),I(x,null,$e(e.visiblePages,s=>(m(),C(r,{key:s,class:ae([{active:e.modelValue===s},"page"]),secondary:"",small:"",disabled:e.disabled,onClick:p=>e.toPage(s)},{default:d(()=>[T(b(s),1)]),_:2},1032,["class","disabled","onClick"]))),128)),e.showFirstLast&&e.modelValue<e.length-Math.ceil(e.totalVisible/2)&&e.length>e.totalVisible+1?(m(),I("span",MU," ... ")):R("",!0),e.showFirstLast&&e.modelValue<=e.length-Math.ceil(e.totalVisible/2)&&e.length>e.totalVisible?(m(),C(r,{key:3,class:ae([{active:e.modelValue===e.length},"page"]),secondary:"",small:"",disabled:e.disabled,onClick:t[1]||(t[1]=s=>e.toPage(e.length))},{default:d(()=>[T(b(e.length),1)]),_:1},8,["class","disabled"])):R("",!0),i(r,{class:"next",disabled:e.disabled||e.modelValue===e.length,secondary:"",icon:"",small:"",onClick:e.toNext},{default:d(()=>[i(a,{name:"chevron_right"})]),_:1},8,["disabled","onClick"])])}var NU=q(PU,[["render",UU],["__scopeId","data-v-7c59d706"]]);const BU=z({props:pe({indeterminate:{type:Boolean,default:!1},value:{type:Number,default:0}},cl),emits:["animationiteration"],setup(e){const t=pl(e),n=F(()=>({"stroke-dasharray":e.value/100*78.5+", 78.5"}));return{sizeClass:t,circleStyle:n}}}),qU=e=>(He("data-v-a75ea6ac"),e=e(),We(),e),zU=qU(()=>S("path",{class:"circle-background",d:"M12.5,0A12.5,12.5,0,1,1,0,12.5,12.5,12.5,0,0,1,12.5,0Z",transform:"translate(2.5 2.5)"},null,-1));function KU(e,t,n,l,o,u){return m(),I("div",{class:ae(["v-progress-circular",e.sizeClass])},[(m(),I("svg",{class:ae(["circle",{indeterminate:e.indeterminate}]),viewBox:"0 0 30 30",onAnimationiteration:t[0]||(t[0]=a=>e.$emit("animationiteration"))},[zU,S("path",{class:"circle-path",style:Ue(e.circleStyle),d:"M12.5,0A12.5,12.5,0,1,1,0,12.5,12.5,12.5,0,0,1,12.5,0Z",transform:"translate(2.5 2.5)"},null,4)],34)),be(e.$slots,"default",{},void 0,!0)],2)}var HU=q(BU,[["render",KU],["__scopeId","data-v-a75ea6ac"]]);const WU=z({props:{absolute:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},top:{type:Boolean,default:!1},value:{type:Number,default:0},colorful:{type:Boolean,default:!1}},emits:["animationiteration"],setup(e){return{color:F(()=>e.value<=33?"danger":e.value<=66?"warning":"success")}}});function GU(e,t,n,l,o,u){return m(),I("div",{class:ae(["v-progress-linear",[{absolute:e.absolute,bottom:e.bottom,fixed:e.fixed,indeterminate:e.indeterminate,rounded:e.rounded,top:e.top,colorful:e.colorful},e.color]]),onAnimationiteration:t[0]||(t[0]=a=>e.$emit("animationiteration"))},[S("div",{class:"inner",style:Ue({width:e.value+"%"})},null,4),be(e.$slots,"default",{value:e.value},void 0,!0)],34)}var ZU=q(WU,[["render",GU],["__scopeId","data-v-4aeb976a"]]);const JU=z({props:{value:{type:String,required:!0},modelValue:{type:String,default:null},label:{type:String,default:null},disabled:{type:Boolean,default:!1},iconOn:{type:String,default:"radio_button_checked"},iconOff:{type:String,default:"radio_button_unchecked"},block:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=F(()=>e.modelValue===e.value),l=F(()=>n.value?e.iconOn:e.iconOff);return{isChecked:n,emitValue:o,icon:l};function o(){t("update:modelValue",e.value)}}}),QU=["aria-pressed","disabled"],XU={class:"label type-text"};function YU(e,t,n,l,o,u){const a=c("v-icon");return m(),I("button",{class:ae(["v-radio",{checked:e.isChecked,block:e.block}]),type:"button","aria-pressed":e.isChecked?"true":"false",disabled:e.disabled,onClick:t[0]||(t[0]=(...r)=>e.emitValue&&e.emitValue(...r))},[i(a,{name:e.icon},null,8,["name"]),S("span",XU,[be(e.$slots,"label",{},()=>[T(b(e.label),1)],!0)])],10,QU)}var xU=q(JU,[["render",YU],["__scopeId","data-v-36e4a678"]]);function Wr(e,t,n){const l=E(""),o=F({get(){return l.value||(u.value?e.value:"")},set(a){a===null?(l.value="",n(null)):(l.value=a,n(a))}}),u=F(()=>{if(t.value===null)return!1;const a=t.value.map(r=>r.value);return e.value!==null&&e.value.length>0&&a.includes(e.value)===!1});return{otherValue:o,usesOtherValue:u}}function Gr(e,t,n){const l=E([]);return ye(e,a=>{a!==null&&Array.isArray(a)!==!1&&t.value!==null&&a.forEach(r=>{if(t.value===null)return;t.value.map(f=>f.value).includes(r)===!0===!1&&l.value.map(y=>y.value).includes(r)===!0===!1&&o(r)})}),{otherValues:l,addOtherValue:o,setOtherValue:u};function o(a=""){l.value=[...l.value,{key:yt(),value:a}]}function u(a,r){const s=l.value.find(f=>f.key===a),p=(e.value||[]).filter(f=>f!==(s==null?void 0:s.value));if(r===null)l.value=l.value.filter(f=>f.key!==a),p.length===0?n(null):n(p);else{l.value=l.value.map(_=>(_.key===a&&(_.value=r),_));const f=[...p,r];n(f)}}}const eN=z({name:"SelectListItem",props:{item:{type:Object,required:!0},modelValue:{type:[String,Number,Array],default:null},multiple:{type:Boolean,required:!0},allowOther:{type:Boolean,required:!0}},emits:["update:modelValue"]}),tN={key:0,class:"item-text"};function nN(e,t,n,l,o,u){const a=c("v-divider"),r=c("v-icon"),s=c("v-list-item-icon"),p=c("v-checkbox"),f=c("v-list-item-content"),_=c("v-list-item");return e.item.divider===!0?(m(),C(a,{key:0})):(m(),C(_,{key:1,active:e.multiple?(e.modelValue||[]).includes(e.item.value):e.modelValue===e.item.value,disabled:e.item.disabled,clickable:"",value:e.item.value,onClick:t[1]||(t[1]=y=>e.multiple?null:e.$emit("update:modelValue",e.item.value))},{default:d(()=>[e.multiple===!1&&e.allowOther===!1&&e.item.icon?(m(),C(s,{key:0},{default:d(()=>[i(r,{name:e.item.icon},null,8,["name"])]),_:1})):R("",!0),i(f,null,{default:d(()=>[e.multiple===!1||e.item.selectable===!1?(m(),I("span",tN,b(e.item.text),1)):(m(),C(p,{key:1,"model-value":e.modelValue||[],label:e.item.text,value:e.item.value,disabled:e.item.disabled,"onUpdate:modelValue":t[0]||(t[0]=y=>e.$emit("update:modelValue",y.length>0?y:null))},null,8,["model-value","label","value","disabled"]))]),_:1})]),_:1},8,["active","disabled","value"]))}var Zr=q(eN,[["render",nN]]);const lN=z({name:"SelectListItemGroup",components:{SelectListItem:Zr},props:{item:{type:Object,required:!0},modelValue:{type:[String,Number,Array],default:null},multiple:{type:Boolean,required:!0},allowOther:{type:Boolean,required:!0}},emits:["update:modelValue"]}),oN={key:0,class:"item-text"};function aN(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-list-item-icon"),s=c("v-checkbox"),p=c("v-list-item-content"),f=c("select-list-item-group",!0),_=c("select-list-item"),y=c("v-list-group");return m(),C(y,{clickable:e.item.selectable,value:e.item.value},{activator:d(()=>[e.multiple===!1&&e.allowOther===!1&&e.item.icon?(m(),C(r,{key:0},{default:d(()=>[i(a,{name:e.item.icon},null,8,["name"])]),_:1})):R("",!0),i(p,null,{default:d(()=>[e.multiple===!1||e.item.selectable===!1?(m(),I("span",oN,b(e.item.text),1)):(m(),C(s,{key:1,"model-value":e.modelValue||[],label:e.item.text,value:e.item.value,disabled:e.item.disabled,"onUpdate:modelValue":t[0]||(t[0]=v=>e.$emit("update:modelValue",v.length>0?v:null))},null,8,["model-value","label","value","disabled"]))]),_:1})]),default:d(()=>[(m(!0),I(x,null,$e(e.item.children,(v,h)=>(m(),I(x,{key:h},[v.children?(m(),C(f,{key:0,item:v,"model-value":e.modelValue,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[1]||(t[1]=w=>e.$emit("update:modelValue",w))},null,8,["item","model-value","multiple","allow-other"])):(m(),C(_,{key:1,"model-value":e.modelValue,item:v,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[2]||(t[2]=w=>e.$emit("update:modelValue",w))},null,8,["model-value","item","multiple","allow-other"]))],64))),128))]),_:1},8,["clickable","value"])}var iN=q(lN,[["render",aN]]);const rN=z({components:{SelectListItemGroup:iN,SelectListItem:Zr},props:{items:{type:Array,required:!0},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},itemIcon:{type:String,default:null},itemDisabled:{type:String,default:"disabled"},itemSelectable:{type:String,default:"selectable"},itemChildren:{type:String,default:"children"},modelValue:{type:[Array,String,Number,Boolean],default:null},multiple:{type:Boolean,default:!1},mandatory:{type:Boolean,default:!0},placeholder:{type:String,default:null},fullWidth:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},showDeselect:{type:Boolean,default:!1},allowOther:{type:Boolean,default:!1},closeOnContentClick:{type:Boolean,default:!0},inline:{type:Boolean,default:!1},label:{type:Boolean,default:!1},multiplePreviewThreshold:{type:Number,default:3},placement:{type:String,default:"bottom"}},emits:["update:modelValue","group-toggle"],setup(e,{emit:t}){const{t:n}=J(),{internalItems:l}=_(),{displayValue:o}=y(),{modelValue:u}=Me(e),{otherValue:a,usesOtherValue:r}=Wr(u,l,v=>t("update:modelValue",v)),{otherValues:s,addOtherValue:p,setOtherValue:f}=Gr(u,l,v=>t("update:modelValue",v));return{t:n,internalItems:l,displayValue:o,otherValue:a,usesOtherValue:r,otherValues:s,addOtherValue:p,setOtherValue:f};function _(){return{internalItems:F(()=>{const h=g=>{if(typeof g=="string")return{text:g,value:g};if(g.divider===!0)return{value:null,divider:!0};const k=U.exports.get(g,e.itemChildren)?U.exports.get(g,e.itemChildren).map(h):null;return{text:U.exports.get(g,e.itemText),value:U.exports.get(g,e.itemValue),icon:U.exports.get(g,e.itemIcon),disabled:U.exports.get(g,e.itemDisabled),selectable:U.exports.get(g,e.itemSelectable),children:k}};return e.items.map(h)})}}function y(){return{displayValue:F(()=>{if(Array.isArray(e.modelValue)){if(e.modelValue.length<e.multiplePreviewThreshold)return e.modelValue.map(w=>h(w)||w).join(", ");{const w=l.value.length+s.value.length,g=e.modelValue.length;return w===g?n("all_items"):n("item_count",g)}}return h(e.modelValue)||e.modelValue})};function h(w){return g(l.value);function g(k){var V;let A=(V=k.find(D=>D.value===w))==null?void 0:V.text;for(const D of k)A||D.children&&(A=g(D.children));return A}}}}}),sN=["onClick"],dN=["placeholder"],uN=["value","placeholder","onInput","onBlur"];function cN(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-input"),s=c("v-list-item-icon"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("v-divider"),y=c("select-list-item-group"),v=c("select-list-item"),h=c("v-checkbox"),w=c("v-list"),g=c("v-menu"),k=ke("focus");return m(),C(g,{class:"v-select",disabled:e.disabled,attached:e.inline===!1,"show-arrow":e.inline===!0,"close-on-content-click":e.closeOnContentClick,placement:e.placement},{activator:d(({toggle:A,active:V})=>[e.inline?(m(),I("div",{key:0,class:ae(["inline-display",{placeholder:!e.displayValue,label:e.label,active:V}]),onClick:A},[be(e.$slots,"preview",{},()=>[T(b(e.displayValue||e.placeholder),1)],!0),i(a,{name:"expand_more",class:ae({active:V})},null,8,["class"])],10,sN)):be(e.$slots,"preview",{key:1},()=>[i(r,{"full-width":e.fullWidth,readonly:"","model-value":e.displayValue,clickable:"",placeholder:e.placeholder,disabled:e.disabled,active:V,onClick:A},xe({append:d(()=>[i(a,{name:"expand_more",class:ae({active:V})},null,8,["class"]),be(e.$slots,"append",{},void 0,!0)]),_:2},[e.$slots.prepend?{name:"prepend",fn:d(()=>[be(e.$slots,"prepend",{},void 0,!0)])}:void 0]),1032,["full-width","model-value","placeholder","disabled","active","onClick"])],!0)]),default:d(()=>[i(w,{class:"list",mandatory:e.mandatory,onToggle:t[9]||(t[9]=A=>e.$emit("group-toggle",A))},{default:d(()=>[e.showDeselect?(m(),I(x,{key:0},[i(f,{clickable:"",disabled:e.modelValue===null,onClick:t[0]||(t[0]=A=>e.$emit("update:modelValue",null))},{default:d(()=>[e.multiple===!0?(m(),C(s,{key:0},{default:d(()=>[i(a,{name:"close"})]),_:1})):R("",!0),i(p,null,{default:d(()=>[T(b(e.multiple?e.t("deselect_all"):e.t("deselect")),1)]),_:1}),e.multiple===!1?(m(),C(s,{key:1},{default:d(()=>[i(a,{name:"close"})]),_:1})):R("",!0)]),_:1},8,["disabled"]),i(_)],64)):R("",!0),(m(!0),I(x,null,$e(e.internalItems,(A,V)=>(m(),I(x,{key:V},[A.children?(m(),C(y,{key:0,item:A,"model-value":e.modelValue,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[1]||(t[1]=D=>e.$emit("update:modelValue",D))},null,8,["item","model-value","multiple","allow-other"])):(m(),C(v,{key:1,"model-value":e.modelValue,item:A,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[2]||(t[2]=D=>e.$emit("update:modelValue",D))},null,8,["model-value","item","multiple","allow-other"]))],64))),128)),e.allowOther&&e.multiple===!1?(m(),C(f,{key:1,active:e.usesOtherValue,onClick:t[5]||(t[5]=Ae(()=>{},["stop"]))},{default:d(()=>[i(p,null,{default:d(()=>[Q(S("input",{"onUpdate:modelValue":t[3]||(t[3]=A=>e.otherValue=A),class:"other-input",placeholder:e.t("other"),onFocus:t[4]||(t[4]=A=>e.otherValue?e.$emit("update:modelValue",e.otherValue):null)},null,40,dN),[[to,e.otherValue]])]),_:1})]),_:1},8,["active"])):R("",!0),e.allowOther&&e.multiple===!0?(m(),I(x,{key:2},[(m(!0),I(x,null,$e(e.otherValues,A=>(m(),C(f,{key:A.key,active:(e.modelValue||[]).includes(A.value),onClick:t[7]||(t[7]=Ae(()=>{},["stop"]))},{default:d(()=>[i(s,null,{default:d(()=>[i(h,{"model-value":e.modelValue||[],value:A.value,"onUpdate:modelValue":t[6]||(t[6]=V=>e.$emit("update:modelValue",V.length>0?V:null))},null,8,["model-value","value"])]),_:2},1024),i(p,null,{default:d(()=>[Q(S("input",{class:"other-input",value:A.value,placeholder:e.t("other"),onInput:V=>e.setOtherValue(A.key,V.target.value),onBlur:V=>A.value.length===0&&e.setOtherValue(A.key,null)},null,40,uN),[[k]])]),_:2},1024),i(s,null,{default:d(()=>[i(a,{name:"close",clickable:"",onClick:V=>e.setOtherValue(A.key,null)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["active"]))),128)),i(f,{onClick:t[8]||(t[8]=Ae(A=>e.addOtherValue(),["stop"]))},{default:d(()=>[i(s,null,{default:d(()=>[i(a,{name:"add"})]),_:1}),i(p,null,{default:d(()=>[T(b(e.t("other")),1)]),_:1})]),_:1})],64)):R("",!0)]),_:1},8,["mandatory"])]),_:3},8,["disabled","attached","show-arrow","close-on-content-click","placement"])}var pN=q(rN,[["render",cN],["__scopeId","data-v-a0800880"]]);const mN=z({props:{},setup(){return{}}}),fN={class:"v-sheet"};function _N(e,t,n,l,o,u){return m(),I("div",fN,[be(e.$slots,"default",{},void 0,!0)])}var vN=q(mN,[["render",_N],["__scopeId","data-v-714b5c50"]]);const yN=z({props:{type:{type:String,default:"input"}}}),Jr=e=>(He("data-v-9bf1f4de"),e=e(),We(),e),hN=Jr(()=>S("div",{class:"icon"},null,-1)),gN=Jr(()=>S("div",{class:"text"},null,-1));function bN(e,t,n,l,o,u){return m(),I("div",{class:ae([e.type,"v-skeleton-loader"])},[e.type==="list-item-icon"?(m(),I(x,{key:0},[hN,gN],64)):R("",!0)],2)}var wN=q(yN,[["render",bN],["__scopeId","data-v-9bf1f4de"]]);const $N=z({props:{disabled:{type:Boolean,default:!1},showThumbLabel:{type:Boolean,default:!1},max:{type:Number,default:100},min:{type:Number,default:0},step:{type:Number,default:1},showTicks:{type:Boolean,default:!1},alwaysShowValue:{type:Boolean,default:!1},modelValue:{type:Number,default:0}},emits:["change","update:modelValue"],setup(e,{emit:t}){return{styles:F(()=>{if(e.modelValue===null)return{"--_v-slider-percentage":50};let u=(e.modelValue-e.min)/(e.max-e.min)*100;return isNaN(u)&&(u=0),{"--_v-slider-percentage":u}}),onChange:l,onInput:o};function l(u){const a=u.target;t("change",Number(a.value))}function o(u){const a=u.target;t("update:modelValue",Number(a.value))}}}),kN=e=>(He("data-v-82d5affa"),e=e(),We(),e),SN={key:0,class:"prepend"},CN=["disabled","value","max","min","step"],VN=kN(()=>S("div",{class:"fill"},null,-1)),FN={key:0,class:"ticks"},AN={key:1,class:"thumb-label-wrapper"},IN={key:1,class:"append"};function EN(e,t,n,l,o,u){return m(),I("div",{class:"v-slider",style:Ue(e.styles)},[e.$slots.prepend?(m(),I("div",SN,[be(e.$slots,"prepend",{value:e.modelValue},void 0,!0)])):R("",!0),S("div",{class:ae(["slider",{disabled:e.disabled}])},[S("input",{disabled:e.disabled,type:"range",value:e.modelValue,max:e.max,min:e.min,step:e.step,onChange:t[0]||(t[0]=(...a)=>e.onChange&&e.onChange(...a)),onInput:t[1]||(t[1]=(...a)=>e.onInput&&e.onInput(...a))},null,40,CN),VN,e.showTicks?(m(),I("div",FN,[(m(!0),I(x,null,$e((e.max-e.min)/e.step+1,a=>(m(),I("span",{key:a,class:"tick"}))),128))])):R("",!0),e.showThumbLabel?(m(),I("div",AN,[S("div",{class:ae(["thumb-label",{visible:e.alwaysShowValue}])},[be(e.$slots,"thumb-label type-text",{value:e.modelValue},()=>[T(b(e.modelValue),1)],!0)],2)])):R("",!0)],2),e.$slots.append?(m(),I("div",IN,[be(e.$slots,"append",{value:e.modelValue},void 0,!0)])):R("",!0)],4)}var DN=q($N,[["render",EN],["__scopeId","data-v-82d5affa"]]);const TN=z({props:{value:{type:String,default:null},modelValue:{type:[Boolean,Array],default:!1},label:{type:String,default:null},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=F(()=>e.modelValue instanceof Array?e.modelValue.includes(e.value):e.modelValue===!0);return{isChecked:n,toggleInput:l};function l(){if(e.modelValue instanceof Array){const o=[...e.modelValue];n.value===!1?o.push(e.value):o.splice(o.indexOf(e.value),1),t("update:modelValue",o)}else t("update:modelValue",!n.value)}}}),LN=e=>(He("data-v-9eb85040"),e=e(),We(),e),PN=["aria-pressed","disabled"],ON=LN(()=>S("span",{class:"switch"},null,-1)),RN={class:"label type-label"};function jN(e,t,n,l,o,u){return m(),I("button",{class:"v-switch",type:"button",role:"switch","aria-pressed":e.isChecked?"true":"false",disabled:e.disabled,onClick:t[0]||(t[0]=(...a)=>e.toggleInput&&e.toggleInput(...a))},[ON,S("span",RN,[be(e.$slots,"label",{},()=>[T(b(e.label),1)],!0)])],8,PN)}var MN=q(TN,[["render",jN],["__scopeId","data-v-9eb85040"]]);const UN=z({props:{headers:{type:Array,required:!0},sort:{type:Object,required:!0},showSelect:{type:String,default:"none"},showResize:{type:Boolean,default:!1},showManualSort:{type:Boolean,default:!1},someItemsSelected:{type:Boolean,default:!1},allItemsSelected:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},mustSort:{type:Boolean,default:!1},hasItemAppendSlot:{type:Boolean,default:!1},manualSortKey:{type:String,default:null}},emits:["update:sort","toggle-select-all","update:headers"],setup(e,{emit:t}){const{t:n}=J(),l=E(!1),o=E(0),u=E(0),a=E(null);return Rn(window,"pointermove",U.exports.throttle(y,40)),Rn(window,"pointerup",v),{t:n,changeSort:p,dragging:l,dragHeader:a,dragStartWidth:u,dragStartX:o,getClassesForHeader:r,onMouseMove:y,onResizeHandleMouseDown:_,toggleManualSort:h,toggleSelectAll:f,getTooltipForSortIcon:s};function r(w){const g=[];return w.align&&g.push(`align-${w.align}`),w.sortable&&g.push("sortable"),e.sort.by===w.value&&(e.sort.desc===!1?g.push("sort-asc"):g.push("sort-desc")),g}function s(w){return e.sort.by===w.value&&e.sort.desc===!1?"sort_desc":"sort_asc"}function p(w){if(w.sortable!==!1&&l.value!==!0)return w.value===e.sort.by?e.mustSort?t("update:sort",{by:e.sort.by,desc:!e.sort.desc}):e.sort.desc===!1?t("update:sort",{by:e.sort.by,desc:!0}):t("update:sort",{by:null,desc:!1}):t("update:sort",{by:w.value,desc:!1})}function f(){t("toggle-select-all",!e.allItemsSelected)}function _(w,g){const A=g.target.parentElement;l.value=!0,o.value=g.pageX,u.value=A.offsetWidth,a.value=w}function y(w){if(l.value===!0){const g=u.value+(w.pageX-o.value),A=U.exports.clone(e.headers).map(V=>{var D;return V.value===((D=a.value)==null?void 0:D.value)?Ve(pe({},V),{width:Math.max(32,g)}):V});t("update:headers",A)}}function v(){l.value===!0&&(l.value=!1)}function h(){e.sort.by===e.manualSortKey?t("update:sort",{by:null,desc:!1}):t("update:sort",{by:e.manualSortKey,desc:!1})}}}),NN=e=>(He("data-v-82b0622a"),e=e(),We(),e),BN={key:1,class:"select cell",scope:"col"},qN=["onClick"],zN=["onPointerdown"],KN=NN(()=>S("th",{class:"spacer cell",scope:"col"},null,-1)),HN={key:2,class:"spacer cell",scope:"col"};function WN(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-checkbox"),s=ke("tooltip");return m(),I("thead",{class:ae(["table-header",{dragging:e.dragging}])},[S("tr",{class:ae({fixed:e.fixed})},[e.showManualSort?(m(),I("th",{key:0,class:ae(["manual cell",{"sorted-manually":e.sort.by===e.manualSortKey}]),scope:"col",onClick:t[0]||(t[0]=(...p)=>e.toggleManualSort&&e.toggleManualSort(...p))},[Q(i(a,{name:"sort",small:""},null,512),[[s,e.t("toggle_manual_sorting")]])],2)):R("",!0),e.showSelect!=="none"?(m(),I("th",BN,[e.showSelect==="multiple"?(m(),C(r,{key:0,"model-value":e.allItemsSelected,indeterminate:e.someItemsSelected,"onUpdate:modelValue":e.toggleSelectAll},null,8,["model-value","indeterminate","onUpdate:modelValue"])):R("",!0)])):R("",!0),(m(!0),I(x,null,$e(e.headers,p=>(m(),I("th",{key:p.value,class:ae([e.getClassesForHeader(p),"cell"]),scope:"col"},[S("div",{class:"content",onClick:f=>e.changeSort(p)},[Q(S("span",null,[be(e.$slots,`header.${p.value}`,{header:p},()=>[T(b(p.text),1)],!0)],512),[[Pt,p.width>90||p.width===null]]),p.sortable?Q((m(),C(a,{key:0,name:"sort",class:"sort-icon",small:""},null,512)),[[s,e.t(e.getTooltipForSortIcon(p)),void 0,{top:!0}]]):R("",!0)],8,qN),e.showResize?(m(),I("span",{key:0,class:"resize-handle",onClick:t[1]||(t[1]=Ae(()=>{},["stop"])),onPointerdown:f=>e.onResizeHandleMouseDown(p,f)},null,40,zN)):R("",!0)],2))),128)),KN,e.hasItemAppendSlot?(m(),I("th",HN)):R("",!0)],2)],2)}var GN=q(UN,[["render",WN],["__scopeId","data-v-82b0622a"]]);const ZN=z({props:{headers:{type:Array,required:!0},item:{type:Object,required:!0},showSelect:{type:String,default:"none"},showManualSort:{type:Boolean,default:!1},isSelected:{type:Boolean,default:!1},subdued:{type:Boolean,default:!1},sortedManually:{type:Boolean,default:!1},hasClickListener:{type:Boolean,default:!1},height:{type:Number,default:48}},emits:["click","item-selected"]}),JN=e=>(He("data-v-704d39b1"),e=e(),We(),e),QN=JN(()=>S("td",{class:"spacer cell"},null,-1));function XN(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-checkbox"),s=c("v-text-overflow"),p=c("value-null");return m(),I("tr",{class:ae(["table-row",{subdued:e.subdued,clickable:e.hasClickListener}]),style:Ue({"--table-row-height":e.height+2+"px","--table-row-line-height":1}),onClick:t[4]||(t[4]=f=>e.$emit("click",f))},[e.showManualSort?(m(),I("td",{key:0,class:"manual cell",onClick:t[0]||(t[0]=Ae(()=>{},["stop"]))},[i(a,{name:"drag_handle",class:ae(["drag-handle",{"sorted-manually":e.sortedManually}])},null,8,["class"])])):R("",!0),e.showSelect!=="none"?(m(),I("td",{key:1,class:"select cell",onClick:t[2]||(t[2]=Ae(()=>{},["stop"]))},[i(r,{"icon-on":e.showSelect==="one"?"radio_button_checked":void 0,"icon-off":e.showSelect==="one"?"radio_button_unchecked":void 0,"model-value":e.isSelected,"onUpdate:modelValue":t[1]||(t[1]=f=>e.$emit("item-selected",f))},null,8,["icon-on","icon-off","model-value"])])):R("",!0),(m(!0),I(x,null,$e(e.headers,f=>(m(),I("td",{key:f.value,class:ae(["cell",`align-${f.align}`])},[be(e.$slots,`item.${f.value}`,{item:e.item},()=>[f.value.split(".").reduce((_,y)=>_[y],e.item)?(m(),C(s,{key:0,text:f.value.split(".").reduce((_,y)=>_[y],e.item)},null,8,["text"])):(m(),C(p,{key:1}))],!0)],2))),128)),QN,e.$slots["item-append"]?(m(),I("td",{key:2,class:"append cell",onClick:t[3]||(t[3]=Ae(()=>{},["stop"]))},[be(e.$slots,"item-append",{},void 0,!0)])):R("",!0)],6)}var YN=q(ZN,[["render",XN],["__scopeId","data-v-704d39b1"]]);const Qr={text:"",value:"",align:"left",sortable:!0,width:null},xN=z({components:{TableHeader:GN,TableRow:YN,Draggable:It},props:{headers:{type:Array,required:!0},items:{type:Array,required:!0},itemKey:{type:String,default:"id"},sort:{type:Object,default:null},mustSort:{type:Boolean,default:!1},showSelect:{type:String,default:"none"},showResize:{type:Boolean,default:!1},showManualSort:{type:Boolean,default:!1},manualSortKey:{type:String,default:null},modelValue:{type:Array,default:()=>[]},fixedHeader:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingText:{type:String,default:ze.global.t("loading")},noItemsText:{type:String,default:ze.global.t("no_items")},serverSort:{type:Boolean,default:!1},rowHeight:{type:Number,default:48},selectionUseKeys:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0}},emits:["click:row","update:sort","update:items","item-selected","update:modelValue","manual-sort","update:headers"],setup(e,{emit:t,slots:n}){const l=F({get:()=>e.headers.map(g=>pe(pe({},Qr),g)).map(g=>(g.width&&g.width<24&&(g.width=24),g)),set:g=>{t("update:headers",g.map(k=>{const A=[];return U.exports.forEach(k,(V,D)=>{V!==Qr[D]&&A.push(D)}),U.exports.pick(k,A)}))}}),o=E({by:null,desc:!1}),u=F({get:()=>e.sort||o.value,set:g=>{t("update:sort",g),o.value=g}}),a=F(()=>n["item-append"]!==void 0),r=F(()=>{let g=l.value.length+1;return e.showSelect!=="none"&&g++,e.showManualSort&&g++,a.value&&g++,`1 / span ${g}`}),s=F({get:()=>{if(e.serverSort===!0||u.value.by===e.manualSortKey||u.value.by===null)return e.items;const g=U.exports.sortBy(e.items,[u.value.by]);return u.value.desc===!0?g.reverse():g},set:g=>{t("update:items",g)}}),p=F(()=>e.loading===!1&&e.modelValue.length===e.items.length),f=F(()=>e.modelValue.length>0&&p.value===!1),_=F(()=>{let g=l.value.map(k=>k.width?`${k.width}px`:"160px").reduce((k,A)=>k+=" "+A,"");return e.showSelect!=="none"&&(g="36px "+g),e.showManualSort&&(g="36px "+g),g=g+" 1fr",a.value&&(g+=" auto"),g});return{internalHeaders:l,internalItems:s,internalSort:u,allItemsSelected:p,getSelectedState:v,onItemSelected:y,onToggleSelectAll:h,someItemsSelected:f,onSortChange:w,fullColSpan:r,columnStyle:_,hasItemAppendSlot:a,hideDragImage:zt};function y(g){if(e.disabled)return;t("item-selected",g);let k=U.exports.clone(e.modelValue);g.value===!0?e.selectionUseKeys?k.push(g.item[e.itemKey]):k.push(g.item):k=k.filter(A=>e.selectionUseKeys?A!==g.item[e.itemKey]:A[e.itemKey]!==g.item[e.itemKey]),t("update:modelValue",k)}function v(g){return(e.selectionUseKeys?e.modelValue:e.modelValue.map(A=>A[e.itemKey])).includes(g[e.itemKey])}function h(g){e.disabled||(g===!0?e.selectionUseKeys?t("update:modelValue",U.exports.clone(e.items).map(k=>k[e.itemKey])):t("update:modelValue",U.exports.clone(e.items)):t("update:modelValue",[]))}function w(g){if(e.disabled)return;const k=s.value[g.oldIndex][e.itemKey],A=s.value[g.newIndex][e.itemKey];t("manual-sort",{item:k,to:A})}}}),eB=["summary"],tB={key:1},nB={class:"loading-text"},lB={key:2},oB={class:"no-items-text"};function aB(e,t,n,l,o,u){const a=c("table-header"),r=c("v-progress-linear"),s=c("table-row"),p=c("draggable");return m(),I("div",{class:ae(["v-table",{loading:e.loading,inline:e.inline,disabled:e.disabled}])},[S("table",{summary:e.internalHeaders.map(f=>f.text).join(", "),style:Ue({"--grid-columns":e.columnStyle})},[i(a,{headers:e.internalHeaders,"onUpdate:headers":t[0]||(t[0]=f=>e.internalHeaders=f),sort:e.internalSort,"onUpdate:sort":t[1]||(t[1]=f=>e.internalSort=f),"show-select":e.showSelect,"show-resize":e.showResize,"some-items-selected":e.someItemsSelected,"all-items-selected":e.allItemsSelected,fixed:e.fixedHeader,"show-manual-sort":e.showManualSort,"must-sort":e.mustSort,"has-item-append-slot":e.hasItemAppendSlot,"manual-sort-key":e.manualSortKey,onToggleSelectAll:e.onToggleSelectAll},xe({_:2},[$e(e.internalHeaders,f=>({name:`header.${f.value}`,fn:d(()=>[be(e.$slots,`header.${f.value}`,{header:f},void 0,!0)])}))]),1032,["headers","sort","show-select","show-resize","some-items-selected","all-items-selected","fixed","show-manual-sort","must-sort","has-item-append-slot","manual-sort-key","onToggleSelectAll"]),e.loading?(m(),I("thead",{key:0,class:ae(["loading-indicator",{sticky:e.fixedHeader}])},[S("th",{scope:"colgroup",style:Ue({gridColumn:e.fullColSpan})},[e.loading?(m(),C(r,{key:0,indeterminate:""})):R("",!0)],4)],2)):R("",!0),e.loading&&e.items.length===0?(m(),I("tbody",tB,[S("tr",nB,[S("td",{style:Ue({gridColumn:e.fullColSpan})},b(e.loadingText),5)])])):R("",!0),!e.loading&&e.items.length===0?(m(),I("tbody",lB,[S("tr",oB,[S("td",{style:Ue({gridColumn:e.fullColSpan})},b(e.noItemsText),5)])])):(m(),C(p,{key:3,modelValue:e.internalItems,"onUpdate:modelValue":t[2]||(t[2]=f=>e.internalItems=f),"force-fallback":!0,"item-key":e.itemKey,tag:"tbody",handle:".drag-handle",disabled:e.disabled||e.internalSort.by!==e.manualSortKey,"set-data":e.hideDragImage,onEnd:e.onSortChange},{item:d(({element:f})=>[i(s,{headers:e.internalHeaders,item:f,"show-select":!e.disabled&&e.showSelect,"show-manual-sort":!e.disabled&&e.showManualSort,"is-selected":e.getSelectedState(f),subdued:e.loading,"sorted-manually":e.internalSort.by===e.manualSortKey,"has-click-listener":!e.disabled&&e.clickable,height:e.rowHeight,onClick:_=>e.clickable?e.$emit("click:row",{item:f,event:_}):null,onItemSelected:_=>e.onItemSelected({item:f,value:!e.getSelectedState(f)})},xe({_:2},[$e(e.internalHeaders,_=>({name:`item.${_.value}`,fn:d(()=>[be(e.$slots,`item.${_.value}`,{item:f},void 0,!0)])})),e.hasItemAppendSlot?{name:"item-append",fn:d(()=>[be(e.$slots,"item-append",{item:f},void 0,!0)])}:void 0]),1032,["headers","item","show-select","show-manual-sort","is-selected","subdued","sorted-manually","has-click-listener","height","onClick","onItemSelected"])]),_:3},8,["modelValue","item-key","disabled","set-data","onEnd"]))],12,eB),be(e.$slots,"footer",{},void 0,!0)],2)}var iB=q(xN,[["render",aB],["__scopeId","data-v-20cd5b42"]]);const rB=z({props:{value:{type:String,default:null}},setup(e){const{active:t,toggle:n}=Cn({value:e.value,group:"v-tabs-items"});return{active:t,toggle:n}}}),sB={key:0,class:"v-tab-item"};function dB(e,t,n,l,o,u){return e.active?(m(),I("div",sB,[be(e.$slots,"default",Je(et({active:e.active,toggle:e.toggle})))])):R("",!0)}var uB=q(rB,[["render",dB]]);const cB=z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null}},setup(e){const{active:t,toggle:n}=Cn({value:e.value,group:"v-tabs"}),l=ct("v-tabs-vertical",E(!1));return{active:t,toggle:n,onClick:o,vertical:l};function o(){e.disabled===!1&&n()}}});function pB(e,t,n,l,o,u){const a=c("v-list-item");return e.vertical?(m(),C(a,{key:0,class:"v-tab vertical",active:e.active,disabled:e.disabled,clickable:"",onClick:e.onClick},{default:d(()=>[be(e.$slots,"default",Je(et({active:e.active,toggle:e.toggle})),void 0,!0)]),_:3},8,["active","disabled","onClick"])):(m(),I("div",{key:1,class:ae(["v-tab horizontal",{active:e.active,disabled:e.disabled}]),onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},[be(e.$slots,"default",Je(et({active:e.active,toggle:e.toggle})),void 0,!0)],2))}var mB=q(cB,[["render",pB],["__scopeId","data-v-2c97bb1b"]]);const fB=z({props:{modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup(e,{emit:t}){function n(l){t("update:modelValue",l)}return{update:n}}});function _B(e,t,n,l,o,u){const a=c("v-item-group");return m(),C(a,{class:"v-tabs-items","model-value":e.modelValue,scope:"v-tabs-items","onUpdate:modelValue":e.update},{default:d(()=>[be(e.$slots,"default")]),_:3},8,["model-value","onUpdate:modelValue"])}var vB=q(fB,[["render",_B]]);const yB=z({props:{vertical:{type:Boolean,default:!1},modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup(e,{emit:t}){const{modelValue:n,vertical:l}=Me(e);Kt("v-tabs-vertical",l);const{items:o}=Go({selection:n,onSelectionChange:u},{multiple:E(!1),mandatory:E(!0)},"v-tabs");function u(a){t("update:modelValue",a)}return{update:u,items:o}}}),hB={key:1,class:"v-tabs horizontal"};function gB(e,t,n,l,o,u){const a=c("v-list");return e.vertical?(m(),C(a,{key:0,class:"v-tabs vertical alt-colors",nav:""},{default:d(()=>[be(e.$slots,"default")]),_:3})):(m(),I("div",hB,[be(e.$slots,"default")]))}var bB=q(yB,[["render",gB],["__scopeId","data-v-c201e160"]]);const wB=z({props:{text:{type:[String,Number,Array,Object,Boolean],required:!0},highlight:{type:String,default:null},placement:{type:String,default:"top",validator:e=>["top","bottom","left","right","start","end"].includes(e)}},setup(){const e=E(),t=E(!1),{width:n}=mn(e);return ye(n,()=>{!e.value||(t.value=e.value.offsetWidth<e.value.scrollWidth)},{immediate:!0}),{el:e,hasEllipsis:t}}}),$B={ref:"el",class:"v-text-overflow"};function kB(e,t,n,l,o,u){const a=c("v-highlight"),r=ke("tooltip");return Q((m(),I("div",$B,[e.highlight?(m(),C(a,{key:0,query:e.highlight,text:e.text},null,8,["query","text"])):(m(),I(x,{key:1},[T(b(e.text),1)],64))],512)),[[r,e.hasEllipsis&&e.text,e.placement]])}var SB=q(wB,[["render",kB],["__scopeId","data-v-24d83a1a"]]);const CB=z({props:{disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!0},modelValue:{type:String,default:null},nullable:{type:Boolean,default:!0},expandOnFocus:{type:Boolean,default:!1},placeholder:{type:String,default:null},trim:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=F(()=>({input:o,blur:u})),l=F(()=>e.modelValue&&e.modelValue.length>0);return{listeners:n,hasContent:l};function o(a){const r=a.target.value;e.nullable===!0&&r===""?t("update:modelValue",null):t("update:modelValue",r)}function u(){e.modelValue&&e.trim&&t("update:modelValue",e.modelValue.trim())}}}),VB={key:0,class:"prepend"},FB=["placeholder","disabled","value"],AB={key:1,class:"append"};function IB(e,t,n,l,o,u){const a=ke("focus");return m(),I("div",{class:ae(["v-textarea",{disabled:e.disabled,"expand-on-focus":e.expandOnFocus,"full-width":e.fullWidth,"has-content":e.hasContent}])},[e.$slots.prepend?(m(),I("div",VB,[be(e.$slots,"prepend",{},void 0,!0)])):R("",!0),Q(S("textarea",mt(e.$attrs,{placeholder:e.placeholder,disabled:e.disabled,value:e.modelValue},eo(e.listeners)),null,16,FB),[[a,e.autofocus]]),e.$slots.append?(m(),I("div",AB,[be(e.$slots,"append",{},void 0,!0)])):R("",!0)],2)}var EB=q(CB,[["render",IB],["__scopeId","data-v-12e4b7cd"]]);const DB=z({components:{SearchInput:Dn},props:{active:{type:Boolean,default:!1},selection:{type:Array,default:()=>[]},collection:{type:String,required:!0},multiple:{type:Boolean,default:!1},filter:{type:Object,default:null}},emits:["update:active","input"],setup(e,{emit:t}){const{t:n}=J(),{save:l,cancel:o}=B(),{internalActive:u}=P(),{internalSelection:a,onSelect:r}=L(),{collection:s}=Me(e),{info:p}=ot(s),{layout:f,layoutOptions:_,layoutQuery:y,search:v,filter:h}=En(s,E(null),!0),w=E(f.value||"tabular"),g=E(_.value),k=E(y.value),A=F({get(){return a.value},set(O){r(O)}}),{layoutWrapper:V}=dn(f),D=F({get(){return e.filter?h.value?{_and:[e.filter,h.value]}:e.filter:h.value},set(O){h.value=O}});return{t:n,save:l,cancel:o,internalActive:u,layoutWrapper:V,layoutSelection:A,layoutFilter:D,localLayout:w,localOptions:g,localQuery:k,collectionInfo:p,search:v,presetFilter:h};function P(){const O=E(!1);return{internalActive:F({get(){return e.active===void 0?O.value:e.active},set(N){O.value=N,t("update:active",N)}})}}function L(){const O=E(null),M=F({get(){return O.value===null?e.selection:O.value},set(K){O.value=K}});return ye(()=>e.active,()=>{O.value=null}),{internalSelection:M,onSelect:N};function N(K){if(K.length===0){O.value=[];return}e.multiple===!0?O.value=K:O.value=[K[K.length-1]]}}function B(){return{save:O,cancel:M};function O(){t("input",a.value),u.value=!1}function M(){u.value=!1}}}});function TB(e,t,n,l,o,u){const a=c("v-breadcrumb"),r=c("v-icon"),s=c("v-button"),p=c("search-input"),f=c("v-info"),_=c("v-drawer"),y=ke("tooltip");return m(),C(qe(e.layoutWrapper),{selection:e.layoutSelection,"onUpdate:selection":t[3]||(t[3]=v=>e.layoutSelection=v),"layout-options":e.localOptions,"onUpdate:layout-options":t[4]||(t[4]=v=>e.localOptions=v),"layout-query":e.localQuery,"onUpdate:layout-query":t[5]||(t[5]=v=>e.localQuery=v),filter:e.layoutFilter,search:e.search,collection:e.collection,"select-mode":"","show-select":e.multiple?"multiple":"one"},{default:d(({layoutState:v})=>[i(_,{modelValue:e.internalActive,"onUpdate:modelValue":t[2]||(t[2]=h=>e.internalActive=h),title:e.t("select_item"),onCancel:e.cancel},{subtitle:d(()=>[i(a,{items:[{name:e.collectionInfo.name,disabled:!0}]},null,8,["items"])]),"title-outer:prepend":d(()=>[i(s,{class:"header-icon",rounded:"",icon:"",secondary:"",disabled:""},{default:d(()=>[i(r,{name:e.collectionInfo.icon,color:e.collectionInfo.color},null,8,["name","color"])]),_:1})]),"actions:prepend":d(()=>[(m(),C(qe(`layout-actions-${e.localLayout}`),Je(et(v)),null,16))]),actions:d(()=>[i(p,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=h=>e.search=h),filter:e.presetFilter,"onUpdate:filter":t[1]||(t[1]=h=>e.presetFilter=h),collection:e.collection},null,8,["modelValue","filter","collection"]),Q(i(s,{icon:"",rounded:"",onClick:e.save},{default:d(()=>[i(r,{name:"check"})]),_:1},8,["onClick"]),[[y,e.t("save"),void 0,{bottom:!0}]])]),default:d(()=>[(m(),C(qe(`layout-${e.localLayout}`),mt({class:"layout"},v),{"no-results":d(()=>[i(f,{title:e.t("item_count",0),icon:e.collectionInfo.icon,center:""},null,8,["title","icon"])]),"no-items":d(()=>[i(f,{title:e.t("item_count",0),icon:e.collectionInfo.icon,center:""},null,8,["title","icon"])]),_:2},1040))]),_:2},1032,["modelValue","title","onCancel"])]),_:1},8,["selection","layout-options","layout-query","filter","search","collection","show-select"])}var Xt=q(DB,[["render",TB],["__scopeId","data-v-8ea36c04"]]);const LB=z({components:{DrawerCollection:Xt},props:{multiple:{type:Boolean,default:!1},preset:{type:Object,default:()=>({})},fileId:{type:String,default:null},fromUrl:{type:Boolean,default:!1},fromLibrary:{type:Boolean,default:!1},folder:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),{uploading:l,progress:o,upload:u,onBrowseSelect:a,done:r,numberOfFiles:s}=D(),{onDragEnter:p,onDragLeave:f,onDrop:_,dragging:y}=P(),{url:v,isValidURL:h,loading:w,importFromURL:g}=B(),{setSelection:k}=L(),A=E(null),V=F(()=>e.folder?{folder:{id:{_eq:e.folder}}}:null);return{t:n,uploading:l,progress:o,onDragEnter:p,onDragLeave:f,onDrop:_,dragging:y,onBrowseSelect:a,done:r,numberOfFiles:s,activeDialog:A,filterByFolder:V,url:v,isValidURL:h,urlLoading:w,importFromURL:g,setSelection:k};function D(){const O=E(!1),M=E(0),N=E(0),K=E(0);return{uploading:O,progress:M,upload:G,onBrowseSelect:ie,numberOfFiles:N,done:K};async function G(de){O.value=!0,M.value=0;const ne={};e.folder&&(ne.folder=e.folder);try{if(N.value=de.length,e.multiple===!0){const le=await xa(Array.from(de),{onProgressChange:se=>{M.value=Math.round(se.reduce((ee,Z)=>ee+=Z)/de.length),K.value=se.filter(ee=>ee===100).length},preset:pe(pe({},e.preset),ne)});le&&t("input",le)}else{const le=await Ya(Array.from(de)[0],{onProgressChange:se=>{M.value=se,K.value=se===100?1:0},fileId:e.fileId,preset:pe(pe({},e.preset),ne)});le&&t("input",le)}}catch(le){Se(le)}finally{O.value=!1,K.value=0,N.value=0}}function ie(de){var le;const ne=(le=de.target)==null?void 0:le.files;ne&&G(ne)}}function P(){const O=E(!1);let M=0;return{onDragEnter:N,onDragLeave:K,onDrop:G,dragging:O};function N(){M++,M===1&&(O.value=!0)}function K(){M--,M===0&&(O.value=!1)}function G(ie){var ne;M=0,O.value=!1;const de=(ne=ie.dataTransfer)==null?void 0:ne.files;de&&u(de)}}function L(){return{setSelection:O};async function O(M){if(M[0]){const N=M[0],K=await re.get(`/files/${N}`);t("input",K.data.data)}else t("input",null)}}function B(){const O=E(""),M=E(!1),N=F(()=>{try{return new URL(O.value),!0}catch{return!1}});return{url:O,loading:M,isValidURL:N,importFromURL:K};async function K(){M.value=!0;try{const G=await re.post("/files/import",{url:O.value,data:{folder:e.folder}});tl.emit(wn.upload),e.multiple?t("input",[G.data.data]):t("input",G.data.data),A.value=null,O.value=""}catch(G){Se(G)}finally{M.value=!1}}}}}),PB={class:"type-label"},OB={class:"type-text"},RB={class:"type-label"},jB={class:"type-text"},MB={class:"type-label"},UB={class:"type-text"},NB=["multiple"];function BB(e,t,n,l,o,u){const a=c("v-progress-linear"),r=c("v-icon"),s=c("v-list-item-icon"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("v-list"),y=c("v-menu"),v=c("drawer-collection"),h=c("v-card-title"),w=c("v-input"),g=c("v-card-text"),k=c("v-button"),A=c("v-card-actions"),V=c("v-card"),D=c("v-dialog");return m(),I("div",{"data-dropzone":"",class:ae(["v-upload",{dragging:e.dragging,uploading:e.uploading}]),onDragenter:t[8]||(t[8]=Ae((...P)=>e.onDragEnter&&e.onDragEnter(...P),["prevent"])),onDragover:t[9]||(t[9]=Ae(()=>{},["prevent"])),onDragleave:t[10]||(t[10]=Ae((...P)=>e.onDragLeave&&e.onDragLeave(...P),["prevent"])),onDrop:t[11]||(t[11]=Ae((...P)=>e.onDrop&&e.onDrop(...P),["stop","prevent"]))},[e.dragging?(m(),I(x,{key:0},[S("p",PB,b(e.t("drop_to_upload")),1),S("p",OB,b(e.t("upload_pending")),1)],64)):e.uploading?(m(),I(x,{key:1},[S("p",RB,b(e.progress)+"%",1),S("p",jB,b(e.multiple&&e.numberOfFiles>1?e.t("upload_files_indeterminate",{done:e.done,total:e.numberOfFiles}):e.t("upload_file_indeterminate")),1),i(a,{value:e.progress,rounded:""},null,8,["value"])],64)):(m(),I(x,{key:2},[S("p",MB,b(e.t("drag_file_here")),1),S("p",UB,b(e.t("click_to_browse")),1),S("input",{class:"browse",type:"file",multiple:e.multiple,onInput:t[0]||(t[0]=(...P)=>e.onBrowseSelect&&e.onBrowseSelect(...P))},null,40,NB),e.fromUrl!==!1||e.fromLibrary!==!1?(m(),I(x,{key:0},[i(y,{"show-arrow":"",placement:"bottom-end"},{activator:d(({toggle:P})=>[i(r,{clickable:"",class:"options",name:"more_vert",onClick:P},null,8,["onClick"])]),default:d(()=>[i(_,null,{default:d(()=>[e.fromLibrary?(m(),C(f,{key:0,clickable:"",onClick:t[1]||(t[1]=P=>e.activeDialog="choose")},{default:d(()=>[i(s,null,{default:d(()=>[i(r,{name:"folder_open"})]),_:1}),i(p,null,{default:d(()=>[T(b(e.t("choose_from_library")),1)]),_:1})]),_:1})):R("",!0),e.fromUrl?(m(),C(f,{key:1,clickable:"",onClick:t[2]||(t[2]=P=>e.activeDialog="url")},{default:d(()=>[i(s,null,{default:d(()=>[i(r,{name:"link"})]),_:1}),i(p,null,{default:d(()=>[T(b(e.t("import_from_url")),1)]),_:1})]),_:1})):R("",!0)]),_:1})]),_:1}),i(v,{collection:"directus_files",active:e.activeDialog==="choose",multiple:e.multiple,filter:e.filterByFolder,"onUpdate:active":t[3]||(t[3]=P=>e.activeDialog=null),onInput:e.setSelection},null,8,["active","multiple","filter","onInput"]),i(D,{"model-value":e.activeDialog==="url",persistent:e.urlLoading,onEsc:t[6]||(t[6]=P=>e.activeDialog=null),"onUpdate:modelValue":t[7]||(t[7]=P=>e.activeDialog=null)},{default:d(()=>[i(V,null,{default:d(()=>[i(h,null,{default:d(()=>[T(b(e.t("import_from_url")),1)]),_:1}),i(g,null,{default:d(()=>[i(w,{modelValue:e.url,"onUpdate:modelValue":t[4]||(t[4]=P=>e.url=P),autofocus:"",placeholder:e.t("url"),nullable:!1,disabled:e.urlLoading},null,8,["modelValue","placeholder","disabled"])]),_:1}),i(A,null,{default:d(()=>[i(k,{disabled:e.urlLoading,secondary:"",onClick:t[5]||(t[5]=P=>e.activeDialog=null)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1},8,["disabled"]),i(k,{loading:e.urlLoading,disabled:e.isValidURL===!1,onClick:e.importFromURL},{default:d(()=>[T(b(e.t("import_label")),1)]),_:1},8,["loading","disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value","persistent"])],64)):R("",!0)],64))],34)}var qB=q(LB,[["render",BB],["__scopeId","data-v-25e58ef6"]]);async function zB(){const e=new Date,t=wd(e),n=await Promise.all([...Array(7).keys()].map((r,s)=>$t(va(t,{days:s}),"E"))),l=await Promise.all([...Array(7).keys()].map((r,s)=>$t(va(t,{days:s}),"EEEE"))),o=await Promise.all([...Array(12).keys()].map((r,s)=>$t(bl(e,{month:s}),"LLL"))),u=await Promise.all([...Array(12).keys()].map((r,s)=>$t(bl(e,{month:s}),"LLLL"))),a=await Promise.all([$t(bl(e,{hours:0,minutes:0,seconds:0}),"a"),$t(bl(e,{hours:23,minutes:59,seconds:59}),"a")]);return{weekdays:{longhand:l,shorthand:n},months:{longhand:u,shorthand:o},amPM:a}}const KB=z({props:{modelValue:{type:String,default:null},disabled:{type:Boolean,default:!1},type:{type:String,required:!0,validator:e=>["dateTime","date","time","timestamp"].includes(e)},includeSeconds:{type:Boolean,default:!1},use24:{type:Boolean,default:!0}},emits:["update:modelValue","close"],setup(e,{emit:t}){const{t:n}=J(),l=E(null);let o;it(async()=>{if(l.value){const f=await zB();o=$d(l.value,Ve(pe({},a.value),{locale:f}))}ye(()=>e.modelValue,()=>{e.modelValue?o==null||o.setDate(e.modelValue,!1):o==null||o.clear()},{immediate:!0})}),yl(()=>{o&&(o.close(),o=null)});const u={static:!0,inline:!0,nextArrow:'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z"/></svg>',prevArrow:'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z"/></svg>',wrap:!0,onChange(f,_,y){const v=f.length>0?f[0]:null;r(v)},onClose(f,_,y){const v=f.length>0?f[0]:null;r(v)},onReady(f,_,y){var h,w,g;const v=document.createElement("button");v.innerHTML=n("interfaces.datetime.set_to_now"),v.classList.add("set-to-now-button"),v.tabIndex=-1,v.addEventListener("click",s),y.calendarContainer.appendChild(v),e.use24?e.includeSeconds?(w=y.secondElement)==null||w.addEventListener("keydown",p):(g=y.minuteElement)==null||g.addEventListener("keydown",p):(h=y.amPM)==null||h.addEventListener("keydown",p)}},a=F(()=>Object.assign({},u,{enableSeconds:e.includeSeconds,enableTime:["dateTime","time","timestamp"].includes(e.type),noCalendar:e.type==="time",time_24hr:e.use24}));function r(f){if(!f)return t("update:modelValue",null);switch(e.type){case"dateTime":return t("update:modelValue",xt(f,"yyyy-MM-dd'T'HH:mm:ss"));case"date":return t("update:modelValue",xt(f,"yyyy-MM-dd"));case"time":return t("update:modelValue",xt(f,"HH:mm:ss"));case"timestamp":return t("update:modelValue",Gn(f))}}function s(){o==null||o.setDate(new Date,!0)}function p(f){f.key==="Enter"&&(o==null||o.close(),t("close"))}return{t:n,wrapper:l}}}),HB={ref:"wrapper",class:"v-date-picker"},WB=["placeholder"];function GB(e,t,n,l,o,u){return m(),I("div",HB,[S("input",{class:"input",type:"text",placeholder:e.t("enter_a_value"),"data-input":""},null,8,WB)],512)}var ZB=q(KB,[["render",GB],["__scopeId","data-v-2544012e"]]);function JB(e){e.component("VAvatar",MP),e.component("VBadge",qP),e.component("VBreadcrumb",GP),e.component("VButton",XP),e.component("VCardActions",t9),e.component("VCardSubtitle",a9),e.component("VCardText",d9),e.component("VCardTitle",m9),e.component("VCard",v9),e.component("VCheckbox",$9),e.component("VCheckboxTree",A9),e.component("VChip",T9),e.component("VDetail",R9),e.component("VDialog",N9),e.component("VDivider",W9),e.component("VError",yO),e.component("VFancySelect",VO),e.component("VFieldTemplate",UO),e.component("VFieldSelect",DO),e.component("VForm",aR),e.component("VHover",sR),e.component("VHighlight",cR),e.component("VIcon",FM),e.component("VInfo",LM),e.component("VInput",KM),e.component("VItemGroup",ZM),e.component("VItem",YM),e.component("VListGroup",lU),e.component("VListItemContent",rU),e.component("VListItemHint",uU),e.component("VListItemIcon",mU),e.component("VListItem",vU),e.component("VList",gU),e.component("VMenu",SU),e.component("VDrawer",mO),e.component("VNotice",FU),e.component("VOverlay",LU),e.component("VPagination",NU),e.component("VProgressCircular",HU),e.component("VProgressLinear",ZU),e.component("VRadio",xU),e.component("VSelect",pN),e.component("VSheet",vN),e.component("VSkeletonLoader",wN),e.component("VSlider",DN),e.component("VSwitch",MN),e.component("VTabItem",uB),e.component("VTab",mB),e.component("VTable",iB),e.component("VTabsItems",vB),e.component("VTabs",bB),e.component("VTemplateInput",Ba),e.component("VTextarea",EB),e.component("VTextOverflow",SB),e.component("VUpload",qB),e.component("VDatePicker",ZB),e.component("TransitionBounce",AP),e.component("TransitionDialog",DP),e.component("TransitionExpand",OP),e.component("RenderDisplay",YL),e.component("RenderTemplate",rP),e.component("ExportSidebarDetail",Ma),e.component("SidebarDetail",mP),e.component("UserPopover",$P),e.component("ValueNull",tn),e.component("DocsWrapper",CP)}const Xr=(e,{value:t})=>{const{handler:n,middleware:l,events:o,disabled:u}=XB(t);ye(()=>t,a=>{JSON.stringify(a)!==JSON.stringify(t)&&xr(e,{value:a,oldValue:null})}),u!==!0&&(e.$clickOutsideHandlers=o.map(a=>({event:a,handler:r=>YB({event:r,el:e,handler:n,middleware:l})})),e.$clickOutsideHandlers.forEach(({event:a,handler:r})=>{setTimeout(()=>{!e.$clickOutsideHandlers||document.documentElement.addEventListener(a,r,!1)})}))},Yr=e=>{(e.$clickOutsideHandlers||[]).forEach(({event:n,handler:l})=>{document.documentElement.removeEventListener(n,l,!1)})},xr=(e,{value:t,oldValue:n})=>{JSON.stringify(t)!==JSON.stringify(n)&&(Yr(e),Xr(e,{value:t}))},QB={beforeMount:Xr,unmounted:Yr,updated:xr};function XB(e){const t=typeof e=="function";let n;if(t)n={handler:e,middleware:()=>!0,events:["pointerdown"],disabled:!1};else{const l=e;n={handler:l.handler||(()=>{}),middleware:l.middleware||(()=>!0),events:l.events||["pointerdown"],disabled:l.disabled!==void 0?!!l.disabled:!1}}return n}function YB({el:e,event:t,handler:n,middleware:l}){t.stopPropagation();const o=t.composedPath();(o?o.indexOf(e)<0:e.contains(t.target)===!1)!==!1&&l(t)&&n(t)}function xB(e,t){var l;const n=(l=t.instance)==null?void 0:l.$refs[t.value];e.addEventListener("contextmenu",es(n)),document.documentElement.addEventListener("pointerdown",ts(n))}function eq(e,t){var l;const n=(l=t.instance)==null?void 0:l.$refs[t.value];e.removeEventListener("contextmenu",es(n)),document.documentElement.removeEventListener("pointerdown",ts(n))}const tq={mounted:xB,unmounted:eq};function es(e){return t=>{t.stopPropagation(),t.preventDefault(),!!e&&e.activate(t)}}function ts(e){return t=>{!e||t.composedPath().find(l=>l.id===e.id)||e.deactivate(t)}}const nq={mounted(e,t){t.value?e.focus():e.blur()}},lq=300,Bl={};function Zo(e,t){t.value&&(e.dataset.tooltip=yt(),Bl[e.dataset.tooltip]=aq(e,t),e.addEventListener("mouseenter",Bl[e.dataset.tooltip]),e.addEventListener("mouseleave",ns))}function Jo(e){e.removeEventListener("mouseenter",Bl[e.dataset.tooltip]),e.removeEventListener("mouseleave",ns),clearTimeout(ql),Qo().classList.remove("visible"),delete Bl[e.dataset.tooltip]}const oq={beforeMount:Zo,unmounted:Jo,updated(e,t){t.value&&!t.oldValue?Zo(e,t):!t.value&&t.oldValue?Jo(e):(Jo(e),Zo(e,t))}};let ql;function aq(e,t){return()=>{const n=Qo();t.modifiers.instant?(os(n),ls(e,t,n)):(clearTimeout(ql),ql=window.setTimeout(()=>{os(n),ls(e,t,n)},lq))}}function ns(){const e=Qo();clearTimeout(ql),iq(e)}function ls(e,t,n){var f;const l=10,o=20,u=e.getBoundingClientRect();let a=u.top+pageYOffset,r=u.left+pageXOffset,s;n.innerText=t.value,n.classList.remove("top","bottom","left","right","start","end");let p=(f=t.arg)!=null?f:"top";"top"in t.modifiers&&(p="top"),"right"in t.modifiers&&(p="right"),"bottom"in t.modifiers&&(p="bottom"),"left"in t.modifiers&&(p="left"),t.modifiers.inverted?n.classList.add("inverted"):n.classList.remove("inverted"),t.modifiers.monospace&&n.classList.add("monospace"),p==="bottom"?(t.modifiers.start?(r+=o,s=100,n.classList.add("start")):t.modifiers.end?(r+=u.width-o,s=0,n.classList.add("end")):(r+=u.width/2,s=50),a+=u.height+l,n.style.transform=`translate(calc(${r}px - ${s}%), ${a}px)`,n.classList.add("bottom")):p==="left"?(t.modifiers.start?(a+=o,s=100,n.classList.add("start")):t.modifiers.end?(a+=u.height-o,s=0,n.classList.add("end")):(a+=u.height/2,s=50),r-=l,n.style.transform=`translate(calc(${r}px - 100%), calc(${a}px - ${s}%))`,n.classList.add("left")):p==="right"?(t.modifiers.start?(a+=o,s=100,n.classList.add("start")):t.modifiers.end?(a+=u.height-o,s=0,n.classList.add("end")):(a+=u.height/2,s=50),r+=u.width+l,n.style.transform=`translate(${r}px, calc(${a}px - ${s}%))`,n.classList.add("right")):(t.modifiers.start?(r+=o,s=100,n.classList.add("start")):t.modifiers.end?(r+=u.width-o,s=0,n.classList.add("end")):(r+=u.width/2,s=50),a-=l,n.style.transform=`translate(calc(${r}px - ${s}%), calc(${a}px - 100%))`,n.classList.add("top"))}function os(e){e.classList.add("visible","enter"),e.classList.remove("leave","leave-active"),setTimeout(()=>{e.classList.contains("enter")!==!1&&(e.classList.add("enter-active"),e.classList.remove("enter"))},1),setTimeout(()=>{e.classList.remove("enter-active")},200)}function iq(e){e.classList.contains("visible")!==!1&&(e.classList.add("visible","leave"),e.classList.remove("enter","enter-active"),setTimeout(()=>{e.classList.contains("leave")!==!1&&(e.classList.add("leave-active"),e.classList.remove("leave"))},1),setTimeout(()=>{e.classList.contains("leave-active")!==!1&&(e.classList.remove("leave-active"),e.classList.remove("visible"))},200))}function Qo(){let e=document.getElementById("tooltip");return e instanceof HTMLElement||(e=document.createElement("div"),e.id="tooltip",document.body.appendChild(e)),e}const rq={beforeMount(e,t){var n;e.innerHTML=Ol((n=t.value)!=null?n:"")},updated(e,t){var n;e.innerHTML=Ol((n=t.value)!=null?n:"")}};function sq(e){e.directive("click-outside",QB),e.directive("context-menu",tq),e.directive("focus",nq),e.directive("tooltip",oq),e.directive("md",rq)}const dq=z({props:{showHeader:{type:Boolean,default:!1},text:{type:String,default:""},color:{type:String,default:void 0}}});function uq(e,t,n,l,o,u){return m(),I("div",{class:ae(["label type-title selectable",{"has-header":e.showHeader}]),style:Ue({color:e.color})},b(e.text),7)}var cq=q(dq,[["render",uq],["__scopeId","data-v-b5689fe6"]]),pq=wl({id:"label",name:"$t:panels.label.name",description:"$t:panels.label.description",icon:"title",component:cq,options:[{field:"text",name:"$t:label",type:"string",meta:{interface:"input",width:"half"}},{field:"color",name:"$t:color",type:"string",meta:{interface:"select-color",width:"half",options:{placeholder:"$t:automatic"}}}],minWidth:8,minHeight:6}),mq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:pq});function Yt(e,t){const n=Le();return e.map(o=>{var s,p,f;const u=n.getField(t,o);if(!u||((s=u.meta)==null?void 0:s.display)===null)return o;const a=Zn((p=u.meta)==null?void 0:p.display);if(!a||!(a==null?void 0:a.fields))return o;let r=null;return Array.isArray(a.fields)&&(r=a.fields.map(_=>`${o}.${_}`)),typeof a.fields=="function"&&(r=a.fields((f=u.meta)==null?void 0:f.display_options,{collection:u.collection,field:u.field,type:u.type}).map(_=>`${o}.${_}`)),r?r.map(_=>_.includes("$thumbnail")&&u.collection==="directus_files"?_.split(".").filter(y=>y!=="$thumbnail").join("."):_):o}).flat()}const fq=z({components:{DrawerItem:jt},props:{showHeader:{type:Boolean,default:!1},displayTemplate:{type:String,default:""},sortField:{type:String,default:void 0},sortDirection:{type:String,default:"desc"},collection:{type:String,required:!0},limit:{type:Number,default:5},filter:{type:Object,default:()=>({})}},setup(e){const{t}=J(),n=E(),l=E(),o=Le(),u=E([]),a=E(!1),r=E(),s=F(()=>u.value&&u.value.length>0),p=F(()=>e.displayTemplate),f=F(()=>o.getPrimaryKeyFieldForCollection(e.collection));return Ql(async()=>await _()),{list:u,loading:a,renderTemplate:p,primaryKeyField:f,startEditing:y,saveEdits:v,cancelEdit:h,currentlyEditing:n,editsAtStart:l,hasData:s,t};async function _(){var w;if(!!e){a.value=!0;try{const g=e.sortField,k=await re.get(Jt(e.collection),{params:{fields:[f.value.field,...Yt(ht(p.value),e.collection)],filter:e.filter,sort:e.sortDirection==="desc"?`-${g}`:g,limit:(w=e.limit)!=null?w:5}});u.value=k.data.data}catch(g){r.value=g,Se(g)}finally{a.value=!1}}}function y(w){n.value=w[f.value.field],l.value=w}async function v(w){try{await re.patch(`/items/${e.collection}/${n.value}`,w)}catch(g){Se(g)}await _()}function h(){l.value=void 0,n.value=void 0}}}),_q=e=>(He("data-v-2e679585"),e=e(),We(),e),vq={key:1,class:"type-note"},yq={key:2},hq=_q(()=>S("div",{class:"spacer"},null,-1));function gq(e,t,n,l,o,u){var _;const a=c("v-progress-circular"),r=c("render-template"),s=c("v-list-item"),p=c("v-list"),f=c("drawer-item");return m(),I("div",{class:ae(["list",{"has-header":e.showHeader,loading:e.loading,"no-data":!e.hasData}])},[e.loading?(m(),C(a,{key:0,indeterminate:""})):e.hasData?(m(),I("div",yq,[i(p,null,{default:d(()=>[(m(!0),I(x,null,$e(e.list,y=>(m(),C(s,{key:y[e.primaryKeyField.field],class:"selectable",clickable:"",onClick:v=>e.startEditing(y)},{default:d(()=>[i(r,{item:y,collection:e.collection,template:e.renderTemplate},null,8,["item","collection","template"]),hq]),_:2},1032,["onClick"]))),128))]),_:1})])):(m(),I("span",vq,b(e.t("no_data")),1)),i(f,{active:!!e.currentlyEditing,collection:e.collection,"primary-key":(_=e.currentlyEditing)!=null?_:"+",edits:e.editsAtStart,onInput:e.saveEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","edits","onInput","onUpdate:active"])],2)}var bq=q(fq,[["render",gq],["__scopeId","data-v-2e679585"]]),wq=wl({id:"list",name:"$t:panels.list.name",description:"$t:panels.list.description",icon:"list",component:bq,options:[{field:"collection",type:"string",name:"$t:collection",meta:{interface:"system-collection",options:{includeSystem:!0},width:"half"}},{field:"limit",type:"integer",name:"$t:limit",schema:{default_value:5},meta:{interface:"input",width:"half"}},{field:"sortField",type:"string",name:"$t:sort_field",meta:{interface:"system-field",options:{collectionField:"collection",allowPrimaryKey:!0,placeholder:"$t:primary_key"},width:"half"}},{field:"sortDirection",type:"string",name:"$t:sort_direction",schema:{default_value:"desc"},meta:{interface:"select-dropdown",options:{choices:[{text:"$t:sort_asc",value:"asc"},{text:"$t:sort_desc",value:"desc"}]},width:"half"}},{field:"displayTemplate",name:"$t:display_template",type:"string",meta:{interface:"system-display-template",width:"full",options:{collectionField:"collection",placeholder:"{{ field }}"}}},{field:"filter",type:"json",name:"$t:filter",meta:{interface:"system-filter",options:{collectionField:"collection"}}}],minWidth:12,minHeight:6}),$q=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wq});const kq=z({props:{showHeader:{type:Boolean,default:!1},abbreviate:{type:Boolean,default:!1},sortField:{type:String,default:void 0},collection:{type:String,required:!0},field:{type:String,required:!0},function:{type:String,required:!0},filter:{type:Object,default:()=>({})},decimals:{type:Number,default:0},conditionalFormatting:{type:Array,default:()=>[]},prefix:{type:String,default:null},suffix:{type:String,default:null}},setup(e){const{n:t}=J(),n=E(),l=E(!1);Ql(async()=>{const a=["first","last"].includes(e.function);l.value=!0;try{const r=e.sortField&&`${e.function==="last"?"-":""}${e.sortField}`,s=a?void 0:{[e.function]:[e.field||"*"]},p=await re.get(Jt(e.collection),{params:{aggregate:s,filter:e.filter,sort:r,limit:1,fields:[e.field]}});e.field?e.function==="first"||e.function==="last"?typeof p.data.data[0][e.field]=="string"?n.value=p.data.data[0][e.field]:n.value=Number(p.data.data[0][e.field]):n.value=Number(p.data.data[0][e.function][e.field]):n.value=Number(p.data.data[0][e.function])}catch{}finally{l.value=!1}});const o=F(()=>{var a,r,s;return U.exports.isNil(n.value)?null:e.abbreviate?_o(n.value,(a=e.decimals)!=null?a:0):typeof n.value=="string"?n.value:t(Number(n.value),"decimal",{minimumFractionDigits:(r=e.decimals)!=null?r:0,maximumFractionDigits:(s=e.decimals)!=null?s:0})}),u=F(()=>{if(U.exports.isNil(n.value))return null;let a=null;for(const s of e.conditionalFormatting||[])r(s)&&(a=s);return a?a.color||"#00C897":null;function r(s){var _;const p=Number(n.value),f=Number((_=s.value)!=null?_:0);switch(s.operator||">="){case"=":return p===f;case"!=":return p!==f;case">":return p>f;case">=":return p>=f;case"<":return p<f;case"<=":return p<f}}});return{metric:n,loading:l,displayValue:o,color:u}}}),Sq={class:"prefix"},Cq={class:"value"},Vq={class:"suffix"};function Fq(e,t,n,l,o,u){const a=c("v-progress-circular");return m(),I("div",{class:ae(["metric type-title selectable",{"has-header":e.showHeader}])},[e.loading?(m(),C(a,{key:0,indeterminate:""})):(m(),I("div",{key:1,style:Ue({color:e.color})},[S("span",Sq,b(e.prefix),1),S("span",Cq,b(e.displayValue),1),S("span",Vq,b(e.suffix),1)],4))],2)}var Aq=q(kq,[["render",Fq],["__scopeId","data-v-7fba0e71"]]),Iq=wl({id:"metric",name:"$t:panels.metric.name",description:"$t:panels.metric.description",icon:"functions",component:Aq,options:({options:e})=>{const t=Le(),n=F(()=>{var o;return(e==null?void 0:e.collection)&&(e==null?void 0:e.field)?(o=t.getField(e.collection,e.field))==null?void 0:o.type:null}),l=F(()=>n.value?["integer","bigInteger","float","decimal"].includes(n.value):!1);return[{field:"collection",type:"string",name:"$t:collection",meta:{interface:"system-collection",options:{includeSystem:!0},selectedCollection:"",hasBeenSelected:!1,width:"half"}},{field:"field",type:"string",name:"$t:panels.metric.field",meta:{interface:"system-field",options:{collectionField:"collection",allowPrimaryKey:!0,allowNone:!0},width:"half"}},{field:"function",type:"string",name:"$t:aggregate_function",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"Count",value:"count",disabled:!1},{text:"First",value:"first",disabled:!1},{text:"Last",value:"last",disabled:!1},{divider:!0},{text:"Count (Distinct)",value:"countDistinct",disabled:!l.value},{text:"Average",value:"avg",disabled:!l.value},{text:"Average (Distinct)",value:"avgDistinct",disabled:!l.value},{text:"Sum",value:"sum",disabled:!l.value},{text:"Sum (Distinct)",value:"sumDistinct",disabled:!l.value},{text:"Minimum",value:"min",disabled:!l.value},{text:"Maximum",value:"max",disabled:!l.value}]}}},{field:"sortField",type:"string",name:"$t:sort_field",meta:{interface:"system-field",options:{collectionField:"collection",allowPrimaryKey:!0,placeholder:"$t:primary_key"},width:"half"}},{field:"filter",type:"json",name:"$t:filter",meta:{interface:"system-filter",options:{collectionField:"collection"}}},{field:"styleDivider",type:"alias",meta:{interface:"presentation-divider",options:{icon:"style",title:"Style & Format"},special:["alias","no-data"]}},{field:"abbreviate",type:"boolean",name:"$t:abbreviate_value",schema:{default_value:!1},meta:{interface:"boolean",width:"half"}},{field:"decimals",type:"integer",name:"$t:decimals",meta:{interface:"input",width:"half",options:{placeholder:"$t:decimals_placeholder"}},schema:{default_value:0}},{field:"prefix",type:"string",name:"$t:prefix",meta:{interface:"input",width:"half",options:{placeholder:"$t:prefix_placeholder",trim:!1}}},{field:"suffix",type:"string",name:"$t:suffix",meta:{interface:"input",width:"half",options:{placeholder:"$t:suffix_placeholder",trim:!1}}},{field:"conditionalFormatting",type:"json",name:"$t:conditional_styles",meta:{interface:"list",width:"full",options:{template:"{{color}} {{operator}} {{value}}",fields:[{field:"operator",name:"$t:operator",type:"string",schema:{default_value:">="},meta:{interface:"select-dropdown",options:{choices:[{text:"$t:operators.eq",value:"="},{text:"$t:operators.neq",value:"!="},{text:"$t:operators.gt",value:">"},{text:"$t:operators.gte",value:">="},{text:"$t:operators.lt",value:"<"},{text:"$t:operators.lte",value:"<="}]},width:"half"}},{field:"value",name:"$t:value",type:"integer",schema:{default_value:0},meta:{interface:"input",width:"half"}},{field:"color",name:"$t:color",type:"string",schema:{default_value:"#00C897"},meta:{interface:"select-color",display:"color"}}]}}}]},minWidth:8,minHeight:6}),Eq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Iq});function Dq(e,t){e=U.exports.clone(e);const n=t.startsWith("-");(n||t.startsWith("+"))&&(t=t.substring(1));const l=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mth|mo|years?|yrs?|y)?$/i.exec(t);if(!l)return;const o=parseFloat(l[1]);switch((l[2]||"days").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n?Od(e,o):Rd(e,o);case"months":case"month":case"mth":case"mo":return n?Ld(e,o):Pd(e,o);case"weeks":case"week":case"w":return n?Td(e,o):ya(e,o);case"days":case"day":case"d":return n?ca(e,o):Dd(e,o);case"hours":case"hour":case"hrs":case"hr":case"h":return n?Id(e,o):Ed(e,o);case"minutes":case"minute":case"mins":case"min":case"m":return n?Fd(e,o):Ad(e,o);case"seconds":case"second":case"secs":case"sec":case"s":return n?Cd(e,o):Vd(e,o);case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n?kd(e,o):Sd(e,o);default:return}}const Tq=z({props:{height:{type:Number,required:!0},showHeader:{type:Boolean,default:!1},id:{type:String,required:!0},dashboard:{type:String,required:!0},now:{type:Date,required:!0},collection:{type:String,required:!0},dateField:{type:String,required:!0},valueField:{type:String,required:!0},function:{type:String,required:!0},precision:{type:String,default:"hour"},range:{type:String,default:"1 week"},color:{type:String,default:"#00C897"},fillType:{type:String,default:"gradient"},curveType:{type:String,default:"smooth"},decimals:{type:Number,default:0},min:{type:Number,default:void 0},max:{type:Number,default:void 0},filter:{type:Object,default:()=>({})},showXAxis:{type:Boolean,default:!0},showYAxis:{type:Boolean,default:!0}},setup(e){const{d:t,t:n,n:l}=J(),o=Le(),u=E([]),a=E(!1),r=E(),s=E(),p=E(),f=F(()=>{const v=o.getField(e.collection,e.valueField),h=n(e.function);return`${v.name} (${h})`});return ye([()=>e.collection,()=>e.dateField,()=>e.valueField,()=>e.function,()=>e.precision,()=>e.range,()=>e.color,()=>e.fillType,()=>e.curveType,()=>e.decimals,()=>e.min,()=>e.max,()=>e.filter,()=>e.showXAxis,()=>e.showYAxis],()=>{var v;_(),(v=p.value)==null||v.destroy(),y()},{deep:!0}),_(),it(y),At(()=>{var v;(v=p.value)==null||v.destroy()}),{chartEl:s,metrics:u,loading:a,error:r};async function _(){var w;a.value=!0;try{const g=await re.get(Jt(e.collection),{params:{groupBy:h(),aggregate:{[e.function]:[e.valueField]},filter:{_and:[{[e.dateField]:{_gte:`$NOW(-${e.range||"1 week"})`}},{[e.dateField]:{_lte:"$NOW"}},e.filter||{}]},limit:-1}});u.value=g.data.data,(w=p.value)==null||w.updateSeries([{name:e.collection,data:u.value.map(k=>{var A;return{x:v(k),y:Number(Number(k[e.function][e.valueField]).toFixed((A=e.decimals)!=null?A:0))}})}])}catch(g){r.value=g}finally{a.value=!1}function v(g){var N,K,G,ie,de;const k=g[`${e.dateField}_year`],A=O((N=g[`${e.dateField}_month`])!=null?N:1),V=g[`${e.dateField}_week`],D=O(V?M(V,k):(K=g[`${e.dateField}_day`])!=null?K:1),P=O((G=g[`${e.dateField}_hour`])!=null?G:0),L=O((ie=g[`${e.dateField}_minute`])!=null?ie:0),B=O((de=g[`${e.dateField}_second`])!=null?de:0);return`${k}-${A}-${D}T${P}:${L}:${B}`;function O(ne){return String(ne).padStart(2,"0")}function M(ne,le){return ya(new Date(le,0,1),ne).getDate()}}function h(){let g=[];switch(e.precision||"hour"){case"year":g=["year"];break;case"month":g=["year","month"];break;case"week":g=["year","month","week"];break;case"day":g=["year","month","day"];break;case"hour":g=["year","month","day","hour"];break;case"minute":g=["year","month","day","hour","minute"];break;case"second":g=["year","month","day","hour","minute","second"];break;default:g=["year","month","day","hour"];break}return g.map(k=>`${k}(${e.dateField})`)}}function y(){var v,h;p.value=new jd(s.value,{colors:[e.color?e.color:"#00C897"],chart:{type:e.fillType==="disabled"?"line":"area",height:"100%",toolbar:{show:!1},selection:{enabled:!1},zoom:{enabled:!1},fontFamily:"var(--family-sans-serif)",foreColor:"var(--foreground-subdued)"},series:[],stroke:{curve:e.curveType,width:2,lineCap:"round"},markers:{hover:{size:void 0,sizeOffset:4}},fill:{type:e.fillType==="disabled"?"solid":e.fillType,gradient:{colorStops:[[{offset:0,color:e.color?e.color:"#00C897",opacity:.25},{offset:100,color:e.color?e.color:"#00C897",opacity:0}]]}},grid:{borderColor:"var(--border-subdued)",padding:{top:e.showHeader?-20:-4,bottom:0,left:8}},dataLabels:{enabled:!1},tooltip:{marker:{show:!1},x:{show:!0,formatter(w){return t(new Date(w),"long")}},y:{title:{formatter:()=>f.value+": "},formatter(w){return l(w)}}},xaxis:{type:"datetime",tooltip:{enabled:!1},axisTicks:{show:!1},axisBorder:{show:!1},range:e.now.getTime()-Dq(e.now,`-${e.range}`).getTime(),max:e.now.getTime(),labels:{show:(v=e.showXAxis)!=null?v:!0,offsetY:-4,style:{fontFamily:"var(--family-sans-serif)",foreColor:"var(--foreground-subdued)",fontWeight:600,fontSize:"10px"}},crosshairs:{stroke:{color:"var(--border-normal)"}}},yaxis:{show:(h=e.showYAxis)!=null?h:!0,forceNiceScale:!0,min:U.exports.isNil(e.min)?void 0:Number(e.min),max:U.exports.isNil(e.max)?void 0:Number(e.max),tickAmount:e.height-4,labels:{offsetY:1,offsetX:-4,formatter:w=>{var g,k;return w>1e4?_o(w,1):l(w,"decimal",{minimumFractionDigits:(g=e.decimals)!=null?g:0,maximumFractionDigits:(k=e.decimals)!=null?k:0})},style:{fontFamily:"var(--family-sans-serif)",foreColor:"var(--foreground-subdued)",fontWeight:600,fontSize:"10px"}}}}),p.value.render()}}}),Lq={ref:"chartEl",class:"time-series"};function Pq(e,t,n,l,o,u){return m(),I("div",Lq,null,512)}var Oq=q(Tq,[["render",Pq],["__scopeId","data-v-7215adc2"]]),Rq=wl({id:"time-series",name:"$t:panels.time_series.name",description:"$t:panels.time_series.description",icon:"show_chart",component:Oq,options:[{field:"collection",type:"string",name:"$t:collection",meta:{interface:"system-collection",options:{includeSystem:!0},width:"half"}},{field:"color",name:"$t:color",type:"string",schema:{default_value:"#00C897"},meta:{interface:"select-color",width:"half"}},{field:"function",type:"string",name:"$t:group_aggregation",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"Count",value:"count"},{text:"Count (Distinct)",value:"countDistinct"},{text:"Average",value:"avg"},{text:"Average (Distinct)",value:"avgDistinct"},{text:"Sum",value:"sum"},{text:"Sum (Distinct)",value:"sumDistinct"},{text:"Minimum",value:"min"},{text:"Maximum",value:"max"}]}}},{field:"precision",type:"string",name:"$t:group_precision",meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"Second",value:"second"},{text:"Minute",value:"minute"},{text:"Hour",value:"hour"},{text:"Day",value:"day"},{text:"Week",value:"week"},{text:"Month",value:"month"},{text:"Year",value:"year"}]}},schema:{default_value:"hour"}},{field:"dateField",type:"string",name:"$t:panels.time_series.date_field",meta:{interface:"system-field",options:{collectionField:"collection",typeAllowList:["date","dateTime","timestamp"]},width:"half"}},{field:"range",type:"dropdown",name:"$t:date_range",schema:{default_value:"1 week"},meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"Past 5 Minutes",value:"5 minutes"},{text:"Past 15 Minutes",value:"15 minutes"},{text:"Past 30 Minutes",value:"30 minutes"},{text:"Past 1 Hour",value:"1 hour"},{text:"Past 4 Hours",value:"4 hours"},{text:"Past 1 Day",value:"1 day"},{text:"Past 2 Days",value:"2 days"},{text:"Past 1 Week",value:"1 week"},{text:"Past 1 Month",value:"1 month"},{text:"Past 3 Months",value:"3 months"}],allowOther:!0}}},{field:"valueField",type:"string",name:"$t:panels.time_series.value_field",meta:{interface:"system-field",options:{collectionField:"collection",typeAllowList:["integer","bigInteger","float","decimal"]},width:"half"}},{field:"decimals",type:"integer",name:"$t:value_decimals",meta:{interface:"input",width:"half",options:{placeholder:"$t:decimals_placeholder"}},schema:{default_value:0}},{field:"min",type:"integer",name:"$t:min_value",meta:{interface:"input",width:"half",options:{placeholder:"$t:automatic"}}},{field:"max",type:"integer",name:"$t:max_value",meta:{interface:"input",width:"half",options:{placeholder:"$t:automatic"}}},{field:"curveType",type:"string",name:"$t:panels.time_series.curve_type",meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"Smooth",value:"smooth"},{text:"Straight",value:"straight"},{text:"Stepline",value:"stepline"}]}},schema:{default_value:"smooth"}},{field:"fillType",type:"string",name:"$t:panels.time_series.fill_type",meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"Gradient",value:"gradient"},{text:"Solid",value:"solid"},{text:"Disabled",value:"disabled"}]}},schema:{default_value:"gradient"}},{field:"filter",type:"json",name:"$t:filter",meta:{interface:"system-filter",options:{collectionField:"collection"}}},{field:"showXAxis",type:"boolean",name:"$t:show_x_axis",meta:{interface:"boolean",width:"half"},schema:{default_value:!0}},{field:"showYAxis",type:"boolean",name:"$t:show_y_axis",meta:{interface:"boolean",width:"half"},schema:{default_value:!0}}],minWidth:12,minHeight:6}),jq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Rq});const{panelsRaw:as}=Jn();async function Mq(e){const n=Object.values({"./label/index.ts":mq,"./list/index.ts":$q,"./metric/index.ts":Eq,"./time-series/index.ts":jq}).map(l=>l.default);try{const l=await j(()=>import(`${Ge()}extensions/panels/index.js`),[]);n.push(...l.default)}catch(l){console.warn("Couldn't load custom panels"),console.warn(l)}as.value=n,as.value.forEach(l=>{e.component(`panel-${l.id}`,l.component),typeof l.options!="function"&&Array.isArray(l.options)===!1&&l.options!==null&&e.component(`panel-options-${l.id}`,l.options)})}const Uq=z({props:{value:{type:Boolean,default:!1},labelOn:{type:String,default:null},labelOff:{type:String,default:null},iconOn:{type:String,default:"check"},iconOff:{type:String,default:"close"},colorOn:{type:String,default:"var(--primary)"},colorOff:{type:String,default:"var(--foreground-subdued)"}},setup(e){return{styles:F(()=>{const n={};return e.colorOn!==null&&e.colorOff!==null&&(n.color=e.value?e.colorOn:e.colorOff,n["--v-icon-color"]=e.value?e.colorOn:e.colorOff),n})}}}),Nq={key:1};function Bq(e,t,n,l,o,u){const a=c("value-null"),r=c("v-icon");return m(),I("div",{class:"boolean",style:Ue(e.styles)},[e.value===null?(m(),C(a,{key:0})):(m(),I(x,{key:1},[e.iconOn!==null&&e.iconOff!==null?(m(),C(r,{key:0,name:e.value?e.iconOn:e.iconOff},null,8,["name"])):R("",!0),e.labelOn!==null&&e.labelOff!==null?(m(),I("span",Nq,b(e.value?e.labelOn:e.labelOff),1)):R("",!0)],64))],4)}var qq=q(Uq,[["render",Bq],["__scopeId","data-v-f75cb4b2"]]),zq=gt({id:"boolean",name:"$t:displays.boolean.boolean",description:"$t:displays.boolean.description",types:["boolean"],icon:"check_box",component:qq,options:[{field:"labelOn",name:"$t:displays.boolean.label_on",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:displays.boolean.label_on_placeholder"}}},{field:"labelOff",name:"$t:displays.boolean.label_off",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:displays.boolean.label_off_placeholder"}}},{field:"iconOn",name:"$t:displays.boolean.icon_on",type:"string",meta:{interface:"select-icon",width:"half"},schema:{default_value:"check"}},{field:"iconOff",name:"$t:displays.boolean.icon_off",type:"string",meta:{interface:"select-icon",width:"half"},schema:{default_value:"close"}},{field:"colorOn",name:"$t:displays.boolean.color_on",type:"string",meta:{interface:"select-color",width:"half"}},{field:"colorOff",name:"$t:displays.boolean.color_off",type:"string",meta:{interface:"select-color",width:"half"}}]}),Kq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:zq});const Hq=z({props:{value:{type:String,default:null},icon:{type:Boolean,default:!1}},setup(e){const t=Me(e).value,{info:n}=ot(t);return{info:n}}}),Wq={key:1};function Gq(e,t,n,l,o,u){const a=c("value-null"),r=c("v-icon");return e.value===null||!e.info?(m(),C(a,{key:0})):(m(),I("div",Wq,[e.icon?(m(),C(r,{key:0,name:e.info.icon,left:"",small:""},null,8,["name"])):R("",!0),T(" "+b(e.info.name),1)]))}var Zq=q(Hq,[["render",Gq]]),Jq=gt({id:"collection",name:"$t:displays.collection.collection",description:"$t:displays.collection.description",types:["string"],icon:"label",component:Zq,options:[{field:"icon",name:"$t:icon",type:"boolean",meta:{interface:"boolean",options:{label:"$t:displays.collection.icon_label"}},schema:{default_value:!1}}]}),Qq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Jq});function zl(e){return/^#(([a-f\d]{2}){3,4})$/i.test(e)}const Xq=z({props:{value:{type:String,default:null},defaultColor:{type:String,default:"#B0BEC5",validator:e=>e===null||zl(e)||e.startsWith("var(--")}},setup(e){const t=F(()=>e.value),n=F(()=>{var f,_;const o=((f=e.defaultColor)==null?void 0:f.startsWith("var("))?l(e.defaultColor):e.defaultColor,u=((_=e.value)==null?void 0:_.startsWith("var("))?l(e.value):e.value,a={"background-color":o};u!==null&&(a["background-color"]=u);const r=l("var(--background-page)"),s=Nt(r);return(u===null?Nt(o):Nt(u)).contrast(s)<1.1&&(a.border="1px solid var(--border-normal)"),a});return{displayValue:t,styles:n};function l(o){return getComputedStyle(document.body).getPropertyValue(o.slice(4,-1)).trim()}}}),Yq={class:"color-dot"};function xq(e,t,n,l,o,u){const a=c("value-null");return m(),I("div",Yq,[e.value===null&&e.defaultColor===null?(m(),C(a,{key:0})):R("",!0),S("div",{class:"dot",style:Ue(e.styles)},null,4)])}var ez=q(Xq,[["render",xq],["__scopeId","data-v-37c4bfe4"]]),tz=gt({id:"color",name:"$t:displays.color.color",description:"$t:displays.color.description",types:["string"],icon:"flag",component:ez,options:[{field:"defaultColor",name:"$t:displays.color.default_color",type:"string",meta:{interface:"select-color",width:"half"},schema:{default_value:"#B0BEC5"}}]}),nz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:tz});const lz=async(e,t,n)=>Md(e,t,Ve(pe({},n),{locale:await Na()}));const oz=z({props:{value:{type:String,required:!0},type:{type:String,required:!0,validator:e=>["dateTime","date","time","timestamp"].includes(e)},format:{type:String,default:"long"},relative:{type:Boolean,default:!1}},setup(e){const{t}=J(),n=F(()=>e.value?e.type==="timestamp"?ha(e.value):e.type==="dateTime"?sn(e.value,"yyyy-MM-dd'T'HH:mm:ss",new Date):e.type==="date"?sn(e.value,"yyyy-MM-dd",new Date):e.type==="time"?sn(e.value,"HH:mm:ss",new Date):null:null),l=E(null);return ye(n,async o=>{if(o===null){l.value=null;return}if(e.relative)l.value=await lz(o,new Date,{addSuffix:!0});else{let u;e.format==="long"?(u=`${t("date-fns_date")} ${t("date-fns_time")}`,e.type==="date"&&(u=String(t("date-fns_date"))),e.type==="time"&&(u=String(t("date-fns_time")))):e.format==="short"?(u=`${t("date-fns_date_short")} ${t("date-fns_time_short")}`,e.type==="date"&&(u=String(t("date-fns_date_short"))),e.type==="time"&&(u=String(t("date-fns_time_short")))):u=e.format,l.value=await $t(o,u)}},{immediate:!0}),{displayValue:l}}}),az={class:"datetime"};function iz(e,t,n,l,o,u){return m(),I("span",az,b(e.displayValue),1)}var rz=q(oz,[["render",iz],["__scopeId","data-v-7df33e0f"]]),sz=gt({id:"datetime",name:"$t:displays.datetime.datetime",description:"$t:displays.datetime.description",icon:"query_builder",component:rz,options:[{field:"format",name:"$t:displays.datetime.format",type:"string",meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"$t:displays.datetime.long",value:"long"},{text:"$t:displays.datetime.short",value:"short"}],allowOther:!0},note:"$t:displays.datetime.format_note"},schema:{default_value:"long"}},{field:"relative",name:"$t:displays.datetime.relative",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.datetime.relative_label"}},schema:{default_value:!1}}],types:["dateTime","date","time","timestamp"]}),dz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sz});const uz=z({props:{value:{type:Object,default:null}},setup(e){const t=E(),n=E(!1),l=F(()=>e.value?Ln(e.value.type,!0):null),o=F(()=>e.value?e.value.type.includes("svg")?ut(Ge()+`assets/${e.value.id}`):e.value.type.includes("image")===!1?null:ut(Ge()+`assets/${e.value.id}?key=system-small-cover`):null),{height:u}=mn(t);return{fileExtension:l,imageThumbnail:o,previewEl:t,height:u,imgError:n}}}),cz=["src","alt"],pz={key:1,ref:"previewEl",class:"preview"},mz={key:0,class:"extension"};function fz(e,t,n,l,o,u){const a=c("v-icon");return e.imageThumbnail&&!e.imgError?(m(),I("img",{key:0,src:e.imageThumbnail,class:ae({"is-svg":e.value&&e.value.type.includes("svg")}),alt:e.value.title,onError:t[0]||(t[0]=r=>e.imgError=!0)},null,42,cz)):(m(),I("div",pz,[e.fileExtension?(m(),I("span",mz,b(e.fileExtension),1)):(m(),C(a,{key:1,name:"folder_open"}))],512))}var _z=q(uz,[["render",fz],["__scopeId","data-v-3d2d9adb"]]),vz=gt({id:"file",name:"$t:displays.file.file",description:"$t:displays.file.description",icon:"insert_drive_file",component:_z,types:["uuid"],localTypes:["file"],options:[],fields:["id","type","title"]}),yz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:vz}),hz=gt({id:"filesize",name:"$t:displays.filesize.filesize",description:"$t:displays.filesize.description",icon:"description",component:({value:e})=>Pl(e),options:[],types:["integer","bigInteger"]}),gz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hz});const bz=z({props:{value:{type:[Object,Array],default:null},format:{type:String,default:null}},setup(e){const{t}=J(),n=F(()=>{if(!e.value)return null;try{return Array.isArray(e.value)?e.value.map(o=>l(o)):[l(e.value)]}catch{return null}});function l(o){return e.format?Wt(e.format,o):Wt("{{ value }}",{value:o})}return{displayValue:n,t}}}),wz=["onClick"],$z={class:"label"},kz={key:2};function Sz(e,t,n,l,o,u){const a=c("value-null"),r=c("v-list-item-content"),s=c("v-list-item"),p=c("v-list"),f=c("v-menu");return e.displayValue?e.displayValue.length>1?(m(),C(f,{key:1,"show-arrow":""},{activator:d(({toggle:_})=>[S("span",{class:"toggle",onClick:Ae(_,["stop"])},[S("span",$z,b(e.displayValue.length)+" "+b(e.t("items")),1)],8,wz)]),default:d(()=>[i(p,{class:"links"},{default:d(()=>[(m(!0),I(x,null,$e(e.displayValue,(_,y)=>(m(),C(s,{key:y},{default:d(()=>[i(r,null,{default:d(()=>[T(b(_),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(m(),I("span",kz,b(e.displayValue[0]),1)):(m(),C(a,{key:0}))}var Cz=q(bz,[["render",Sz]]),Vz=gt({id:"formatted-json-value",name:"$t:displays.formatted-json-value.formatted-json-value",description:"$t:displays.formatted-json-value.description",types:["json","geometry"],icon:"settings_ethernet",component:Cz,options:[{field:"format",name:"$t:display_template",type:"string",meta:{width:"full",interface:"input",options:{placeholder:"{{ field }}"}}}]}),Fz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Vz});const Az=z({props:{type:{type:String,required:!0},value:{type:[String,Number],default:null},format:{type:Boolean,default:!1},font:{type:String,default:"sans-serif",validator:e=>["sans-serif","serif","monospace"].includes(e)},bold:{type:Boolean,default:!1},italic:{type:Boolean,default:!1},prefix:{type:String,default:null},suffix:{type:String,default:null},color:{type:String,default:null},background:{type:String,default:null},icon:{type:String,default:null},border:{type:Boolean,default:!1},conditionalFormatting:{type:Array,default:()=>[]}},setup(e){const{t,n}=J(),l=F(()=>(e.conditionalFormatting||[]).filter(({operator:p,value:f})=>{if(["string","text"].includes(e.type)){const _=String(e.value),y=String(f);return r(_,y,p)}else if(["float","decimal"].includes(e.type)){const _=parseFloat(String(e.value)),y=parseFloat(String(f));return s(_,y,p)}else{const _=parseInt(String(e.value)),y=parseInt(String(f));return s(_,y,p)}})),o=F(()=>{const{color:p,background:f,icon:_}=e;return l.value.reduce(({color:y,background:v,icon:h,text:w},g)=>({color:g.color||y,background:g.background||v,icon:g.icon||h,text:g.text||w}),{color:p,background:f,icon:_,text:""})}),u=F(()=>{var p;return{color:o.value.color,borderStyle:"solid",borderWidth:e.border?"2px":0,borderColor:o.value.color,backgroundColor:(p=o.value.background)!=null?p:"transparent"}}),a=F(()=>{var y,v;if(o.value.text)return o.value.text;if(U.exports.isNil(e.value)||e.value==="")return null;let p=String(e.value);p=p.replace(/(<([^>]+)>)/gi,""),p=Ud(p),e.format&&(["string","text"].includes(e.type)?p=Dt(p):["float","decimal"].includes(e.type)?p=n(parseFloat(p)):p=n(parseInt(p)));const f=(y=e.prefix)!=null?y:"",_=(v=e.suffix)!=null?v:"";return`${f}${p}${_}`});return{t,computedFormat:o,displayValue:a,computedStyle:u};function r(p,f,_){switch(_){case"eq":return p===f;case"neq":return p!==f;case"contains":return p.includes(f);case"starts_with":return p.startsWith(f);case"ends_with":return p.endsWith(f)}}function s(p,f,_){switch(_){case"eq":return p===f;case"neq":return p!==f;case"gt":return p>f;case"gte":return p>=f;case"lt":return p<f;case"lte":return p<=f}}}}),Iz={class:"value"};function Ez(e,t,n,l,o,u){const a=c("value-null"),r=c("v-icon");return e.displayValue===null||e.displayValue===void 0?(m(),C(a,{key:0})):(m(),I("div",{key:1,class:ae(["display-formatted",[{bold:e.bold,italic:e.italic},e.font,{"has-background":e.computedFormat.background,"has-border":e.computedStyle.borderWidth!==0}]]),style:Ue(e.computedStyle)},[e.computedFormat.icon?(m(),C(r,{key:0,name:e.computedFormat.icon,color:e.computedFormat.color,left:"",small:""},null,8,["name","color"])):R("",!0),S("span",Iz,b(e.displayValue),1)],6))}var Dz=q(Az,[["render",Ez],["__scopeId","data-v-1b61017e"]]),Tz=gt({id:"formatted-value",name:"$t:displays.formatted-value.formatted-value",description:"$t:displays.formatted-value.description",types:["string","text","integer","float","decimal","bigInteger"],icon:"text_format",component:Dz,options:({field:e})=>{var u;const t=["string","text"].includes((u=e.type)!=null?u:"unknown");return[{field:"format",name:"$t:displays.formatted-value.format",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.formatted-value.format_label"}},schema:{default_value:!1}},{field:"font",name:"$t:displays.formatted-value.font",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:displays.formatted-value.font_sans_serif",value:"sans-serif"},{text:"$t:displays.formatted-value.font_serif",value:"serif"},{text:"$t:displays.formatted-value.font_monospace",value:"monospace"}]}},schema:{default_value:"sans-serif"}},{field:"bold",name:"$t:displays.formatted-value.bold",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.formatted-value.bold_label"}},schema:{default_value:!1}},{field:"italic",name:"$t:displays.formatted-value.italic",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.formatted-value.italic_label"}},schema:{default_value:!1}},{field:"prefix",name:"$t:displays.formatted-value.prefix",type:"string",meta:{width:"half",interface:"input",options:{label:"$t:displays.formatted-value.prefix_label",trim:!1}}},{field:"suffix",name:"$t:displays.formatted-value.suffix",type:"string",meta:{width:"half",interface:"input",options:{label:"$t:displays.formatted-value.suffix_label",trim:!1}}},{field:"color",name:"$t:displays.formatted-value.color",type:"string",meta:{interface:"select-color",width:"half"}},{field:"background",name:"$t:displays.formatted-value.background",type:"string",meta:{interface:"select-color",width:"half"}},{field:"icon",name:"$t:displays.formatted-value.icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"border",name:"$t:displays.formatted-value.border",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.formatted-value.border_label"}},schema:{default_value:!1}},{field:"conditionalFormatting",type:"json",name:"$t:conditional_styles",meta:{interface:"list",width:"full",options:{template:"{{operator}} {{value}}",fields:[{field:"operator",name:"$t:operator",type:"string",schema:{default_value:"eq"},meta:{interface:"select-dropdown",options:{choices:(t?["eq","neq","contains","starts_with","ends_with"]:["eq","neq","gt","gte","lt","lte"]).map(a=>({text:`$t:operators.${a}`,value:a}))},width:"half"}},{field:"value",name:"$t:value",type:t?"string":"integer",schema:{default_value:t?"":0},meta:{interface:"input",width:"half"}},{field:"color",name:"$t:displays.formatted-value.color",type:"string",meta:{interface:"select-color",width:"half"}},{field:"background",name:"$t:displays.formatted-value.background",type:"string",meta:{interface:"select-color",width:"half"}},{field:"text",name:"$t:displays.formatted-value.text",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:displays.formatted-value.text_placeholder"}}},{field:"icon",name:"$t:displays.formatted-value.icon",type:"string",meta:{width:"half",interface:"select-icon"}}]}}}]}}),Lz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Tz});const Pz=z({name:"DisplayIcon",props:{value:{type:String,default:null},color:{type:String,default:null},filled:{type:Boolean,default:!1}},setup(e){return{style:F(()=>zl(e.color)?{"--v-icon-color":e.color}:{})}}});function Oz(e,t,n,l,o,u){const a=c("v-icon");return m(),C(a,{small:"",name:e.value,style:Ue(e.style),filled:e.filled},null,8,["name","style","filled"])}var Rz=q(Pz,[["render",Oz]]),jz=gt({id:"icon",name:"$t:displays.icon.icon",description:"$t:displays.icon.description",icon:"insert_emoticon",component:Rz,options:[{field:"filled",name:"$t:displays.icon.filled",type:"boolean",meta:{interface:"boolean",width:"half",options:{label:"$t:displays.icon.filled_label"}},schema:{default_value:!1}},{field:"color",name:"$t:color",type:"string",meta:{interface:"select-color",width:"half"}}],types:["string"]}),Mz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jz});const Uz=z({components:{ValueNull:tn},props:{value:{type:Object,default:null},circle:{type:Boolean,default:!1}},setup(e){const t=E(!1);return{src:F(()=>{if(e.value===null)return null;const l=Ge()+`assets/${e.value.id}?key=system-small-cover`;return ut(l)}),imageError:t}}}),Nz=["src","alt"];function Bz(e,t,n,l,o,u){const a=c("v-icon"),r=c("value-null");return e.imageError?(m(),C(a,{key:0,name:"image"})):e.src?(m(),I("img",{key:1,src:e.src,role:"presentation",alt:e.value&&e.value.title,class:ae({circle:e.circle}),onError:t[0]||(t[0]=s=>e.imageError=!0)},null,42,Nz)):(m(),C(r,{key:2}))}var qz=q(Uz,[["render",Bz],["__scopeId","data-v-e3df0200"]]),zz=gt({id:"image",name:"$t:displays.image.image",description:"$t:displays.image.description",types:["uuid"],localTypes:["file"],icon:"insert_photo",component:qz,options:[{field:"circle",name:"$t:displays.image.circle",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.image.circle_label"}},schema:{default_value:!1}}],fields:["id","type","title"]}),Kz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:zz});const Hz=z({props:{value:{type:[String,Array],required:!0},format:{type:Boolean,default:!0},showAsDot:{type:Boolean,default:!1},choices:{type:Array,default:()=>[]},type:{type:String,required:!0,validator:e=>["text","string","json","csv"].includes(e)}},setup(e){return{items:F(()=>{let n;return U.exports.isEmpty(e.value)?n=[]:e.type==="string"?n=[e.value]:n=e.value,n.map(l=>{const o=(e.choices||[]).find(a=>a.value===l);let u;return typeof l=="object"?u=JSON.stringify(l):e.format?u=Dt(l):u=l,o===void 0?{value:l,text:u,foreground:"var(--foreground-normal)",background:"var(--background-normal)"}:Ft({value:l,text:o.text||u,foreground:o.foreground||"var(--foreground-normal)",background:o.background||"var(--background-normal)"})})})}}}),Wz={class:"display-labels"};function Gz(e,t,n,l,o,u){const a=c("v-chip"),r=c("display-color"),s=ke("tooltip");return m(),I("div",Wz,[e.showAsDot?(m(!0),I(x,{key:1},$e(e.items,p=>Q((m(),C(r,{key:p.value,value:p.background},null,8,["value"])),[[s,p.text]])),128)):(m(!0),I(x,{key:0},$e(e.items,p=>(m(),C(a,{key:p.value,style:Ue({"--v-chip-color":p.foreground,"--v-chip-background-color":p.background}),small:"",disabled:"",label:""},{default:d(()=>[T(b(p.text),1)]),_:2},1032,["style"]))),128))])}var Zz=q(Hz,[["render",Gz],["__scopeId","data-v-4d34a4f3"]]),Jz=gt({id:"labels",name:"$t:displays.labels.labels",description:"$t:displays.labels.description",types:["string","json","csv"],icon:"flag",component:Zz,options:[{field:"format",name:"$t:format_text",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.labels.format_label"}},schema:{default_value:!0}},{field:"showAsDot",name:"$t:displays.labels.show_as_dot",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!1}},{field:"choices",name:"$t:choices",type:"json",meta:{interface:"list",options:{template:"{{text}}",fields:[{field:"text",name:"$t:text",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:displays.labels.choices_text_placeholder"}}},{field:"value",name:"$t:value",type:"string",meta:{interface:"input",options:{font:"monospace",placeholder:"$t:displays.labels.choices_value_placeholder"},width:"half"}},{field:"foreground",name:"$t:foreground_color",type:"string",meta:{interface:"select-color",width:"half"}},{field:"background",name:"$t:background_color",type:"string",meta:{interface:"select-color",width:"half"}}]}}}]}),Qz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Jz}),Xz=gt({id:"mime-type",name:"$t:displays.mime-type.mime-type",description:"$t:displays.mime-type.description",icon:"picture_as_pdf",options:[{field:"showAsExtension",name:"$t:displays.mime-type.extension_only",type:"boolean",meta:{interface:"boolean",options:{label:"$t:displays.mime-type.extension_only_label"}},schema:{default_value:!1}}],types:["string"],component:({value:e,showAsExtension:t})=>t?Nd.getExtension(e):Ln(e)}),Yz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Xz});const xz=z({props:{value:{type:[String,Number],default:null},simple:{type:Boolean,default:!1},interfaceOptions:{type:Object,default:null}},setup(e){const t=F(()=>e.interfaceOptions===null?5:Math.ceil(e.interfaceOptions.maxValue)),n=F(()=>({width:Number(e.value)/t.value*100+"%"}));return{starCount:t,ratingPercentage:n}}}),eK={key:0,class:"rating simple"},tK={key:1,class:"rating detailed"},nK={class:"inactive"};function lK(e,t,n,l,o,u){const a=c("v-icon"),r=ke("tooltip");return e.simple?(m(),I("span",eK,[i(a,{small:"",name:"star"}),T(" "+b(e.value),1)])):Q((m(),I("div",tK,[S("div",{class:"active",style:Ue(e.ratingPercentage)},[(m(!0),I(x,null,$e(e.starCount,s=>(m(),C(a,{key:s,small:"",name:"star"}))),128))],4),S("div",nK,[(m(!0),I(x,null,$e(e.starCount,s=>(m(),C(a,{key:s,small:"",name:"star"}))),128))])],512)),[[r,e.value,void 0,{bottom:!0,start:!0}]])}var oK=q(xz,[["render",lK],["__scopeId","data-v-7e2f8bb2"]]),aK=gt({id:"rating",name:"$t:displays.rating.rating",description:"$t:displays.rating.description",icon:"star",component:oK,options:[{field:"simple",name:"$t:displays.rating.simple",type:"boolean",meta:{interface:"boolean",width:"half",options:{label:"$t:displays.rating.simple_label"}},schema:{default_value:!1}}],types:["integer","decimal","float"]}),iK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:aK}),rK=gt({id:"raw",name:"$t:displays.raw.raw",icon:"code",component:({value:e})=>typeof e=="string"?e:JSON.stringify(e),options:[],types:j$,localTypes:M$}),sK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:rK});function is(e,t){const l=pt().getRelationsForField(e,t),o=ll(e,t);return o&&["o2m","m2m","m2a","translations","files"].includes(o)?o=="m2m"&&l.length>1?{relatedCollection:l[1].related_collection,junctionCollection:l[0].collection,path:[l[1].field]}:{relatedCollection:l[0].collection}:{relatedCollection:l[0].related_collection}}const dK=z({components:{ValueNull:tn},props:{collection:{type:String,required:!0},field:{type:String,required:!0},value:{type:[Array,Object],default:null},template:{type:String,default:null}},setup(e){const{t,te:n}=J(),l=F(()=>is(e.collection,e.field)),o=F(()=>l.value.relatedCollection),u=F(()=>l.value.junctionCollection),a=F(()=>ll(e.collection,e.field)),{primaryKeyField:r}=ot(o),s=F(()=>{var y,v;return l.value.path?[...l.value.path,(y=r.value)==null?void 0:y.field].join("."):(v=r.value)==null?void 0:v.field}),p=F(()=>e.template||`{{ ${s.value} }}`),f=F(()=>Array.isArray(e.value)?e.value.length===1?n(`collection_names_singular.${o.value}`)?t(`collection_names_singular.${o.value}`):t("item"):n(`collection_names_plural.${o.value}`)?t(`collection_names_plural.${o.value}`):t("items"):null);return{relatedCollection:o,junctionCollection:u,primaryKeyFieldPath:s,getLinkForItem:_,internalTemplate:p,unit:f,localType:a};function _(y){if(!l.value||!s.value)return null;const v=U.exports.get(y,s.value);return`/content/${o.value}/${encodeURIComponent(v)}`}}}),uK=["onClick"],cK={class:"label"},pK=T("+");function mK(e,t,n,l,o,u){const a=c("value-null"),r=c("render-template"),s=c("v-list-item-content"),p=c("v-icon"),f=c("router-link"),_=c("v-list-item-icon"),y=c("v-list-item"),v=c("v-list"),h=c("v-menu");return e.relatedCollection?["o2m","m2m","m2a","translations","files"].includes(e.localType.toLowerCase())?(m(),C(h,{key:1,"show-arrow":"",disabled:e.value.length===0},{activator:d(({toggle:w})=>[S("span",{class:ae(["toggle",{subdued:e.value.length===0}]),onClick:Ae(w,["stop"])},[S("span",cK,[T(b(e.value.length)+" ",1),e.value.length>=100?(m(),I(x,{key:0},[pK],64)):R("",!0),T(" "+b(e.unit),1)])],10,uK)]),default:d(()=>[i(v,{class:"links"},{default:d(()=>[(m(!0),I(x,null,$e(e.value,w=>(m(),C(y,{key:w[e.primaryKeyFieldPath]},{default:d(()=>[i(s,null,{default:d(()=>{var g;return[i(r,{template:e.internalTemplate,item:w,collection:(g=e.junctionCollection)!=null?g:e.relatedCollection},null,8,["template","item","collection"])]}),_:2},1024),i(_,null,{default:d(()=>[i(f,{to:e.getLinkForItem(w)},{default:d(()=>[i(p,{name:"launch",small:""})]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["disabled"])):(m(),C(r,{key:2,template:e.internalTemplate,item:e.value,collection:e.relatedCollection},null,8,["template","item","collection"])):(m(),C(a,{key:0}))}var fK=q(dK,[["render",mK],["__scopeId","data-v-4f1bc30a"]]),_K=gt({id:"related-values",name:"$t:displays.related-values.related-values",description:"$t:displays.related-values.description",icon:"settings_ethernet",component:fK,options:({editing:e,relations:t})=>{var o,u,a;const n=(a=(o=t.o2m)==null?void 0:o.collection)!=null?a:(u=t.m2o)==null?void 0:u.related_collection;return[{field:"template",name:"$t:display_template",meta:e==="+"?{interface:"presentation-notice",options:{text:"$t:displays.related-values.display_template_configure_notice"},width:"full"}:{interface:"system-display-template",options:{collectionName:n},width:"full"}}]},types:["alias","string","uuid","integer","bigInteger","json"],localTypes:["m2m","m2o","o2m","translations","m2a","file","files"],fields:(e,{field:t,collection:n})=>{const{junctionCollection:l,relatedCollection:o,path:u}=is(n,t),r=Le().getPrimaryKeyFieldForCollection(o);if(!o)return[];const s=(e==null?void 0:e.template)?Yt(ht(e.template),l!=null?l:o):[];if(r){const p=u?[...u,r.field].join("."):r.field;s.includes(p)||s.push(p)}return s}}),vK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_K});function Kl(e,t){const n=pt(),l=Ke(),o=F(()=>n.getRelationsForField(e.value,t.value)),u=F(()=>o.value.find(h=>{var w;return h.related_collection===e.value&&((w=h.meta)==null?void 0:w.one_field)===t.value})),a=F(()=>o.value.find(h=>{var w;return h.collection===u.value.collection&&h.field===((w=u.value.meta)==null?void 0:w.junction_field)})),r=F(()=>l.getCollection(u.value.collection)),s=F(()=>l.getCollection(a.value.related_collection)),{primaryKeyField:p,fields:f}=ot(r.value.collection),{primaryKeyField:_,fields:y}=ot(s.value.collection),v=F(()=>{var h,w,g,k;return{junctionPkField:(h=p.value)==null?void 0:h.field,relationPkField:(w=_.value)==null?void 0:w.field,junctionField:(g=u.value.meta)==null?void 0:g.junction_field,sortField:(k=u.value.meta)==null?void 0:k.sort_field,junctionCollection:r.value.collection,relationCollection:s.value.collection}});return{junction:u,junctionCollection:r,relation:a,relationCollection:s,relationInfo:v,junctionPrimaryKeyField:p,relationPrimaryKeyField:_,junctionFields:f,relationFields:y}}const yK=z({components:{ValueNull:tn},props:{collection:{type:String,required:!0},field:{type:String,required:!0},value:{type:[Array],default:null},template:{type:String,default:null},userLanguage:{type:Boolean,default:!1},defaultLanguage:{type:String,default:null},languageField:{type:String,default:null},type:{type:String,required:!0}},setup(e){const{collection:t,field:n}=Me(e),{junctionPrimaryKeyField:l,junctionCollection:o,relation:u,junctionFields:a,relationPrimaryKeyField:r}=Kl(t,n),s=F(()=>{var y,v;return e.template||((v=(y=o.value)==null?void 0:y.meta)==null?void 0:v.display_template)||`{{ ${l.value.field} }}`}),p=F(()=>{var h,w,g;const y=(h=r.value)==null?void 0:h.field;if(!y)return{};let v=(w=e.value.find(k=>{var A;return((A=k==null?void 0:k[u.value.field])==null?void 0:A[y])===e.defaultLanguage}))!=null?w:e.value[0];if(e.userLanguage){const k=Ze();v=(g=e.value.find(A=>{var V,D;return((V=A==null?void 0:A[u.value.field])==null?void 0:V[y])===((D=k.currentUser)==null?void 0:D.language)}))!=null?g:v}return v!=null?v:{}}),f=F(()=>a.value.filter(y=>{var v;return y.type!=="alias"&&((v=y.meta)==null?void 0:v.hidden)===!1&&y.meta.readonly===!1})),_=F(()=>e.value.map(y=>{var h,w,g,k,A;const v=f.value.filter(V=>V.field in y&&qt(y==null?void 0:y[V.field])).length;return{id:y==null?void 0:y[(w=(h=l.value)==null?void 0:h.field)!=null?w:"id"],lang:(A=y==null?void 0:y[u.value.field])==null?void 0:A[(k=e.languageField)!=null?k:(g=r.value)==null?void 0:g.field],progress:Math.round(v/f.value.length*100),item:y}}));return{primaryKeyField:l,internalTemplate:s,junctionCollection:o,displayItem:p,translations:_}}}),hK={key:1,class:"display-translations"},gK={class:"header"},bK={class:"lang"};function wK(e,t,n,l,o,u){const a=c("value-null"),r=c("render-template"),s=c("v-icon"),p=c("v-progress-linear"),f=c("v-list-item-content"),_=c("v-list-item"),y=c("v-list"),v=c("v-menu"),h=ke("tooltip");return e.junctionCollection.collection?(m(),I("div",hK,[i(r,{template:e.internalTemplate,item:e.displayItem,collection:e.junctionCollection.collection},null,8,["template","item","collection"]),i(v,{class:"menu","show-arrow":"",disabled:e.value.length===0},{activator:d(({toggle:w,deactivate:g,active:k})=>[i(s,{small:"",class:ae(["icon",{active:k}]),name:"info",onClick:Ae(w,["stop"]),onFocusout:g},null,8,["class","onClick","onFocusout"])]),default:d(()=>[i(y,{class:"links"},{default:d(()=>[(m(!0),I(x,null,$e(e.translations,w=>(m(),C(_,{key:w.id},{default:d(()=>[i(f,null,{default:d(()=>[S("div",gK,[S("div",bK,[i(s,{name:"translate",small:""}),T(" "+b(w.lang),1)]),Q(i(p,{value:w.progress,colorful:""},null,8,["value"]),[[h,`${w.progress}%`]])]),i(r,{template:e.internalTemplate,item:w.item,collection:e.junctionCollection.collection},null,8,["template","item","collection"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["disabled"])])):(m(),C(a,{key:0}))}var $K=q(yK,[["render",wK],["__scopeId","data-v-664e4e6d"]]),kK=gt({id:"translations",name:"$t:displays.translations.translations",description:"$t:displays.translations.description",icon:"translate",component:$K,options:({relations:e})=>{var u,a;const t=Le(),n=(u=e.o2m)==null?void 0:u.collection,l=(a=e.m2o)==null?void 0:a.related_collection,o=l?t.getFieldsForCollection(l):[];return[{field:"template",name:"$t:display_template",meta:{interface:"system-display-template",options:{collectionName:n},width:"half"}},{field:"languageField",name:"$t:displays.translations.language_field",meta:{interface:"select-dropdown",options:{choices:o.map(({field:r,name:s})=>({text:s,value:r}))},width:"half"}},{field:"defaultLanguage",name:"$t:displays.translations.default_language",meta:{interface:"input",width:"half",options:{placeholder:"$t:primary_key"}}},{field:"userLanguage",name:"$t:displays.translations.user_language",type:"string",schema:{default_value:!1},meta:{interface:"boolean",options:{label:"$t:displays.translations.enable"},width:"half"}}]},types:["alias"],localTypes:["translations"],fields:(e,{field:t,collection:n})=>{const l=Le(),u=pt().getRelationsForField(n,t),a=u.find(v=>{var h;return v.related_collection===n&&((h=v.meta)==null?void 0:h.one_field)===t}),r=u.find(v=>v!==a),s=a==null?void 0:a.related_collection,p=r==null?void 0:r.related_collection;if(!s||!p)return[];const f=l.getPrimaryKeyFieldForCollection(s),_=l.getPrimaryKeyFieldForCollection(p),y=(e==null?void 0:e.template)?Yt(ht(e.template),s):[];return f&&!y.includes(f.field)&&y.push(f.field),r&&_&&!y.includes(r.field)&&(y.push(`${r.field}.${_.field}`),(e==null?void 0:e.languageField)&&y.push(`${r.field}.${e.languageField}`)),y}}),SK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:kK}),CK="assets/avatar-placeholder.446bf113.svg";const VK=z({props:{value:{type:Object,default:null},display:{type:String,default:"both"},circle:{type:Boolean,default:!1}},setup(e){return{src:F(()=>{var n;if(e.value===null)return null;if((n=e.value.avatar)==null?void 0:n.id){const l=`${Ge()}assets/${e.value.avatar.id}?key=system-small-cover`;return ut(l)}return null}),userName:wt}}}),FK=["src","alt"],AK=["alt"],IK={key:2};function EK(e,t,n,l,o,u){const a=c("user-popover");return e.value?(m(),C(a,{key:0,user:e.value.id},{default:d(()=>[S("div",{class:ae(["user",e.display])},[(e.display==="avatar"||e.display==="both")&&e.src?(m(),I("img",{key:0,src:e.src,role:"presentation",alt:e.value&&e.userName(e.value),class:ae({circle:e.circle})},null,10,FK)):(e.display==="avatar"||e.display==="both")&&e.src===null?(m(),I("img",{key:1,src:CK,role:"presentation",alt:e.value&&e.userName(e.value),class:ae({circle:e.circle})},null,10,AK)):R("",!0),e.display==="name"||e.display==="both"?(m(),I("span",IK,b(e.userName(e.value)),1)):R("",!0)],2)]),_:1},8,["user"])):R("",!0)}var DK=q(VK,[["render",EK],["__scopeId","data-v-1e6e7370"]]),TK=gt({id:"user",name:"$t:displays.user.user",description:"$t:displays.user.description",types:["uuid"],icon:"person",component:DK,options:[{field:"display",name:"$t:display",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:displays.user.avatar",value:"avatar"},{text:"$t:displays.user.name",value:"name"},{text:"$t:displays.user.both",value:"both"}]}},schema:{default_value:"both"}},{field:"circle",name:"$t:circle",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.user.circle_label"}},schema:{default_value:!1}}],fields:["id","avatar.id","email","first_name","last_name"]}),LK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:TK});const{displaysRaw:rs}=Sl();async function PK(e){const n=Object.values({"./boolean/index.ts":Kq,"./collection/index.ts":Qq,"./color/index.ts":nz,"./datetime/index.ts":dz,"./file/index.ts":yz,"./filesize/index.ts":gz,"./formatted-json-value/index.ts":Fz,"./formatted-value/index.ts":Lz,"./icon/index.ts":Mz,"./image/index.ts":Kz,"./labels/index.ts":Qz,"./mime-type/index.ts":Yz,"./rating/index.ts":iK,"./raw/index.ts":sK,"./related-values/index.ts":vK,"./translations/index.ts":SK,"./user/index.ts":LK}).map(l=>l.default);try{const l=await j(()=>import(`${Ge()}extensions/displays/index.js`),[]);n.push(...l.default)}catch(l){console.warn("Couldn't load custom displays"),console.warn(l)}rs.value=n,rs.value.forEach(l=>{e.component(`display-${l.id}`,l.component),typeof l.options!="function"&&Array.isArray(l.options)===!1&&l.options!==null&&e.component(`display-options-${l.id}`,l.options)})}const OK=z({props:{value:{type:Boolean,default:null},disabled:{type:Boolean,default:!1},label:{type:String,default:()=>ze.global.t("enabled")},iconOn:{type:String,default:"check_box"},iconOff:{type:String,default:"check_box_outline_blank"},colorOn:{type:String,default:"var(--primary)"},colorOff:{type:String,default:"var(--foreground-subdued)"}},emits:["input"]});function RK(e,t,n,l,o,u){const a=c("v-checkbox");return m(),C(a,{block:"","icon-on":e.iconOn,"icon-off":e.iconOff,label:e.label,"model-value":e.value,indeterminate:e.value===null,disabled:e.disabled,style:Ue({"--v-checkbox-color":e.colorOn,"--v-checkbox-unchecked-color":e.colorOff}),"onUpdate:modelValue":t[0]||(t[0]=r=>e.$emit("input",r))},null,8,["icon-on","icon-off","label","model-value","indeterminate","disabled","style"])}var jK=q(OK,[["render",RK]]),MK=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect x="18" y="35" width="120" height="26" rx="6" fill="var(--primary)" opacity=".25"/>
  <mask id="a" maskUnits="userSpaceOnUse" x="26" y="40" width="26" height="16" fill="#000">
    <path fill="#fff" d="M26 40h26v16H26z"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M43 53.917V54h-8v-.083a6 6 0 1 1 0-11.834V42h8v.083a6 6 0 1 1 0 11.834Z"/>
  </mask>
  <path d="m43 53.917.33-1.972-2.33-.391v2.363h2ZM43 54v2h2v-2h-2Zm-8 0h-2v2h2v-2Zm0-.083h2v-2.363l-2.33.39.33 1.973Zm0-11.834-.33 1.972 2.33.391v-2.363h-2ZM35 42v-2h-2v2h2Zm8 0h2v-2h-2v2Zm0 .083h-2v2.363l2.33-.39-.33-1.973Zm-2 11.834V54h4v-.083h-4ZM43 52h-8v4h8v-4Zm-6 2v-.083h-4V54h4Zm-2.33-2.055A4.04 4.04 0 0 1 34 52v4c.452 0 .897-.038 1.33-.11l-.66-3.945ZM34 52a4 4 0 0 1-4-4h-4a8 8 0 0 0 8 8v-4Zm-4-4a4 4 0 0 1 4-4v-4a8 8 0 0 0-8 8h4Zm4-4c.23 0 .453.02.67.055l.66-3.944A8.044 8.044 0 0 0 34 40v4Zm3-1.917V42h-4v.083h4ZM35 44h8v-4h-8v4Zm6-2v.083h4V42h-4Zm2.33 2.055A4.04 4.04 0 0 1 44 44v-4c-.452 0-.897.038-1.33.11l.66 3.945ZM44 44a4 4 0 0 1 4 4h4a8 8 0 0 0-8-8v4Zm4 4a4 4 0 0 1-4 4v4a8 8 0 0 0 8-8h-4Zm-4 4c-.23 0-.453-.02-.67-.055l-.66 3.944c.433.073.878.111 1.33.111v-4Z" fill="var(--primary)" mask="url(#a)"/>
  <circle cx="34" cy="48" r="4" fill="var(--primary)"/>
  <rect x="62" y="45" width="30" height="6" rx="2" fill="var(--primary)"/>
  <rect x="96" y="45" width="20" height="6" rx="2" fill="var(--primary)"/>
</svg>
`,UK=Ne({id:"boolean",name:"$t:interfaces.boolean.toggle",description:"$t:interfaces.boolean.description",icon:"check_box",component:jK,types:["boolean"],group:"selection",recommendedDisplays:["boolean"],options:[{field:"iconOn",name:"$t:icon_on",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box"}},{field:"iconOff",name:"$t:icon_off",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box_outline_blank"}},{field:"colorOn",name:"$t:interfaces.boolean.color_on",type:"string",meta:{interface:"select-color",width:"half"}},{field:"colorOff",name:"$t:interfaces.boolean.color_off",type:"string",meta:{interface:"select-color",width:"half"}},{field:"label",name:"$t:label",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:interfaces.boolean.label_placeholder"}},schema:{default_value:"$t:interfaces.boolean.label_default"}}],preview:MK}),NK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:UK});const BK=z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},type:{type:String,required:!0,validator:e=>["dateTime","date","time","timestamp"].includes(e)},includeSeconds:{type:Boolean,default:!1},use24:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),l=E(),{displayValue:o}=u();function u(){const r=E(null);return ye(()=>e.value,s,{immediate:!0}),{displayValue:r};async function s(){if(!e.value){r.value=null;return}let f=e.includeSeconds?"date-fns_time":"date-fns_time_no_seconds";e.use24&&(f=e.includeSeconds?"date-fns_time_24hour":"date-fns_time_no_seconds_24hour");let _=`${n("date-fns_date")} ${n(f)}`;e.type==="date"&&(_=String(n("date-fns_date"))),e.type==="time"&&(_=String(n(f))),r.value=await $t(p(e.value),_)}function p(f){switch(e.type){case"dateTime":return sn(f,"yyyy-MM-dd'T'HH:mm:ss",new Date);case"date":return sn(f,"yyyy-MM-dd",new Date);case"time":return sn(f,"HH:mm:ss",new Date);case"timestamp":return ha(f)}}}function a(){t("input",null)}return{displayValue:o,unsetValue:a,dateTimeMenu:l}}});function qK(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-input"),s=c("v-date-picker"),p=c("v-menu");return m(),C(p,{ref:"dateTimeMenu","close-on-content-click":!1,attached:"",disabled:e.disabled,"full-height":"",seamless:""},{activator:d(({toggle:f,active:_})=>[i(r,{active:_,clickable:"",readonly:"","model-value":e.displayValue,disabled:e.disabled,onClick:f},xe({_:2},[e.disabled?void 0:{name:"append",fn:d(()=>[i(a,{name:e.value?"close":"today",class:ae({active:_}),onClick:Ae(e.unsetValue,["stop"])},null,8,["name","class","onClick"])])}]),1032,["active","model-value","disabled","onClick"])]),default:d(()=>{var f;return[i(s,{type:e.type,disabled:e.disabled,"include-seconds":e.includeSeconds,"use-24":e.use24,"model-value":e.value,"onUpdate:modelValue":t[0]||(t[0]=_=>e.$emit("input",_)),onClose:(f=e.dateTimeMenu)==null?void 0:f.deactivate},null,8,["type","disabled","include-seconds","use-24","model-value","onClose"])]}),_:1},8,["disabled"])}var zK=q(BK,[["render",qK],["__scopeId","data-v-703b8330"]]),KK=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="29" y="10" width="98" height="77" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="30" y="11" width="96" height="75" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="39" y="20" width="30" height="5.03704" rx="2" fill="var(--primary)" />
	<rect x="39" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="39" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="39" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="39" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="87" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="63" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="39" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="63" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="63" y="51" width="6" height="6" rx="2" fill="var(--primary)" />
	<rect x="63" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="63" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="75" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="75" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="75" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="75" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="75" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="87" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="87" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="87" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="87" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,HK=Ne({id:"datetime",name:"$t:interfaces.datetime.datetime",description:"$t:interfaces.datetime.description",icon:"today",component:zK,types:["dateTime","date","time","timestamp"],group:"selection",options:({field:e})=>{var t;return e.type==="date"?(((t=e.meta)==null?void 0:t.options)&&(e.meta.options={}),[]):[{field:"includeSeconds",name:"$t:interfaces.datetime.include_seconds",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!1}},{field:"use24",name:"$t:interfaces.datetime.use_24",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!0}}]},recommendedDisplays:["datetime"],preview:KK}),WK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:HK});const GK=z({components:{DrawerCollection:Xt,DrawerItem:jt},props:{value:{type:[String,Object],default:null},disabled:{type:Boolean,default:!1},folder:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),l=E(null),{loading:o,file:u,fetchFile:a}=A();ye(()=>e.value,a,{immediate:!0});const r=F(()=>u.value===null?null:Ln(u.value.type,!0)),s=F(()=>{var O;const B=typeof e.value=="string"?e.value:(O=e.value)==null?void 0:O.id;return ut(Ge()+`assets/${B}`)}),p=F(()=>u.value===null||e.value===null?null:u.value.type.includes("svg")?s.value:u.value.type.includes("image")===!1?null:ro(s.value,{key:"system-small-cover"})),f=E(null),{edits:_,stageEdits:y}=L(),{url:v,isValidURL:h,loading:w,importFromURL:g}=P(),k=E(!1);return{t:n,activeDialog:l,setSelection:V,loading:o,file:u,fileExtension:r,imageThumbnail:p,onUpload:D,url:v,urlLoading:w,importFromURL:g,isValidURL:h,assetURL:s,editDrawerActive:k,edits:_,stageEdits:y,imageThumbnailError:f};function A(){const B=E(!1),O=E(null);return{loading:B,file:O,fetchFile:M};async function M(){var N;if(e.value===null){O.value=null,B.value=!1;return}B.value=!0;try{const K=typeof e.value=="string"?e.value:(N=e.value)==null?void 0:N.id,G=await re.get(`/files/${K}`,{params:{fields:["id","title","type","filename_download"]}});e.value!==null&&typeof e.value=="object"?O.value=pe(pe({},G.data.data),e.value):O.value=G.data.data}catch(K){Se(K)}finally{B.value=!1}}}function V(B){B[0]?t("input",B[0]):t("input",null)}function D(B){u.value=B,l.value=null,t("input",B.id)}function P(){const B=E(""),O=E(!1),M=F(()=>{try{return new URL(B.value),!0}catch{return!1}});return{url:B,loading:O,isValidURL:M,importFromURL:N};async function N(){var K;O.value=!0;try{const G=await re.post("/files/import",{url:B.value,data:{folder:e.folder}});u.value=G.data.data,l.value=null,B.value="",t("input",(K=u.value)==null?void 0:K.id)}catch(G){Se(G)}finally{O.value=!1}}}function L(){return{edits:F(()=>e.value&&typeof e.value=="object"?e.value:{}),stageEdits:O};function O(M){!u.value||t("input",pe({id:u.value.id},M))}}}}),ZK={class:"file"},JK=["src","alt"],QK={key:1,class:"extension"};function XK(e,t,n,l,o,u){const a=c("v-skeleton-loader"),r=c("v-icon"),s=c("v-input"),p=c("v-list-item-icon"),f=c("v-list-item-content"),_=c("v-list-item"),y=c("v-divider"),v=c("v-list"),h=c("v-menu"),w=c("drawer-item"),g=c("v-card-title"),k=c("v-upload"),A=c("v-card-text"),V=c("v-button"),D=c("v-card-actions"),P=c("v-card"),L=c("v-dialog"),B=c("drawer-collection"),O=ke("tooltip");return m(),I("div",ZK,[i(h,{attached:"",disabled:e.loading},{activator:d(({toggle:M})=>[S("div",null,[e.loading?(m(),C(a,{key:0,type:"input"})):(m(),C(s,{key:1,clickable:"",readonly:"",disabled:e.disabled,placeholder:e.t("no_file_selected"),"model-value":e.file&&e.file.title,onClick:M},{prepend:d(()=>{var N,K;return[S("div",{class:ae(["preview",{"has-file":e.file,"is-svg":(K=(N=e.file)==null?void 0:N.type)==null?void 0:K.includes("svg")}])},[e.imageThumbnail&&!e.imageThumbnailError?(m(),I("img",{key:0,src:e.imageThumbnail,alt:e.file.title,onError:t[0]||(t[0]=G=>e.imageThumbnailError=G)},null,40,JK)):e.fileExtension?(m(),I("span",QK,b(e.fileExtension),1)):(m(),C(r,{key:2,name:"folder_open"}))],2)]}),append:d(()=>[e.file?(m(),I(x,{key:0},[Q(i(r,{name:"open_in_new",class:"edit",onClick:t[1]||(t[1]=Ae(N=>e.editDrawerActive=!0,["stop"]))},null,512),[[O,e.t("edit")]]),e.disabled?R("",!0):Q((m(),C(r,{key:0,class:"deselect",name:"close",onClick:t[2]||(t[2]=Ae(N=>e.$emit("input",null),["stop"]))},null,512)),[[O,e.t("deselect")]])],64)):(m(),C(r,{key:1,name:"attach_file"}))]),_:2},1032,["disabled","placeholder","model-value","onClick"]))])]),default:d(()=>[i(v,null,{default:d(()=>[e.file?(m(),I(x,{key:0},[i(_,{download:e.file.filename_download,href:e.assetURL},{default:d(()=>[i(p,null,{default:d(()=>[i(r,{name:"get_app"})]),_:1}),i(f,null,{default:d(()=>[T(b(e.t("download_file")),1)]),_:1})]),_:1},8,["download","href"]),e.disabled?R("",!0):(m(),C(y,{key:0}))],64)):R("",!0),e.disabled?R("",!0):(m(),I(x,{key:1},[i(_,{clickable:"",onClick:t[3]||(t[3]=M=>e.activeDialog="upload")},{default:d(()=>[i(p,null,{default:d(()=>[i(r,{name:"phonelink"})]),_:1}),i(f,null,{default:d(()=>[T(b(e.t(e.file?"replace_from_device":"upload_from_device")),1)]),_:1})]),_:1}),i(_,{clickable:"",onClick:t[4]||(t[4]=M=>e.activeDialog="choose")},{default:d(()=>[i(p,null,{default:d(()=>[i(r,{name:"folder_open"})]),_:1}),i(f,null,{default:d(()=>[T(b(e.t(e.file?"replace_from_library":"choose_from_library")),1)]),_:1})]),_:1}),i(_,{clickable:"",onClick:t[5]||(t[5]=M=>e.activeDialog="url")},{default:d(()=>[i(p,null,{default:d(()=>[i(r,{name:"link"})]),_:1}),i(f,null,{default:d(()=>[T(b(e.t(e.file?"replace_from_url":"import_from_url")),1)]),_:1})]),_:1})],64))]),_:1})]),_:1},8,["disabled"]),e.file?(m(),C(w,{key:0,active:e.editDrawerActive,"onUpdate:active":t[6]||(t[6]=M=>e.editDrawerActive=M),collection:"directus_files","primary-key":e.file.id,edits:e.edits,disabled:e.disabled,onInput:e.stageEdits},null,8,["active","primary-key","edits","disabled","onInput"])):R("",!0),i(L,{"model-value":e.activeDialog==="upload",onEsc:t[8]||(t[8]=M=>e.activeDialog=null),"onUpdate:modelValue":t[9]||(t[9]=M=>e.activeDialog=null)},{default:d(()=>[i(P,null,{default:d(()=>[i(g,null,{default:d(()=>[T(b(e.t("upload_from_device")),1)]),_:1}),i(A,null,{default:d(()=>[i(k,{"from-url":"",folder:e.folder,onInput:e.onUpload},null,8,["folder","onInput"])]),_:1}),i(D,null,{default:d(()=>[i(V,{secondary:"",onClick:t[7]||(t[7]=M=>e.activeDialog=null)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]),e.activeDialog==="choose"?(m(),C(B,{key:1,collection:"directus_files",active:e.activeDialog==="choose","onUpdate:active":t[10]||(t[10]=M=>e.activeDialog=null),onInput:e.setSelection},null,8,["active","onInput"])):R("",!0),i(L,{"model-value":e.activeDialog==="url",persistent:e.urlLoading,"onUpdate:modelValue":t[13]||(t[13]=M=>e.activeDialog=null),onEsc:t[14]||(t[14]=M=>e.activeDialog=null)},{default:d(()=>[i(P,null,{default:d(()=>[i(g,null,{default:d(()=>[T(b(e.t("import_from_url")),1)]),_:1}),i(A,null,{default:d(()=>[i(s,{modelValue:e.url,"onUpdate:modelValue":t[11]||(t[11]=M=>e.url=M),autofocus:"",placeholder:e.t("url"),nullable:!1,disabled:e.urlLoading},null,8,["modelValue","placeholder","disabled"])]),_:1}),i(D,null,{default:d(()=>[i(V,{disabled:e.urlLoading,secondary:"",onClick:t[12]||(t[12]=M=>e.activeDialog=null)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1},8,["disabled"]),i(V,{loading:e.urlLoading,disabled:e.isValidURL===!1,onClick:e.importFromURL},{default:d(()=>[T(b(e.t("import_label")),1)]),_:1},8,["loading","disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value","persistent"])])}var YK=q(GK,[["render",XK],["__scopeId","data-v-3f584f4c"]]),xK=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="13" width="120" height="70" rx="6" fill="var(--background-page)" class="glow"/>
	<rect x="19" y="14" width="118" height="68" rx="5" stroke="var(--primary)" stroke-width="2"/>
	<rect x="24" y="19" width="108" height="58" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<mask id="b" fill="#fff">
		<path fill-rule="evenodd" clip-rule="evenodd" d="M87.666 26.586A2 2 0 0 0 86.252 26H63a2 2 0 0 0-2 2v40a2 2 0 0 0 2 2h30a2 2 0 0 0 2-2V34.748a2 2 0 0 0-.586-1.414l-6.748-6.748ZM68 52a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-2Zm2-12a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2H70Z"/>
	</mask>
	<path fill-rule="evenodd" clip-rule="evenodd" d="M87.666 26.586A2 2 0 0 0 86.252 26H63a2 2 0 0 0-2 2v40a2 2 0 0 0 2 2h30a2 2 0 0 0 2-2V34.748a2 2 0 0 0-.586-1.414l-6.748-6.748ZM68 52a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-2Zm2-12a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2H70Z" fill="var(--primary)"/>
	<path d="M87.666 26.586 86.252 28l1.414-1.414Zm6.748 6.748 1.414-1.414-1.414 1.414ZM86.252 28l2.828-2.828A4 4 0 0 0 86.252 24v4ZM63 28h23.252v-4H63v4Zm0 0v-4a4 4 0 0 0-4 4h4Zm0 40V28h-4v40h4Zm0 0h-4a4 4 0 0 0 4 4v-4Zm30 0H63v4h30v-4Zm0 0v4a4 4 0 0 0 4-4h-4Zm0-33.252V68h4V34.748h-4Zm0 0h4a4 4 0 0 0-1.172-2.828L93 34.748ZM86.252 28 93 34.748l2.828-2.828-6.748-6.748L86.252 28ZM70 48a4 4 0 0 0-4 4h4v-4Zm6 0h-6v4h6v-4Zm4 4a4 4 0 0 0-4-4v4h4Zm0 2v-2h-4v2h4Zm-4 4a4 4 0 0 0 4-4h-4v4Zm-6 0h6v-4h-6v4Zm-4-4a4 4 0 0 0 4 4v-4h-4Zm0-2v2h4v-2h-4Zm4-10v-4a4 4 0 0 0-4 4h4Zm0 2v-2h-4v2h4Zm0 0h-4a4 4 0 0 0 4 4v-4Zm16 0H70v4h16v-4Zm0 0v4a4 4 0 0 0 4-4h-4Zm0-2v2h4v-2h-4Zm0 0h4a4 4 0 0 0-4-4v4Zm-16 0h16v-4H70v4Z" fill="var(--primary)" mask="url(#b)"/>
</svg>
`,eH=Ne({id:"file",name:"$t:interfaces.file.file",description:"$t:interfaces.file.description",icon:"note_add",component:YK,types:["uuid"],localTypes:["file"],group:"relational",relational:!0,options:[{field:"folder",name:"$t:interfaces.system-folder.folder",type:"uuid",meta:{width:"full",interface:"system-folder",note:"$t:interfaces.system-folder.field_hint"},schema:{default_value:void 0}}],recommendedDisplays:["file"],preview:xK}),tH=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:eH});const nH=z({components:{FilePreview:yo},props:{id:{type:String,required:!0},modelValue:{type:Boolean,default:void 0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=E(!1),l=F({get(){return e.modelValue===void 0?n.value:e.modelValue},set(p){n.value=p,t("update:modelValue",p)}}),o=E(!1),u=E(null),a=E(yt()),r=F(()=>ut(Ge()+`assets/${e.id}?cache-buster=${a.value}`));return ye([()=>e.id,l],([p,f])=>{f&&p&&s()},{immediate:!0}),{internalActive:l,cacheBuster:a,loading:o,file:u,fileSrc:r};async function s(){a.value=yt(),o.value=!0;try{const p=await re.get(`/files/${e.id}`,{params:{fields:["type","width","height","title"]}});u.value=p.data.data}catch(p){Se(p)}finally{o.value=!1}}}});function lH(e,t,n,l,o,u){const a=c("v-progress-circular"),r=c("file-preview"),s=c("v-icon"),p=c("v-button"),f=c("v-dialog");return m(),C(f,{modelValue:e.internalActive,"onUpdate:modelValue":t[2]||(t[2]=_=>e.internalActive=_),onEsc:t[3]||(t[3]=_=>e.internalActive=!1)},{activator:d(_=>[be(e.$slots,"activator",Je(et(_)),void 0,!0)]),default:d(()=>[e.loading?(m(),C(a,{key:0,indeterminate:""})):e.file?(m(),C(r,{key:1,src:e.fileSrc,mime:e.file.type,width:e.file.width,height:e.file.height,title:e.file.title,"in-modal":"",onClick:t[0]||(t[0]=_=>e.internalActive=!1)},null,8,["src","mime","width","height","title"])):R("",!0),i(p,{class:"close",icon:"",rounded:"",onClick:t[1]||(t[1]=_=>e.internalActive=!1)},{default:d(()=>[i(s,{name:"close"})]),_:1})]),_:3},8,["modelValue"])}var oH=q(nH,[["render",lH],["__scopeId","data-v-8070885a"]]);const aH=z({components:{FileLightbox:oH,DrawerItem:jt},props:{value:{type:[String,Object],default:null},disabled:{type:Boolean,default:!1},folder:{type:String,default:void 0},width:{type:String,required:!0},crop:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:n,n:l,te:o}=J(),u=E(!1),a=E(null),r=E(!1),s=E(!1),p=E(null),f=E(yt()),_=F(()=>{if(!a.value)return null;if(a.value.type.includes("svg"))return ut(Ge()+`assets/${a.value.id}`);if(a.value.type.includes("image")){const L=e.crop?"cover":"contain",B=Ge()+`assets/${a.value.id}?key=system-large-${L}&cache-buster=${f.value}`;return ut(B)}return null}),y=F(()=>a.value?ut(Ge()+`assets/${a.value.id}`):null),v=F(()=>{if(!a.value)return null;const{filesize:L,width:B,height:O,type:M}=a.value;return B&&O?`${l(B)}x${l(O)} \u2022 ${Pl(L)} \u2022 ${M}`:`${Pl(L)} \u2022 ${M}`});ye(()=>e.value,(L,B)=>{L!==B&&(L&&g(),B&&L===null&&D())},{immediate:!0});const{edits:h,stageEdits:w}=P();return{t:n,loading:u,image:a,src:_,imageError:p,imageErrorHandler:k,meta:v,lightboxActive:r,editDrawerActive:s,changeCacheBuster:A,setImage:V,deselect:D,downloadSrc:y,edits:h,stageEdits:w};async function g(){var L;u.value=!0;try{const B=typeof e.value=="string"?e.value:(L=e.value)==null?void 0:L.id,O=await re.get(`/files/${B}`,{params:{fields:["id","title","width","height","filesize","type","filename_download"]}});e.value!==null&&typeof e.value=="object"?a.value=pe(pe({},O.data.data),e.value):a.value=O.data.data}catch(B){Se(B)}finally{u.value=!1}}async function k(){var L,B,O,M;if(!!_.value)try{await re.get(_.value)}catch(N){p.value=(M=(O=(B=(L=N.response)==null?void 0:L.data)==null?void 0:B.errors[0])==null?void 0:O.extensions)==null?void 0:M.code,(!p.value||!o("errors."+p.value))&&(p.value="UNKNOWN")}}function A(){f.value=yt()}function V(L){a.value=L,t("input",L.id)}function D(){t("input",null),u.value=!1,a.value=null,r.value=!1,s.value=!1}function P(){return{edits:F(()=>e.value&&typeof e.value=="object"?e.value:{}),stageEdits:B};function B(O){!a.value||t("input",pe({id:a.value.id},O))}}}}),iH=e=>(He("data-v-44375a8a"),e=e(),We(),e),rH={key:0,class:"image-error"},sH={class:"message"},dH=["src"],uH=iH(()=>S("div",{class:"shadow"},null,-1)),cH={key:2,class:"actions"},pH={class:"info"},mH={class:"title"},fH={class:"meta"};function _H(e,t,n,l,o,u){const a=c("v-skeleton-loader"),r=c("v-notice"),s=c("v-icon"),p=c("v-button"),f=c("drawer-item"),_=c("file-lightbox"),y=c("v-upload"),v=ke("tooltip");return m(),I("div",{class:ae(["image",[e.width,{crop:e.crop}]])},[e.loading?(m(),C(a,{key:0,type:"input-tall"})):e.disabled&&!e.image?(m(),C(r,{key:1,class:"disabled-placeholder",center:"",icon:"block"},{default:d(()=>[T(b(e.t("disabled")),1)]),_:1})):e.image?(m(),I("div",{key:2,class:ae(["image-preview",{"is-svg":e.image.type&&e.image.type.includes("svg")}])},[e.imageError?(m(),I("div",rH,[i(s,{large:"",name:e.imageError==="UNKNOWN"?"error_outline":"info_outline"},null,8,["name"]),S("span",sH,b(e.t(`errors.${e.imageError}`)),1)])):(m(),I("img",{key:1,src:e.src,alt:"",role:"presentation",onError:t[0]||(t[0]=(...h)=>e.imageErrorHandler&&e.imageErrorHandler(...h))},null,40,dH)),uH,e.disabled?R("",!0):(m(),I("div",cH,[Q(i(p,{icon:"",rounded:"",onClick:t[1]||(t[1]=h=>e.lightboxActive=!0)},{default:d(()=>[i(s,{name:"zoom_in"})]),_:1},512),[[v,e.t("zoom")]]),Q(i(p,{icon:"",rounded:"",href:e.downloadSrc,download:e.image.filename_download},{default:d(()=>[i(s,{name:"get_app"})]),_:1},8,["href","download"]),[[v,e.t("download")]]),Q(i(p,{icon:"",rounded:"",onClick:t[2]||(t[2]=h=>e.editDrawerActive=!0)},{default:d(()=>[i(s,{name:"open_in_new"})]),_:1},512),[[v,e.t("edit")]]),Q(i(p,{icon:"",rounded:"",onClick:e.deselect},{default:d(()=>[i(s,{name:"close"})]),_:1},8,["onClick"]),[[v,e.t("deselect")]])])),S("div",pH,[S("div",mH,b(e.image.title),1),S("div",fH,b(e.meta),1)]),!e.disabled&&e.image?(m(),C(f,{key:3,active:e.editDrawerActive,"onUpdate:active":t[3]||(t[3]=h=>e.editDrawerActive=h),collection:"directus_files","primary-key":e.image.id,edits:e.edits,onInput:e.stageEdits},null,8,["active","primary-key","edits","onInput"])):R("",!0),i(_,{id:e.image.id,modelValue:e.lightboxActive,"onUpdate:modelValue":t[4]||(t[4]=h=>e.lightboxActive=h)},null,8,["id","modelValue"])],2)):(m(),C(y,{key:3,"from-library":"","from-url":"",folder:e.folder,onInput:e.setImage},null,8,["folder","onInput"]))],2)}var vH=q(aH,[["render",_H],["__scopeId","data-v-44375a8a"]]),yH=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="13" width="120" height="70" rx="6" fill="var(--background-page)" class="glow"/>
	<rect x="19" y="14" width="118" height="68" rx="5" stroke="var(--primary)" stroke-width="2"/>
	<rect x="24" y="19" width="108" height="58" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<path fill-rule="evenodd" clip-rule="evenodd" d="m125.294 69-35-29-25.213 20.891L52 49 30 69h95.294Z" fill="var(--primary)"/>
	<path d="M50 35a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z" fill="var(--primary)"/>
</svg>
`,hH=Ne({id:"file-image",name:"$t:interfaces.file-image.image",description:"$t:interfaces.file-image.description",icon:"insert_photo",component:vH,types:["uuid"],localTypes:["file"],group:"relational",relational:!0,options:[{field:"folder",name:"$t:interfaces.system-folder.folder",type:"uuid",meta:{width:"half",interface:"system-folder",note:"$t:interfaces.system-folder.field_hint"},schema:{default_value:void 0}},{field:"crop",name:"$t:interfaces.file-image.crop",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.file-image.crop_label"}},schema:{default_value:!0}}],recommendedDisplays:["image"],preview:yH}),gH=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hH});function ss(e,t,n){function l(y){const{junctionPkField:v}=t.value;return e.value===null?null:e.value.find(h=>U.exports.get(h,v)===y||h===y)||null}function o(){const{junctionField:y}=t.value;return e.value===null||y===null?[]:e.value.filter(v=>typeof v=="object"&&y in v&&typeof v[y]!="object")}function u(){const{junctionPkField:y}=t.value;return e.value===null||y===null?[]:e.value.filter(v=>typeof v=="object"&&!(v==null?void 0:v[y]))}function a(){const{junctionPkField:y}=t.value;return e.value===null||y===null?[]:e.value.filter(v=>typeof v=="object"&&(v==null?void 0:v[y]))}function r(){return e.value===null?[]:e.value.filter(y=>["string","number"].includes(typeof y))}function s(){const{junctionPkField:y}=t.value;return e.value===null?[]:e.value.reduce((v,h)=>{const w=U.exports.get(h,[y]);return["string","number"].includes(typeof h)?v.push(h):w!==void 0&&v.push(w),v},[])}function p(){if(e.value===null)return[];const{junctionField:y,relationPkField:v}=t.value;return e.value.reduce((h,w)=>{const g=U.exports.get(w,y),k=U.exports.get(w,[y,v]);return g!==void 0?h.push(g):k!==void 0&&h.push(k),h},[])}function f(y,v){const{relationPkField:h,junctionField:w}=t.value;return v.find(g=>U.exports.get(g,[w,h])===y)||null}function _(y){if(e.value===null)return;const{junctionField:v,relationPkField:h,junctionPkField:w}=t.value,g=U.exports.get(y,w),k=U.exports.get(y,[v,h]),A=e.value.filter(V=>{if(g!==void 0)return typeof V=="object"?U.exports.get(V,[w])!==g:V!==g;if(k!==void 0){const D=U.exports.get(V,[v,h]);if(["string","number"].includes(typeof D))return D!==k;const P=U.exports.get(V,[v]);if(["string","number"].includes(typeof P))return P!==k}return U.exports.isEqual(V,y)===!1});n(A)}return{getJunctionItem:l,getNewSelectedItems:o,getNewItems:u,getUpdatedItems:a,getExistingItems:r,getPrimaryKeys:s,getRelatedPrimaryKeys:p,getJunctionFromRelatedId:f,deleteItem:_}}function ds(e,t){var o;if(!(t==null?void 0:t.length))return[];const n=Le(),l=[];for(const u of t){if(l.push(u),!u.includes("."))continue;const a=u.split("."),r=n.getField(e,u),s=n.getPrimaryKeyFieldForCollection((o=r==null?void 0:r.collection)!=null?o:""),p=s&&a.slice(0,-1).concat(s.field).join(".");p&&!l.includes(p)&&l.push(p)}return l}function us(e,t,n,l,o,u,a){const r=Le(),s=E([]),p=E(!1),f=E([]),_=E([]),y=E(null);return ye(()=>e.value,async(A,V)=>{if(A===null){_.value=[];return}if(U.exports.isEqual(A,V))return;p.value=!0;const{junctionField:D,relationPkField:P,relationCollection:L}=n.value;if(D===null)return;const B=await w(),O=B.reduce((N,K)=>{const G=U.exports.get(K,D);return G!==null&&N.push(G),N},[]),M=[...t.value.length>0?v(t.value):k()];M.includes(P)===!1&&M.push(P);try{let N=[];O.length>0&&(N=await g(L,M,P,O)),N=N.map(ie=>{const de=U.exports.get(ie,P),ne=B.find(se=>se[D]===de);if(ne===void 0||de===void 0)return;const le=U.exports.cloneDeep(ne);return le[D]=ie,le});const K=o(),G=u();N=N.map(ie=>{const de=K.find(ne=>U.exports.get(ne,[D,P])===U.exports.get(ie,[D,P]));return de!==void 0?U.exports.merge(ie,de):ie}).concat(...G),f.value.length||(f.value=N),_.value=N}catch(N){y.value=N}finally{p.value=!1}},{immediate:!0}),ye(()=>t.value,()=>{const{junctionField:A,junctionCollection:V}=n.value;s.value=(t.value.length>0?t.value:k().map(D=>`${A}.${D}`)).map(D=>{var B,O,M,N;const P=r.getField(V,D);return P?{text:P.name,value:D,align:"left",sortable:!0,width:null,field:{display:(B=P.meta)==null?void 0:B.display,displayOptions:(O=P.meta)==null?void 0:O.display_options,interface:(M=P.meta)==null?void 0:M.interface,interfaceOptions:(N=P.meta)==null?void 0:N.options,type:P.type,field:P.field}}:null}).filter(D=>D)},{immediate:!0}),{tableHeaders:s,items:_,initialItems:f,loading:p,error:y};function v(A){const{junctionField:V}=n.value;return A.reduce((D,P)=>{const L=P.split(".");return V===L[0]&&L.length>=2&&D.push(L.slice(1).join(".")),D},[])}function h(){return(t.value||[]).filter(A=>A.includes(".")===!1)}async function w(){const{junctionPkField:A,junctionField:V,relationPkField:D,junctionCollection:P}=n.value;try{let L=[];const B=a();if(B.length>0){const M=h();M.includes(A)===!1&&M.push(A),M.includes(V)===!1&&M.push(V),n.value.sortField!==null&&M.includes(n.value.sortField)===!1&&M.push(n.value.sortField),L=await g(P,M,A,B)}const O=o().map(M=>({[V]:M[V][D]}));return L.concat(...l(),...O)}catch(L){y.value=L}return[]}async function g(A,V,D,P){if(V===null||V.length===0||P===null||P.length===0)return[];const L=ds(A,V),B=await re.get(Jt(A),{params:{fields:L,[`filter[${D}][_in]`]:P.join(",")}});return B==null?void 0:B.data.data}function k(){return r.getFieldsForCollection(n.value.relationCollection).slice(0,3).map(V=>V.field)}}function cs(e,t,n){const l=E(!1),o=E(null),u=E(null),a=E({});function r(_){const{relationPkField:y,junctionField:v,junctionPkField:h}=t.value;l.value=!0,a.value=_,o.value=U.exports.get(_,[h],null),u.value=U.exports.get(_,[v,y],null)}function s(){const{sortField:_}=t.value;l.value=!0,a.value=pe({},_?{[_]:(e.value||[]).length}:null),o.value=null,u.value=null}function p(_){const{relationPkField:y,junctionField:v,junctionPkField:h}=t.value,w=(e.value||[]).map(g=>{if(o.value!==null){const k=o.value;if(typeof g=="object"&&h in g){if(g[h]===k)return _}else if(["number","string"].includes(typeof g)&&g===k)return _}if(u.value!=null){const k=u.value;if(U.exports.get(g,[v],null)===k||U.exports.get(g,[v,y],null)===k)return _}return U.exports.isEqual(a.value,g)?_:g});u.value===null&&o.value===null&&w.includes(_)===!1&&w.push(_),w.length===0?n(null):n(w),f()}function f(){l.value=!1,a.value={},o.value=null,u.value=null}return{currentlyEditing:o,editItem:r,createNew:s,editsAtStart:a,stageEdits:p,cancelEdit:f,relatedPrimaryKey:u,editModalActive:l}}function ps(e,t,n,l){const o=E(!1),u=F(()=>{if(e.value===null)return[];const{relationPkField:r,junctionField:s}=n.value;return e.value.reduce((f,_)=>{const y=U.exports.get(_,[s,r]);return y!==void 0&&f.push(y),f},[])});function a(r){const{junctionField:s,relationPkField:p}=n.value,f=r.map(_=>{const y=t.value.find(h=>h[s][p]===_),v=e.value.find(h=>h[s][p]===_);return Ve(pe(pe({},y),v),{[s]:Ve(pe(pe({},y==null?void 0:y[p]),v==null?void 0:v[p]),{[p]:_})})});f.length===0?l(null):l(f)}return{stageSelection:a,selectModalActive:o,selectedPrimaryKeys:u}}function ms(e,t,n,l){const o=E({by:e.value.sortField||t.value[0],desc:!1}),u=F(()=>{const r=e.value.sortField;if(r===null||o.value.by!==r)return n.value;const s=o.value.desc,p=U.exports.sortBy(n.value,[r]);return s?p.reverse():p});return{sort:o,sortItems:a,sortedItems:u};function a(r){const s=e.value.sortField;if(s===null)return;const p=r.map((f,_)=>(f[s]=_,f));l(p)}}function fs(e,t){const n=Lt(),l=Ze(),o=F(()=>{var p;if(((p=l.currentUser)==null?void 0:p.role.admin_access)===!0)return!0;const r=!!n.permissions.find(f=>f.action==="create"&&f.collection===e.value.collection),s=!!n.permissions.find(f=>f.action==="create"&&f.collection===t.value.collection);return r&&s}),u=F(()=>{var s;return((s=l.currentUser)==null?void 0:s.role.admin_access)===!0?!0:!!n.permissions.find(p=>p.action==="create"&&p.collection===e.value.collection)});return{createAllowed:o,selectAllowed:u}}const bH=z({components:{DrawerItem:jt,DrawerCollection:Xt,Draggable:It},props:{value:{type:Array,default:null},primaryKey:{type:[Number,String],required:!0},collection:{type:String,required:!0},field:{type:String,required:!0},template:{type:String,default:null},disabled:{type:Boolean,default:!1},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0},folder:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),{value:l,collection:o,field:u}=Me(e),{junction:a,junctionCollection:r,relation:s,relationCollection:p,relationInfo:f}=Kl(o,u),_=F(()=>{var W,X;if(e.template)return e.template;if((W=r.value.meta)==null?void 0:W.display_template)return r.value.meta.display_template;let ue=(X=p.value.meta)==null?void 0:X.display_template;if(ue){const ce=/({{.*?}})/g,oe=ue.split(ce).filter(he=>he);for(const he of oe){if(he.startsWith("{{")===!1)continue;const ge=he.replace(/{{/g,"").replace(/}}/g,"").trim(),we=`{{${s.value.field}.${ge}}}`;ue=ue.replace(he,we)}return ue}return`{{${s.value.field}.${f.value.relationPkField}}}`}),y=F(()=>Yt(ht(_.value),r.value.collection)),{deleteItem:v,getUpdatedItems:h,getNewItems:w,getPrimaryKeys:g,getNewSelectedItems:k}=ss(l,f,_e),{tableHeaders:A,items:V,initialItems:D,loading:P}=us(l,y,f,k,h,w,g),{currentlyEditing:L,editItem:B,editsAtStart:O,stageEdits:M,cancelEdit:N,relatedPrimaryKey:K,editModalActive:G}=cs(l,f,_e),{stageSelection:ie,selectModalActive:de,selectedPrimaryKeys:ne}=ps(V,D,f,_e),{sort:le,sortItems:se,sortedItems:ee}=ms(f,y,V,_e),{createAllowed:Z,selectAllowed:te}=fs(r,p),{showUpload:me,onUpload:H}=ve(),Y=F(()=>{if(!(K.value===null||p.value.collection!=="directus_files"))return ut(Ge()+`assets/${K.value}`)});return{t:n,junction:a,relation:s,tableHeaders:A,loading:P,currentlyEditing:L,editItem:B,junctionCollection:r,relationCollection:p,editsAtStart:O,stageEdits:M,cancelEdit:N,stageSelection:ie,selectModalActive:de,deleteItem:v,selectedPrimaryKeys:ne,items:V,relationInfo:f,relatedPrimaryKey:K,get:U.exports.get,editModalActive:G,sort:le,sortItems:se,sortedItems:ee,templateWithDefaults:_,createAllowed:Z,selectAllowed:te,onUpload:H,showUpload:me,downloadUrl:Y};function _e(ue){t("input",ue)}function ve(){const ue=E(!1);return{showUpload:ue,onUpload:W};function W(X){if(ue.value=!1,X.length===0)return;const{junctionField:ce}=f.value,oe=X.map(he=>({[ce]:he.id}));t("input",[...e.value||[],...oe])}}}}),wH=e=>(He("data-v-c43e7886"),e=e(),We(),e),$H={key:1,class:"many-to-many"},kH=wH(()=>S("div",{class:"spacer"},null,-1)),SH={key:3,class:"actions"};function CH(e,t,n,l,o,u){const a=c("v-notice"),r=c("v-skeleton-loader"),s=c("v-icon"),p=c("render-template"),f=c("v-list-item"),_=c("draggable"),y=c("v-list"),v=c("v-button"),h=c("drawer-item"),w=c("drawer-collection"),g=c("v-card-title"),k=c("v-upload"),A=c("v-card-text"),V=c("v-card-actions"),D=c("v-card"),P=c("v-dialog");return!e.junction||!e.relation?(m(),C(a,{key:0,type:"warning"},{default:d(()=>[T(b(e.t("relationship_not_setup")),1)]),_:1})):(m(),I("div",$H,[e.loading?(m(!0),I(x,{key:0},$e((e.value||[]).length||3,L=>(m(),C(r,{key:L,type:(e.value||[]).length>4?"block-list-item-dense":"block-list-item"},null,8,["type"]))),128)):e.sortedItems.length===0?(m(),C(a,{key:1},{default:d(()=>[T(b(e.t("no_items")),1)]),_:1})):(m(),C(y,{key:2},{default:d(()=>[i(_,{"force-fallback":!0,"model-value":e.sortedItems,"item-key":"id",handle:".drag-handle",disabled:!e.junction.meta.sort_field,"onUpdate:modelValue":t[1]||(t[1]=L=>e.sortItems(L))},{item:d(({element:L})=>[i(f,{dense:e.sortedItems.length>4,block:"",clickable:"",onClick:B=>e.editItem(L)},{default:d(()=>[e.junction.meta.sort_field?(m(),C(s,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=Ae(()=>{},["stop"]))})):R("",!0),i(p,{collection:e.junctionCollection.collection,item:L,template:e.templateWithDefaults},null,8,["collection","item","template"]),kH,e.disabled?R("",!0):(m(),C(s,{key:1,name:"close",onClick:Ae(B=>e.deleteItem(L),["stop"])},null,8,["onClick"]))]),_:2},1032,["dense","onClick"])]),_:1},8,["model-value","disabled"])]),_:1})),e.disabled?R("",!0):(m(),I("div",SH,[e.enableCreate&&e.createAllowed?(m(),C(v,{key:0,onClick:t[2]||(t[2]=L=>e.showUpload=!0)},{default:d(()=>[T(b(e.t("upload_file")),1)]),_:1})):R("",!0),e.enableSelect&&e.selectAllowed?(m(),C(v,{key:1,onClick:t[3]||(t[3]=L=>e.selectModalActive=!0)},{default:d(()=>[T(b(e.t("add_existing")),1)]),_:1})):R("",!0)])),e.disabled?R("",!0):(m(),C(h,{key:4,active:e.editModalActive,collection:e.relationInfo.junctionCollection,"primary-key":e.currentlyEditing||"+","related-primary-key":e.relatedPrimaryKey||"+","junction-field":e.relationInfo.junctionField,edits:e.editsAtStart,"circular-field":e.junction.field,onInput:e.stageEdits,"onUpdate:active":e.cancelEdit},{actions:d(()=>[e.currentlyEditing!=="+"&&e.relationCollection.collection==="directus_files"?(m(),C(v,{key:0,secondary:"",rounded:"",icon:"",download:"",href:e.downloadUrl},{default:d(()=>[i(s,{name:"download"})]),_:1},8,["href"])):R("",!0)]),_:1},8,["active","collection","primary-key","related-primary-key","junction-field","edits","circular-field","onInput","onUpdate:active"])),e.disabled?R("",!0):(m(),C(w,{key:5,active:e.selectModalActive,"onUpdate:active":t[4]||(t[4]=L=>e.selectModalActive=L),collection:e.relationCollection.collection,selection:e.selectedPrimaryKeys,multiple:"",onInput:e.stageSelection},null,8,["active","collection","selection","onInput"])),e.disabled?R("",!0):(m(),C(P,{key:6,modelValue:e.showUpload,"onUpdate:modelValue":t[6]||(t[6]=L=>e.showUpload=L)},{default:d(()=>[i(D,null,{default:d(()=>[i(g,null,{default:d(()=>[T(b(e.t("upload_file")),1)]),_:1}),i(A,null,{default:d(()=>[i(k,{multiple:"","from-url":"",folder:e.folder,onInput:e.onUpload},null,8,["folder","onInput"])]),_:1}),i(V,null,{default:d(()=>[i(v,{onClick:t[5]||(t[5]=L=>e.showUpload=!1)},{default:d(()=>[T(b(e.t("done")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))]))}var VH=q(bH,[["render",CH],["__scopeId","data-v-c43e7886"]]),FH=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="19" y="9" width="56" height="36" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="20" y="10" width="54" height="34" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="25" y="15" width="44" height="24" rx="4" fill="var(--primary)" fill-opacity=".25" />
	<path d="M36.695 27.2L45.39 35H28l8.695-7.8z" fill="var(--primary)" />
	<path d="M52.153 23L66 35H38.305l13.848-12z" fill="var(--primary)" />
	<rect x="81" y="9" width="56" height="36" rx="6" fill="var(--background-page)" />
	<rect x="82" y="10" width="54" height="34" rx="5" stroke="var(--primary)" stroke-opacity=".25" stroke-width="2" />
	<rect x="87" y="15" width="44" height="24" rx="4" fill="var(--primary)" fill-opacity=".25" />
	<path d="M98.695 27.2l8.695 7.8H90l8.695-7.8z" fill="var(--primary)" />
	<path d="M114.153 23L128 35h-27.695l13.848-12z" fill="var(--primary)" />
	<rect x="19" y="51" width="56" height="36" rx="6" fill="var(--background-page)" />
	<rect x="20" y="52" width="54" height="34" rx="5" stroke="var(--primary)" stroke-opacity=".25" stroke-width="2" />
	<rect x="25" y="57" width="44" height="24" rx="4" fill="var(--primary)" fill-opacity=".25" />
	<path d="M36.695 69.2L45.39 77H28l8.695-7.8z" fill="var(--primary)" />
	<path d="M52.153 65L66 77H38.305l13.848-12z" fill="var(--primary)" />
	<rect x="81" y="51" width="56" height="36" rx="6" fill="var(--background-page)" />
	<rect x="82" y="52" width="54" height="34" rx="5" stroke="var(--primary)" stroke-opacity=".25" stroke-width="2" />
	<rect x="87" y="57" width="44" height="24" rx="4" fill="var(--primary)" fill-opacity=".25" />
	<path d="M98.695 69.2l8.695 7.8H90l8.695-7.8z" fill="var(--primary)" />
	<path d="M114.153 65L128 77h-27.695l13.848-12z" fill="var(--primary)" />
</svg>
`,AH=Ne({id:"files",name:"$t:interfaces.files.files",description:"$t:interfaces.files.description",icon:"note_add",component:VH,relational:!0,types:["alias"],localTypes:["files"],group:"relational",options:({relations:e})=>{var t;return[{field:"folder",name:"$t:interfaces.system-folder.folder",type:"uuid",meta:{width:"full",interface:"system-folder",note:"$t:interfaces.system-folder.field_hint"},schema:{default_value:void 0}},{field:"template",name:"$t:display_template",meta:{interface:"system-display-template",options:{collectionName:(t=e.o2m)==null?void 0:t.collection}}},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}},{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}}]},recommendedDisplays:["related-values"],preview:FH}),IH=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:AH});const EH=z({name:"AccordionSection",props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},group:{type:String,required:!0},multiple:{type:Boolean,default:!1}},emits:["apply","toggleAll"],setup(e,{emit:t}){const{t:n}=J(),l=F(()=>e.fields.filter(r=>{var s,p,f;return!(((s=r.meta)==null?void 0:s.group)===e.group&&((p=r.meta)==null?void 0:p.id)!==((f=e.field.meta)==null?void 0:f.id))}).map(r=>{var s,p;return((s=r.meta)==null?void 0:s.id)===((p=e.field.meta)==null?void 0:p.id)?U.exports.merge({},r,{hideLabel:!0}):r})),o=F(()=>{if(!e.values)return!1;const r=Object.keys(e.values);return!!l.value.some(s=>r.includes(s.field))}),u=F(()=>{const r=e.validationErrors.find(s=>s.field===e.field.field);if(r!==void 0)return r.code==="RECORD_NOT_UNIQUE"?n("validationError.unique"):n(`validationError.${r.type}`,r)});return{fieldsInSection:l,edited:o,handleModifier:a,validationMessage:u};function a(r,s){if(e.multiple===!1){s();return}r.shiftKey?t("toggleAll"):s()}}}),DH=["onClick"],TH={key:0,class:"fields"};function LH(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-form"),s=c("transition-expand"),p=c("v-item"),f=ke("tooltip");return m(),C(p,{value:e.field.field,scope:"group-accordion",class:"accordion-section"},{default:d(({active:_,toggle:y})=>{var v;return[S("div",{class:ae(["label type-title",{active:_,edited:e.edited}]),onClick:h=>e.handleModifier(h,y)},[i(a,{class:ae(["icon",{active:_}]),name:"expand_more"},null,8,["class"]),T(" "+b(e.field.name)+" ",1),((v=e.field.meta)==null?void 0:v.required)===!0?(m(),C(a,{key:0,class:"required",sup:"",name:"star"})):R("",!0),!_&&e.validationMessage?Q((m(),C(a,{key:1,class:"warning",name:"error_outline",small:""},null,512)),[[f,e.validationMessage]]):R("",!0)],10,DH),i(s,null,{default:d(()=>[_?(m(),I("div",TH,[i(r,{"initial-values":e.initialValues,fields:e.fieldsInSection,"model-value":e.values,"primary-key":e.primaryKey,group:e.group,"validation-errors":e.validationErrors,loading:e.loading,"batch-mode":e.batchMode,disabled:e.disabled,"onUpdate:modelValue":t[0]||(t[0]=h=>e.$emit("apply",h))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","batch-mode","disabled"])])):R("",!0)]),_:2},1024)]}),_:1},8,["value"])}var PH=q(EH,[["render",LH],["__scopeId","data-v-cbd46350"]]);const OH=z({name:"InterfaceGroupAccordion",components:{AccordionSection:PH},props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},accordionMode:{type:Boolean,default:!0},start:{type:String,enum:["opened","closed","first"],default:"closed"}},emits:["apply"],setup(e){const t=F(()=>e.fields.filter(o=>{var u,a;return((u=o.meta)==null?void 0:u.group)===((a=e.field.meta)==null?void 0:a.field)})),n=E([]);return ye(()=>e.start,o=>{o==="opened"&&(n.value=t.value.map(u=>u.field)),o==="first"&&(n.value=[t.value[0].field])},{immediate:!0}),{rootFields:t,selection:n,toggleAll:l};function l(){e.accordionMode!==!0&&(n.value.length===t.value.length?n.value=[]:n.value=t.value.map(o=>o.field))}}});function RH(e,t,n,l,o,u){const a=c("accordion-section"),r=c("v-item-group");return m(),C(r,{modelValue:e.selection,"onUpdate:modelValue":t[1]||(t[1]=s=>e.selection=s),scope:"group-accordion",class:"group-accordion",multiple:e.accordionMode===!1},{default:d(()=>[(m(!0),I(x,null,$e(e.rootFields,s=>(m(),C(a,{key:s.field,field:s,fields:e.fields,values:e.values,"initial-values":e.initialValues,disabled:e.disabled,"batch-mode":e.batchMode,"batch-active-fields":e.batchActiveFields,"primary-key":e.primaryKey,loading:e.loading,"validation-errors":e.validationErrors,group:e.field.meta.field,multiple:e.accordionMode===!1,onApply:t[0]||(t[0]=p=>e.$emit("apply",p)),onToggleAll:e.toggleAll},null,8,["field","fields","values","initial-values","disabled","batch-mode","batch-active-fields","primary-key","loading","validation-errors","group","multiple","onToggleAll"]))),128))]),_:1},8,["modelValue","multiple"])}var jH=q(OH,[["render",RH]]),MH=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none"
	xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="15" width="6" height="6" rx="2" fill="var(--primary)"/>
	<rect x="28" y="15" width="30" height="6" rx="2" fill="var(--primary)"/>
	<rect opacity="0.25" x="18" y="27" width="120" height="2" rx="1" fill="var(--primary)"/>
	<rect x="18" y="41" width="6" height="6" rx="2" fill="var(--primary)"/>
	<rect x="28" y="41" width="50" height="6" rx="2" fill="var(--primary)"/>
	<rect opacity="0.25" x="18" y="53" width="120" height="2" rx="1" fill="var(--primary)"/>
	<rect x="18" y="67" width="6" height="6" rx="2" fill="var(--primary)"/>
	<rect x="28" y="67" width="40" height="6" rx="2" fill="var(--primary)"/>
	<rect opacity="0.25" x="18" y="79" width="120" height="2" rx="1" fill="var(--primary)"/>
	<path d="M130.82 14.6602L130 15.4805L132.652 18.1602L130 20.8398L130.82 21.6602L134.32 18.1602L130.82 14.6602Z" fill="var(--primary)"/>
	<path d="M130.82 41L130 41.8203L132.652 44.5L130 47.1797L130.82 48L134.32 44.5L130.82 41Z" fill="var(--primary)"/>
	<path d="M130.82 67L130 67.8203L132.652 70.5L130 73.1797L130.82 74L134.32 70.5L130.82 67Z" fill="var(--primary)"/>
</svg>
`,UH=Ne({id:"group-accordion",name:"$t:interfaces.group-accordion.name",description:"$t:interfaces.group-accordion.description",icon:"horizontal_split",component:jH,hideLabel:!0,hideLoader:!0,types:["alias"],localTypes:["group"],group:"group",options:[{field:"accordionMode",type:"boolean",name:"$t:interfaces.group-accordion.accordion_mode",meta:{interface:"boolean",options:{label:"$t:interfaces.group-accordion.max_one_section_open"},width:"half"},schema:{default_value:!0}},{field:"start",type:"string",name:"$t:start",schema:{default_value:"closed"},meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:interfaces.group-accordion.all_closed",value:"closed"},{text:"$t:interfaces.group-accordion.first_opened",value:"first"}]},conditions:[{rule:{accordionMode:{_eq:!1}},options:{choices:[{text:"$t:interfaces.group-accordion.all_closed",value:"closed"},{text:"$t:interfaces.group-accordion.first_opened",value:"first"},{text:"$t:interfaces.group-accordion.all_opened",value:"opened"}]}}]}}],preview:MH}),NH=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:UH});const BH=z({name:"InterfaceGroupDetail",props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},start:{type:String,enum:["open","closed"],default:"open"},headerIcon:{type:String,default:null},headerColor:{type:String,default:null}},emits:["apply"],setup(e){const{t}=J(),n=F(()=>{if(!e.values)return!1;const o=Object.keys(e.values);return!!e.fields.some(u=>o.includes(u.field))}),l=F(()=>{if(!e.validationErrors)return;const o=e.fields.map(a=>a.field),u=e.validationErrors.reduce((a,r)=>(o.includes(r.field)===!1||(r.code==="RECORD_NOT_UNIQUE"?a.push(`${Dt(r.field)} ${t("validationError.unique").toLowerCase()}`):a.push(`${Dt(r.field)} ${t(`validationError.${r.type}`,r).toLowerCase()}`)),a),[]);if(u.length!==0)return u.join(`
`)});return{edited:n,validationMessages:l}}}),qH={key:0,class:"title"};function zH(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-divider"),s=c("v-form"),p=c("v-detail"),f=ke("tooltip");return m(),C(p,{"start-open":e.start==="open",class:"group-detail"},{activator:d(({toggle:_,active:y})=>[i(r,{style:Ue({"--v-divider-label-color":e.headerColor}),class:ae({active:y,edited:e.edited}),"inline-title":!1,large:"",onClick:_},xe({default:d(()=>[e.field.name?(m(),I("span",qH,b(e.field.name),1)):R("",!0),!y&&e.validationMessages?Q((m(),C(a,{key:1,class:"warning",name:"error_outline",small:""},null,512)),[[f,e.validationMessages]]):R("",!0),i(a,{class:"expand-icon",name:"expand_more"})]),_:2},[e.headerIcon?{name:"icon",fn:d(()=>[i(a,{name:e.headerIcon,class:"header-icon"},null,8,["name"])])}:void 0]),1032,["style","class","onClick"])]),default:d(()=>[i(s,{"initial-values":e.initialValues,fields:e.fields,"model-value":e.values,"primary-key":e.primaryKey,group:e.field.meta.field,"validation-errors":e.validationErrors,loading:e.loading,"batch-mode":e.batchMode,disabled:e.disabled,"onUpdate:modelValue":t[0]||(t[0]=_=>e.$emit("apply",_))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","batch-mode","disabled"])]),_:1},8,["start-open"])}var KH=q(BH,[["render",zH],["__scopeId","data-v-7658aa88"]]),HH=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect x="18" y="41" width="6" height="6" rx="2" fill="var(--primary)"/>
  <rect x="28" y="41" width="50" height="6" rx="2" fill="var(--primary)"/>
  <rect opacity=".25" x="18" y="53" width="120" height="2" rx="1" fill="var(--primary)"/>
  <path d="m130.82 41-.82.82 2.652 2.68L130 47.18l.82.82 3.5-3.5-3.5-3.5Z" fill="var(--primary)"/>
</svg>
`,WH=Ne({id:"group-detail",name:"$t:interfaces.group-detail.name",description:"$t:interfaces.group-detail.description",icon:"menu_open",component:KH,localTypes:["group"],group:"group",types:["alias"],options:[{field:"start",name:"$t:start",type:"string",schema:{default_value:"open"},meta:{interface:"select-dropdown",width:"full",options:{choices:[{text:"$t:interfaces.group-detail.start_open",value:"open"},{text:"$t:interfaces.group-detail.start_closed",value:"closed"}]}}},{field:"headerIcon",name:"$t:interfaces.group-detail.header_icon",type:"string",meta:{interface:"select-icon",width:"half"}},{field:"headerColor",name:"$t:interfaces.group-detail.header_color",type:"string",meta:{interface:"select-color",width:"half"}}],preview:HH}),GH=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:WH});const ZH=z({name:"InterfaceGroupRaw",props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]}},emits:["apply"]}),JH={class:"group-raw"};function QH(e,t,n,l,o,u){const a=c("v-form");return m(),I("div",JH,[i(a,{"initial-values":e.initialValues,fields:e.fields,"model-value":e.values,"primary-key":e.primaryKey,group:e.field.meta.field,"validation-errors":e.validationErrors,loading:e.loading,disabled:e.disabled,"onUpdate:modelValue":t[0]||(t[0]=r=>e.$emit("apply",r))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","disabled"])])}var XH=q(ZH,[["render",QH]]),YH=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="19" y="14" width="118" height="68" rx="6" fill="var(--background-page)"/>
	<rect x="19" y="14" width="118" height="68" rx="6" stroke="var(--primary)" stroke-width="2" stroke-linecap="round" stroke-dasharray="4 6"/>
	<rect opacity=".25" x="29" y="24" width="98" height="20" rx="5" fill="var(--background-page)" stroke="var(--primary)" stroke-width="2"/>
	<rect x="38" y="31" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="92" y="31" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect opacity=".25" x="29" y="52" width="98" height="20" rx="5" fill="var(--background-page)" stroke="var(--primary)" stroke-width="2"/>
	<rect x="38" y="59" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="62" y="59" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
</svg>
`,xH=Ne({id:"group-raw",name:"$t:interfaces.group-raw.name",description:"$t:interfaces.group-raw.description",icon:"view_in_ar",component:XH,localTypes:["group"],group:"group",types:["alias"],options:[],preview:YH}),eW=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:xH});const tW=z({props:{value:{type:[String,Number],default:null},type:{type:String,default:null},clear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},masked:{type:Boolean,default:!1},iconLeft:{type:String,default:null},iconRight:{type:String,default:null},trim:{type:Boolean,default:!0},font:{type:String,default:"sans-serif"},length:{type:Number,default:null},softLength:{type:Number,default:void 0},dbSafe:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},slug:{type:Boolean,default:!1},min:{type:Number,default:null},max:{type:Number,default:null},step:{type:Number,default:1}},emits:["input"],setup(e){const t=F(()=>typeof e.value=="number"||!e.length&&!e.softLength||!e.value&&!e.softLength?null:!e.value&&e.softLength?e.softLength:e.softLength?+e.softLength-e.value.length:e.length?+e.length-e.value.length:null),n=F(()=>typeof e.value=="number"||!e.length&&!e.softLength?null:e.value?e.softLength?100-e.value.length/+e.softLength*100:e.length?100-e.value.length/+e.length*100:100:100);return{inputType:F(()=>e.masked?"password":["bigInteger","integer","float","decimal"].includes(e.type)?"number":"text"),charsRemaining:t,percentageRemaining:n}}});function nW(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-input");return m(),C(r,{autofocus:e.autofocus,"model-value":e.value,nullable:!e.clear,placeholder:e.placeholder,disabled:e.disabled,trim:e.trim,type:e.inputType,class:ae(e.font),"db-safe":e.dbSafe,slug:e.slug,min:e.min,max:e.max,step:e.step,"onUpdate:modelValue":t[0]||(t[0]=s=>e.$emit("input",s))},xe({_:2},[e.iconLeft?{name:"prepend",fn:d(()=>[i(a,{name:e.iconLeft},null,8,["name"])])}:void 0,e.percentageRemaining!==null&&e.percentageRemaining<=20||e.iconRight||e.softLength?{name:"append",fn:d(()=>[e.percentageRemaining!==null&&e.percentageRemaining<=20||e.softLength?(m(),I("span",{key:0,class:ae(["remaining",{warning:e.percentageRemaining<10,danger:e.percentageRemaining<5}])},b(e.charsRemaining),3)):R("",!0),e.iconRight?(m(),C(a,{key:1,class:ae({hide:e.percentageRemaining&&e.percentageRemaining<=20}),name:e.iconRight},null,8,["class","name"])):R("",!0)])}:void 0]),1032,["autofocus","model-value","nullable","placeholder","disabled","trim","type","class","db-safe","slug","min","max","step"])}var lW=q(tW,[["render",nW],["__scopeId","data-v-051f2f46"]]),oW=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="35" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="36" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="45" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="82" y="45" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,aW=Ne({id:"input",name:"$t:interfaces.input.input",description:"$t:interfaces.input.description",icon:"text_fields",component:lW,types:["string","uuid","bigInteger","integer","float","decimal","text"],group:"standard",options:({field:e})=>{var l;const t={standard:[{field:"placeholder",name:"$t:placeholder",meta:{width:"full",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}}],advanced:[{field:"softLength",name:"$t:soft_length",type:"integer",meta:{width:"half",interface:"input",options:{placeholder:"255",min:1,max:(l=e.schema)==null?void 0:l.max_length}}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"trim",name:"$t:interfaces.input.trim",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.trim_label"}},schema:{default_value:!1}},{field:"masked",name:"$t:interfaces.input.mask",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.mask_label"}},schema:{default_value:!1}},{field:"clear",name:"$t:interfaces.input.clear",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.clear_label"}},schema:{default_value:!1}},{field:"slug",name:"$t:interfaces.input.slug",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.slug_label"}},schema:{default_value:!1}}]},n=[{field:"min",name:"$t:interfaces.input.minimum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"max",name:"$t:interfaces.input.maximum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"step",name:"$t:interfaces.input.step_interval",type:"integer",meta:{width:"half",interface:"input"},schema:{default_value:1}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}}];return e.type&&["bigInteger","integer","float","decimal"].includes(e.type)?n:t},preview:oW}),iW=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:aW});const rW=z({props:{value:{type:[String,Number],default:null},url:{type:String,default:null},resultsPath:{type:String,default:null},textPath:{type:String,default:null},valuePath:{type:String,default:null},trigger:{type:String,default:"throttle"},rate:{type:[Number,String],default:500},placeholder:{type:String,default:null},iconLeft:{type:String,default:null},iconRight:{type:String,default:null},font:{type:String,default:"sans-serif"},disabled:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),l=E([]),o=async s=>{if(!s){l.value=[];return}const p=Wt(e.url,{value:s});try{const f=await Xl.get(p),_=e.resultsPath?U.exports.get(f.data,e.resultsPath):f.data;if(Array.isArray(_)===!1){console.warn(`Expected results type of array, "${typeof _}" received`);return}l.value=_.map(y=>e.textPath&&e.valuePath?{text:U.exports.get(y,e.textPath),value:U.exports.get(y,e.valuePath)}:e.valuePath?{value:U.exports.get(y,e.valuePath)}:{value:y})}catch(f){console.warn(f)}},u=e.trigger==="debounce"?U.exports.debounce(o,Number(e.rate)):U.exports.throttle(o,Number(e.rate));return{t:n,results:l,onInput:a,emitValue:r};function a(s){r(s),u(s)}function r(s){t("input",s)}}}),sW={key:1};function dW(e,t,n,l,o,u){const a=c("v-notice"),r=c("v-icon"),s=c("v-input"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("v-list"),y=c("v-menu");return e.url?(m(),I("div",sW,[i(y,{attached:"",disabled:e.disabled},{activator:d(({activate:v,deactivate:h})=>[i(s,{placeholder:e.placeholder,disabled:e.disabled,class:ae(e.font),"model-value":e.value,"onUpdate:modelValue":e.onInput,onFocus:v,onBlur:h},xe({_:2},[e.iconLeft?{name:"prepend",fn:d(()=>[i(r,{name:e.iconLeft},null,8,["name"])])}:void 0,e.iconRight?{name:"append",fn:d(()=>[i(r,{name:e.iconRight},null,8,["name"])])}:void 0]),1032,["placeholder","disabled","class","model-value","onUpdate:modelValue","onFocus","onBlur"])]),default:d(()=>[e.results.length>0?(m(),C(_,{key:0},{default:d(()=>[(m(!0),I(x,null,$e(e.results,v=>(m(),C(f,{key:v.value,onClick:()=>e.emitValue(v.value)},{default:d(()=>[i(p,null,{default:d(()=>[T(b(e.textPath?v.text:v.value),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})):R("",!0)]),_:1},8,["disabled"])])):(m(),C(a,{key:0,type:"warning"},{default:d(()=>[T(b(e.t("one_or_more_options_are_missing")),1)]),_:1}))}var uW=q(rW,[["render",dW],["__scopeId","data-v-56f7b81d"]]),cW=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="35" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="36" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="45" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="82" y="45" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
</svg>
`,pW=Ne({id:"input-autocomplete-api",name:"$t:interfaces.input-autocomplete-api.input-autocomplete-api",description:"$t:interfaces.input-autocomplete-api.description",icon:"find_in_page",component:uW,types:["string","text"],localTypes:["standard"],group:"standard",recommendedDisplays:["formatted-value"],options:[{field:"url",name:"$t:url",type:"string",meta:{interface:"input",options:{placeholder:"https://example.com/search?q={{value}}",font:"monospace"},width:"full"}},{field:"resultsPath",name:"$t:interfaces.input-autocomplete-api.results_path",type:"string",meta:{interface:"input",options:{placeholder:"result.predictions",font:"monospace"},width:"full"}},{field:"textPath",name:"$t:interfaces.input-autocomplete-api.text_path",type:"string",meta:{interface:"input",options:{placeholder:"structured_main_text",font:"monospace"},width:"half"}},{field:"valuePath",name:"$t:interfaces.input-autocomplete-api.value_path",type:"string",meta:{interface:"input",options:{placeholder:"structured_main_value",font:"monospace"},width:"half"}},{field:"trigger",name:"$t:interfaces.input-autocomplete-api.trigger",type:"string",schema:{default_value:"throttle"},meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"Throttle",value:"throttle"},{text:"Debounce",value:"debounce"}]}}},{field:"rate",name:"$t:interfaces.input-autocomplete-api.rate",type:"integer",schema:{default_value:500},meta:{width:"half",interface:"input"}},{field:"placeholder",name:"$t:placeholder",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}}],preview:cW}),mW=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:pW});function _s(e){switch(e){case"apl":return j(()=>import("./apl.92e6230c.js").then(function(t){return t.a}),["assets/apl.92e6230c.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"asciiarmor":return j(()=>import("./asciiarmor.d335dc7c.js").then(function(t){return t.a}),["assets/asciiarmor.d335dc7c.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"asn.1":return j(()=>import("./asn.1.d315920f.js").then(function(t){return t.a}),["assets/asn.1.d315920f.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"asterisk":return j(()=>import("./asterisk.8cfced94.js").then(function(t){return t.a}),["assets/asterisk.8cfced94.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"brainfuck":return j(()=>import("./brainfuck.0a18d08d.js").then(function(t){return t.b}),["assets/brainfuck.0a18d08d.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"clike":return j(()=>import("./clike.f1d85fe8.js").then(function(t){return t.c}),["assets/clike.f1d85fe8.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"clojure":return j(()=>import("./clojure.3e724d4b.js").then(function(t){return t.c}),["assets/clojure.3e724d4b.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"cmake":return j(()=>import("./cmake.b3c9ae9d.js").then(function(t){return t.c}),["assets/cmake.b3c9ae9d.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"cobol":return j(()=>import("./cobol.236f6c6d.js").then(function(t){return t.c}),["assets/cobol.236f6c6d.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"coffeescript":return j(()=>import("./coffeescript.69af43ea.js").then(function(t){return t.c}),["assets/coffeescript.69af43ea.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"commonlisp":return j(()=>import("./commonlisp.ae043fd0.js").then(function(t){return t.c}),["assets/commonlisp.ae043fd0.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"crystal":return j(()=>import("./crystal.05d16dee.js").then(function(t){return t.c}),["assets/crystal.05d16dee.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"css":return j(()=>import("./css.62b091b8.js").then(function(t){return t.c}),["assets/css.62b091b8.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"cypher":return j(()=>import("./cypher.d55c23f3.js").then(function(t){return t.c}),["assets/cypher.d55c23f3.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"d":return j(()=>import("./d.5c2e5119.js").then(function(t){return t.d}),["assets/d.5c2e5119.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"dart":return j(()=>import("./dart.60c85b71.js").then(function(t){return t.d}),["assets/dart.60c85b71.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/clike.f1d85fe8.js"]);case"diff":return j(()=>import("./diff.13039cc0.js").then(function(t){return t.d}),["assets/diff.13039cc0.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"django":return j(()=>import("./django.a3de2d81.js").then(function(t){return t.d}),["assets/django.a3de2d81.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/htmlmixed.d6f11e3c.js","assets/javascript.85c4d25b.js","assets/css.62b091b8.js","assets/overlay.4aee4ad9.js"]);case"dockerfile":return j(()=>import("./dockerfile.87ef21a5.js").then(function(t){return t.d}),["assets/dockerfile.87ef21a5.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/simple.0840e902.js"]);case"dtd":return j(()=>import("./dtd.bd6b4051.js").then(function(t){return t.d}),["assets/dtd.bd6b4051.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"dylan":return j(()=>import("./dylan.520b25cf.js").then(function(t){return t.d}),["assets/dylan.520b25cf.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"ebnf":return j(()=>import("./ebnf.2730fea9.js").then(function(t){return t.e}),["assets/ebnf.2730fea9.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"ecl":return j(()=>import("./ecl.9a6d1532.js").then(function(t){return t.e}),["assets/ecl.9a6d1532.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"eiffel":return j(()=>import("./eiffel.b322eaa7.js").then(function(t){return t.e}),["assets/eiffel.b322eaa7.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"elm":return j(()=>import("./elm.9bd5d49d.js").then(function(t){return t.e}),["assets/elm.9bd5d49d.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"erlang":return j(()=>import("./erlang.b9d69a18.js").then(function(t){return t.e}),["assets/erlang.b9d69a18.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"factor":return j(()=>import("./factor.f7077407.js").then(function(t){return t.f}),["assets/factor.f7077407.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/simple.0840e902.js"]);case"fcl":return j(()=>import("./fcl.45028b4e.js").then(function(t){return t.f}),["assets/fcl.45028b4e.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"forth":return j(()=>import("./forth.195887c3.js").then(function(t){return t.f}),["assets/forth.195887c3.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"fortran":return j(()=>import("./fortran.5d5c335b.js").then(function(t){return t.f}),["assets/fortran.5d5c335b.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"gas":return j(()=>import("./gas.16c12037.js").then(function(t){return t.g}),["assets/gas.16c12037.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"gfm":return j(()=>import("./gfm.d799b563.js").then(function(t){return t.g}),["assets/gfm.d799b563.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/overlay.4aee4ad9.js"]);case"gherkin":return j(()=>import("./gherkin.2b39b6dd.js").then(function(t){return t.g}),["assets/gherkin.2b39b6dd.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"go":return j(()=>import("./go.a9b03085.js").then(function(t){return t.g}),["assets/go.a9b03085.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"groovy":return j(()=>import("./groovy.29bd8618.js").then(function(t){return t.g}),["assets/groovy.29bd8618.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"haml":return j(()=>import("./haml.6e79da90.js").then(function(t){return t.h}),["assets/haml.6e79da90.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/htmlmixed.d6f11e3c.js","assets/javascript.85c4d25b.js","assets/css.62b091b8.js","assets/ruby.edf804f9.js"]);case"handlebars":return j(()=>import("./handlebars.2cc03606.js").then(function(t){return t.h}),["assets/handlebars.2cc03606.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/simple.0840e902.js","assets/multiplex.07740103.js"]);case"haskell":return j(()=>import("./haskell.74b99322.js").then(function(t){return t.h}),["assets/haskell.74b99322.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"haskell-literate":return j(()=>import("./haskell-literate.7d265fa0.js").then(function(t){return t.h}),["assets/haskell-literate.7d265fa0.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/haskell.74b99322.js"]);case"haxe":return j(()=>import("./haxe.cded41ab.js").then(function(t){return t.h}),["assets/haxe.cded41ab.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"htmlembedded":return j(()=>import("./htmlembedded.49f79187.js").then(function(t){return t.h}),["assets/htmlembedded.49f79187.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/htmlmixed.d6f11e3c.js","assets/javascript.85c4d25b.js","assets/css.62b091b8.js","assets/multiplex.07740103.js"]);case"htmlmixed":return j(()=>import("./htmlmixed.d6f11e3c.js").then(function(t){return t.h}),["assets/htmlmixed.d6f11e3c.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/javascript.85c4d25b.js","assets/css.62b091b8.js"]);case"http":return j(()=>import("./http.068172f8.js").then(function(t){return t.h}),["assets/http.068172f8.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"idl":return j(()=>import("./idl.2f22f15a.js").then(function(t){return t.i}),["assets/idl.2f22f15a.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"javascript":return j(()=>import("./javascript.85c4d25b.js").then(function(t){return t.j}),["assets/javascript.85c4d25b.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"jinja2":return j(()=>import("./jinja2.7a8fb070.js").then(function(t){return t.j}),["assets/jinja2.7a8fb070.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"jsx":return j(()=>import("./jsx.561c3147.js").then(function(t){return t.j}),["assets/jsx.561c3147.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/javascript.85c4d25b.js"]);case"julia":return j(()=>import("./julia.e3b41c51.js").then(function(t){return t.j}),["assets/julia.e3b41c51.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"livescript":return j(()=>import("./livescript.da5167f8.js").then(function(t){return t.l}),["assets/livescript.da5167f8.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"lua":return j(()=>import("./lua.68934f2f.js").then(function(t){return t.l}),["assets/lua.68934f2f.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"markdown":return j(()=>import("./vendor.f59145b7.js").then(function(t){return t.a}),["assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"mathematica":return j(()=>import("./mathematica.970914fe.js").then(function(t){return t.m}),["assets/mathematica.970914fe.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"mbox":return j(()=>import("./mbox.798fd6c8.js").then(function(t){return t.m}),["assets/mbox.798fd6c8.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"mirc":return j(()=>import("./mirc.03c69e34.js").then(function(t){return t.m}),["assets/mirc.03c69e34.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"mllike":return j(()=>import("./mllike.01ddd025.js").then(function(t){return t.m}),["assets/mllike.01ddd025.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"modelica":return j(()=>import("./modelica.29193581.js").then(function(t){return t.m}),["assets/modelica.29193581.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"mscgen":return j(()=>import("./mscgen.129c1a92.js").then(function(t){return t.m}),["assets/mscgen.129c1a92.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"mumps":return j(()=>import("./mumps.6bf32390.js").then(function(t){return t.m}),["assets/mumps.6bf32390.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"nginx":return j(()=>import("./nginx.becfadad.js").then(function(t){return t.n}),["assets/nginx.becfadad.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"nsis":return j(()=>import("./nsis.60778189.js").then(function(t){return t.n}),["assets/nsis.60778189.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/simple.0840e902.js"]);case"ntriples":return j(()=>import("./ntriples.57e7f534.js").then(function(t){return t.n}),["assets/ntriples.57e7f534.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"octave":return j(()=>import("./octave.9d8386d3.js").then(function(t){return t.o}),["assets/octave.9d8386d3.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"oz":return j(()=>import("./oz.9bd8f7e7.js").then(function(t){return t.o}),["assets/oz.9bd8f7e7.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"pascal":return j(()=>import("./pascal.97e8c58d.js").then(function(t){return t.p}),["assets/pascal.97e8c58d.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"pegjs":return j(()=>import("./pegjs.a585faf9.js").then(function(t){return t.p}),["assets/pegjs.a585faf9.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/javascript.85c4d25b.js"]);case"perl":return j(()=>import("./perl.01cca948.js").then(function(t){return t.p}),["assets/perl.01cca948.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"php":return j(()=>import("./php.fd86de38.js").then(function(t){return t.p}),["assets/php.fd86de38.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/htmlmixed.d6f11e3c.js","assets/javascript.85c4d25b.js","assets/css.62b091b8.js","assets/clike.f1d85fe8.js"]);case"pig":return j(()=>import("./pig.44da9cf6.js").then(function(t){return t.p}),["assets/pig.44da9cf6.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"powershell":return j(()=>import("./powershell.432aa4e3.js").then(function(t){return t.p}),["assets/powershell.432aa4e3.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"properties":return j(()=>import("./properties.41f6ef8f.js").then(function(t){return t.p}),["assets/properties.41f6ef8f.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"protobuf":return j(()=>import("./protobuf.985c6ff9.js").then(function(t){return t.p}),["assets/protobuf.985c6ff9.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"pug":return j(()=>import("./pug.46a9325f.js").then(function(t){return t.p}),["assets/pug.46a9325f.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/javascript.85c4d25b.js","assets/css.62b091b8.js","assets/htmlmixed.d6f11e3c.js"]);case"puppet":return j(()=>import("./puppet.978fb907.js").then(function(t){return t.p}),["assets/puppet.978fb907.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"python":return j(()=>import("./python.197cf682.js").then(function(t){return t.p}),["assets/python.197cf682.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"q":return j(()=>import("./q.eb66a399.js").then(function(t){return t.q}),["assets/q.eb66a399.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"r":return j(()=>import("./r.30005c51.js").then(function(t){return t.r}),["assets/r.30005c51.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"rpm":return j(()=>import("./rpm.fb52e459.js").then(function(t){return t.r}),["assets/rpm.fb52e459.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"rst":return j(()=>import("./rst.f7c5571b.js").then(function(t){return t.r}),["assets/rst.f7c5571b.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/python.197cf682.js","assets/stex.6cab0c16.js","assets/overlay.4aee4ad9.js"]);case"ruby":return j(()=>import("./ruby.edf804f9.js").then(function(t){return t.r}),["assets/ruby.edf804f9.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"rust":return j(()=>import("./rust.8b6761b2.js").then(function(t){return t.r}),["assets/rust.8b6761b2.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/simple.0840e902.js"]);case"sas":return j(()=>import("./sas.8c2a5af3.js").then(function(t){return t.s}),["assets/sas.8c2a5af3.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"sass":return j(()=>import("./sass.f9cb449a.js").then(function(t){return t.s}),["assets/sass.f9cb449a.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/css.62b091b8.js"]);case"scheme":return j(()=>import("./scheme.060ff4c7.js").then(function(t){return t.s}),["assets/scheme.060ff4c7.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"shell":return j(()=>import("./shell.b9a0e740.js").then(function(t){return t.s}),["assets/shell.b9a0e740.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"sieve":return j(()=>import("./sieve.2e435557.js").then(function(t){return t.s}),["assets/sieve.2e435557.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"slim":return j(()=>import("./slim.04b2111c.js").then(function(t){return t.s}),["assets/slim.04b2111c.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/htmlmixed.d6f11e3c.js","assets/javascript.85c4d25b.js","assets/css.62b091b8.js","assets/ruby.edf804f9.js"]);case"smalltalk":return j(()=>import("./smalltalk.4fb3b1b9.js").then(function(t){return t.s}),["assets/smalltalk.4fb3b1b9.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"smarty":return j(()=>import("./smarty.f6122c9b.js").then(function(t){return t.s}),["assets/smarty.f6122c9b.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"solr":return j(()=>import("./solr.5d518e61.js").then(function(t){return t.s}),["assets/solr.5d518e61.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"soy":return j(()=>import("./soy.7fcab156.js").then(function(t){return t.s}),["assets/soy.7fcab156.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/htmlmixed.d6f11e3c.js","assets/javascript.85c4d25b.js","assets/css.62b091b8.js"]);case"sparql":return j(()=>import("./sparql.f1a7f051.js").then(function(t){return t.s}),["assets/sparql.f1a7f051.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"spreadsheet":return j(()=>import("./spreadsheet.4c6df545.js").then(function(t){return t.s}),["assets/spreadsheet.4c6df545.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"sql":return j(()=>import("./sql.a01b495c.js").then(function(t){return t.s}),["assets/sql.a01b495c.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"stex":return j(()=>import("./stex.6cab0c16.js").then(function(t){return t.s}),["assets/stex.6cab0c16.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"stylus":return j(()=>import("./stylus.7577596a.js").then(function(t){return t.s}),["assets/stylus.7577596a.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"swift":return j(()=>import("./swift.0d939f23.js").then(function(t){return t.s}),["assets/swift.0d939f23.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"tcl":return j(()=>import("./tcl.7f858309.js").then(function(t){return t.t}),["assets/tcl.7f858309.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"textile":return j(()=>import("./textile.237e1506.js").then(function(t){return t.t}),["assets/textile.237e1506.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"tiddlywiki":return j(()=>import("./tiddlywiki.08bed973.js").then(function(t){return t.t}),["assets/tiddlywiki.08bed973.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"tiki":return j(()=>import("./tiki.9dce5bfd.js").then(function(t){return t.t}),["assets/tiki.9dce5bfd.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"toml":return j(()=>import("./toml.faf5f476.js").then(function(t){return t.t}),["assets/toml.faf5f476.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"tornado":return j(()=>import("./tornado.4323d4a2.js").then(function(t){return t.t}),["assets/tornado.4323d4a2.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/htmlmixed.d6f11e3c.js","assets/javascript.85c4d25b.js","assets/css.62b091b8.js","assets/overlay.4aee4ad9.js"]);case"troff":return j(()=>import("./troff.82b9a6c7.js").then(function(t){return t.t}),["assets/troff.82b9a6c7.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"ttcn":return j(()=>import("./ttcn.f9c675ae.js").then(function(t){return t.t}),["assets/ttcn.f9c675ae.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"ttcn-cfg":return j(()=>import("./ttcn-cfg.3e28bc75.js").then(function(t){return t.t}),["assets/ttcn-cfg.3e28bc75.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"turtle":return j(()=>import("./turtle.97cf58a5.js").then(function(t){return t.t}),["assets/turtle.97cf58a5.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"twig":return j(()=>import("./twig.36068343.js").then(function(t){return t.t}),["assets/twig.36068343.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/multiplex.07740103.js"]);case"vb":return j(()=>import("./vb.5aaf8565.js").then(function(t){return t.v}),["assets/vb.5aaf8565.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"vbscript":return j(()=>import("./vbscript.c07dc3c8.js").then(function(t){return t.v}),["assets/vbscript.c07dc3c8.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"velocity":return j(()=>import("./velocity.f7cdf7e5.js").then(function(t){return t.v}),["assets/velocity.f7cdf7e5.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"verilog":return j(()=>import("./verilog.55a49c38.js").then(function(t){return t.v}),["assets/verilog.55a49c38.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"vhdl":return j(()=>import("./vhdl.fc40f629.js").then(function(t){return t.v}),["assets/vhdl.fc40f629.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"vue":return j(()=>import("./vue.0daa2612.js").then(function(t){return t.v}),["assets/vue.0daa2612.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/overlay.4aee4ad9.js","assets/javascript.85c4d25b.js","assets/coffeescript.69af43ea.js","assets/css.62b091b8.js","assets/sass.f9cb449a.js","assets/stylus.7577596a.js","assets/pug.46a9325f.js","assets/htmlmixed.d6f11e3c.js","assets/handlebars.2cc03606.js","assets/simple.0840e902.js","assets/multiplex.07740103.js"]);case"wast":return j(()=>import("./wast.a9fb00d6.js").then(function(t){return t.w}),["assets/wast.a9fb00d6.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/simple.0840e902.js"]);case"webidl":return j(()=>import("./webidl.dbd219d1.js").then(function(t){return t.w}),["assets/webidl.dbd219d1.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"xml":return j(()=>import("./vendor.f59145b7.js").then(function(t){return t.x}),["assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"xquery":return j(()=>import("./xquery.1638d97d.js").then(function(t){return t.x}),["assets/xquery.1638d97d.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"yacas":return j(()=>import("./yacas.d19e357f.js").then(function(t){return t.y}),["assets/yacas.d19e357f.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"yaml":return j(()=>import("./yaml.52d92099.js").then(function(t){return t.y}),["assets/yaml.52d92099.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);case"yaml-frontmatter":return j(()=>import("./yaml-frontmatter.94aa6732.js").then(function(t){return t.y}),["assets/yaml-frontmatter.94aa6732.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/yaml.52d92099.js"]);case"z80":return j(()=>import("./z80.36722ea0.js").then(function(t){return t.z}),["assets/z80.36722ea0.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);default:return Promise.resolve()}}const fW=z({props:{disabled:{type:Boolean,default:!1},value:{type:[String,Object,Array],default:null},altOptions:{type:Object,default:null},template:{type:String,default:null},lineNumber:{type:Boolean,default:!0},lineWrapping:{type:Boolean,default:!1},placeholder:{type:String,default:null},language:{type:String,default:"plaintext"},type:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),l=E(null);let o;it(async()=>{l.value&&(await r(f.value),await _s(f.value.mode),o=Fn(l.value,Ve(pe({},f.value),{value:u.value})),o.setOption("mode",{name:"javascript "}),await a(),o.on("change",(y,{origin:v})=>{if(v==="setValue")return;const h=y.getValue();if(e.type==="json"){if(h.length===0)return t("input",null);try{t("input",JSON.parse(h))}catch{}}else t("input",h)}))});const u=F(()=>e.value===null?"":typeof e.value=="object"?JSON.stringify(e.value,null,4):e.value);ye(()=>e.language,()=>{a()}),ye(u,()=>{(o==null?void 0:o.getValue())!==u.value&&(o==null||o.setValue(u.value||""))});async function a(){if(o){const y=e.language.toLowerCase();if(e.type==="json"||y==="json"){await j(()=>import("./javascript.85c4d25b.js").then(function(h){return h.j}),["assets/javascript.85c4d25b.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]);const v=await j(()=>import("./jsonlint.09bf5bab.js").then(function(h){return h.j}),[]);o.setOption("mode",{name:"javascript",json:!0}),Fn.registerHelper("lint","json",h=>{const w=[],g=v.parser;if(g.parseError=(k,A)=>{const V=A.loc;w.push({from:Fn.Pos(V.first_line-1,V.first_column),to:Fn.Pos(V.last_line-1,V.last_column),message:k})},h.length>0)try{v.parse(h)}catch{}return w})}else y==="plaintext"?o.setOption("mode",{name:"plaintext"}):(await _s(y),o.setOption("mode",{name:y}))}}async function r(y){const v=[];y&&y.size>0&&(y.styleActiveLine&&v.push(j(()=>import("./active-line.91ff5c8d.js").then(function(h){return h.a}),["assets/active-line.91ff5c8d.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])),y.markSelection&&v.push(j(()=>import("./mark-selection.d8696dde.js").then(function(h){return h.m}),["assets/mark-selection.d8696dde.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])),y.highlightSelectionMatches&&v.push(j(()=>import("./match-highlighter.011c3968.js").then(function(h){return h.m}),["assets/match-highlighter.011c3968.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])),y.autoRefresh&&v.push(j(()=>import("./autorefresh.2d612ff9.js").then(function(h){return h.a}),["assets/autorefresh.2d612ff9.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])),y.matchBrackets&&v.push(j(()=>import("./vendor.f59145b7.js").then(function(h){return h.m}),["assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])),(y.hintOptions||y.showHint)&&(v.push(j(()=>import("./show-hint.64cd9d68.js").then(function(h){return h.s}),["assets/show-hint.64cd9d68.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"])),v.push(j(()=>Promise.resolve({}),["assets/show-hint.a1d6f238.css"])),v.push(j(()=>import("./javascript-hint.ff0e6747.js").then(function(h){return h.j}),["assets/javascript-hint.ff0e6747.js","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css"]))),await Promise.all(v))}const s=F(()=>o?o.lineCount():0),p={tabSize:4,autoRefresh:!0,indentUnit:4,styleActiveLine:!0,highlightSelectionMatches:{showToken:/\w/,annotateScrollbar:!0,delay:100},hintOptions:{completeSingle:!0,hint:()=>{}},matchBrackets:!0,showCursorWhenSelecting:!0,theme:"default",extraKeys:{Ctrl:"autocomplete"},lint:!0,gutters:["CodeMirror-lint-markers"]},f=F(()=>Object.assign({},p,{lineNumbers:e.lineNumber,lineWrapping:e.lineWrapping,readOnly:e.disabled?"nocursor":!1,mode:e.language,placeholder:e.placeholder},e.altOptions?e.altOptions:{}));return ye(()=>e.disabled,y=>{o==null||o.setOption("readOnly",y?"nocursor":!1)},{immediate:!0}),ye(()=>e.altOptions,async y=>{if(!(!y||y.size===0)){await r(y);for(const v in y)o==null||o.setOption(v,y[v])}}),ye(()=>e.lineNumber,y=>{o==null||o.setOption("lineNumbers",y)}),{t:n,cmOptions:f,lineCount:s,codemirrorEl:l,stringValue:u,fillTemplate:_,formatTitle:Dt};function _(){if(e.type==="json")try{t("input",JSON.parse(e.template))}finally{}else t("input",e.template)}}}),_W={ref:"codemirrorEl"};function vW(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-button"),s=ke("tooltip");return m(),I("div",{class:ae(["input-code codemirror-custom-styles",{disabled:e.disabled}])},[S("div",_W,null,512),e.template?Q((m(),C(r,{key:0,small:"",icon:"",secondary:"",onClick:e.fillTemplate},{default:d(()=>[i(a,{name:"playlist_add"})]),_:1},8,["onClick"])),[[s,e.t("fill_template"),void 0,{left:!0}]]):R("",!0)],2)}var yW=q(fW,[["render",vW],["__scopeId","data-v-022b668a"]]),hW=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="15" width="120" height="66" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="16" width="118" height="64" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="25" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="45.148" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="55.222" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="65.296" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="35.074" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="42" y="25" width="10" height="6" rx="2" fill="var(--primary)" />
	<rect x="46" y="35" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="46" y="45" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="46" y="55" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="42" y="65" width="10" height="6" rx="2" fill="var(--primary)" />
</svg>
`;const gW=Fn.modeInfo.reduce((e,t)=>["JSON","JSON-LD"].includes(t.name)?(e.JSON="JSON",e):((t.mode==null||t.mode=="null")&&(t.mode="plaintext"),t.mode in e?e[t.mode]+=" / "+t.name:e[t.mode]=t.name,e),{}),bW=Object.entries(gW).map(([e,t])=>({text:t,value:e}));var wW=Ne({id:"input-code",name:"$t:interfaces.input-code.code",description:"$t:interfaces.input-code.description",icon:"code",component:yW,types:["string","json","text","geometry"],group:"standard",preview:hW,options:({field:e})=>{const t=[{field:"lineNumber",name:"$t:interfaces.input-code.line_number",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!0}},{field:"lineWrapping",name:"$t:interfaces.input-code.line_wrapping",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!1}},{field:"template",name:"$t:template",type:"text",meta:{width:"full",interface:"input-code",options:{placeholder:"$t:interfaces.input-code.placeholder"}},schema:{default_value:null}}],n=[{field:"language",name:"$t:language",type:"string",meta:{width:"full",interface:"select-dropdown",options:{choices:bW}}},...t],l=[...t];return(e==null?void 0:e.type)==="json"?l:n}}),$W=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wW});const kW=z({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},masked:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),l=E(!1),o=E(null),u=F(()=>l.value?n("value_hashed"):e.placeholder);return ye(()=>e.value,()=>{l.value=!!(e.value&&e.value.length>0)},{immediate:!0}),{internalPlaceholder:u,isHashed:l,localValue:o,emitValue:a};function a(r){t("input",r),o.value=r}}});function SW(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-input");return m(),C(r,{placeholder:e.internalPlaceholder,disabled:e.disabled,type:e.masked?"password":"text","model-value":e.localValue,class:ae({hashed:e.isHashed&&!e.localValue}),"onUpdate:modelValue":e.emitValue},{append:d(()=>[i(a,{class:"lock",name:e.isHashed&&!e.localValue?"lock":"lock_open"},null,8,["name"])]),_:1},8,["placeholder","disabled","type","model-value","class","onUpdate:modelValue"])}var CW=q(kW,[["render",SW],["__scopeId","data-v-f5661292"]]),VW=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="35" width="120" height="26" rx="6" fill="var(--background-page)"/>
	<rect x="19" y="36" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2"/>
	<rect x="28" y="45" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="38" y="45" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="48" y="45" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="58" y="45" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="68" y="45" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="78" y="45" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<path d="M125.5 45.676h-.574V44.5A2.93 2.93 0 0 0 122 41.574a2.93 2.93 0 0 0-2.926 2.926v1.176h-.574c-.629 0-1.176.52-1.176 1.148v5.852c0 .629.547 1.148 1.176 1.148h7c.629 0 1.176-.52 1.176-1.148v-5.852c0-.629-.547-1.148-1.176-1.148Zm-5.25-1.176c0-.957.793-1.75 1.75-1.75s1.75.793 1.75 1.75v1.176h-3.5V44.5Zm5.25 8.176h-7v-5.852h7v5.852Zm-3.5-1.75c.629 0 1.176-.547 1.176-1.176 0-.629-.547-1.176-1.176-1.176-.629 0-1.176.547-1.176 1.176 0 .629.547 1.176 1.176 1.176Z" fill="var(--primary)"/>
</svg>
`,FW=Ne({id:"input-hash",name:"$t:interfaces.input-hash.hash",description:"$t:interfaces.input-hash.description",icon:"fingerprint",component:CW,types:["hash"],group:"other",preview:VW,options:[{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"masked",name:"$t:interfaces.input-hash.masked",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input-hash.masked_label"}},schema:{default_value:!1}}]}),AW=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:FW});const IW=z({props:{value:{type:String,default:null},clear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},trim:{type:Boolean,default:!0},font:{type:String,default:"sans-serif"},softLength:{type:Number,default:void 0}},emits:["input"],setup(e){const t=F(()=>{if(typeof e.value=="number"||!e.softLength)return null;if(!e.value&&e.softLength)return e.softLength;const l=e.value.replaceAll(`
`," ").length;return e.softLength?+e.softLength-l:null}),n=F(()=>typeof e.value=="number"||!e.softLength?null:e.value&&e.softLength?100-e.value.length/+e.softLength*100:100);return{charsRemaining:t,percentageRemaining:n}}});function EW(e,t,n,l,o,u){const a=c("v-textarea");return m(),C(a,mt({placeholder:e.placeholder,trim:e.trim},{"model-value":e.value,nullable:!e.clear,disabled:e.disabled,class:e.font,"onUpdate:modelValue":t[0]||(t[0]=r=>e.$emit("input",r))}),xe({_:2},[e.percentageRemaining&&e.percentageRemaining<=20||e.softLength?{name:"append",fn:d(()=>[e.percentageRemaining&&e.percentageRemaining<=20||e.softLength?(m(),I("span",{key:0,class:ae(["remaining",{warning:e.percentageRemaining<10,danger:e.percentageRemaining<5}])},b(e.charsRemaining),3)):R("",!0)])}:void 0]),1040,["model-value","nullable","disabled","class"])}var DW=q(IW,[["render",EW],["__scopeId","data-v-709e094a"]]),TW=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="18" width="120" height="60" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="19" width="118" height="58" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="28" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="48" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="38" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="92" y="28" width="30" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="72" y="38" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
</svg>
`,LW=Ne({id:"input-multiline",name:"$t:interfaces.input-multiline.textarea",description:"$t:interfaces.input-multiline.description",icon:"text_fields",component:DW,types:["text"],group:"standard",options:[{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"full",interface:"input-multiline",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"softLength",name:"$t:soft_length",type:"integer",meta:{width:"half",interface:"input",options:{placeholder:"255",min:1}}},{field:"trim",name:"$t:interfaces.input.trim",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.trim_label"}},schema:{default_value:!1}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"clear",name:"$t:interfaces.input.clear",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.clear_label"}},schema:{default_value:!1}}],preview:TW}),PW=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:LW}),OW=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="15" width="120" height="66" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="16" width="118" height="64" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="42" y="25" width="8" height="8" rx="2" fill="var(--primary)" />
	<rect x="56" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="70" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="84" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="98" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="39" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="59" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="49" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="92" y="39" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="72" y="49" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
</svg>
`;const RW=ga(()=>j(()=>import("./input-rich-text-html.bd11c29f.js"),["assets/input-rich-text-html.bd11c29f.js","assets/input-rich-text-html.f98395ca.css","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/use-sync.04f09f9e.js"]));var jW=Ne({id:"input-rich-text-html",name:"$t:interfaces.input-rich-text-html.wysiwyg",description:"$t:interfaces.input-rich-text-html.description",icon:"format_quote",component:RW,types:["text"],group:"standard",preview:OW,options:{standard:[{field:"toolbar",name:"$t:interfaces.input-rich-text-html.toolbar",type:"json",schema:{default_value:["bold","italic","underline","h1","h2","h3","numlist","bullist","removeformat","blockquote","customLink","customImage","customMedia","hr","code","fullscreen"]},meta:{width:"half",interface:"select-multiple-dropdown",options:{choices:[{value:"undo",text:"$t:wysiwyg_options.undo"},{value:"redo",text:"$t:wysiwyg_options.redo"},{value:"bold",text:"$t:wysiwyg_options.bold"},{value:"italic",text:"$t:wysiwyg_options.italic"},{value:"underline",text:"$t:wysiwyg_options.underline"},{value:"strikethrough",text:"$t:wysiwyg_options.strikethrough"},{value:"subscript",text:"$t:wysiwyg_options.subscript"},{value:"superscript",text:"$t:wysiwyg_options.superscript"},{value:"fontselect",text:"$t:wysiwyg_options.fontselect"},{value:"fontsizeselect",text:"$t:wysiwyg_options.fontsizeselect"},{value:"h1",text:"$t:wysiwyg_options.h1"},{value:"h2",text:"$t:wysiwyg_options.h2"},{value:"h3",text:"$t:wysiwyg_options.h3"},{value:"h4",text:"$t:wysiwyg_options.h4"},{value:"h5",text:"$t:wysiwyg_options.h5"},{value:"h6",text:"$t:wysiwyg_options.h6"},{value:"alignleft",text:"$t:wysiwyg_options.alignleft"},{value:"aligncenter",text:"$t:wysiwyg_options.aligncenter"},{value:"alignright",text:"$t:wysiwyg_options.alignright"},{value:"alignjustify",text:"$t:wysiwyg_options.alignjustify"},{value:"alignnone",text:"$t:wysiwyg_options.alignnone"},{value:"indent",text:"$t:wysiwyg_options.indent"},{value:"outdent",text:"$t:wysiwyg_options.outdent"},{value:"numlist",text:"$t:wysiwyg_options.numlist"},{value:"bullist",text:"$t:wysiwyg_options.bullist"},{value:"forecolor",text:"$t:wysiwyg_options.forecolor"},{value:"backcolor",text:"$t:wysiwyg_options.backcolor"},{value:"removeformat",text:"$t:wysiwyg_options.removeformat"},{value:"cut",text:"$t:wysiwyg_options.cut"},{value:"copy",text:"$t:wysiwyg_options.copy"},{value:"paste",text:"$t:wysiwyg_options.paste"},{value:"remove",text:"$t:wysiwyg_options.remove"},{value:"selectall",text:"$t:wysiwyg_options.selectall"},{value:"blockquote",text:"$t:wysiwyg_options.blockquote"},{value:"customLink",text:"$t:wysiwyg_options.link"},{value:"unlink",text:"$t:wysiwyg_options.unlink"},{value:"customImage",text:"$t:wysiwyg_options.image"},{value:"customMedia",text:"$t:wysiwyg_options.media"},{value:"table",text:"$t:wysiwyg_options.table"},{value:"hr",text:"$t:wysiwyg_options.hr"},{value:"code",text:"$t:wysiwyg_options.source_code"},{value:"fullscreen",text:"$t:wysiwyg_options.fullscreen"},{value:"visualaid",text:"$t:wysiwyg_options.visualaid"},{value:"ltr rtl",text:"$t:wysiwyg_options.directionality"}]}}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"folder",name:"$t:folder",type:"uuid",meta:{width:"half",interface:"system-folder",note:"$t:interfaces.input-rich-text-html.folder_note"},schema:{default_value:void 0}},{field:"imageToken",name:"$t:interfaces.input-rich-text-html.imageToken",type:"string",meta:{note:"$t:interfaces.input-rich-text-html.imageToken_label",width:"half",interface:"input"}}],advanced:[{field:"softLength",name:"$t:soft_length",type:"integer",meta:{width:"half",interface:"input",options:{placeholder:"255",min:1}}},{field:"customFormats",name:"$t:interfaces.input-rich-text-html.custom_formats",type:"json",meta:{interface:"code",options:{language:"json",template:JSON.stringify([{title:"My Custom Format",inline:"span",classes:"custom-wrapper",styles:{color:"#00ff00","font-size":"20px"},attributes:{title:"My Custom Wrapper"}}],null,4)}}},{field:"tinymceOverrides",name:"$t:interfaces.input-rich-text-html.options_override",type:"json",meta:{interface:"code",options:{language:"json"}}}]}}),MW=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jW});const UW={heading(e,{cursorTo:t},n){const l=(n==null?void 0:n.level)||3;let o=e;const u=t,a="#".repeat(l)+" ";return e.startsWith(a)?o=e.substring(a.length):(o=`${a}${e}`,u.ch=u.ch+a.length),{newSelection:o,newCursor:u}},bold(e,{cursorTo:t}){let n=e;const l=t;return e.startsWith("**")&&e.endsWith("**")?n=e.substring(2,e.length-2):(n=`**${e}**`,l.ch=l.ch+2),{newSelection:n,newCursor:l}},italic(e,{cursorTo:t}){let n=e;const l=t;return e.startsWith("*")&&e.endsWith("*")?n=e.substring(1,e.length-1):(n=`*${e}*`,l.ch=l.ch+1),{newSelection:n,newCursor:l}},strikethrough(e,{cursorTo:t}){let n=e;const l=t;return e.startsWith("~~")&&e.endsWith("~~")?n=e.substring(2,e.length-2):(n=`~~${e}~~`,l.ch=l.ch+2),{newSelection:n,newCursor:l}},listBulleted(e,{cursorTo:t}){let n=e;const l=t,o=e.split(`
`);return o.every(a=>a.startsWith("- "))?n=o.map(a=>a.substring(2)).join(`
`):n=o.map(a=>`- ${a}`).join(`
`),e||(l.ch=l.ch+2),{newSelection:n,newCursor:l}},listNumbered(e,{cursorTo:t}){let n=e;const l=t,o=e.split(`
`);return o.every((a,r)=>a.startsWith(`${r+1}.`))?n=o.map(a=>a.substring(3)).join(`
`):n=o.map((a,r)=>`${r+1}. ${a}`).join(`
`),e||(l.ch=l.ch+2),{newSelection:n,newCursor:l}},blockquote(e,{cursorTo:t}){let n=e;const l=t,o=e.split(`
`);return o.every(a=>a.startsWith("> "))?n=o.map(a=>a.substring(2)).join(`
`):n=o.map(a=>`> ${a}`).join(`
`),e||(l.ch=l.ch+2),{newSelection:n,newCursor:l}},code(e,{cursorTo:t}){if(e.includes(`
`)){let n=e;const l=t;return e.startsWith("```")&&e.endsWith("```")?n=e.substring(3,e.length-3):(n="```\n"+n+"\n```",l.line=l.line+1),{newSelection:n,newCursor:l}}else{let n=e;const l=t;return e.startsWith("`")&&e.endsWith("`")?n=e.substring(1,e.length-1):(n=`\`${e}\``,l.ch=l.ch+1),{newSelection:n,newCursor:l}}},link(e,{cursorFrom:t,cursorTo:n}){let l=e;const o=n;let u;return e.endsWith("](url)")?l=e.substring(1,e.length-6):e.startsWith("http")?(l=`[](${e})`,o.ch=t.ch+1):(l=`[${e}](url)`,e?u={from:Ve(pe({},U.exports.cloneDeep(o)),{ch:o.ch+3}),to:Ve(pe({},U.exports.cloneDeep(o)),{ch:o.ch+6})}:o.ch=t.ch+1),{newSelection:l,newCursor:o,highlight:u}},table(e,t,n){if(!n)return{newSelection:e,newCursor:t.cursorFrom};let l="";const o=[];for(let u=0;u<n.columns;u++)o.push("Header");l+=`| ${o.join(" | ")} |`,l+=`
| ${o.map(()=>"------").join(" | ")} |`;for(let u=0;u<n.rows;u++)l+=`
| ${o.map(()=>"Cell").join("   | ")}   |`;return{newSelection:l,newCursor:t.cursorFrom}},custom(e,{cursorTo:t,cursorHead:n},l){if(!l)return{newSelection:e,newCursor:n};if(l.box==="block"){let o=e;const u=t;return e.startsWith(l.prefix)&&e.endsWith(l.suffix)?o=e.substring(l.prefix.length,e.length-l.suffix.length):(o=`${l.prefix}
${o}
${l.suffix}`,u.line=u.line+1),{newSelection:o,newCursor:u}}else{let o=e;const u=t;return e.startsWith(l.prefix)&&e.endsWith(l.suffix)?o=e.substring(1,e.length-1):(o=`${l.prefix}${e}${l.suffix}`,u.ch=u.ch+1),{newSelection:o,newCursor:u}}}};function NW(e,t,n){if(e){const l=e.getCursor("head"),o=e.getCursor("from"),u=e.getCursor("to"),a=e.findWordAt(l),r=e.getRange(a.anchor,a.head).trim(),s=e.getSelection(),{newSelection:p,newCursor:f,highlight:_}=UW[t](s||r,{cursorFrom:U.exports.cloneDeep(s?o:a.anchor),cursorTo:U.exports.cloneDeep(s?u:a.head),cursorHead:l},n);r&&!s?e.replaceRange(p,a.anchor,a.head):e.replaceSelection(p),e.setCursor(f),_&&e.setSelection(_.from,_.to),e.focus()}}const BW=(e,t)=>t?e?100-e/+t*100:100:null;const Xo=z({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},editorFont:{type:String,default:"sans-serif"},previewFont:{type:String,default:"sans-serif"},toolbar:{type:Array,default:()=>["heading","bold","italic","strikethrough","bullist","numlist","blockquote","code","link","table","image","link","empty"]},customSyntax:{type:Array,default:()=>[]},imageToken:{type:String,default:void 0},softLength:{type:Number,default:void 0},folder:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),l=E(),o=E();let u=null;const a=E(["editor"]),r=E(!1);let s=E(0);it(async()=>{if(o.value&&(u=Fn(o.value,{mode:"markdown",configureMouse:()=>({addNew:!1}),lineWrapping:!0,placeholder:e.placeholder,value:e.value||""}),u.on("change",(g,{origin:k})=>{if(k==="setValue")return;const A=g.getValue();t("input",A)})),l.value){const g=l.value.getElementsByClassName("preview-box")[0],k=new MutationObserver(()=>{var V,D,P;s.value=(P=(D=(V=g.textContent)==null?void 0:V.replace(`
`,""))==null?void 0:D.length)!=null?P:0}),A={characterData:!0,childList:!0,subtree:!0};k.observe(g,A)}}),ye(()=>e.value,g=>{if(!u)return;u.getValue()!==g&&(u.setValue(""),u.clearHistory(),u.setValue(g!=null?g:""),u.refresh())});const p=F(()=>`var(--family-${e.editorFont})`),f=F(()=>`var(--family-${e.previewFont})`),_=F(()=>e.value||""),y=rn({rows:4,columns:4}),v=F(()=>BW(s.value,e.softLength));return nt("meta+b",()=>w("bold"),l),nt("meta+i",()=>w("italic"),l),nt("meta+k",()=>w("link"),l),nt("meta+alt+d",()=>w("strikethrough"),l),nt("meta+alt+q",()=>w("blockquote"),l),nt("meta+alt+c",()=>w("code"),l),nt("meta+alt+1",()=>w("heading",{level:1}),l),nt("meta+alt+2",()=>w("heading",{level:2}),l),nt("meta+alt+3",()=>w("heading",{level:3}),l),nt("meta+alt+4",()=>w("heading",{level:4}),l),nt("meta+alt+5",()=>w("heading",{level:5}),l),nt("meta+alt+6",()=>w("heading",{level:6}),l),{t:n,percRemaining:v,count:s,codemirrorEl:o,edit:w,view:a,markdownString:_,table:y,onImageUpload:h,imageDialogOpen:r,useShortcut:nt,translateShortcut:Ha,markdownInterface:l,editFamily:p,previewFamily:f};function h(g){if(!u)return;let k=Wk()+"assets/"+g.id;e.imageToken&&(k+="?access_token="+e.imageToken),u.replaceSelection(`![${u.getSelection()}](${k})`),r.value=!1}function w(g,k){u&&NW(u,g,k)}}}),vs=()=>{Bd(e=>({bebd673a:e.previewFamily,"3dd79e57":e.editFamily}))},ys=Xo.setup;Xo.setup=ys?(e,t)=>(vs(),ys(e,t)):vs;const qW=Xo,zW=e=>(He("data-v-40935134"),e=e(),We(),e),KW={class:"toolbar"},HW={class:"table-options"},WW={class:"field half"},GW={class:"type-label"},ZW={class:"field half"},JW={class:"type-label"},QW={class:"field full"},XW=T(" Create "),YW=zW(()=>S("div",{class:"spacer"},null,-1)),xW={ref:"codemirrorEl"};function eG(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-button"),s=c("v-text-overflow"),p=c("v-list-item-content"),f=c("v-list-item-hint"),_=c("v-list-item"),y=c("v-list"),v=c("v-menu"),h=c("v-input"),w=c("v-item-group"),g=c("v-card-title"),k=c("v-upload"),A=c("v-card-text"),V=c("v-card-actions"),D=c("v-card"),P=c("v-dialog"),L=ke("tooltip"),B=ke("md");return m(),I("div",{ref:"markdownInterface",class:ae(["interface-input-rich-text-md",e.view[0]])},[S("div",KW,[e.view[0]!=="preview"?(m(),I(x,{key:0},[e.toolbar.includes("heading")?(m(),C(v,{key:0,"show-arrow":"",placement:"bottom-start",class:ae([{active:e.view[0]!=="preview"}])},{activator:d(({toggle:O})=>[Q(i(r,{small:"",icon:"",onClick:O},{default:d(()=>[i(a,{name:"format_size"})]),_:2},1032,["onClick"]),[[L,e.t("wysiwyg_options.heading")]])]),default:d(()=>[i(y,null,{default:d(()=>[(m(),I(x,null,$e(6,O=>i(_,{key:O,clickable:"",onClick:M=>e.edit("heading",{level:O})},{default:d(()=>[i(p,null,{default:d(()=>[i(s,{text:e.t(`wysiwyg_options.h${O}`)},null,8,["text"])]),_:2},1024),i(f,null,{default:d(()=>[T(b(e.translateShortcut(["meta","alt"]))+" "+b(O),1)]),_:2},1024)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1},8,["class"])):R("",!0),e.toolbar.includes("bold")?Q((m(),C(r,{key:1,small:"",icon:"",onClick:t[0]||(t[0]=O=>e.edit("bold"))},{default:d(()=>[i(a,{name:"format_bold"})]),_:1},512)),[[L,e.t("wysiwyg_options.bold")+" - "+e.translateShortcut(["meta","b"])]]):R("",!0),e.toolbar.includes("italic")?Q((m(),C(r,{key:2,small:"",icon:"",onClick:t[1]||(t[1]=O=>e.edit("italic"))},{default:d(()=>[i(a,{name:"format_italic"})]),_:1},512)),[[L,e.t("wysiwyg_options.italic")+" - "+e.translateShortcut(["meta","i"])]]):R("",!0),e.toolbar.includes("strikethrough")?Q((m(),C(r,{key:3,small:"",icon:"",onClick:t[2]||(t[2]=O=>e.edit("strikethrough"))},{default:d(()=>[i(a,{name:"format_strikethrough"})]),_:1},512)),[[L,e.t("wysiwyg_options.strikethrough")+" - "+e.translateShortcut(["meta","alt","d"])]]):R("",!0),e.toolbar.includes("bullist")?Q((m(),C(r,{key:4,small:"",icon:"",onClick:t[3]||(t[3]=O=>e.edit("listBulleted"))},{default:d(()=>[i(a,{name:"format_list_bulleted"})]),_:1},512)),[[L,e.t("wysiwyg_options.bullist")]]):R("",!0),e.toolbar.includes("numlist")?Q((m(),C(r,{key:5,small:"",icon:"",onClick:t[4]||(t[4]=O=>e.edit("listNumbered"))},{default:d(()=>[i(a,{name:"format_list_numbered"})]),_:1},512)),[[L,e.t("wysiwyg_options.numlist")]]):R("",!0),e.toolbar.includes("blockquote")?Q((m(),C(r,{key:6,small:"",icon:"",onClick:t[5]||(t[5]=O=>e.edit("blockquote"))},{default:d(()=>[i(a,{name:"format_quote"})]),_:1},512)),[[L,e.t("wysiwyg_options.blockquote")+" - "+e.translateShortcut(["meta","alt","q"])]]):R("",!0),e.toolbar.includes("code")?Q((m(),C(r,{key:7,small:"",icon:"",onClick:t[6]||(t[6]=O=>e.edit("code"))},{default:d(()=>[i(a,{name:"code"})]),_:1},512)),[[L,e.t("wysiwyg_options.codeblock")+" - "+e.translateShortcut(["meta","alt","c"])]]):R("",!0),e.toolbar.includes("link")?Q((m(),C(r,{key:8,small:"",icon:"",onClick:t[7]||(t[7]=O=>e.edit("link"))},{default:d(()=>[i(a,{name:"insert_link"})]),_:1},512)),[[L,e.t("wysiwyg_options.link")+" - "+e.translateShortcut(["meta","k"])]]):R("",!0),e.toolbar.includes("table")?(m(),C(v,{key:9,"show-arrow":"","close-on-content-click":!1},{activator:d(({toggle:O})=>[Q(i(r,{small:"",icon:"",onClick:O},{default:d(()=>[i(a,{name:"table_chart"})]),_:2},1032,["onClick"]),[[L,e.t("wysiwyg_options.table")]])]),default:d(({deactivate:O})=>[S("div",HW,[S("div",WW,[S("p",GW,b(e.t("rows")),1),i(h,{modelValue:e.table.rows,"onUpdate:modelValue":t[8]||(t[8]=M=>e.table.rows=M),min:1,type:"number"},null,8,["modelValue"])]),S("div",ZW,[S("p",JW,b(e.t("columns")),1),i(h,{modelValue:e.table.columns,"onUpdate:modelValue":t[9]||(t[9]=M=>e.table.columns=M),min:1,type:"number"},null,8,["modelValue"])]),S("div",QW,[i(r,{"full-width":"",onClick:()=>{e.edit("table",e.table),O()}},{default:d(()=>[XW]),_:2},1032,["onClick"])])])]),_:1})):R("",!0),e.toolbar.includes("image")?Q((m(),C(r,{key:10,small:"",icon:"",onClick:t[10]||(t[10]=O=>e.imageDialogOpen=!0)},{default:d(()=>[i(a,{name:"insert_photo"})]),_:1},512)),[[L,e.t("wysiwyg_options.image")]]):R("",!0),(m(!0),I(x,null,$e(e.customSyntax,O=>Q((m(),C(r,{key:O.name,small:"",icon:"",onClick:M=>e.edit("custom",O)},{default:d(()=>[i(a,{name:O.icon},null,8,["name"])]),_:2},1032,["onClick"])),[[L,O.name]])),128))],64)):R("",!0),YW,i(w,{modelValue:e.view,"onUpdate:modelValue":t[11]||(t[11]=O=>e.view=O),class:"view",mandatory:"",rounded:""},{default:d(()=>[i(r,{"x-small":"",value:"editor",class:ae([{active:e.view[0]!=="preview"}])},{default:d(()=>[T(b(e.t("interfaces.input-rich-text-md.edit")),1)]),_:1},8,["class"]),i(r,{"x-small":"",value:"preview",class:ae([{active:e.view[0]==="preview"}])},{default:d(()=>[T(b(e.t("interfaces.input-rich-text-md.preview")),1)]),_:1},8,["class"])]),_:1},8,["modelValue"])]),S("div",xW,null,512),e.softLength?(m(),I("span",{key:0,class:ae(["remaining",{warning:e.percRemaining<10,danger:e.percRemaining<5}])},b(e.softLength-e.count),3)):R("",!0),Q(S("div",{class:"preview-box",style:Ue(e.view[0]==="preview"?"display:block":"display:none")},null,4),[[B,e.markdownString]]),i(P,{"model-value":e.imageDialogOpen,onEsc:t[13]||(t[13]=O=>e.imageDialogOpen=null),"onUpdate:modelValue":t[14]||(t[14]=O=>e.imageDialogOpen=null)},{default:d(()=>[i(D,null,{default:d(()=>[i(g,null,{default:d(()=>[T(b(e.t("upload_from_device")),1)]),_:1}),i(A,null,{default:d(()=>[i(k,{"from-url":"","from-library":"",folder:e.folder,onInput:e.onImageUpload},null,8,["folder","onInput"])]),_:1}),i(V,null,{default:d(()=>[i(r,{secondary:"",onClick:t[12]||(t[12]=O=>e.imageDialogOpen=null)},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])],2)}var tG=q(qW,[["render",eG],["__scopeId","data-v-40935134"]]),nG=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="15" width="120" height="66" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="16" width="118" height="64" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="42" y="25" width="8" height="8" rx="2" fill="var(--primary)" />
	<rect x="56" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="70" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="84" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="98" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="39" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="59" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="49" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="92" y="39" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="72" y="49" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
</svg>
`,lG=Ne({id:"input-rich-text-md",name:"$t:interfaces.input-rich-text-md.markdown",description:"$t:interfaces.input-rich-text-md.description",icon:"functions",component:tG,types:["text"],group:"standard",preview:nG,options:{standard:[{field:"toolbar",name:"$t:interfaces.input-rich-text-html.toolbar",type:"json",schema:{default_value:["heading","bold","italic","strikethrough","bullist","numlist","blockquote","code","link","table","image","empty"]},meta:{width:"half",interface:"select-multiple-dropdown",options:{choices:[{value:"heading",text:"$t:wysiwyg_options.heading"},{value:"bold",text:"$t:wysiwyg_options.bold"},{value:"italic",text:"$t:wysiwyg_options.italic"},{value:"strikethrough",text:"$t:wysiwyg_options.strikethrough"},{value:"blockquote",text:"$t:wysiwyg_options.blockquote"},{value:"bullist",text:"$t:wysiwyg_options.bullist"},{value:"numlist",text:"$t:wysiwyg_options.numlist"},{value:"table",text:"$t:wysiwyg_options.table"},{value:"code",text:"$t:wysiwyg_options.source_code"},{value:"image",text:"$t:wysiwyg_options.image"},{value:"link",text:"$t:wysiwyg_options.link"}]}}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"folder",name:"$t:interfaces.system-folder.folder",type:"uuid",meta:{width:"half",interface:"system-folder",note:"$t:interfaces.system-folder.field_hint"},schema:{default_value:void 0}},{field:"imageToken",name:"$t:interfaces.input-rich-text-md.imageToken",type:"string",meta:{note:"$t:interfaces.input-rich-text-md.imageToken_label",width:"half",interface:"input"}}],advanced:[{field:"softLength",name:"$t:soft_length",type:"integer",meta:{width:"half",interface:"input",options:{placeholder:"255",min:1}}},{field:"editorFont",name:"$t:interfaces.input-rich-text-md.editorFont",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"previewFont",name:"$t:interfaces.input-rich-text-md.previewFont",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"customSyntax",name:"$t:interfaces.input-rich-text-md.customSyntax",type:"json",meta:{note:"$t:interfaces.input-rich-text-md.customSyntax_label",width:"full",interface:"list",options:{addLabel:"$t:interfaces.input-rich-text-md.customSyntax_add",template:"{{ name }}",fields:[{field:"name",type:"string",name:"$t:name",meta:{interface:"input",width:"half",options:{placeholder:"$t:name",default:null}}},{field:"icon",type:"string",name:"$t:icon",meta:{interface:"select-icon",width:"half"}},{field:"prefix",type:"string",name:"$t:prefix",meta:{interface:"input",width:"half",options:{placeholder:"$t:prefix",default:null}}},{field:"suffix",type:"string",name:"$t:suffix",meta:{interface:"input",width:"half",options:{placeholder:"$t:suffix",default:null}}},{field:"box",type:"string",name:"$t:interfaces.input-rich-text-md.box",meta:{interface:"select-radio",width:"half",options:{choices:[{text:"$t:inline",value:"inline"},{text:"$t:block",value:"block"}]}},schema:{default_value:"inline"}}]}}}]}}),oG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lG});const aG=z({components:{Draggable:It},props:{value:{type:Array,default:null},fields:{type:Array,default:()=>[]},template:{type:String,default:null},addLabel:{type:String,default:()=>ze.global.t("create_new")},limit:{type:Number,default:null},disabled:{type:Boolean,default:!1},headerPlaceholder:{type:String,default:()=>ze.global.t("empty_item")},collection:{type:String,default:null},placeholder:{type:String,default:()=>ze.global.t("no_items")}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),l=E(null),o=F(()=>l.value!==null),{value:u}=Me(e),a=F(()=>{var N,K;return((K=(N=e.fields)==null?void 0:N[0])==null?void 0:K.field)?e.template||`{{${e.fields[0].field}}}`:""}),r=F(()=>e.disabled?!1:!!(e.value===null||e.limit===null||Array.isArray(e.value)&&e.value.length<e.limit)),s=F(()=>l.value!==null?v.value:null),{displayValue:p}=Wa(a,s),f=F(()=>{var K,G;const N={};for(const ie of e.fields)((K=ie.schema)==null?void 0:K.default_value)!==void 0&&((G=ie.schema)==null?void 0:G.default_value)!==null&&(N[ie.field]=ie.schema.default_value);return N}),_=F(()=>{var N;return(N=e.fields)==null?void 0:N.map(K=>{var G;return Ve(pe({},K),{name:Dt((G=K.name)!=null?G:K.field)})})}),y=E(!1),v=E({}),h=E(!1);return{t:n,updateValues:D,removeItem:P,addNew:L,showAddNew:r,hideDragImage:zt,active:l,drawerOpen:o,displayValue:p,activeItem:s,closeDrawer:M,onSort:O,templateWithDefaults:a,defaults:f,fieldsWithNames:_,isNewItem:y,edits:v,confirmDiscard:h,openItem:w,saveItem:g,trackEdits:k,checkDiscard:A,discardAndLeave:V};function w(N){y.value=!1,v.value=pe({},e.value[N]),l.value=N}function g(N){y.value=!1,D(N,v.value),M()}function k(N){const K=Object.assign({},f.value,N);Object.assign(v.value,K)}function A(){l.value!==null&&!U.exports.isEqual(v.value,e.value[l.value])?h.value=!0:M()}function V(){M(),h.value=!1}function D(N,K){B(e.value.map((G,ie)=>ie===N?K:G))}function P(N){u.value?B(e.value.filter(K=>K!==N)):B(null)}function L(){y.value=!0;const N={};e.fields.forEach(K=>{var G;N[K.field]=(G=K.schema)==null?void 0:G.default_value}),e.value!==null?B([...e.value,N]):B([N]),v.value=pe({},N),l.value=(e.value||[]).length}function B(N){return!N||N.length===0?t("input",null):t("input",N)}function O(N){return N===null||N.length===0?t("input",null):t("input",N)}function M(){y.value&&B(e.value.slice(0,-1)),v.value={},l.value=null}}}),iG=e=>(He("data-v-219470bd"),e=e(),We(),e),rG={class:"repeater"},sG=iG(()=>S("div",{class:"spacer"},null,-1)),dG={class:"type-title"},uG={class:"drawer-item-content"};function cG(e,t,n,l,o,u){const a=c("v-notice"),r=c("v-icon"),s=c("render-template"),p=c("v-list-item"),f=c("draggable"),_=c("v-list"),y=c("v-button"),v=c("v-form"),h=c("v-drawer"),w=c("v-card-title"),g=c("v-card-text"),k=c("v-card-actions"),A=c("v-card"),V=c("v-dialog"),D=ke("tooltip");return m(),I("div",rG,[!e.value||e.value.length===0?(m(),C(a,{key:0},{default:d(()=>[T(b(e.placeholder),1)]),_:1})):R("",!0),e.value&&e.value.length>0?(m(),C(_,{key:1},{default:d(()=>[i(f,{disabled:e.disabled,"force-fallback":!0,"model-value":e.value,"item-key":"id",handle:".drag-handle","onUpdate:modelValue":t[1]||(t[1]=P=>e.$emit("input",P))},{item:d(({element:P,index:L})=>[i(p,{dense:e.value.length>4,block:"",onClick:B=>e.openItem(L)},{default:d(()=>[e.disabled?R("",!0):(m(),C(r,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=Ae(()=>{},["stop"]))})),i(s,{fields:e.fields,item:pe(pe({},e.defaults),P),template:e.templateWithDefaults},null,8,["fields","item","template"]),sG,e.disabled?R("",!0):(m(),C(r,{key:1,name:"close",onClick:Ae(B=>e.removeItem(P),["stop"])},null,8,["onClick"]))]),_:2},1032,["dense","onClick"])]),_:1},8,["disabled","model-value"])]),_:1})):R("",!0),e.showAddNew?(m(),C(y,{key:2,class:"add-new",onClick:e.addNew},{default:d(()=>[T(b(e.addLabel),1)]),_:1},8,["onClick"])):R("",!0),i(h,{"model-value":e.drawerOpen,title:e.displayValue||e.headerPlaceholder,persistent:"","onUpdate:modelValue":t[4]||(t[4]=P=>e.checkDiscard()),onCancel:t[5]||(t[5]=P=>e.checkDiscard())},{title:d(()=>[S("h1",dG,[i(s,{fields:e.fields,item:e.activeItem,template:e.templateWithDefaults},null,8,["fields","item","template"])])]),actions:d(()=>[Q(i(y,{icon:"",rounded:"",onClick:t[2]||(t[2]=P=>e.saveItem(e.active))},{default:d(()=>[i(r,{name:"check"})]),_:1},512),[[D,e.t("save"),void 0,{bottom:!0}]])]),default:d(()=>[S("div",uG,[i(v,{disabled:e.disabled,fields:e.fieldsWithNames,"model-value":e.activeItem,autofocus:"","primary-key":"+","onUpdate:modelValue":t[3]||(t[3]=P=>e.trackEdits(P))},null,8,["disabled","fields","model-value"])])]),_:1},8,["model-value","title"]),i(V,{modelValue:e.confirmDiscard,"onUpdate:modelValue":t[8]||(t[8]=P=>e.confirmDiscard=P),onEsc:t[9]||(t[9]=P=>e.confirmDiscard=!1)},{default:d(()=>[i(A,null,{default:d(()=>[i(w,null,{default:d(()=>[T(b(e.t("unsaved_changes")),1)]),_:1}),i(g,null,{default:d(()=>[T(b(e.t("unsaved_changes_copy")),1)]),_:1}),i(k,null,{default:d(()=>[i(y,{secondary:"",onClick:t[6]||(t[6]=P=>e.discardAndLeave())},{default:d(()=>[T(b(e.t("discard_changes")),1)]),_:1}),i(y,{onClick:t[7]||(t[7]=P=>e.confirmDiscard=!1)},{default:d(()=>[T(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var hs=q(aG,[["render",cG],["__scopeId","data-v-219470bd"]]);const pG=z({components:{Repeater:hs},props:{value:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),l=F({get(){var r,s;return(s=(r=e.value)==null?void 0:r.fields)==null?void 0:s.map(p=>p.meta)},set(r){const s=(r||[]).map(p=>({field:p.field,name:p.name||p.field,type:p.type,meta:p}));t("input",Ve(pe({},e.value||{}),{fields:s}))}}),o=[{name:n("field",1),field:"field",type:"string",meta:{interface:"input",width:"half",sort:2,options:{dbSafe:!0,font:"monospace",placeholder:n("interfaces.list.field_name_placeholder")}},schema:null},{name:n("field_width"),field:"width",type:"string",meta:{interface:"select-dropdown",width:"half",sort:3,options:{choices:[{value:"half",text:n("half_width")},{value:"full",text:n("full_width")}]}},schema:null},{name:n("type"),field:"type",type:"string",meta:{interface:"select-dropdown",width:"half",sort:4,options:{choices:Ft(h8)}},schema:null},{name:n("interface_label"),field:"interface",type:"string",meta:{interface:"system-interface",width:"half",sort:5,options:{typeField:"type"}},schema:null},{name:n("note"),field:"note",type:"string",meta:{interface:"input",width:"full",sort:6,options:{placeholder:n("interfaces.list.field_note_placeholder")}},schema:null},{name:n("options"),field:"options",type:"string",meta:{interface:"system-interface-options",width:"full",sort:7,options:{interfaceField:"interface"}}}],u=F({get(){var r;return(r=e.value)==null?void 0:r.template},set(r){t("input",Ve(pe({},e.value||{}),{template:r}))}}),a=F({get(){var r;return(r=e.value)==null?void 0:r.addLabel},set(r){t("input",Ve(pe({},e.value||{}),{addLabel:r}))}});return{t:n,repeaterValue:l,repeaterFields:o,template:u,addLabel:a}}}),mG={class:"grid"},fG={class:"grid-element half"},_G={class:"type-label"},vG={class:"grid-element half"},yG={class:"type-label"},hG={class:"grid-element full"},gG={class:"type-label"};function bG(e,t,n,l,o,u){const a=c("v-input"),r=c("repeater");return m(),I("div",mG,[S("div",fG,[S("p",_G,b(e.t("template")),1),i(a,{modelValue:e.template,"onUpdate:modelValue":t[0]||(t[0]=s=>e.template=s),class:"input",placeholder:"{{ field }}"},null,8,["modelValue"])]),S("div",vG,[S("p",yG,b(e.t("interfaces.list.add_label")),1),i(a,{modelValue:e.addLabel,"onUpdate:modelValue":t[1]||(t[1]=s=>e.addLabel=s),class:"input",placeholder:e.t("create_new")},null,8,["modelValue","placeholder"])]),S("div",hG,[S("p",gG,b(e.t("interfaces.list.edit_fields")),1),i(r,{value:e.repeaterValue,template:"{{ field }} \u2014 {{ interface }}",fields:e.repeaterFields,onInput:t[2]||(t[2]=s=>e.repeaterValue=s)},null,8,["value","fields"])])])}var wG=q(pG,[["render",bG],["__scopeId","data-v-5bedb58b"]]),$G=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18.4443" y="9" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19.4443" y="10" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25"
		stroke-width="2" />
	<rect x="46" y="17" width="10" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="60" y="17" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 18H28V19.2691H38V18ZM28 21.7778H38V20.5087H28V21.7778Z" fill="var(--primary)" />
	<rect x="18" y="65" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19" y="66" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25" stroke-width="2" />
	<rect x="46" y="73" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 74H28V75.2691H38V74ZM28 77.7778H38V76.5087H28V77.7778Z" fill="var(--primary)" />
	<rect x="18" y="37" width="120" height="22" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="38" width="118" height="20" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="45" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="80" y="45" width="10" height="6" rx="2" fill="var(--primary)" />
	<path d="M38 46H28V47.2691H38V46ZM28 49.7778H38V48.5087H28V49.7778Z" fill="var(--primary)" />
	<path
		d="M127.074 52.0742H118.926V43.9258H123V42.75H118.926C118.27 42.75 117.75 43.2695 117.75 43.9258V52.0742C117.75 52.7305 118.27 53.25 118.926 53.25H127.074C127.73 53.25 128.25 52.7305 128.25 52.0742V48H127.074V52.0742ZM124.176 42.75V43.9258H126.254L120.539 49.6406L121.359 50.4609L127.074 44.7461V46.8242H128.25V42.75H124.176Z"
		fill="var(--primary)" />
</svg>
`,kG=Ne({id:"list",name:"$t:interfaces.list.repeater",description:"$t:interfaces.list.description",icon:"replay",component:hs,types:["json"],group:"selection",options:wG,preview:$G}),SG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:kG});const CG=z({components:{DrawerCollection:Xt,DrawerItem:jt,Draggable:It},props:{collection:{type:String,required:!0},field:{type:String,required:!0},value:{type:Array,default:null},disabled:{type:Boolean,default:!1},primaryKey:{type:[String,Number],required:!0},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),l=pt(),o=Le(),u=Ke(),{o2mRelation:a,anyRelation:r,allowedCollections:s,o2mRelationPrimaryKeyField:p}=ie(),{fetchValues:f,previewValues:_,loading:y,junctionRowMap:v,relatedItemValues:h}=ne(),{collections:w,templates:g,primaryKeys:k}=de(),{selectingFrom:A,stageSelection:V,deselect:D}=le(),{currentlyEditing:P,relatedPrimaryKey:L,editsAtStart:B,stageEdits:O,cancelEdit:M,editExisting:N,createNew:K}=se(),{onSort:G}=ee();return ye(()=>e.value,f,{immediate:!0,deep:!0}),{t:n,previewValues:_,collections:w,selectingFrom:A,stageSelection:V,templates:g,o2mRelation:a,anyRelation:r,currentlyEditing:P,relatedPrimaryKey:L,editsAtStart:B,stageEdits:O,cancelEdit:M,editExisting:N,createNew:K,previewLoading:y,deselect:D,relatedItemValues:h,hideDragImage:zt,onSort:G,allowedCollections:s};function ie(){const Z=F(()=>l.getRelationsForField(e.collection,e.field)),te=F(()=>Z.value.find(_e=>_e.related_collection!==null)),me=F(()=>Z.value.find(_e=>_e.related_collection===null)),H=F(()=>o.getPrimaryKeyFieldForCollection(te.value.collection).field),Y=F(()=>me.value.meta.one_allowed_collections);return{relationsForField:Z,o2mRelation:te,anyRelation:me,allowedCollections:Y,o2mRelationPrimaryKeyField:H}}function de(){const Z=F(()=>{const H={},Y=s.value.map(_e=>u.getCollection(_e)).filter(_e=>_e);for(const _e of Y)H[_e.collection]=_e;return H}),te=F(()=>{const H={};for(const Y of Object.values(Z.value))H[Y.collection]=o.getPrimaryKeyFieldForCollection(Y.collection).field;return H}),me=F(()=>{var Y;const H={};for(const _e of Object.values(Z.value)){const ve=o.getPrimaryKeyFieldForCollection(_e.collection);H[_e.collection]=((Y=_e.meta)==null?void 0:Y.display_template)||`{{${ve.field}}}`}return H});return{collections:Z,primaryKeys:te,templates:me}}function ne(){const Z=E(!1),te=E({}),me=E(),H=F(()=>{var ve,ue;if(me.value===void 0)return[];const _e=U.exports.cloneDeep(e.value||[]).map((W,X)=>{const ce=U.exports.isPlainObject(W)?W[p.value]:W,oe=(me.value||[]).find(he=>he[p.value]===ce);return U.exports.isPlainObject(W)?Ve(pe(pe({},oe),W),{$index:X}):oe===void 0?null:Ve(pe({},oe),{$index:X})}).filter(W=>W).map(W=>{var he;const X=W[r.value.meta.one_collection_field],ce=U.exports.isPlainObject(W[r.value.field])?W[r.value.field][k.value[X]]:W[r.value.field],oe=(he=te.value[X])==null?void 0:he.find(ge=>ge[k.value[X]]==ce);return ce&&oe&&(U.exports.isPlainObject(W[r.value.field])?W[r.value.field]=pe(pe({},oe),W[r.value.field]):W[r.value.field]=U.exports.cloneDeep(oe)),W});return((ue=(ve=a.value)==null?void 0:ve.meta)==null?void 0:ue.sort_field)?[..._e.filter(W=>a.value.meta.sort_field in W).sort((W,X)=>W[a.value.meta.sort_field]-X[a.value.meta.sort_field]),..._e.filter(W=>!(a.value.meta.sort_field in W)).sort((W,X)=>W.$index-X.$index)]:[..._e.sort((W,X)=>W.$index-X.$index)]});return{fetchValues:Y,previewValues:H,loading:Z,junctionRowMap:me,relatedItemValues:te};async function Y(_e,ve){var ue;if(e.value!==null&&!U.exports.isEqual(_e,ve)){Z.value=!0;try{const W=[],X={};for(const oe of Object.values(w.value))X[oe.collection]=[];for(const oe of e.value||[])if(typeof oe=="string"||typeof oe=="number")W.push(oe);else if(!(r.value.meta.one_collection_field in oe))W.push(oe[p.value]);else{const he=oe[r.value.meta.one_collection_field],ge=k.value[he],we=U.exports.isPlainObject(oe[r.value.field])?oe[r.value.field][ge]:oe[r.value.field];we&&X[he].push(we)}if(W.length>0){const oe=await re.get(`/items/${a.value.collection}`,{params:{filter:{[p.value]:{_in:W}},fields:[p.value,r.value.field,r.value.meta.one_collection_field,(ue=a.value.meta)==null?void 0:ue.sort_field]}});for(const he of oe.data.data){const ge=he[r.value.meta.one_collection_field];ge in X&&X[ge].push(he[r.value.field])}me.value=oe.data.data}else me.value=[];const ce=await Promise.all(Object.entries(X).map(([oe,he])=>{if(he.length===0)return Promise.resolve({data:{data:[]}});const ge=ht(g.value[oe]);return ge.includes(k.value[oe])===!1&&ge.push(k.value[oe]),re.get(Jt(oe),{params:{filter:{[k.value[oe]]:{_in:he}},fields:ge}})}));te.value||(te.value={});for(let oe=0;oe<Object.keys(X).length;oe++){const he=Object.keys(X)[oe];te.value=Ve(pe({},te.value),{[he]:ce[oe].data.data})}}catch(W){Se(W)}finally{Z.value=!1}}}}function le(){const Z=E(null);return{selectingFrom:Z,stageSelection:te,deselect:me};function te(H){const{field:Y}=r.value,_e=r.value.meta.one_collection_field,ve=e.value||[],ue=H.map(W=>({[_e]:Z.value,[Y]:W}));t("input",[...ve,...ue])}function me(H){t("input",(e.value||[]).filter(Y=>Y!==H))}}function se(){const Z=E(null),te=E(null),me=E({});return{currentlyEditing:Z,relatedPrimaryKey:te,editsAtStart:me,stageEdits:H,cancelEdit:Y,editExisting:_e,createNew:ve};function H(ue){const W=e.value||[],X=W.includes(me.value)||W.includes(Z.value);Z.value==="+"&&te.value==="+"&&X===!1?t("input",[...W,ue]):t("input",W.map(oe=>oe===me.value||oe==Z.value?ue:oe))}function Y(){Z.value=null,te.value=null,me.value={}}function _e(ue){var oe,he,ge;if(typeof ue=="string"||typeof ue=="number"){const we=(v.value||[]).find(De=>De[p.value]==ue),Ce=we[r.value.meta.one_collection_field],Fe=U.exports.isPlainObject(we[r.value.field])?we[r.value.field][k.value[Ce]]:we[r.value.field];me.value={[p.value]:ue,[r.value.meta.one_collection_field]:Ce,[r.value.field]:{[k.value[Ce]]:Fe}},((oe=a.value.meta)==null?void 0:oe.sort_field)&&(me.value[(he=a.value.meta)==null?void 0:he.sort_field]=we[(ge=a.value.meta)==null?void 0:ge.sort_field]),te.value=Fe||"+",Z.value=ue;return}const W=ue[p.value],X=ue[r.value.meta.one_collection_field];let ce=ue[r.value.field];U.exports.isPlainObject(ce)&&(ce=ue[r.value.field][k.value[X]]),me.value=ue,te.value=ce||"+",Z.value=W||"+"}function ve(ue){var X,ce;const W={[r.value.meta.one_collection_field]:ue,[r.value.field]:{}};if(_.value&&((ce=(X=a.value)==null?void 0:X.meta)==null?void 0:ce.sort_field)){const oe=Math.max(-1,..._.value.map(he=>he[a.value.meta.sort_field]));W[a.value.meta.sort_field]=oe+1}me.value=W,te.value="+",Z.value="+"}}function ee(){return{onSort:Z};function Z(te){t("input",e.value.map((me,H)=>{var _e,ve,ue;if(!((_e=a.value.meta)==null?void 0:_e.sort_field))return me;const Y=te.findIndex(W=>W.$index===H);return U.exports.isPlainObject(me)?Ve(pe({},me),{[(ve=a.value.meta)==null?void 0:ve.sort_field]:Y+1}):Ve(pe({},te[Y]),{[p.value]:me,[(ue=a.value.meta)==null?void 0:ue.sort_field]:Y+1})}))}}}}),gs=e=>(He("data-v-677e0080"),e=e(),We(),e),VG={class:"m2a-builder"},FG={key:0,class:"loader"},AG={class:"collection"},IG={key:1},EG=gs(()=>S("div",{class:"spacer"},null,-1)),DG=gs(()=>S("div",{class:"spacer"},null,-1)),TG={key:2,class:"buttons"};function LG(e,t,n,l,o,u){const a=c("v-skeleton-loader"),r=c("v-notice"),s=c("v-icon"),p=c("render-template"),f=c("v-list-item"),_=c("draggable"),y=c("v-list"),v=c("v-button"),h=c("v-list-item-icon"),w=c("v-text-overflow"),g=c("v-menu"),k=c("drawer-collection"),A=c("drawer-item");return m(),I("div",VG,[e.previewLoading&&!e.previewValues?(m(),I("div",FG,[(m(!0),I(x,null,$e((e.value||[]).length,V=>(m(),C(a,{key:V}))),128))])):(m(),C(y,{key:1},{default:d(()=>[e.previewValues.length===0?(m(),C(r,{key:0},{default:d(()=>[T(b(e.t("no_items")),1)]),_:1})):R("",!0),i(_,{"force-fallback":!0,"model-value":e.previewValues,"item-key":"$index","set-data":e.hideDragImage,disabled:!e.o2mRelation.meta||!e.o2mRelation.meta.sort_field,"onUpdate:modelValue":e.onSort},{item:d(({element:V})=>[e.allowedCollections.includes(V[e.anyRelation.meta.one_collection_field])?(m(),C(f,{key:0,block:"",dense:e.previewValues.length>4,clickable:"",onClick:D=>e.editExisting((e.value||[])[V.$index])},{default:d(()=>[e.o2mRelation.meta&&e.o2mRelation.meta.sort_field?(m(),C(s,{key:0,class:"drag-handle",left:"",name:"drag_handle",onClick:t[0]||(t[0]=Ae(()=>{},["stop"]))})):R("",!0),S("span",AG,b(e.collections[V[e.anyRelation.meta.one_collection_field]].name)+":",1),typeof V[e.anyRelation.field]=="number"||typeof V[e.anyRelation.field]=="string"?(m(),I("span",IG,b(V[e.anyRelation.field]),1)):(m(),C(p,{key:2,collection:V[e.anyRelation.meta.one_collection_field],template:e.templates[V[e.anyRelation.meta.one_collection_field]],item:V[e.anyRelation.field]},null,8,["collection","template","item"])),EG,e.disabled?R("",!0):(m(),C(s,{key:3,class:"clear-icon",name:"clear",onClick:Ae(D=>e.deselect((e.value||[])[V.$index]),["stop"])},null,8,["onClick"]))]),_:2},1032,["dense","onClick"])):(m(),C(f,{key:1,block:""},{default:d(()=>[i(s,{class:"invalid-icon",name:"warning",left:""}),S("span",null,b(e.t("invalid_item")),1),DG,e.disabled?R("",!0):(m(),C(s,{key:0,class:"clear-icon",name:"clear",onClick:Ae(D=>e.deselect((e.value||[])[V.$index]),["stop"])},null,8,["onClick"]))]),_:2},1024))]),_:1},8,["model-value","set-data","disabled","onUpdate:modelValue"])]),_:1})),e.disabled?R("",!0):(m(),I("div",TG,[e.enableCreate?(m(),C(g,{key:0,"show-arrow":""},{activator:d(({toggle:V})=>[i(v,{onClick:V},{default:d(()=>[T(b(e.t("create_new"))+" ",1),i(s,{name:"arrow_drop_down",right:""})]),_:2},1032,["onClick"])]),default:d(()=>[i(y,null,{default:d(()=>[(m(!0),I(x,null,$e(e.collections,V=>(m(),C(f,{key:V.collection,clickable:"",onClick:D=>e.createNew(V.collection)},{default:d(()=>[i(h,null,{default:d(()=>[i(s,{name:V.icon},null,8,["name"])]),_:2},1024),i(w,{text:V.name},null,8,["text"])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):R("",!0),e.enableSelect?(m(),C(g,{key:1,"show-arrow":""},{activator:d(({toggle:V})=>[i(v,{class:"existing",onClick:V},{default:d(()=>[T(b(e.t("add_existing"))+" ",1),i(s,{name:"arrow_drop_down",right:""})]),_:2},1032,["onClick"])]),default:d(()=>[i(y,null,{default:d(()=>[(m(!0),I(x,null,$e(e.collections,V=>(m(),C(f,{key:V.collection,clickable:"",onClick:D=>e.selectingFrom=V.collection},{default:d(()=>[i(h,null,{default:d(()=>[i(s,{name:V.icon},null,8,["name"])]),_:2},1024),i(w,{text:V.name},null,8,["text"])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):R("",!0)])),!e.disabled&&!!e.selectingFrom?(m(),C(k,{key:3,multiple:"",active:!!e.selectingFrom,collection:e.selectingFrom,selection:[],onInput:e.stageSelection,"onUpdate:active":t[1]||(t[1]=V=>e.selectingFrom=null)},null,8,["active","collection","onInput"])):R("",!0),e.disabled?R("",!0):(m(),C(A,{key:4,active:!!e.currentlyEditing,collection:e.o2mRelation.collection,"primary-key":e.currentlyEditing||"+","related-primary-key":e.relatedPrimaryKey||"+","junction-field":e.o2mRelation.meta.junction_field,edits:e.editsAtStart,"circular-field":e.o2mRelation.field,onInput:e.stageEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","related-primary-key","junction-field","edits","circular-field","onInput","onUpdate:active"]))])}var PG=q(CG,[["render",LG],["__scopeId","data-v-677e0080"]]),OG=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18.4443" y="9" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19.4443" y="10" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25"
		stroke-width="2" />
	<rect x="46" y="17" width="10" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="60" y="17" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 18H28V19.2691H38V18ZM28 21.7778H38V20.5087H28V21.7778Z" fill="var(--primary)" />
	<rect x="18" y="65" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19" y="66" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25" stroke-width="2" />
	<rect x="46" y="73" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 74H28V75.2691H38V74ZM28 77.7778H38V76.5087H28V77.7778Z" fill="var(--primary)" />
	<rect x="18" y="37" width="120" height="22" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="38" width="118" height="20" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="45" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="80" y="45" width="10" height="6" rx="2" fill="var(--primary)" />
	<path d="M38 46H28V47.2691H38V46ZM28 49.7778H38V48.5087H28V49.7778Z" fill="var(--primary)" />
	<path
		d="M127.074 52.0742H118.926V43.9258H123V42.75H118.926C118.27 42.75 117.75 43.2695 117.75 43.9258V52.0742C117.75 52.7305 118.27 53.25 118.926 53.25H127.074C127.73 53.25 128.25 52.7305 128.25 52.0742V48H127.074V52.0742ZM124.176 42.75V43.9258H126.254L120.539 49.6406L121.359 50.4609L127.074 44.7461V46.8242H128.25V42.75H124.176Z"
		fill="var(--primary)" />
</svg>
`,RG=Ne({id:"list-m2a",name:"$t:list-m2a",icon:"note_add",component:PG,relational:!0,types:["alias"],localTypes:["m2a"],group:"relational",options:[{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}}],preview:OG}),jG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:RG});const MG=z({components:{DrawerItem:jt,DrawerCollection:Xt,Draggable:It},props:{value:{type:Array,default:null},primaryKey:{type:[Number,String],required:!0},collection:{type:String,required:!0},field:{type:String,required:!0},template:{type:String,default:null},disabled:{type:Boolean,default:!1},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0},filter:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),l=ct("values",E({})),o=F(()=>hn(In(e.filter,ve=>ve&&typeof ve=="string"?Wt(ve,l.value):ve))),{value:u,collection:a,field:r}=Me(e),{junction:s,junctionCollection:p,relation:f,relationCollection:_,relationInfo:y}=Kl(a,r),v=F(()=>{var ue,W;if(e.template)return e.template;if((ue=p.value.meta)==null?void 0:ue.display_template)return p.value.meta.display_template;let ve=(W=_.value.meta)==null?void 0:W.display_template;if(ve){const X=/({{.*?}})/g,ce=ve.split(X).filter(oe=>oe);for(const oe of ce){if(oe.startsWith("{{")===!1)continue;const he=oe.replace(/{{/g,"").replace(/}}/g,"").trim(),ge=`{{${f.value.field}.${he}}}`;ve=ve.replace(oe,ge)}return ve}return`{{${f.value.field}.${y.value.relationPkField}}}`}),h=F(()=>Yt(ht(v.value),p.value.collection)),{deleteItem:w,getUpdatedItems:g,getNewItems:k,getPrimaryKeys:A,getNewSelectedItems:V}=ss(u,y,_e),{tableHeaders:D,items:P,initialItems:L,loading:B}=us(u,h,y,V,g,k,A),{currentlyEditing:O,editItem:M,createNew:N,editsAtStart:K,stageEdits:G,cancelEdit:ie,relatedPrimaryKey:de,editModalActive:ne}=cs(u,y,_e),{stageSelection:le,selectModalActive:se,selectedPrimaryKeys:ee}=ps(P,L,y,_e),{sort:Z,sortItems:te,sortedItems:me}=ms(y,h,P,_e),{createAllowed:H,selectAllowed:Y}=fs(p,_);return{t:n,junction:s,relation:f,tableHeaders:D,loading:B,currentlyEditing:O,editItem:M,createNew:N,junctionCollection:p,relationCollection:_,editsAtStart:K,stageEdits:G,cancelEdit:ie,stageSelection:le,selectModalActive:se,deleteItem:w,selectedPrimaryKeys:ee,items:P,relationInfo:y,relatedPrimaryKey:de,get:U.exports.get,editModalActive:ne,sort:Z,sortItems:te,sortedItems:me,templateWithDefaults:v,createAllowed:H,selectAllowed:Y,customFilter:o};function _e(ve){t("input",ve)}}}),UG=e=>(He("data-v-c8eabd98"),e=e(),We(),e),NG={key:1,class:"many-to-many"},BG=UG(()=>S("div",{class:"spacer"},null,-1)),qG={key:3,class:"actions"};function zG(e,t,n,l,o,u){const a=c("v-notice"),r=c("v-skeleton-loader"),s=c("v-icon"),p=c("render-template"),f=c("v-list-item"),_=c("draggable"),y=c("v-list"),v=c("v-button"),h=c("drawer-item"),w=c("drawer-collection");return!e.junction||!e.relation?(m(),C(a,{key:0,type:"warning"},{default:d(()=>[T(b(e.t("relationship_not_setup")),1)]),_:1})):(m(),I("div",NG,[e.loading?(m(!0),I(x,{key:0},$e((e.value||[]).length||3,g=>(m(),C(r,{key:g,type:(e.value||[]).length>4?"block-list-item-dense":"block-list-item"},null,8,["type"]))),128)):e.sortedItems.length===0?(m(),C(a,{key:1},{default:d(()=>[T(b(e.t("no_items")),1)]),_:1})):(m(),C(y,{key:2},{default:d(()=>{var g;return[i(_,{"force-fallback":!0,"model-value":e.sortedItems,"item-key":"id",handle:".drag-handle",disabled:!((g=e.junction.meta)==null?void 0:g.sort_field),"onUpdate:modelValue":t[1]||(t[1]=k=>e.sortItems(k))},{item:d(({element:k})=>[i(f,{dense:e.sortedItems.length>4,block:"",clickable:"",onClick:A=>e.editItem(k)},{default:d(()=>{var A;return[((A=e.junction.meta)==null?void 0:A.sort_field)?(m(),C(s,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=Ae(()=>{},["stop"]))})):R("",!0),i(p,{collection:e.junctionCollection.collection,item:k,template:e.templateWithDefaults},null,8,["collection","item","template"]),BG,e.disabled?R("",!0):(m(),C(s,{key:1,name:"close",onClick:Ae(V=>e.deleteItem(k),["stop"])},null,8,["onClick"]))]}),_:2},1032,["dense","onClick"])]),_:1},8,["model-value","disabled"])]}),_:1})),e.disabled?R("",!0):(m(),I("div",qG,[e.enableCreate&&e.createAllowed?(m(),C(v,{key:0,onClick:t[2]||(t[2]=g=>e.createNew())},{default:d(()=>[T(b(e.t("create_new")),1)]),_:1})):R("",!0),e.enableSelect&&e.selectAllowed?(m(),C(v,{key:1,onClick:t[3]||(t[3]=g=>e.selectModalActive=!0)},{default:d(()=>[T(b(e.t("add_existing")),1)]),_:1})):R("",!0)])),e.disabled?R("",!0):(m(),C(h,{key:4,active:e.editModalActive,collection:e.relationInfo.junctionCollection,"primary-key":e.currentlyEditing||"+","related-primary-key":e.relatedPrimaryKey||"+","junction-field":e.relationInfo.junctionField,edits:e.editsAtStart,"circular-field":e.junction.field,onInput:e.stageEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","related-primary-key","junction-field","edits","circular-field","onInput","onUpdate:active"])),e.disabled?R("",!0):(m(),C(w,{key:5,active:e.selectModalActive,"onUpdate:active":t[4]||(t[4]=g=>e.selectModalActive=g),collection:e.relationCollection.collection,selection:e.selectedPrimaryKeys,filter:e.customFilter,multiple:"",onInput:e.stageSelection},null,8,["active","collection","selection","filter","onInput"]))]))}var KG=q(MG,[["render",zG],["__scopeId","data-v-c8eabd98"]]),HG=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18.4443" y="9" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19.4443" y="10" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25"
		stroke-width="2" />
	<rect x="46" y="17" width="10" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="60" y="17" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 18H28V19.2691H38V18ZM28 21.7778H38V20.5087H28V21.7778Z" fill="var(--primary)" />
	<rect x="18" y="65" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19" y="66" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25" stroke-width="2" />
	<rect x="46" y="73" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 74H28V75.2691H38V74ZM28 77.7778H38V76.5087H28V77.7778Z" fill="var(--primary)" />
	<rect x="18" y="37" width="120" height="22" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="38" width="118" height="20" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="45" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="80" y="45" width="10" height="6" rx="2" fill="var(--primary)" />
	<path d="M38 46H28V47.2691H38V46ZM28 49.7778H38V48.5087H28V49.7778Z" fill="var(--primary)" />
	<path
		d="M127.074 52.0742H118.926V43.9258H123V42.75H118.926C118.27 42.75 117.75 43.2695 117.75 43.9258V52.0742C117.75 52.7305 118.27 53.25 118.926 53.25H127.074C127.73 53.25 128.25 52.7305 128.25 52.0742V48H127.074V52.0742ZM124.176 42.75V43.9258H126.254L120.539 49.6406L121.359 50.4609L127.074 44.7461V46.8242H128.25V42.75H124.176Z"
		fill="var(--primary)" />
</svg>
`,WG=Ne({id:"list-m2m",name:"$t:interfaces.list-m2m.many-to-many",description:"$t:interfaces.list-m2m.description",icon:"note_add",component:KG,relational:!0,types:["alias"],localTypes:["m2m"],group:"relational",options:({editing:e,relations:t})=>{var l,o,u;const n=e==="+"?{interface:"presentation-notice",options:{text:"$t:interfaces.list-m2m.display_template_configure_notice"}}:{interface:"system-display-template",options:{collectionName:(l=t.o2m)==null?void 0:l.collection}};return[{field:"template",name:"$t:display_template",meta:n},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}},{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}},{field:"filter",name:"$t:filter",type:"json",meta:{interface:"system-filter",options:{collectionName:(u=(o=t.m2o)==null?void 0:o.related_collection)!=null?u:null},conditions:[{rule:{enableSelect:{_eq:!1}},hidden:!0}]}}]},recommendedDisplays:["related-values"],preview:HG}),GG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:WG});const ZG=z({components:{DrawerItem:jt,DrawerCollection:Xt,Draggable:It},props:{value:{type:Array,default:null},primaryKey:{type:[Number,String],required:!0},collection:{type:String,required:!0},field:{type:String,required:!0},template:{type:String,default:null},disabled:{type:Boolean,default:!1},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0},filter:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),l=ct("values",E({})),o=F(()=>hn(In(e.filter,ue=>ue&&typeof ue=="string"?Wt(ue,l.value):ue))),u=pt(),a=Ke(),r=Le(),s=Lt(),p=Ze(),{relation:f,relatedCollection:_,relatedPrimaryKeyField:y}=te(),v=F(()=>{var ue,W,X;return e.template||((ue=_.value.meta)==null?void 0:ue.display_template)||`{{${(X=(W=r.getPrimaryKeyFieldForCollection(f.value.collection))==null?void 0:W.field)!=null?X:"id"}}}`}),h=F(()=>Yt(ht(v.value),_.value.collection)),{items:w,loading:g}=me(),{currentlyEditing:k,editItem:A,editsAtStart:V,stageEdits:D,stageSelections:P,cancelEdit:L}=H(),{selectModalActive:B,selectedPrimaryKeys:O}=Y(),{sort:M,sortItems:N,sortedItems:K}=Z(),{createAllowed:G,updateAllowed:ie}=ve();return{t:n,relation:f,loading:g,currentlyEditing:k,editItem:A,relatedCollection:_,editsAtStart:V,stageEdits:D,stageSelections:P,cancelEdit:L,selectModalActive:B,deleteItem:ee,items:w,sortItems:N,selectedPrimaryKeys:O,sort:M,sortedItems:K,get:U.exports.get,getItemFromIndex:de,templateWithDefaults:v,createAllowed:G,updateAllowed:ie,customFilter:o};function de(ue){return(K.value||w.value)[ue]}function ne(){var W;const ue=(W=y.value)==null?void 0:W.field;return e.value===null||!ue?[]:e.value.filter(X=>typeof X=="object"&&!(ue in X))}function le(){var W;const ue=(W=y.value)==null?void 0:W.field;return e.value===null||!ue?[]:e.value.filter(X=>typeof X=="object"&&ue in X)}function se(){var W;const ue=(W=y.value)==null?void 0:W.field;return e.value===null||!ue?[]:e.value.map(X=>{if(typeof X=="object"){if(ue in X)return X[ue]}else return X}).filter(X=>X)}function ee(ue){var ce;const W=(ce=y.value)==null?void 0:ce.field;if(e.value===null||!W)return;if(!(W in ue)){t("input",e.value.filter(oe=>U.exports.isEqual(ue,oe)===!1));return}const X=ue[W];t("input",e.value.filter(oe=>typeof oe=="number"||typeof oe=="string"?oe!==X:typeof oe=="object"&&W in oe?oe[W]!==X:!0))}function Z(){var ce;const ue=E({by:((ce=f.value.meta)==null?void 0:ce.sort_field)||h.value[0],desc:!1});function W(oe){var ge;if(!((ge=f.value.meta)==null?void 0:ge.sort_field))return;const he=oe.map((we,Ce)=>(we[f.value.meta.sort_field]=Ce,we));t("input",he)}const X=F(()=>{var ge,we;if(!((ge=f.value.meta)==null?void 0:ge.sort_field)||ue.value.by!==((we=f.value.meta)==null?void 0:we.sort_field))return w.value;const oe=ue.value.desc,he=U.exports.sortBy(w.value,[f.value.meta.sort_field]);return oe?he.reverse():he});return{sort:ue,sortItems:W,sortedItems:X}}function te(){const ue=F(()=>{var ce;return(ce=u.getRelationsForField(e.collection,e.field))==null?void 0:ce[0]}),W=F(()=>a.getCollection(ue.value.collection)),{primaryKeyField:X}=ot(W.value.collection);return{relation:ue,relatedCollection:W,relatedPrimaryKeyField:X}}function me(){const ue=E(!1),W=E([]);return ye(()=>e.value,async(X,ce)=>{var we,Ce;if(U.exports.isEqual(X,ce))return;ue.value=!0;const oe=(we=y.value)==null?void 0:we.field;if(!oe)return;const he=[...h.value.length>0?h.value:_e()];he.includes(oe)===!1&&he.push(oe),((Ce=f.value.meta)==null?void 0:Ce.sort_field)&&he.includes(f.value.meta.sort_field)===!1&&he.push(f.value.meta.sort_field);const ge=ds(_.value.collection,he);try{const Fe=_.value.collection.startsWith("directus_")?`/${_.value.collection.substring(9)}`:`/items/${_.value.collection}`,De=se();let tt=[];De&&De.length>0&&(tt=(await re.get(Fe,{params:{fields:ge,[`filter[${oe}][_in]`]:De.join(",")}})).data.data);const Pe=le(),Oe=ne();W.value=tt.map(Te=>{const Qe=Pe.find(Be=>Be[oe]===Te[oe]);return Qe!==void 0?pe(pe({},Te),Qe):Te}).concat(...Oe)}catch(Fe){Se(Fe)}finally{ue.value=!1}},{immediate:!0}),{items:W,loading:ue}}function H(){const ue=E(null),W=E({});return{currentlyEditing:ue,editItem:X,editsAtStart:W,stageEdits:ce,stageSelections:oe,cancelEdit:he};function X(ge,we){var tt;const Ce=(tt=y.value)==null?void 0:tt.field;if(!Ce||!e.value||we===-1)return;const Fe=Ce in ge,De=e.value[we];typeof De=="object"&&Ce in De?W.value=De:W.value=Fe?{[Ce]:ge[Ce]||{}}:De,ue.value=Fe?ge[Ce]:"+"}function ce(ge){var Fe;const we=(Fe=y.value)==null?void 0:Fe.field;if(!we)return;const Ce=(e.value||[]).map(De=>De&&typeof De=="object"&&we in De&&we in ge&&De[we]===ge[we]||De===ge[we]||W.value===De?ge:De);Ce.includes(ge)===!1&&Ce.push(ge),Ce.length===0?t("input",null):t("input",Ce)}function oe(ge){const we=[...ge,...(e.value||[]).filter(Ce=>typeof Ce=="object")];t("input",we)}function he(){W.value={},ue.value=null}}function Y(){const ue=E(!1),W=F(()=>{var ce;const X=(ce=y.value)==null?void 0:ce.field;return w.value===null||!X?[]:w.value.filter(oe=>X in oe).map(oe=>oe[X])});return{selectModalActive:ue,selectedPrimaryKeys:W}}function _e(){return r.getFieldsForCollection(_.value.collection).slice(0,3).map(W=>W.field)}function ve(){const ue=F(()=>{var ce;return((ce=p.currentUser)==null?void 0:ce.role.admin_access)===!0?!0:!!s.permissions.find(oe=>oe.action==="create"&&oe.collection===_.value.collection)}),W=F(()=>{var ce;return((ce=p.currentUser)==null?void 0:ce.role.admin_access)===!0?!0:!!s.permissions.find(oe=>oe.action==="update"&&oe.collection===_.value.collection)});return{createAllowed:ue,updateAllowed:W}}}}),JG=e=>(He("data-v-5207f1c2"),e=e(),We(),e),QG={key:1,class:"one-to-many"},XG=JG(()=>S("div",{class:"spacer"},null,-1)),YG={key:3,class:"actions"};function xG(e,t,n,l,o,u){const a=c("v-notice"),r=c("v-skeleton-loader"),s=c("v-icon"),p=c("render-template"),f=c("v-list-item"),_=c("draggable"),y=c("v-list"),v=c("v-button"),h=c("drawer-item"),w=c("drawer-collection");return e.relation?(m(),I("div",QG,[e.loading?(m(!0),I(x,{key:0},$e((e.value||[]).length||3,g=>(m(),C(r,{key:g,type:(e.value||[]).length>4?"block-list-item-dense":"block-list-item"},null,8,["type"]))),128)):e.sortedItems.length===0?(m(),C(a,{key:1},{default:d(()=>[T(b(e.t("no_items")),1)]),_:1})):(m(),C(y,{key:2},{default:d(()=>[i(_,{"force-fallback":!0,"model-value":e.sortedItems,"item-key":"id",handle:".drag-handle",disabled:!e.relation.meta.sort_field,"onUpdate:modelValue":t[1]||(t[1]=g=>e.sortItems(g))},{item:d(({element:g,index:k})=>[i(f,{dense:e.sortedItems.length>4,block:"",clickable:"",disabled:e.disabled||e.updateAllowed===!1,onClick:A=>e.editItem(g,k)},{default:d(()=>[e.relation.meta.sort_field?(m(),C(s,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=Ae(()=>{},["stop"]))})):R("",!0),i(p,{collection:e.relation.collection,item:g,template:e.templateWithDefaults},null,8,["collection","item","template"]),XG,!e.disabled&&e.updateAllowed?(m(),C(s,{key:1,name:"close",onClick:Ae(A=>e.deleteItem(g),["stop"])},null,8,["onClick"])):R("",!0)]),_:2},1032,["dense","disabled","onClick"])]),_:1},8,["model-value","disabled"])]),_:1})),e.disabled?R("",!0):(m(),I("div",YG,[e.enableCreate&&e.createAllowed&&e.updateAllowed?(m(),C(v,{key:0,onClick:t[2]||(t[2]=g=>e.currentlyEditing="+")},{default:d(()=>[T(b(e.t("create_new")),1)]),_:1})):R("",!0),e.enableSelect&&e.updateAllowed?(m(),C(v,{key:1,onClick:t[3]||(t[3]=g=>e.selectModalActive=!0)},{default:d(()=>[T(b(e.t("add_existing")),1)]),_:1})):R("",!0)])),e.disabled?R("",!0):(m(),C(h,{key:4,active:e.currentlyEditing!==null,collection:e.relatedCollection.collection,"primary-key":e.currentlyEditing||"+",edits:e.editsAtStart,"circular-field":e.relation.field,onInput:e.stageEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","edits","circular-field","onInput","onUpdate:active"])),e.disabled?R("",!0):(m(),C(w,{key:5,active:e.selectModalActive,"onUpdate:active":t[4]||(t[4]=g=>e.selectModalActive=g),collection:e.relatedCollection.collection,selection:e.selectedPrimaryKeys,filter:e.customFilter,multiple:"",onInput:e.stageSelections},null,8,["active","collection","selection","filter","onInput"]))])):(m(),C(a,{key:0,type:"warning"},{default:d(()=>[T(b(e.t("relationship_not_setup")),1)]),_:1}))}var eZ=q(ZG,[["render",xG],["__scopeId","data-v-5207f1c2"]]),tZ=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18.4443" y="9" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19.4443" y="10" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25"
		stroke-width="2" />
	<rect x="46" y="17" width="10" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="60" y="17" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 18H28V19.2691H38V18ZM28 21.7778H38V20.5087H28V21.7778Z" fill="var(--primary)" />
	<rect x="18" y="65" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19" y="66" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25" stroke-width="2" />
	<rect x="46" y="73" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 74H28V75.2691H38V74ZM28 77.7778H38V76.5087H28V77.7778Z" fill="var(--primary)" />
	<rect x="18" y="37" width="120" height="22" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="38" width="118" height="20" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="45" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="80" y="45" width="10" height="6" rx="2" fill="var(--primary)" />
	<path d="M38 46H28V47.2691H38V46ZM28 49.7778H38V48.5087H28V49.7778Z" fill="var(--primary)" />
	<path
		d="M127.074 52.0742H118.926V43.9258H123V42.75H118.926C118.27 42.75 117.75 43.2695 117.75 43.9258V52.0742C117.75 52.7305 118.27 53.25 118.926 53.25H127.074C127.73 53.25 128.25 52.7305 128.25 52.0742V48H127.074V52.0742ZM124.176 42.75V43.9258H126.254L120.539 49.6406L121.359 50.4609L127.074 44.7461V46.8242H128.25V42.75H124.176Z"
		fill="var(--primary)" />
</svg>
`,nZ=Ne({id:"list-o2m",name:"$t:interfaces.list-o2m.one-to-many",description:"$t:interfaces.list-o2m.description",icon:"arrow_right_alt",component:eZ,types:["alias"],localTypes:["o2m"],group:"relational",relational:!0,options:({relations:e})=>{var n;const t=(n=e.o2m)==null?void 0:n.collection;return[{field:"template",name:"$t:display_template",meta:{interface:"system-display-template",options:{collectionName:t},width:"full"}},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}},{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}},{field:"filter",name:"$t:filter",type:"json",meta:{interface:"system-filter",options:{collectionName:t},conditions:[{rule:{enableSelect:{_eq:!1}},hidden:!0}]}}]},recommendedDisplays:["related-values"],preview:tZ}),lZ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nZ});const oZ=z({components:{DrawerItem:jt},props:{collection:{type:String,required:!0},template:{type:String,required:!0},item:{type:Object,required:!0},primaryKeyField:{type:String,required:!0},disabled:{type:Boolean,default:!1},parentField:{type:String,required:!0}},emits:["deselect","input"],setup(){const{t:e}=J(),t=E(!1);return{t:e,editActive:t}}}),aZ=e=>(He("data-v-569bebef"),e=e(),We(),e),iZ={class:"preview"},rZ=aZ(()=>S("div",{class:"spacer"},null,-1)),sZ={key:0,class:"actions"};function dZ(e,t,n,l,o,u){const a=c("render-template"),r=c("v-icon"),s=c("drawer-item"),p=ke("tooltip");return m(),I("div",iZ,[i(a,{collection:e.collection,template:e.template,item:e.item},null,8,["collection","template","item"]),rZ,e.disabled?R("",!0):(m(),I("div",sZ,[Q(i(r,{name:"launch",clickable:"",onClick:t[0]||(t[0]=f=>e.editActive=!0)},null,512),[[p,e.t("edit")]]),Q(i(r,{name:"clear",clickable:"",onClick:t[1]||(t[1]=f=>e.$emit("deselect"))},null,512),[[p,e.t("deselect")]])])),i(s,{active:e.editActive,"onUpdate:active":t[2]||(t[2]=f=>e.editActive=f),collection:e.collection,"primary-key":e.item[e.primaryKeyField]||"+",edits:e.item,"circular-field":e.parentField,onInput:t[3]||(t[3]=f=>e.$emit("input",f))},null,8,["active","collection","primary-key","edits","circular-field"])])}var uZ=q(oZ,[["render",dZ],["__scopeId","data-v-569bebef"]]);const cZ=z({name:"NestedDraggable",components:{Draggable:It,ItemPreview:uZ},props:{tree:{required:!0,type:Array,default:()=>[]},root:{type:Boolean,default:!1},collection:{type:String,required:!0},template:{type:String,required:!0},primaryKeyField:{type:String,required:!0},parentField:{type:String,required:!0},childrenField:{type:String,required:!0},disabled:{type:Boolean,default:!1}},emits:["change","input"],setup(e,{emit:t}){const n=E(!1),l=E(!1);return{drag:n,hideDragImage:zt,editActive:l,dragOptions:{animation:150,group:"description",disabled:!1,ghostClass:"ghost"},replaceItem:o,removeItem:u,replaceChildren:a};function o(r,s){t("input",e.tree.map((p,f)=>f===r?s:p))}function u(r){t("input",e.tree.filter((s,p)=>p!==r))}function a(r,s){t("input",e.tree.map((p,f)=>f===r?Ve(pe({},p),{[e.childrenField]:s}):p))}}}),pZ={class:"row"};function mZ(e,t,n,l,o,u){const a=c("item-preview"),r=c("nested-draggable",!0),s=c("draggable");return m(),C(s,mt(e.dragOptions,{class:["drag-area",{root:e.root,drag:e.drag}],tag:"ul",list:e.tree,group:{name:"g1"},"item-key":"id",draggable:".row","set-data":e.hideDragImage,disabled:e.disabled,"force-fallback":!0,onStart:t[1]||(t[1]=p=>e.drag=!0),onEnd:t[2]||(t[2]=p=>e.drag=!1),onChange:t[3]||(t[3]=p=>e.$emit("change",p))}),{item:d(({element:p,index:f})=>[S("li",pZ,[i(a,{item:p,template:e.template,collection:e.collection,"primary-key-field":e.primaryKeyField,disabled:e.disabled,"parent-field":e.parentField,onInput:_=>e.replaceItem(f,_),onDeselect:_=>e.removeItem(f)},null,8,["item","template","collection","primary-key-field","disabled","parent-field","onInput","onDeselect"]),i(r,{tree:p[e.childrenField]||[],template:e.template,collection:e.collection,"primary-key-field":e.primaryKeyField,"parent-field":e.parentField,"children-field":e.childrenField,disabled:e.disabled,onChange:t[0]||(t[0]=_=>e.$emit("change",_)),onInput:_=>e.replaceChildren(f,_)},null,8,["tree","template","collection","primary-key-field","parent-field","children-field","disabled","onInput"])])]),_:1},16,["class","list","set-data","disabled"])}var fZ=q(cZ,[["render",mZ],["__scopeId","data-v-0de81f94"]]);const _Z=z({components:{NestedDraggable:fZ,DrawerCollection:Xt,DrawerItem:jt},props:{value:{type:Array,default:null},displayTemplate:{type:String,default:void 0},disabled:{type:Boolean,default:!1},collection:{type:String,required:!0},field:{type:String,required:!0},primaryKey:{type:[String,Number],default:void 0},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0},filter:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),l=ct("values",E({})),o=F(()=>hn(In(e.filter,N=>N&&typeof N=="string"?Wt(N,l.value):N))),u=pt(),a=E([]),{relation:r}=L(),{info:s,primaryKeyField:p}=ot(r.value.related_collection),{loading:f,error:_,stagedValues:y,fetchValues:v,emitValue:h}=P(),{stageSelection:w,selectDrawer:g}=O(),{addNewActive:k,addNew:A}=M(),V=F(()=>{var N,K,G;return e.displayTemplate||((K=(N=s.value)==null?void 0:N.meta)==null?void 0:K.display_template)||`{{${(G=p.value)==null?void 0:G.field}}}`});it(v),ye(()=>e.primaryKey,v,{immediate:!0});const D=E(!1);return{t:n,relation:r,openItems:a,template:V,loading:f,error:_,stagedValues:y,fetchValues:v,primaryKeyField:p,onDraggableChange:B,hideDragImage:zt,dragging:D,emitValue:h,stageSelection:w,selectDrawer:g,addNewActive:k,addNew:A,customFilter:o};function P(){const N=E(!1),K=E(null),G=E([]);return{loading:N,error:K,stagedValues:G,fetchValues:ie,emitValue:ne,getFieldsToFetch:de};async function ie(){var le,se,ee;if(!(!e.primaryKey||!r.value||e.primaryKey==="+")){if(((le=e.value)==null?void 0:le.length)>0&&e.value.every(Z=>typeof Z=="object")){G.value=e.value;return}N.value=!0;try{const Z=await re.get(`/items/${e.collection}/${encodeURIComponent(e.primaryKey)}`,{params:{fields:de()}});G.value=(ee=(se=Z.data.data)==null?void 0:se[r.value.meta.one_field])!=null?ee:[]}catch(Z){K.value=Z}finally{N.value=!1}}}function de(){var Z;const le=[...new Set([(Z=p.value)==null?void 0:Z.field,r.value.meta.one_field,...ht(V.value)])],se=[],ee=`${r.value.meta.one_field}.`;for(let te=1;te<=5;te++)for(const me of le)se.push(`${ee.repeat(te)}${me}`);return se}function ne(le){var ee;if(G.value=le,(ee=r.value.meta)==null?void 0:ee.sort_field)return t("input",se(le));t("input",le);function se(Z){return(Z||[]).map((te,me)=>Ve(pe({},te),{[r.value.meta.sort_field]:me+1,[r.value.meta.one_field]:se(te[r.value.meta.one_field])}))}}}function L(){return{relation:F(()=>{var K;return(K=u.getRelationsForField(e.collection,e.field))==null?void 0:K[0]})}}function B(){h(y.value)}function O(){const N=E(!1),K=F(()=>{var ne;const ie=(ne=p.value)==null?void 0:ne.field;if(y.value===null||!ie||!e.primaryKey)return[];return[e.primaryKey,...de(y.value)];function de(le){const se=[];if(ie)for(const ee of le){if(!ee[ie])continue;se.push(ee[ie]);const Z=de(ee[r.value.meta.one_field]);se.push(...Z)}return se}});return{stageSelection:G,selectDrawer:N};async function G(ie){var te,me,H;f.value=!0;const de=ie.filter(Y=>K.value.includes(Y)===!1),ne=[...new Set([(te=p.value)==null?void 0:te.field,r.value.meta.one_field,...ht(V.value)])],le=[],se=`${r.value.meta.one_field}.`;for(let Y=1;Y<=5;Y++)for(const _e of ne)le.push(`${se.repeat(Y)}${_e}`);if(!((me=p.value)==null?void 0:me.field))return;const Z=[...(await re.get(`/items/${e.collection}`,{params:{fields:[...ne,...le],filter:{[(H=p.value)==null?void 0:H.field]:{_in:de}}}})).data.data,...y.value];Z.length===0?h([]):h(Z),f.value=!1}}function M(){return{addNewActive:E(!1),addNew:K};function K(G){h([...y.value,G])}}}}),vZ={key:1,class:"tree-view"},yZ={key:0,class:"actions"};function hZ(e,t,n,l,o,u){const a=c("v-notice"),r=c("nested-draggable"),s=c("v-button"),p=c("drawer-item"),f=c("drawer-collection");return e.relation.collection!==e.relation.related_collection?(m(),C(a,{key:0,type:"warning"},{default:d(()=>[T(b(e.t("interfaces.list-o2m-tree-view.recursive_only")),1)]),_:1})):(m(),I("div",vZ,[i(r,{template:e.template,collection:e.collection,tree:e.stagedValues||[],"primary-key-field":e.primaryKeyField.field,"children-field":e.relation.meta.one_field,"parent-field":e.relation.field,disabled:e.disabled,root:"",onChange:e.onDraggableChange,onInput:e.emitValue},null,8,["template","collection","tree","primary-key-field","children-field","parent-field","disabled","onChange","onInput"]),e.disabled?R("",!0):(m(),I("div",yZ,[e.enableCreate?(m(),C(s,{key:0,onClick:t[0]||(t[0]=_=>e.addNewActive=!0)},{default:d(()=>[T(b(e.t("create_new")),1)]),_:1})):R("",!0),e.enableSelect?(m(),C(s,{key:1,onClick:t[1]||(t[1]=_=>e.selectDrawer=!0)},{default:d(()=>[T(b(e.t("add_existing")),1)]),_:1})):R("",!0)])),e.disabled?R("",!0):(m(),C(p,{key:1,active:e.addNewActive,collection:e.collection,"primary-key":"+",edits:{},"circular-field":e.relation.field,onInput:e.addNew,"onUpdate:active":t[2]||(t[2]=_=>e.addNewActive=!1)},null,8,["active","collection","circular-field","onInput"])),e.disabled?R("",!0):(m(),C(f,{key:2,active:e.selectDrawer,"onUpdate:active":t[3]||(t[3]=_=>e.selectDrawer=_),collection:e.collection,selection:[],filter:e.customFilter,multiple:"",onInput:e.stageSelection},null,8,["active","collection","filter","onInput"]))]))}var gZ=q(_Z,[["render",hZ],["__scopeId","data-v-0c33c1c9"]]),bZ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="60.34" y="36" width="40" height="6" rx="2" fill="var(--primary)"/>
	<rect x="104.34" y="36" width="20" height="6" rx="2" fill="var(--primary)"/>
	<rect x="104.34" y="18" width="10" height="6" rx="2" fill="var(--primary)"/>
	<rect x="60.34" y="72" width="60" height="6" rx="2" fill="var(--primary)"/>
	<rect x="50.34" y="54" width="20" height="6" rx="2" fill="var(--primary)"/>
	<rect x="74.34" y="54" width="40" height="6" rx="2" fill="var(--primary)"/>
	<rect x="50.59" y="18.25" width="50" height="6" rx="2" fill="var(--primary)"/>
	<path d="m39 20.16-.82-.82-2.68 2.652-2.68-2.652-.82.82 3.5 3.5 3.5-3.5ZM44.16 36l-.82.82 2.652 2.68-2.652 2.68.82.82 3.5-3.5-3.5-3.5ZM39 56.16l-.82-.82-2.68 2.652-2.68-2.652-.82.82 3.5 3.5 3.5-3.5ZM44.16 72l-.82.82 2.652 2.68-2.652 2.68.82.82 3.5-3.5-3.5-3.5Z" fill="var(--primary)"/>
</svg>
`,wZ=Ne({id:"list-o2m-tree-view",name:"$t:tree_view",description:"$t:interfaces.list-o2m-tree-view.description",icon:"account_tree",types:["alias"],localTypes:["o2m"],group:"relational",relational:!0,component:gZ,options:({relations:e})=>{var n;const t=(n=e.o2m)==null?void 0:n.collection;return[{field:"displayTemplate",name:"$t:display_template",meta:{interface:"system-display-template",options:{collectionName:t},width:"full"}},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}},{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}},{field:"filter",name:"$t:filter",type:"json",meta:{interface:"system-filter",options:{collectionName:t},conditions:[{rule:{enableSelect:{_eq:!1}},hidden:!0}]}}]},preview:bZ}),$Z=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wZ});class Yo{constructor(t,n){vt(this,"active");vt(this,"element");vt(this,"groupElement");this.className=t,this.callback=n,this.element=document.createElement("button"),this.element.className=this.className,this.element.onpointerdown=n,this.active=!1}click(...t){this.callback(...t)}activate(t){this.element.classList[t?"add":"remove"]("active"),this.active=t}show(t){this.element.classList[t?"remove":"add"]("hidden")}onAdd(){return this.groupElement=document.createElement("div"),this.groupElement.className="mapboxgl-ctrl mapboxgl-ctrl-group",this.groupElement.appendChild(this.element),this.groupElement}onRemove(){var t;this.element.remove(),(t=this.groupElement)==null||t.remove()}}class kZ{constructor(t){vt(this,"groupElement");vt(this,"boxElement");vt(this,"selectButton");vt(this,"map");vt(this,"layers");vt(this,"selecting",!1);vt(this,"shiftPressed",!1);vt(this,"startPos");vt(this,"lastPos");vt(this,"onKeyDownHandler");vt(this,"onKeyUpHandler");vt(this,"onMouseDownHandler");vt(this,"onMouseMoveHandler");vt(this,"onMouseUpHandler");var n,l,o,u;this.layers=(n=t==null?void 0:t.layers)!=null?n:[],this.boxElement=document.createElement("div"),this.boxElement.className=(l=t==null?void 0:t.boxElementClass)!=null?l:"selection-box",this.groupElement=document.createElement("div"),this.groupElement.className=(o=t==null?void 0:t.groupElementClass)!=null?o:"mapboxgl-ctrl mapboxgl-ctrl-group",this.selectButton=new Yo((u=t==null?void 0:t.selectButtonClass)!=null?u:"ctrl-select",()=>{this.activate(!this.shiftPressed)}),this.groupElement.appendChild(this.selectButton.element),this.onKeyDownHandler=this.onKeyDown.bind(this),this.onKeyUpHandler=this.onKeyUp.bind(this),this.onMouseDownHandler=this.onMouseDown.bind(this),this.onMouseMoveHandler=this.onMouseMove.bind(this),this.onMouseUpHandler=this.onMouseUp.bind(this)}onAdd(t){return this.map=t,this.map.boxZoom.disable(),this.map.getContainer().appendChild(this.boxElement),this.map.getContainer().addEventListener("pointerdown",this.onMouseDownHandler,!0),document.addEventListener("keydown",this.onKeyDownHandler),document.addEventListener("keyup",this.onKeyUpHandler),this.groupElement}onRemove(){this.map.boxZoom.enable(),this.boxElement.remove(),this.groupElement.remove(),this.map.getContainer().removeEventListener("pointerdown",this.onMouseDownHandler),document.removeEventListener("keydown",this.onKeyDownHandler),document.removeEventListener("keyup",this.onKeyUpHandler)}active(){return this.shiftPressed||this.selecting}getMousePosition(t){const n=this.map.getContainer(),l=n.getBoundingClientRect();return new Bt.exports.Point(t.clientX-l.left-n.clientLeft,t.clientY-l.top-n.clientTop)}onKeyDown(t){t.key=="Shift"&&this.activate(!0),t.key=="Escape"&&(this.reset(),this.activate(!1),this.map.fire("select.end",{features:[]}))}activate(t){this.shiftPressed=t,this.selectButton.activate(t),this.map.fire(`select.${t?"enable":"disable"}`)}onKeyUp(t){t.key=="Shift"&&this.activate(!1)}onMouseDown(t){!this.shiftPressed||t.button===0&&(this.selecting=!0,this.map.dragPan.disable(),this.startPos=this.getMousePosition(t),this.lastPos=this.startPos,document.addEventListener("pointermove",this.onMouseMoveHandler),document.addEventListener("pointerup",this.onMouseUpHandler),this.map.fire("select.start"))}onMouseMove(t){this.lastPos=this.getMousePosition(t);const n=Math.min(this.startPos.x,this.lastPos.x),l=Math.max(this.startPos.x,this.lastPos.x),o=Math.min(this.startPos.y,this.lastPos.y),u=Math.max(this.startPos.y,this.lastPos.y),a=`translate(${n}px, ${o}px)`,r=l-n+"px",s=u-o+"px";this.updateBoxStyle({transform:a,width:r,height:s})}onMouseUp(t){if(this.reset(),!this.active())return;const n=this.map.queryRenderedFeatures([this.startPos,this.lastPos],{layers:this.layers});this.map.fire("select.end",{features:n,alt:t.altKey})}reset(){this.selecting=!1,this.updateBoxStyle({width:"0",height:"0",transform:""}),document.removeEventListener("pointermove",this.onMouseMoveHandler),document.removeEventListener("pointerup",this.onMouseUpHandler),this.map.dragPan.enable()}updateBoxStyle(t){this.boxElement.style.transform=t.transform,this.boxElement.style.width=t.width,this.boxElement.style.height=t.height}}function xo(e,t){return[Math.min(e[0],t[0]),Math.min(e[1],t[1]),Math.max(e[2],t[0]),Math.max(e[3],t[1])]}function Hl(e){let t=[1/0,1/0,-1/0,-1/0];return qd(e,n=>{t=xo(t,n)}),t}function bs(e){switch(e){case"json":return"geojson";case"text":case"string":return"wkt";case"csv":return"lnglat";default:return e.startsWith("geometry")?"native":void 0}}function SZ(e){const{geometryFormat:t}=e;switch(t){case"native":case"geojson":return n=>n;case"wkt":return n=>zd(n);case"lnglat":return n=>n.coordinates;default:throw new Error(ze.global.t("interfaces.map.invalid_format",{format:t}))}}function CZ(e){const{geometryFormat:t}=e;switch(t){case"native":case"geojson":return n=>n;case"wkt":return n=>Kd(n);case"lnglat":return n=>({type:"Point",coordinates:[Number(n[0]),Number(n[1])]});default:throw new Error(ze.global.t("interfaces.map.invalid_format",{format:t}))}}function ws(e){const t=CZ(e);return function(n){const l=n[e.geometryField],o=l&&t(l);if(!!o)return o}}function VZ(e,t){const n=ws(t),l={type:"FeatureCollection",features:[],bbox:[1/0,1/0,-1/0,-1/0]};for(let o=0;o<e.length;o++){const u=n(e[o]);if(!u)continue;const[a,r,s,p]=Hl(u);l.bbox=xo(l.bbox,[a,r]),l.bbox=xo(l.bbox,[s,p]);const f=pe({},e[o]);delete f[t.geometryField];const _={type:"Feature",properties:f,geometry:u};l.features.push(_)}return l.features.length==0&&delete l.bbox,l}function $s(e){if(!e)return[];if(e.type=="GeometryCollection")return e.geometries.flatMap($s);if(e.type.startsWith("Multi")){const t=e.type.replace("Multi","");return e.coordinates.map(n=>({type:t,coordinates:n}))}return[e]}const FZ="#9e8de4",AZ="#68b0f4",IZ="#00c897",EZ="#ffb300",DZ="#ee9746",TZ="#e35169",LZ="#000000",PZ="#ffffff";var ks={purple:FZ,blue:AZ,green:IZ,yellow:EZ,orange:DZ,red:TZ,black:LZ,white:PZ};const{green:OZ,orange:Wl,black:ea,white:Ss}=ks,fl=["case",["==",["get","mode"],"static"],ea,["==",["get","active"],"true"],Wl,OZ];var RZ=[{id:"directus-polygon-fill",type:"fill",filter:["all",["==","$type","Polygon"]],paint:{"fill-color":fl,"fill-outline-color":fl,"fill-opacity":.15}},{id:"directus-polygon-stroke",type:"line",filter:["all",["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":fl,"line-width":2}},{id:"directus-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":Wl}},{id:"directus-line",type:"line",filter:["all",["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":fl,"line-width":2}},{id:"directus-polygon-and-line-vertex",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"]],paint:{"circle-radius":3,"circle-color":Wl,"circle-opacity":["case",["==",["get","active"],"true"],1,.2],"circle-stroke-color":["case",["==",["get","active"],"true"],Ss,Wl],"circle-stroke-width":2}},{id:"directus-point-shadow",filter:["all",["==","$type","Point"],["==","meta","feature"],["!=","meta","midpoint"],["!=","mode","static"]],type:"circle",layout:{},paint:{"circle-radius":10,"circle-blur":1,"circle-opacity":.9,"circle-color":ea}},{id:"directus-point",filter:["all",["==","$type","Point"],["==","meta","feature"],["!=","meta","midpoint"]],type:"circle",layout:{},paint:{"circle-radius":6,"circle-color":fl,"circle-stroke-color":["case",["==",["get","mode"],"static"],ea,Ss],"circle-opacity":["case",["==",["get","mode"],"static"],.2,1],"circle-stroke-width":2,"circle-stroke-opacity":1}}];const jZ=["directus-point","directus-line","directus-polygon-fill","directus-polygon-stroke","directus-polygon-midpoint","directus-polygon-and-line-vertex"].flatMap(e=>[e+".hot",e+".cold"]),MZ=z({props:{type:{type:String,default:null},fieldData:{type:Object,default:void 0},value:{type:[Object,Array,String],default:null},loading:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},geometryType:{type:String,default:void 0},defaultView:{type:Object,default:()=>({})}},emits:["input"],setup(e,{emit:t}){var ue;const{t:n}=J(),l=E(null);let o,u=E(!0),a;const r=E(),s=E(),p=e.geometryType||((ue=e.fieldData)==null?void 0:ue.type.split(".")[1]),f=bs(e.type),_=Un("mapbox_key"),y=al(),v=bt(),{basemap:h}=Me(v),w=F(()=>{var X;const W=(X=y.find(ce=>ce.name==h.value))!=null?X:y[0];return h.value,No(W)});let g,k;try{g=ws({geometryFormat:f,geometryField:"value"}),k=SZ({geometryFormat:f,geometryField:"value"})}catch(W){r.value=W}const A=E([]),V=E(),D=E();function P(){D.value=V.value?o.project(V.value):null}ye(V,P);const L={attribution:new Bt.exports.AttributionControl,draw:new no(ee(p)),fitData:new Yo("mapboxgl-ctrl-fitdata",se),navigation:new Bt.exports.NavigationControl({showCompass:!1}),geolocate:new Bt.exports.GeolocateControl({showUserLocation:!1}),geocoder:void 0};_&&(L.geocoder=new ba({accessToken:_,collapsed:!0,flyTo:{speed:1.4},marker:!1,mapboxgl:Yl,placeholder:n("layouts.map.find_location")}));const B=E(!1),O=E(""),M=E({x:0,y:0});function N(){B.value=!1}const K=U.exports.debounce(W=>{var ce;const X=(ce=W.features)==null?void 0:ce[0];X&&X.properties.active==="false"&&(O.value=n("interfaces.map.click_to_select",{geometry:X.geometry.type}),B.value=!0,M.value=W.point)},200);function G(W){B.value=!1,K({point:W.point,features:W.features})}return it(()=>{const W=ie();At(W)}),{t:n,tooltipPosition:M,tooltipVisible:B,tooltipMessage:O,container:l,mapLoading:u,resetValue:le,geometryParsingError:s,geometryOptionsError:r,basemaps:y,basemap:h,location:V,projection:D,selection:A};function ie(){return o=new Bt.exports.Map(pe(pe({container:l.value,style:w.value,dragRotate:!1,logoPosition:"bottom-left",attributionControl:!1},e.defaultView),_?{accessToken:_}:{})),L.geocoder&&(o.addControl(L.geocoder,"top-right"),L.geocoder.on("result",W=>{V.value=W.result.center}),L.geocoder.on("clear",()=>{V.value=null})),L.geolocate.on("geolocate",W=>{const{longitude:X,latitude:ce}=W.coords;V.value=[X,ce]}),o.addControl(L.attribution,"bottom-left"),o.addControl(L.navigation,"top-left"),o.addControl(L.geolocate,"top-left"),o.addControl(L.fitData,"top-left"),o.addControl(L.draw,"top-left"),o.on("load",async()=>{o.resize(),u.value=!1,o.on("draw.create",_e),o.on("draw.delete",_e),o.on("draw.update",_e),o.on("draw.modechange",H),o.on("draw.selectionchange",Y),o.on("move",P);for(const W of jZ)o.on("mousedown",W,N),o.on("mousemove",W,G),o.on("mouseleave",W,G);window.addEventListener("keydown",ve)}),ye(()=>e.value,de,{immediate:!0}),ye(()=>w.value,ne),ye(()=>e.disabled,ne),()=>{window.removeEventListener("keydown",ve),o.remove()}}function de(W){if(W)U.exports.isEqual(W,a&&k(a))||(te(),L.draw.changeMode("simple_select"));else if(L.draw.deleteAll(),a=null,p){const ce=`draw_${U.exports.snakeCase(p.replace("Multi",""))}`;L.draw.changeMode(ce)}e.disabled&&L.draw.changeMode("static")}function ne(){o.removeControl(L.draw),o.setStyle(w.value,{diff:!1}),L.draw=new no(ee(p)),o.addControl(L.draw,"top-left"),te()}function le(W){s.value=void 0,W&&t("input",null)}function se(W){if(o&&a){const X=Hl(a);o.fitBounds(X,pe({padding:80,maxZoom:8},W))}}function ee(W){const X={styles:RZ,controls:{},userProperties:!0,displayControlsDefault:!1,modes:Object.assign(no.modes,{static:Hd})};if(e.disabled)return X;if(W){const ce=U.exports.snakeCase(W.replace("Multi",""));return X.controls[ce]=!0,X.controls.trash=!0,X}else return X.controls.line_string=!0,X.controls.polygon=!0,X.controls.point=!0,X.controls.trash=!0,X}function Z(W,X){return!W||!X?!0:W.startsWith("Multi")?W.replace("Multi","")==X.replace("Multi",""):W==X}function te(){try{L.draw.deleteAll();const W=g(e);if(!W)return;!e.disabled&&!Z(p,W.type)&&(s.value=n("interfaces.map.unexpected_geometry",{expected:p,got:W.type}));const X=$s(W);for(const ce of X)L.draw.add(ce);if(a=me(),a.bbox=Hl(a),s.value){const ce=Hl(W);o.fitBounds(ce,{padding:0,maxZoom:8,duration:0})}else se({duration:0})}catch(W){s.value=W}}function me(){const X=L.draw.getAll().features.map(oe=>oe.geometry);let ce;if(X.length==0)return null;if(!p)X.length>1?ce={type:"GeometryCollection",geometries:X}:ce=X[0];else if(p.startsWith("Multi")){const oe=X.filter(({type:he})=>`Multi${he}`==p).map(({coordinates:he})=>he);ce={type:p,coordinates:oe}}else ce=X[X.length-1];return ce}function H(W){if(!e.disabled&&W.mode.startsWith("draw")&&p&&!p.startsWith("Multi"))for(const X of L.draw.getAll().features.slice(0,-1))L.draw.delete(X.id)}function Y(W){A.value=W.features}function _e(){a=me(),a?t("input",k(a)):(L.draw.deleteAll(),t("input",null))}function ve(W){[8,46].includes(W.keyCode)&&L.draw.trash()}}}),UZ={class:"interface-map"},NZ={ref:"container"},BZ={class:"mapboxgl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-dropdown basemap-select"};function qZ(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-select"),s=c("v-notice"),p=c("v-info"),f=c("v-button"),_=c("v-card-actions");return m(),I("div",UZ,[S("div",{class:ae(["map",{loading:e.mapLoading,error:e.geometryParsingError||e.geometryOptionsError,"has-selection":e.selection.length>0}])},[S("div",NZ,null,512)],2),e.location?(m(),I("div",{key:0,class:"mapboxgl-user-location-dot mapboxgl-search-location-dot",style:Ue(`transform: translate(${e.projection.x}px, ${e.projection.y}px) translate(-50%, -50%) rotateX(0deg) rotateZ(0deg)`)},null,4)):R("",!0),i(Ot,{name:"fade"},{default:d(()=>[e.tooltipVisible?(m(),I("div",{key:0,class:"tooltip top",style:Ue(`display: block; transform: translate(${e.tooltipPosition.x}px, ${e.tooltipPosition.y}px) translate(-50%, -150%) rotateX(0deg) rotateZ(0deg)`)},b(e.tooltipMessage),5)):R("",!0)]),_:1}),S("div",BZ,[i(a,{name:"map"}),i(r,{modelValue:e.basemap,"onUpdate:modelValue":t[0]||(t[0]=y=>e.basemap=y),inline:"",items:e.basemaps.map(y=>({text:y.name,value:y.name}))},null,8,["modelValue","items"])]),i(Ot,{name:"fade"},{default:d(()=>[e.geometryOptionsError?(m(),C(p,{key:0,icon:"error",center:"",type:"danger",title:e.t("interfaces.map.invalid_options")},{default:d(()=>[i(s,{type:"danger",icon:!1},{default:d(()=>[T(b(e.geometryOptionsError),1)]),_:1})]),_:1},8,["title"])):e.geometryParsingError?(m(),C(p,{key:1,icon:"error",center:"",type:"warning",title:e.t("layouts.map.invalid_geometry")},{append:d(()=>[i(_,null,{default:d(()=>[i(f,{small:"",secondary:"",onClick:t[1]||(t[1]=y=>e.resetValue(!1))},{default:d(()=>[T(b(e.t("continue")),1)]),_:1}),i(f,{small:"",kind:"danger",onClick:t[2]||(t[2]=y=>e.resetValue(!0))},{default:d(()=>[T(b(e.t("reset")),1)]),_:1})]),_:1})]),default:d(()=>[i(s,{type:"warning",icon:!1},{default:d(()=>[T(b(e.geometryParsingError),1)]),_:1})]),_:1},8,["title"])):R("",!0)]),_:1})])}var zZ=q(MZ,[["render",qZ],["__scopeId","data-v-06c706ac"]]);const KZ=z({props:{collection:{type:String,required:!0},field:{type:Object,default:null},value:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){var g,k,A,V;const{t:n}=J(),l=F(()=>e.field.type.split(".")[1]),o=E((A=(k=l.value)!=null?k:(g=e.value)==null?void 0:g.geometryType)!=null?A:"Point"),u=E((V=e.value)==null?void 0:V.defaultView);ye(()=>e.field.type,a),ye(l,r),ye([o,u],s,{immediate:!0});function a(D){D==="csv"&&(o.value="Point")}function r(D){o.value=D}function s(){t("input",{defaultView:u,geometryType:o.value})}const p=E(null);let f;const _=Un("mapbox_key"),y=al(),v=bt(),{basemap:h}=Me(v),w=F(()=>{var P;const D=(P=y.find(L=>L.name==h.value))!=null?P:y[0];return No(D)});return it(()=>{f=new Bt.exports.Map(pe(pe({container:p.value,style:w.value},u.value||{}),_?{accessToken:_}:{})),f.on("moveend",()=>{u.value={center:f.getCenter(),zoom:f.getZoom(),bearing:f.getBearing(),pitch:f.getPitch()}})}),At(()=>{f.remove()}),{t:n,nativeGeometryType:l,GEOMETRY_TYPES:Pa,geometryType:o,mapContainer:p}}}),HZ={class:"form-grid"},WZ={key:0,class:"field half-left"},GZ={class:"type-label"},ZZ={class:"field"},JZ={class:"type-label"},QZ={ref:"mapContainer",class:"map"};function XZ(e,t,n,l,o,u){const a=c("v-select");return m(),I("div",HZ,[!e.nativeGeometryType&&e.field.type!=="csv"?(m(),I("div",WZ,[S("div",GZ,b(e.t("interfaces.map.geometry_type")),1),i(a,{modelValue:e.geometryType,"onUpdate:modelValue":t[0]||(t[0]=r=>e.geometryType=r),placeholder:e.t("any"),"show-deselect":!0,items:e.GEOMETRY_TYPES.map(r=>({value:r,text:r}))},null,8,["modelValue","placeholder","items"])])):R("",!0),S("div",ZZ,[S("div",JZ,b(e.t("interfaces.map.default_view")),1),S("div",QZ,null,512)])])}var YZ=q(KZ,[["render",XZ],["__scopeId","data-v-8fddac84"]]),xZ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="13" width="120" height="70" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="14" width="118" height="68" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="24" y="19" width="107.999" height="58" rx="2" fill="var(--primary)" fill-opacity=".2" />
	<path
		d="M30.75 77h36.452l-.095-.564c-.388-2.288-2.591-3.969-5.165-3.94l-6.645.074-7.02.441a5.646 5.646 0 00-1.592.334l-3.967 1.458a5.697 5.697 0 01-3.933-.01l-.653-.244c-1.716-.641-3.684-.403-5.15.624l-1.166.816c-.411.288-.77.63-1.065 1.011zM109.568 77h-7.043a.58.58 0 01.525-.38l5.532-.348c.494-.031.925.291.986.728zM130.779 76.843c-.24.101-.503.157-.779.157h-3.483a.895.895 0 01.439-.457l1.031-.506 1.26-.786a1.29 1.29 0 011.069-.125c.81.262 1.028 1.177.463 1.717zM132 73.303V58.538l-1.671-.342a5.71 5.71 0 00-2.865.151l-9.861 3.14c-.736.235-1.351.704-1.728 1.32-.522.853-1.49 1.41-2.571 1.477l-2.387.15c-.544.035-1.016-.334-1.055-.824-.032-.417.264-.799.711-.915l.765-.2c.572-.148 1.039-.521 1.27-1.015l.03-.062c.319-.68.175-1.465-.37-2.017l-2.009-2.038c.013.01.035.006.041-.01l2.064-5.064a3.56 3.56 0 01.365-.675l1.734-2.531c1.036-1.512 2.941-2.36 4.905-2.183l.605.054c.29.026.581.03.872.011l5.838-.367a4.441 4.441 0 001.471-.348l3.383-1.454c.153-.066.308-.115.463-.15V21a2 2 0 00-2-2H91.93c.011.051.026.102.044.152l.313.868c.588 1.632-.473 3.374-2.32 3.806L76.76 26.914c-1.496.35-3.088.078-4.337-.74l-3.035-1.988c-.934-.612-1.35-1.68-1.044-2.682.298-.976-.08-1.908-.802-2.504H63.57c-.635.459-1.045 1.145-1.097 1.906l-.312 4.592c-.112 1.657-1.3 3.098-3.03 3.677-1.023.341-1.88.994-2.422 1.845l-1.687 2.644a4.782 4.782 0 01-1.073 1.18l-2.702 2.132c-1.207.952-2.838 1.345-4.412 1.062l-1.467-.263a4.265 4.265 0 00-1.958.107c-2.214.656-3.277 2.916-2.258 4.801l.099.184c.19.352.315.728.372 1.116l.438 2.988c.432 2.951-2.294 5.5-5.59 5.226l-1.062-.088c-2.656-.22-5.06 1.415-5.548 3.773l-.438 2.122c-.08.386-.104.779-.073 1.17l.563 7.246c.092 1.18 1.23 2.07 2.542 1.987l.347-.022c.885-.056 1.699.437 1.975 1.195.397 1.09 1.837 1.544 2.903.914l2.058-1.215a4.11 4.11 0 011.83-.556l.611-.038c1.465-.093 2.817-.741 3.717-1.785l.329-.38a4.38 4.38 0 001.069-2.5l.079-.952c.096-1.163.676-2.25 1.623-3.046l2.853-2.396c.382-.321.631-.75.707-1.215.178-1.093 1.277-1.869 2.5-1.764l4.925.424a5.725 5.725 0 001.588-.085l1.146-.224c1.628-.319 3.327.09 4.562 1.096l6.25 5.094c.34.278.721.514 1.132.7l2.9 1.322c1.023.466 1.845 1.226 2.334 2.159l1.866 3.555c.05.097.081.201.09.308.07.91 1.457 1.113 1.845.27l.859-1.868c.063-.137.1-.281.11-.429l.1-1.44c.03-.434.316-.821.75-1.014 1.003-.446 1.004-1.732.002-2.18l-6.436-2.868a4.858 4.858 0 01-1.612-1.152l-4.04-4.42c-.813-.89-.818-2.172-.013-3.068 1.13-1.257 3.284-1.19 4.314.135l1.77 2.276c.355.457.801.85 1.315 1.161l7.297 4.411a4.818 4.818 0 011.786 1.867l2.653 5.045c.126.24.275.47.445.686l3.26 4.167c.544.694 1.451 1.082 2.393 1.023l2.427-.153c1.666-.104 2.287-2.017.945-2.91-.569-.38-.838-1.022-.687-1.644l.347-1.431c.255-1.05 1.161-1.874 2.326-2.114 1.345-.278 2.732.28 3.396 1.368l1.479 2.42 2.643 3.51c.873 1.161 2.283 1.905 3.836 2.024l9.727.744c.266.02.532.022.798.006l4.366-.275a5.706 5.706 0 011.75.16z"
		fill="var(--primary)" fill-opacity=".25" />
	<path
		d="M42.417 19h5.249c.006.24.053.481.142.715l.285.743.866 2.89c.096.32.147.65.154.982l.035 1.936c.013.687.538 1.28 1.28 1.444.708.157 1.223.708 1.274 1.363l.13 1.677c.12 1.522-.78 2.962-2.29 3.657-1.792.825-3.957 1.814-4.328 1.947-.194.062-.97.131-1.965.198-1.437.096-1.966-1.615-.695-2.225.846-.406.967-1.452.233-2.006l-.456-.343c-.702-.53-.833-1.457-.3-2.127l.925-1.162c.149-.187.273-.386.371-.598.355-.766 1.223-2.673 1.203-2.94l-.034-.432a4.349 4.349 0 00-.899-2.31l-.287-.375c-.684-.891-.996-1.965-.893-3.034zM76.543 19c1.102.977 2.735 1.429 4.354 1.047A4.688 4.688 0 0082.942 19h-6.4zM39.86 27.148a4.574 4.574 0 01-1.158 1.74l-1.355 1.285c-.53.503-1.28.769-2.05.726-1.852-.101-2.996-1.861-2.186-3.363l.636-1.178 2.021-2.783a1.483 1.483 0 011.11-.586c.497-.031.941-.29 1.176-.685l.324-.547c.255-.43.737-.71 1.278-.745.673-.042 1.3.306 1.56.866l.086.183c.181.39.193.83.032 1.228l-.646 1.6-.829 2.26zM64.316 57.705a.445.445 0 00-.227.414l.136 1.747c.038.489.586.81 1.098.642.438-.143.656-.584.48-.972l-.734-1.622c-.121-.268-.485-.369-.753-.209zM63.798 63.801c.37-.402 1.036-.45 1.471-.105l.632.501c.363.288.585.693.619 1.127l.1 1.297c.033.412-.156.813-.506 1.08-.9.683-2.283.158-2.365-.899l-.183-2.349a.864.864 0 01.232-.652zM78.695 73.3c.466.212 1.034.011 1.215-.43a.714.714 0 00.052-.326l-.07-.901c-.053-.678-.706-1.188-1.46-1.14l-2.827.177c-.397.025-.531.49-.198.685l2.35 1.491c.064.041.131.078.201.11l.737.334z"
		fill="var(--primary)" fill-opacity=".25" />
	<path
		d="M88.472 36.868a1.267 1.267 0 01-1.258-1.258c0-.672.585-1.228 1.258-1.228.672 0 1.257.556 1.257 1.228 0 .702-.585 1.258-1.257 1.258zm3.742-1.111c0-2.281-1.666-3.89-3.742-3.89s-3.743 1.609-3.743 3.89c0 1.462 1.228 3.391 3.743 5.701 2.514-2.31 3.742-4.24 3.742-5.701zm-3.742-5.117c2.631 0 5 1.988 5 5.117 0 2.046-1.667 4.503-5 7.339-3.334-2.836-5-5.293-5-7.34 0-3.128 2.368-5.116 5-5.116z"
		fill="var(--primary)" />
</svg>
`,eJ=Ne({id:"map",name:"$t:interfaces.map.map",description:"$t:interfaces.map.description",icon:"map",component:zZ,types:["geometry.Point","geometry.LineString","geometry.Polygon","geometry.MultiPoint","geometry.MultiLineString","geometry.MultiPolygon","geometry","json","string","text","csv"],group:"selection",options:YZ,recommendedDisplays:[],preview:xZ}),tJ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:eJ});const nJ=z({props:{color:{type:String,default:null},icon:{type:String,default:null},title:{type:String,default:null},inlineTitle:{type:Boolean,default:!1}}});function lJ(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-divider");return m(),C(r,{class:ae({"add-margin-top":e.icon||e.title}),style:Ue({"--v-divider-label-color":e.color,"--v-divider-color":"var(--border-subdued)"}),large:"","inline-title":e.inlineTitle},xe({_:2},[e.icon?{name:"icon",fn:d(()=>[i(a,{name:e.icon},null,8,["name"])])}:void 0,e.title?{name:"default",fn:d(()=>[T(b(e.title),1)])}:void 0]),1032,["class","style","inline-title"])}var oJ=q(nJ,[["render",lJ],["__scopeId","data-v-d3670a32"]]),aJ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect x="18" y="41" width="6" height="6" rx="2" fill="var(--primary)"/>
  <rect x="28" y="41" width="50" height="6" rx="2" fill="var(--primary)"/>
  <rect opacity=".25" x="18" y="53" width="120" height="2" rx="1" fill="var(--primary)"/>
</svg>
`,iJ=Ne({id:"presentation-divider",name:"$t:interfaces.presentation-divider.divider",description:"$t:interfaces.presentation-divider.description",icon:"remove",component:oJ,hideLabel:!0,hideLoader:!0,types:["alias"],localTypes:["presentation"],group:"presentation",options:[{field:"title",name:"$t:title",type:"string",meta:{width:"full",interface:"input",options:{placeholder:"$t:interfaces.presentation-divider.title_placeholder"}}},{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-color"}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"inlineTitle",name:"$t:interfaces.presentation-divider.inline_title",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.presentation-divider.inline_title_label"}},schema:{default_value:!1}}],preview:aJ}),rJ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:iJ});const sJ=z({props:{disabled:{type:Boolean,default:!1},links:{type:Array,default:null}},setup(e){const t=ct("values",E({}));return{linksParsed:F(()=>e.links.map(l=>{var a;const o=U.exports.omit(l,["url"]),u=Wt((a=l.url)!=null?a:"",t.value);return u.startsWith("/")?o.to=u:o.href=u,o}))}}}),dJ={class:"presentation-links"},uJ={key:1};function cJ(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-button");return m(),I("div",dJ,[(m(!0),I(x,null,$e(e.linksParsed,(s,p)=>(m(),C(r,{key:p,class:ae(["action",[s.type]]),secondary:s.type!=="primary",disabled:e.disabled,icon:!s.label,href:s.href,to:s.to},{default:d(()=>[s.icon?(m(),C(a,{key:0,left:"",name:s.icon},null,8,["name"])):R("",!0),s.label?(m(),I("span",uJ,b(s.label),1)):R("",!0)]),_:2},1032,["class","secondary","disabled","icon","href","to"]))),128))])}var pJ=q(sJ,[["render",cJ],["__scopeId","data-v-406a838a"]]),mJ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect x="28" y="35" width="100" height="26" rx="6" fill="var(--primary)"/>
  <rect opacity=".5" x="65" y="45" width="40" height="6" rx="2" fill="#fff"/>
  <rect opacity=".5" x="51" y="45" width="10" height="6" rx="2" fill="#fff"/>
</svg>
`,fJ=Ne({id:"presentation-links",name:"$t:interfaces.presentation-links.presentation-links",description:"$t:interfaces.presentation-links.description",icon:"smart_button",component:pJ,hideLabel:!0,hideLoader:!0,types:["alias"],localTypes:["presentation"],group:"presentation",options:({collection:e})=>[{field:"links",name:"$t:interfaces.presentation-links.links",type:"json",meta:{interface:"list",options:{fields:[{field:"label",type:"string",name:"$t:label",meta:{width:"full",interface:"input",options:{placeholder:"$t:label"}}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"type",name:"$t:type",type:"string",meta:{width:"half",interface:"select-dropdown",default_value:"normal",options:{choices:[{text:"$t:primary",value:"primary"},{text:"$t:normal",value:"normal"},{text:"$t:info",value:"info"},{text:"$t:success",value:"success"},{text:"$t:warning",value:"warning"},{text:"$t:danger",value:"danger"}]}},schema:{default_value:"normal"}},{field:"url",type:"string",name:"$t:url",meta:{width:"full",interface:"system-display-template",options:{collectionName:e,font:"monospace",placeholder:"https://example.com/articles/{{ id }}/{{ slug }}"}}}]}}}],preview:mJ}),_J=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:fJ});const vJ=z({props:{color:{type:String,default:"normal"},icon:{type:String,default:"info"},text:{type:String,default:"No text configured..."}}}),yJ={class:"presentation-notice"};function hJ(e,t,n,l,o,u){const a=c("v-notice"),r=ke("md");return m(),I("div",yJ,[i(a,{icon:e.icon,type:e.color},{default:d(()=>[Q(S("div",null,null,512),[[r,e.text]])]),_:1},8,["icon","type"])])}var gJ=q(vJ,[["render",hJ]]),bJ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="25" width="120" height="46" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="46" y="35" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="46" y="45" width="74" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="46" y="55" width="30" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="100" y="35" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<path
		d="M31.426 45.074h1.148v1.176h-1.148v-1.176zm0 2.352h1.148v3.5h-1.148v-3.5zm.574-5.25A5.811 5.811 0 0026.176 48 5.811 5.811 0 0032 53.824 5.811 5.811 0 0037.824 48 5.811 5.811 0 0032 42.176zm0 10.5A4.691 4.691 0 0127.324 48 4.691 4.691 0 0132 43.324 4.691 4.691 0 0136.676 48 4.691 4.691 0 0132 52.676z"
		fill="var(--primary)" />
</svg>
`,wJ=Ne({id:"presentation-notice",name:"$t:interfaces.presentation-notice.notice",description:"$t:interfaces.presentation-notice.description",icon:"info",component:gJ,hideLabel:!0,hideLoader:!0,types:["alias"],localTypes:["presentation"],group:"presentation",options:[{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:normal",value:"normal"},{text:"$t:info",value:"info"},{text:"$t:success",value:"success"},{text:"$t:warning",value:"warning"},{text:"$t:danger",value:"danger"}]}},schema:{default_value:"normal"}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"text",name:"$t:text",type:"string",meta:{width:"full",interface:"input-multiline",options:{placeholder:"$t:interfaces.presentation-notice.text"}}}],preview:bJ}),$J=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wJ});const kJ=z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null,validator:e=>e===null||e===""||zl(e)},placeholder:{type:String,default:null},presets:{type:Array,default:()=>[{name:"Red",color:"#E35169"},{name:"Orange",color:"#F7971C"},{name:"Yellow",color:"#F2C94C"},{name:"Green",color:"#00C897"},{name:"Blue",color:"#68B0F4"},{name:"Purple",color:"#9E8DE4"},{name:"Gray",color:"#607D8B"},{name:"Light Gray",color:"#ECEFF1"},{name:"White",color:"#FFFFFF"}]},width:{type:String,required:!0},opacity:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),l=E(null);let o=e.opacity?E(["RGBA","HSLA"]):E(["RGB","HSL"]);const u=E(e.opacity?"RGBA":"RGB");function a(){t("input",null)}function r(){var V;((V=l.value)==null?void 0:V.$el).getElementsByTagName("input")[0].click()}function s(V){V?(o.value=["RGBA","HSLA"],u.value==="RGB"||u.value==="RGBA"?u.value="RGBA":u.value="HSLA"):(g("alpha",0,100),u.value==="RGB"||u.value==="RGBA"?u.value="RGB":u.value="HSL",o.value=["RGB","HSL"])}const p=F(()=>y.value!==null&&e.value!==null),f=F(()=>{if(w.value===null)return!0;const V=getComputedStyle(document.body).getPropertyValue("--background-page").trim(),D=Nt(V);return w.value.contrast(D)<1.1}),{hsl:_,rgb:y,hex:v,alpha:h,color:w}=A();return{t:n,colorTypes:o,colorType:u,rgb:y,hsl:_,hex:v,alpha:h,htmlColorInput:l,activateColorPicker:r,isValidColor:p,Color:Nt,setValue:g,setSwatchValue:k,lowContrast:f,unsetColor:a,setShowAlpha:s};function g(V,D,P){if(V==="rgb"){const L=[...y.value];L[D]=P,y.value=L}else if(V==="hsl"){const L=[..._.value];L[D]=P,_.value=L}else h.value=P}function k(V){v.value=`${V}${v.value!==null&&v.value.length===9?v.value.substr(-2):""}`}function A(){const V=E(null),D=()=>{if(V.value!==null){let N=Math.round(255*V.value.alpha()).toString(16).toUpperCase();return N=N.padStart(2,"0"),V.value.rgb().array().length===4?`${V.value.hex()}${N}`:V.value.hex()}return null};ye(()=>e.value,N=>{V.value=N!==null?Nt(N):null},{immediate:!0});const P=F({get(){const N=V.value!==null?V.value.rgb().array():e.opacity?[0,0,0,1]:[0,0,0];return N.length===4?[...N.slice(0,-1).map(Math.round),N[3]]:N.map(Math.round)},set(N){M(Nt.rgb(N).alpha(N.length===4?N[3]:1))}}),L=F({get(){const N=V.value!==null?V.value.hsl().array():e.opacity?[0,0,0,1]:[0,0,0];return N.length===4?[...N.slice(0,-1).map(Math.round),N[3]]:N.map(Math.round)},set(N){M(Nt.hsl(N).alpha(N.length===4?N[3]:1))}}),B=F({get(){return D()},set(N){if(N===null||N==="")a();else{if(zl(N)===!1)return;M(Nt(N))}}}),O=F({get(){var N;return V.value!==null?Math.round(((N=V==null?void 0:V.value)==null?void 0:N.alpha())*100):100},set(N){if(N===null)return;const K=V.value!==null?V.value.rgb().array():[0,0,0];M(Nt(K).alpha(N/100))}});return{rgb:P,hsl:L,hex:B,alpha:O,color:V};function M(N){V.value=N,N===null?a():t("input",D())}}}}),SJ={key:0,class:"color-data-alphas"},CJ={class:"color-data-alpha"},VJ={key:1,class:"presets"};function FJ(e,t,n,l,o,u){const a=c("v-input"),r=c("v-icon"),s=c("v-button"),p=c("v-select"),f=c("v-slider"),_=c("v-menu"),y=ke("tooltip");return m(),C(_,{attached:"",disabled:e.disabled,"close-on-content-click":!1},{activator:d(({activate:v})=>[i(a,{modelValue:e.hex,"onUpdate:modelValue":t[1]||(t[1]=h=>e.hex=h),disabled:e.disabled,placeholder:e.placeholder||e.t("interfaces.select-color.placeholder"),pattern:e.opacity?/#([a-f\d]{2}){4}/i:/#([a-f\d]{2}){3}/i,class:"color-input",maxlength:e.opacity?9:7,onFocus:v},{prepend:d(()=>[i(a,{ref:"htmlColorInput","model-value":e.hex?e.hex.substr(0,7):null,type:"color",class:"html-color-select","onUpdate:modelValue":t[0]||(t[0]=h=>e.setSwatchValue(h))},null,8,["model-value"]),i(s,{class:"swatch",icon:!0,style:Ue({"--v-button-background-color":e.isValidColor?e.hex:"transparent",border:e.lowContrast===!1?"none":"var(--border-width) solid var(--border-normal)"}),onClick:e.activateColorPicker},{default:d(()=>[e.isValidColor?R("",!0):(m(),C(r,{key:0,name:"colorize"}))]),_:1},8,["style","onClick"])]),append:d(()=>[i(r,{name:e.isValidColor?"close":"palette",clickable:e.isValidColor,onClick:e.unsetColor},null,8,["name","clickable","onClick"])]),_:2},1032,["modelValue","disabled","placeholder","pattern","maxlength","onFocus"])]),default:d(()=>[S("div",{class:ae(["color-data-inputs",{stacked:e.width.startsWith("half")}]),style:Ue({"grid-template-columns":e.opacity?e.width.startsWith("half")?"repeat(4, 1fr)":"repeat(6, 1fr)":e.width.startsWith("half")?"repeat(3, 1fr)":"repeat(5, 1fr)"})},[S("div",{class:"color-data-input color-type",style:Ue({"grid-column":e.opacity?e.width.startsWith("half")?"1 / span 4":"1 / span 2":e.width.startsWith("half")?"1 / span 3":"1 / span 2"})},[i(p,{modelValue:e.colorType,"onUpdate:modelValue":t[2]||(t[2]=v=>e.colorType=v),items:e.colorTypes},null,8,["modelValue","items"])],4),e.colorType==="RGB"||e.colorType==="RGBA"?(m(),I(x,{key:0},[(m(!0),I(x,null,$e(e.rgb.length>3?e.rgb.slice(0,-1):e.rgb,(v,h)=>(m(),C(a,{key:h,hidden:h===3,type:"number","model-value":v,class:"color-data-input",pattern:"\\d*",min:0,max:255,step:1,maxlength:"3","onUpdate:modelValue":w=>e.setValue("rgb",h,w)},null,8,["hidden","model-value","onUpdate:modelValue"]))),128)),e.opacity?(m(),C(a,{key:0,type:"number","model-value":e.alpha,class:"color-data-input",pattern:"\\d*",min:0,max:100,step:1,maxlength:"3","onUpdate:modelValue":t[3]||(t[3]=v=>e.setValue("alpha",0,v))},null,8,["model-value"])):R("",!0)],64)):R("",!0),e.colorType==="HSL"||e.colorType==="HSLA"?(m(),I(x,{key:1},[(m(!0),I(x,null,$e(e.hsl.length>3?e.hsl.slice(0,-1):e.hsl,(v,h)=>(m(),C(a,{key:h,type:"number","model-value":v,class:"color-data-input",pattern:"\\d*",min:0,max:h===0?360:100,step:1,maxlength:"3","onUpdate:modelValue":w=>e.setValue("hsl",h,w)},null,8,["model-value","max","onUpdate:modelValue"]))),128)),e.opacity?(m(),C(a,{key:0,type:"number","model-value":e.alpha,class:"color-data-input",pattern:"\\d*",min:0,max:100,step:1,maxlength:"3","onUpdate:modelValue":t[4]||(t[4]=v=>e.setValue("alpha",0,v))},null,8,["model-value"])):R("",!0)],64)):R("",!0)],6),e.opacity?(m(),I("div",SJ,[S("div",CJ,[i(f,{"model-value":e.alpha,min:0,max:100,step:1,style:Ue({"--v-slider-color":"none","--background-page":"none","--v-slider-fill-color":"none","--v-slider-thumb-color":"var(--foreground-normal)","--v-slider-track-background-image":"linear-gradient(to right, transparent,"+(e.hex&&e.hex.length===9?e.hex.slice(0,-2):e.hex?e.hex:"transparent")+"), url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==')"}),"onUpdate:modelValue":t[5]||(t[5]=v=>e.setValue("alpha",0,v))},null,8,["model-value","style"])])])):R("",!0),e.presets?(m(),I("div",VJ,[(m(!0),I(x,null,$e(e.presets,v=>Q((m(),C(s,{key:v.color,class:"preset",rounded:"",icon:"",style:Ue({"--v-button-background-color":v.color}),onClick:()=>e.hex=v.color},null,8,["style","onClick"])),[[y,v.name]])),128))])):R("",!0)]),_:1},8,["disabled"])}var AJ=q(kJ,[["render",FJ],["__scopeId","data-v-df9aeddc"]]),IJ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="21" width="120" height="54" rx="6" fill="var(--background-page)" />
	<rect x="19" y="22" width="118" height="52" rx="5" stroke="var(--primary)" stroke-opacity=".25" stroke-width="2" />
	<rect x="18" y="21" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="22" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="31" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<circle cx="33" cy="34" r="7" fill="var(--primary)" />
	<circle cx="33" cy="60" r="7" fill="var(--primary)" />
	<circle cx="51" cy="60" r="7" fill="var(--primary)" fill-opacity=".75" />
	<circle cx="69" cy="60" r="7" fill="var(--primary)" fill-opacity=".5" />
	<circle cx="87" cy="60" r="7" fill="var(--primary)" fill-opacity=".25" />
	<circle cx="105" cy="60" r="7" fill="var(--primary)" fill-opacity=".1" />
	<circle cx="123" cy="60" r="6" stroke="var(--primary)" stroke-opacity=".1" stroke-width="2" />
	<path
		d="M123 39.824A5.811 5.811 0 01117.176 34 5.811 5.811 0 01123 28.176c3.227 0 5.824 2.351 5.824 5.25 0 1.914-1.558 3.5-3.5 3.5h-1.012c-.164 0-.3.11-.3.273 0 .082.027.137.082.192.218.273.355.629.355.984 0 .793-.656 1.45-1.449 1.45zm0-10.5c-2.57 0-4.676 2.106-4.676 4.676 0 2.57 2.106 4.676 4.676 4.676a.304.304 0 00.301-.301.314.314 0 00-.082-.191 1.484 1.484 0 01-.383-.985c0-.793.656-1.449 1.476-1.449h1.012c1.285 0 2.352-1.04 2.352-2.324 0-2.27-2.106-4.102-4.676-4.102zm-4.074 4.375c0-.465.383-.875.875-.875a.9.9 0 01.875.875.88.88 0 01-.875.875.864.864 0 01-.875-.875zm1.75-2.324c0-.492.383-.875.875-.875a.88.88 0 01.875.875.88.88 0 01-.875.875.864.864 0 01-.875-.875zm2.898 0a.88.88 0 01.875-.875c.492 0 .875.383.875.875a.864.864 0 01-.875.875.88.88 0 01-.875-.875zm1.75 2.324a.9.9 0 01.875-.875c.492 0 .875.41.875.875a.864.864 0 01-.875.875.88.88 0 01-.875-.875z"
		fill="var(--primary)" />
</svg>
`,EJ=Ne({id:"select-color",name:"$t:interfaces.select-color.color",description:"$t:interfaces.select-color.description",icon:"palette",component:AJ,types:["string"],recommendedDisplays:["color"],group:"selection",options:[{field:"opacity",name:"$t:interfaces.select-color.opacity",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!1}},{field:"presets",name:"$t:interfaces.select-color.preset_colors",type:"string",meta:{width:"full",interface:"list",options:{addLabel:"$t:interfaces.select-color.preset_colors_add_label",template:"{{ name }} - {{ color }}",fields:[{field:"name",type:"string",name:"$t:name",meta:{interface:"input",width:"half",options:{placeholder:"$t:interfaces.select-color.name_placeholder"}}},{field:"color",type:"string",name:"$t:color",meta:{interface:"select-color",width:"half"}}]}}}],preview:IJ}),DJ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:EJ});const TJ=z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},choices:{type:Array,default:null},icon:{type:String,default:null},allowNone:{type:Boolean,default:!1},placeholder:{type:String,default:()=>ze.global.t("select_an_item")},allowOther:{type:Boolean,default:!1}},emits:["input"],setup(){const{t:e}=J();return{t:e}}});function LJ(e,t,n,l,o,u){const a=c("v-notice"),r=c("v-icon"),s=c("v-select");return e.choices?(m(),C(s,{key:1,"model-value":e.value,items:e.choices,disabled:e.disabled,"show-deselect":e.allowNone,placeholder:e.placeholder,"allow-other":e.allowOther,"onUpdate:modelValue":t[0]||(t[0]=p=>e.$emit("input",p))},xe({_:2},[e.icon?{name:"prepend",fn:d(()=>[i(r,{name:e.icon},null,8,["name"])])}:void 0]),1032,["model-value","items","disabled","show-deselect","placeholder","allow-other"])):(m(),C(a,{key:0,type:"warning"},{default:d(()=>[T(b(e.t("choices_option_configured_incorrectly")),1)]),_:1}))}var PJ=q(TJ,[["render",LJ]]),OJ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="17.037" width="120" height="62" rx="6" fill="var(--background-page)" />
	<rect x="19" y="18.037" width="118" height="60" rx="5" stroke="var(--primary)" stroke-opacity=".25"
		stroke-width="2" />
	<rect x="28" y="51" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="63" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="18" y="17" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="18" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="27" width="70" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<path d="M120.966 28a.4.4 0 00-.283.683l3.034 3.034a.4.4 0 00.566 0l3.034-3.034a.4.4 0 00-.283-.683h-6.068z"
		fill="var(--primary)" />
</svg>
`,RJ=Ne({id:"select-dropdown",name:"$t:dropdown",description:"$t:interfaces.select-dropdown.description",icon:"arrow_drop_down_circle",component:PJ,types:["string","integer","float","bigInteger"],group:"selection",preview:OJ,options:({field:e})=>[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{placeholder:"$t:interfaces.select-dropdown.choices_placeholder",template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{interface:"input",width:"half",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:e.type,name:"$t:value",meta:{interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_value_placeholder"},width:"half"}}]}}},{field:"allowOther",name:"$t:interfaces.select-dropdown.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}},{field:"allowNone",name:"$t:interfaces.select-dropdown.allow_none",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_none_label"}},schema:{default_value:!1}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}}],recommendedDisplays:["labels"]}),jJ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:RJ});const MJ=z({components:{DrawerItem:jt,DrawerCollection:Xt},props:{value:{type:[Number,String,Object],default:null},collection:{type:String,required:!0},field:{type:String,required:!0},template:{type:String,default:null},selectMode:{type:String,default:"auto"},disabled:{type:Boolean,default:!1},filter:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),l=ct("values",E({})),o=F(()=>hn(In(e.filter,H=>H&&typeof H=="string"?Wt(H,l.value):H))),{collection:u}=Me(e),a=pt(),r=Ke(),{relation:s,relatedCollection:p,relatedPrimaryKeyField:f}=se(),{usesMenu:_,menuActive:y}=ee(),{info:v}=ot(u),{selection:h,stageSelection:w,selectModalActive:g}=te(),{displayTemplate:k,onPreviewClick:A,requiredFields:V}=Z(),{totalCount:D,loading:P,fetchItems:L,items:B}=le(),{setCurrent:O,currentItem:M,loading:N,currentPrimaryKey:K}=ne(),{edits:G,stageEdits:ie}=me(),de=E(!1);return{t:n,collectionInfo:v,currentItem:M,displayTemplate:k,items:B,itemsLoading:P,loadingCurrent:N,menuActive:y,onPreviewClick:A,relatedCollection:p,relation:s,selection:h,selectModalActive:g,setCurrent:O,totalCount:D,stageSelection:w,useMenu:ee,currentPrimaryKey:K,edits:G,stageEdits:ie,editModalActive:de,relatedPrimaryKeyField:f,customFilter:o};function ne(){const H=E(null),Y=E(!1);ye(()=>e.value,async W=>{var X;W!==null&&W!==((X=H.value)==null?void 0:X[f.value.field])&&(typeof W=="string"||typeof W=="number")?ue(W):W===null?H.value=null:!H.value&&typeof W=="object"&&(W[f.value.field]?(await ue(W[f.value.field]),H.value&&Object.assign(H.value,W)):H.value=W)},{immediate:!0});const _e=F(()=>{var W,X,ce;return!H.value||!e.value||!f.value?"+":typeof e.value=="number"||typeof e.value=="string"?e.value:typeof e.value=="object"&&f.value.field in((W=e.value)!=null?W:{})&&(ce=(X=e.value)==null?void 0:X[f.value.field])!=null?ce:"+"});return{setCurrent:ve,currentItem:H,loading:Y,currentPrimaryKey:_e};function ve(W){!f.value||(H.value=W,t("input",W[f.value.field]))}async function ue(W){if(!f.value||!p.value)return;Y.value=!0;const X=V.value||[];X.includes(f.value.field)===!1&&X.push(f.value.field);try{const ce=p.value.collection.startsWith("directus_")?`/${p.value.collection.substring(9)}/${W}`:`/items/${p.value.collection}/${encodeURIComponent(W)}`,oe=await re.get(ce,{params:{fields:X}});H.value=oe.data.data}catch(ce){Se(ce)}finally{Y.value=!1}}}function le(){const H=E(null),Y=E(null),_e=E(!1);return ye(p,()=>{ue(),Y.value=null}),{totalCount:H,fetchItems:ve,items:Y,loading:_e};async function ve(){if(Y.value!==null||!p.value||!f.value)return;_e.value=!0;const W=V.value||[];W.includes(f.value.field)===!1&&W.push(f.value.field);try{const X=p.value.collection.startsWith("directus_")?`/${p.value.collection.substring(9)}`:`/items/${p.value.collection}`,ce=await re.get(X,{params:{fields:W,limit:-1}});Y.value=ce.data.data}catch(X){Se(X)}finally{_e.value=!1}}async function ue(){if(!p.value)return;const W=p.value.collection.startsWith("directus_")?`/${p.value.collection.substring(9)}`:`/items/${p.value.collection}`,X=await re.get(W,{params:{limit:0,meta:"total_count"}});H.value=X.data.meta.total_count}}function se(){const H=F(()=>{var ue;return(ue=a.getRelationsForField(e.collection,e.field))==null?void 0:ue[0]}),Y=F(()=>{var ue;return((ue=H.value)==null?void 0:ue.related_collection)?r.getCollection(H.value.related_collection):null}),_e=F(()=>{var ue,W;return(W=(ue=Y.value)==null?void 0:ue.collection)!=null?W:null}),{primaryKeyField:ve}=ot(_e);return{relation:H,relatedCollection:Y,relatedPrimaryKeyField:ve}}function ee(){const H=E(!1),Y=F(()=>e.selectMode==="modal"?!1:e.selectMode==="dropdown"||D.value!==null&&D.value<=100);return{menuActive:H,usesMenu:Y}}function Z(){const H=F(()=>{var ve,ue,W;return e.template!==null?e.template:((ue=(ve=v.value)==null?void 0:ve.meta)==null?void 0:ue.display_template)||`{{ ${((W=f==null?void 0:f.value)==null?void 0:W.field)||""} }}`}),Y=F(()=>!H.value||!p.value?null:Yt(ht(H.value),p.value.collection));return{onPreviewClick:_e,displayTemplate:H,requiredFields:Y};function _e(){if(!e.disabled)if(_.value===!0){const ve=!y.value;y.value=ve,ve===!0&&L()}else g.value=!0}}function te(){const H=E(!1);return{selection:F(()=>{var ve;return e.value?f.value?typeof e.value=="object"&&f.value.field in((ve=e.value)!=null?ve:{})?[e.value[f.value.field]]:typeof e.value=="string"||typeof e.value=="number"?[e.value]:[]:[]:[]}),stageSelection:_e,selectModalActive:H};function _e(ve){ve.length===0?t("input",null):t("input",ve[0])}}function me(){return{edits:F(()=>e.value&&typeof e.value=="object"?e.value:{}),stageEdits:Y};function Y(_e){!f.value||(K.value&&K.value!=="+"?t("input",pe({[f.value.field]:K.value},_e)):(f.value.field in _e&&_e[f.value.field]==="+"&&delete _e[f.value.field],t("input",_e)),M.value=U.exports.merge({},M.value,_e))}}}}),UJ={key:2,class:"many-to-one"},NJ={class:"preview"};function BJ(e,t,n,l,o,u){var A;const a=c("v-notice"),r=c("v-skeleton-loader"),s=c("render-template"),p=c("v-icon"),f=c("v-input"),_=c("v-list-item-content"),y=c("v-list-item"),v=c("v-list"),h=c("v-menu"),w=c("drawer-item"),g=c("drawer-collection"),k=ke("tooltip");return e.relation?e.displayTemplate?(m(),I("div",UJ,[i(h,{modelValue:e.menuActive,"onUpdate:modelValue":t[3]||(t[3]=V=>e.menuActive=V),attached:"",disabled:e.disabled},{activator:d(({active:V})=>[e.loadingCurrent?(m(),C(r,{key:0,type:"input"})):(m(),C(f,{key:1,active:V,clickable:"",placeholder:e.t("select_an_item"),disabled:e.disabled,onClick:e.onPreviewClick},xe({_:2},[e.currentItem?{name:"input",fn:d(()=>[S("div",NJ,[i(s,{collection:e.relatedCollection.collection,item:e.currentItem,template:e.displayTemplate},null,8,["collection","item","template"])])])}:void 0,e.disabled?void 0:{name:"append",fn:d(()=>[e.currentItem?(m(),I(x,{key:0},[Q(i(p,{name:"open_in_new",class:"edit",onClick:t[0]||(t[0]=Ae(D=>e.editModalActive=!0,["stop"]))},null,512),[[k,e.t("edit")]]),Q(i(p,{name:"close",class:"deselect",onClick:t[1]||(t[1]=Ae(D=>e.$emit("input",null),["stop"]))},null,512),[[k,e.t("deselect")]])],64)):(m(),I(x,{key:1},[Q(i(p,{class:"add",name:"add",onClick:t[2]||(t[2]=Ae(D=>e.editModalActive=!0,["stop"]))},null,512),[[k,e.t("create_item")]]),i(p,{class:ae(["expand",{active:V}]),name:"expand_more"},null,8,["class"])],64))])}]),1032,["active","placeholder","disabled","onClick"]))]),default:d(()=>[i(v,null,{default:d(()=>[e.itemsLoading?(m(),I(x,{key:0},$e(10,V=>i(y,{key:`loader-${V}`},{default:d(()=>[i(_,null,{default:d(()=>[i(r,{type:"text"})]),_:1})]),_:2},1024)),64)):(m(!0),I(x,{key:1},$e(e.items,V=>(m(),C(y,{key:V[e.relatedPrimaryKeyField.field],active:e.value===V[e.relatedPrimaryKeyField.field],clickable:"",onClick:D=>e.setCurrent(V)},{default:d(()=>[i(_,null,{default:d(()=>[i(s,{collection:e.relatedCollection.collection,template:e.displayTemplate,item:V},null,8,["collection","template","item"])]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"]),e.disabled?R("",!0):(m(),C(w,{key:0,active:e.editModalActive,"onUpdate:active":t[4]||(t[4]=V=>e.editModalActive=V),collection:e.relatedCollection.collection,"primary-key":e.currentPrimaryKey,edits:e.edits,"circular-field":(A=e.relation.meta)==null?void 0:A.one_field,onInput:e.stageEdits},null,8,["active","collection","primary-key","edits","circular-field","onInput"])),e.disabled?R("",!0):(m(),C(g,{key:1,active:e.selectModalActive,"onUpdate:active":t[5]||(t[5]=V=>e.selectModalActive=V),collection:e.relatedCollection.collection,selection:e.selection,filter:e.customFilter,onInput:e.stageSelection},null,8,["active","collection","selection","filter","onInput"]))])):(m(),C(a,{key:1,type:"warning"},{default:d(()=>[T(b(e.t("display_template_not_setup")),1)]),_:1})):(m(),C(a,{key:0,type:"warning"},{default:d(()=>[T(b(e.t("relationship_not_setup")),1)]),_:1}))}var qJ=q(MJ,[["render",BJ],["__scopeId","data-v-1b0c186d"]]),zJ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="17.037" width="120" height="62" rx="6" fill="var(--background-page)" />
	<rect x="19" y="18.037" width="118" height="60" rx="5" stroke="var(--primary)" stroke-opacity=".25"
		stroke-width="2" />
	<rect x="28" y="51" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="63" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="18" y="17" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="18" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="27" width="70" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<path d="M120.966 28a.4.4 0 00-.283.683l3.034 3.034a.4.4 0 00.566 0l3.034-3.034a.4.4 0 00-.283-.683h-6.068z"
		fill="var(--primary)" />
</svg>
`,KJ=Ne({id:"select-dropdown-m2o",name:"$t:interfaces.select-dropdown-m2o.many-to-one",description:"$t:interfaces.select-dropdown-m2o.description",icon:"arrow_right_alt",component:qJ,types:["uuid","string","text","integer","bigInteger"],relational:!0,localTypes:["m2o"],group:"relational",options:({relations:e})=>{var n;const t=(n=e.m2o)==null?void 0:n.related_collection;return[{field:"template",name:"$t:interfaces.select-dropdown-m2o.display_template",meta:{interface:"system-display-template",options:{collectionName:t}}},{field:"filter",name:"$t:filter",type:"json",meta:{interface:"system-filter",options:{collectionName:t}}}]},recommendedDisplays:["related-values"],preview:zJ}),HJ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:KJ}),Cs=[{name:"action",icons:["123","3d_rotation","abc","accessibility","accessibility_new","accessible","accessible_forward","account_balance","account_balance_wallet","account_box","account_circle","add_card","add_shopping_cart","add_task","add_to_drive","addchart","admin_panel_settings","ads_click","alarm","alarm_add","alarm_off","alarm_on","all_inbox","all_out","analytics","anchor","android","announcement","api","app_blocking","app_shortcut","arrow_circle_down","arrow_circle_left","arrow_circle_right","arrow_circle_up","arrow_right_alt","article","aspect_ratio","assessment","assignment","assignment_ind","assignment_late","assignment_return","assignment_returned","assignment_turned_in","assured_workload","autorenew","backup","backup_table","balance","batch_prediction","book","book_online","bookmark","bookmark_add","bookmark_added","bookmark_border","bookmark_remove","bookmarks","browse_gallery","bug_report","build","build_circle","cached","calendar_month","calendar_today","calendar_view_day","calendar_view_month","calendar_view_week","camera_enhance","cancel_schedule_send","card_giftcard","card_membership","card_travel","change_history","check_circle","check_circle_outline","chrome_reader_mode","circle_notifications","class","close_fullscreen","code","code_off","comment_bank","commit","commute","compare_arrows","compress","contact_page","contact_support","contactless","copyright","credit_card","credit_card_off","css","currency_exchange","dangerous","dashboard","dashboard_customize","data_exploration","data_thresholding","date_range","delete","delete_forever","delete_outline","density_large","density_medium","density_small","description","disabled_by_default","disabled_visible","display_settings","dns","done","done_all","done_outline","donut_large","donut_small","drag_indicator","dynamic_form","edit_calendar","edit_off","eject","euro_symbol","event","event_repeat","event_seat","exit_to_app","expand","explore","explore_off","extension","extension_off","face","fact_check","favorite","favorite_border","fax","feedback","file_present","filter_alt","filter_alt_off","find_in_page","find_replace","fingerprint","fit_screen","flaky","flight_land","flight_takeoff","flip_to_back","flip_to_front","flutter_dash","free_cancellation","g_translate","gavel","generating_tokens","get_app","gif","gif_box","grade","grading","group_work","help","help_center","help_outline","hide_source","highlight_alt","highlight_off","history","history_toggle_off","hls","hls_off","home","horizontal_split","hotel_class","hourglass_disabled","hourglass_empty","hourglass_full","html","http","https","important_devices","info","input","install_desktop","install_mobile","integration_instructions","invert_colors","javascript","join_full","join_inner","join_left","join_right","label","label_important","label_off","language","launch","leaderboard","lightbulb","line_style","line_weight","list","lock","lock_clock","lock_open","lock_reset","login","logout","loyalty","manage_accounts","mark_as_unread","markunread_mailbox","maximize","mediation","minimize","model_training","network_ping","new_label","next_plan","nightlight_round","no_accounts","not_accessible","not_started","note_add","offline_bolt","offline_pin","online_prediction","opacity","open_in_browser","open_in_full","open_in_new","open_in_new_off","open_with","outbound","outbox","outlet","output","pageview","paid","pan_tool","pan_tool_alt","payment","pending","pending_actions","percent","perm_camera_mic","perm_contact_calendar","perm_data_setting","perm_device_information","perm_identity","perm_media","perm_phone_msg","perm_scan_wifi","pets","php","picture_in_picture","picture_in_picture_alt","pin_end","pin_invoke","pinch","plagiarism","play_for_work","polymer","power_settings_new","pregnant_woman","preview","print","privacy_tip","private_connectivity","production_quantity_limits","published_with_changes","query_builder","question_answer","question_mark","quickreply","receipt","record_voice_over","redeem","remove_done","remove_shopping_cart","reorder","report_problem","request_page","restore","restore_from_trash","restore_page","rocket","rocket_launch","room","rounded_corner","rowing","rule","satellite_alt","saved_search","savings","schedule","schedule_send","search","search_off","segment","send_and_archive","sensors","sensors_off","settings","settings_accessibility","settings_applications","settings_backup_restore","settings_bluetooth","settings_brightness","settings_cell","settings_ethernet","settings_input_antenna","settings_input_component","settings_input_composite","settings_input_hdmi","settings_input_svideo","settings_overscan","settings_phone","settings_power","settings_remote","settings_voice","shop","shop_2","shop_two","shopping_bag","shopping_basket","shopping_cart","shopping_cart_checkout","smart_button","source","space_dashboard","speaker_notes","speaker_notes_off","spellcheck","star_rate","stars","sticky_note_2","store","subject","subtitles_off","supervised_user_circle","supervisor_account","support","swap_horiz","swap_horizontal_circle","swap_vert","swap_vertical_circle","swipe","swipe_down","swipe_down_alt","swipe_left","swipe_left_alt","swipe_right","swipe_right_alt","swipe_up","swipe_up_alt","swipe_vertical","switch_access_shortcut","switch_access_shortcut_add","sync_alt","system_update_alt","tab","tab_unselected","table_view","task_alt","terminal","text_rotate_up","text_rotate_vertical","text_rotation_angledown","text_rotation_angleup","text_rotation_down","text_rotation_none","theaters","thumb_down","thumb_down_off_alt","thumb_up","thumb_up_off_alt","thumbs_up_down","timeline","tips_and_updates","toc","today","token","toll","touch_app","tour","track_changes","translate","trending_down","trending_flat","trending_up","try","turned_in","turned_in_not","unpublished","update","update_disabled","upgrade","verified","verified_user","vertical_split","view_agenda","view_array","view_carousel","view_column","view_comfy_alt","view_compact_alt","view_cozy","view_day","view_headline","view_in_ar","view_kanban","view_list","view_module","view_quilt","view_sidebar","view_stream","view_timeline","view_week","visibility","visibility_off","voice_over_off","watch_later","webhook","wifi_protected_setup","work","work_off","work_outline","wysiwyg","youtube_searched_for","zoom_in","zoom_out"]},{name:"alert",icons:["add_alert","auto_delete","error","error_outline","notification_important","warning","warning_amber"]},{name:"av",icons:["10k","1k","1k_plus","2k","2k_plus","3k","3k_plus","4k","4k_plus","5g","5k","5k_plus","6k","6k_plus","7k","7k_plus","8k","8k_plus","9k","9k_plus","add_to_queue","airplay","album","art_track","audio_file","av_timer","branding_watermark","call_to_action","closed_caption","closed_caption_disabled","closed_caption_off","control_camera","equalizer","explicit","fast_forward","fast_rewind","featured_play_list","featured_video","fiber_dvr","fiber_manual_record","fiber_new","fiber_pin","fiber_smart_record","forward_10","forward_30","forward_5","games","hd","hearing","hearing_disabled","high_quality","interpreter_mode","library_add","library_add_check","library_books","library_music","loop","mic","mic_none","mic_off","missed_video_call","movie","music_video","new_releases","not_interested","note","pause","pause_circle","pause_circle_filled","pause_circle_outline","play_arrow","play_circle","play_circle_filled","play_circle_outline","play_disabled","playlist_add","playlist_add_check","playlist_add_check_circle","playlist_add_circle","playlist_play","playlist_remove","queue","queue_music","queue_play_next","radio","recent_actors","remove_from_queue","repeat","repeat_on","repeat_one","repeat_one_on","replay","replay_10","replay_30","replay_5","replay_circle_filled","sd","shuffle","shuffle_on","skip_next","skip_previous","slow_motion_video","snooze","sort_by_alpha","speed","stop","stop_circle","subscriptions","subtitles","surround_sound","video_call","video_file","video_label","video_library","video_settings","videocam","videocam_off","volume_down","volume_mute","volume_off","volume_up","web","web_asset","web_asset_off"]},{name:"communication",icons:["3p","add_ic_call","alternate_email","app_registration","business","call","call_end","call_made","call_merge","call_missed","call_missed_outgoing","call_received","call_split","cancel_presentation","cell_tower","cell_wifi","chat","chat_bubble","chat_bubble_outline","clear_all","co_present","comment","comments_disabled","contact_mail","contact_phone","contacts","desktop_access_disabled","dialer_sip","dialpad","document_scanner","domain_disabled","domain_verification","duo","email","forum","forward_to_inbox","hourglass_bottom","hourglass_top","hub","import_contacts","import_export","invert_colors_off","key","key_off","list_alt","live_help","location_off","location_on","mail_outline","mark_chat_read","mark_chat_unread","mark_email_read","mark_email_unread","mark_unread_chat_alt","message","mobile_screen_share","more_time","nat","no_sim","pause_presentation","person_add_disabled","person_search","phone","phone_disabled","phone_enabled","phonelink_erase","phonelink_lock","phonelink_ring","phonelink_setup","portable_wifi_off","present_to_all","print_disabled","qr_code","qr_code_2","qr_code_scanner","read_more","ring_volume","rss_feed","rtt","screen_share","send_time_extension","sentiment_satisfied_alt","sip","speaker_phone","spoke","stay_current_landscape","stay_current_portrait","stay_primary_landscape","stay_primary_portrait","stop_screen_share","swap_calls","textsms","unsubscribe","voicemail","vpn_key","vpn_key_off","wifi_calling"]},{name:"content",icons:["add","add_box","add_circle","add_circle_outline","add_link","archive","attribution","backspace","ballot","biotech","block","bolt","calculate","change_circle","clear","content_copy","content_cut","content_paste","content_paste_go","content_paste_off","content_paste_search","copy_all","create","delete_sweep","deselect","drafts","dynamic_feed","file_copy","filter_list","filter_list_off","flag","flag_circle","font_download","font_download_off","forward","gesture","how_to_reg","how_to_vote","inbox","insights","inventory","inventory_2","link","link_off","low_priority","mail","markunread","move_to_inbox","next_week","outlined_flag","policy","push_pin","redo","remove","remove_circle","remove_circle_outline","reply","reply_all","report","report_gmailerrorred","report_off","save","save_alt","save_as","select_all","send","shield","sort","square_foot","stacked_bar_chart","stream","tag","text_format","unarchive","undo","upcoming","waves","weekend","where_to_vote"]},{name:"device",icons:["1x_mobiledata","30fps","3g_mobiledata","4g_mobiledata","4g_plus_mobiledata","60fps","access_alarm","access_alarms","access_time","access_time_filled","ad_units","add_alarm","add_to_home_screen","air","airplane_ticket","airplanemode_active","airplanemode_inactive","aod","battery_alert","battery_charging_full","battery_full","battery_saver","battery_std","battery_unknown","bloodtype","bluetooth","bluetooth_connected","bluetooth_disabled","bluetooth_drive","bluetooth_searching","brightness_auto","brightness_high","brightness_low","brightness_medium","cable","cameraswitch","credit_score","dark_mode","data_saver_off","data_saver_on","data_usage","developer_mode","device_thermostat","devices","discount","do_not_disturb_on_total_silence","dvr","e_mobiledata","edgesensor_high","edgesensor_low","flashlight_off","flashlight_on","flourescent","fmd_bad","fmd_good","g_mobiledata","gpp_bad","gpp_good","gpp_maybe","gps_fixed","gps_not_fixed","gps_off","graphic_eq","grid_3x3","grid_4x4","grid_goldenratio","h_mobiledata","h_plus_mobiledata","hdr_auto","hdr_auto_select","hdr_off_select","hdr_on_select","lan","lens_blur","light_mode","location_disabled","location_searching","lte_mobiledata","lte_plus_mobiledata","media_bluetooth_off","media_bluetooth_on","medication","medication_liquid","mobile_friendly","mobile_off","mobiledata_off","mode_night","mode_standby","monitor_heart","monitor_weight","nearby_error","nearby_off","network_cell","network_wifi","nfc","nightlight","note_alt","password","pattern","phishing","pin","play_lesson","price_change","price_check","punch_clock","quiz","r_mobiledata","radar","remember_me","reset_tv","restart_alt","reviews","rsvp","screen_lock_landscape","screen_lock_portrait","screen_lock_rotation","screen_rotation","screen_search_desktop","screenshot","sd_storage","security_update","security_update_good","security_update_warning","sell","send_to_mobile","settings_suggest","settings_system_daydream","share_location","shortcut","signal_cellular_0_bar","signal_cellular_4_bar","signal_cellular_alt","signal_cellular_connected_no_internet_0_bar","signal_cellular_connected_no_internet_4_bar","signal_cellular_no_sim","signal_cellular_nodata","signal_cellular_null","signal_cellular_off","signal_wifi_0_bar","signal_wifi_4_bar","signal_wifi_4_bar_lock","signal_wifi_bad","signal_wifi_connected_no_internet_4","signal_wifi_off","signal_wifi_statusbar_4_bar","signal_wifi_statusbar_connected_no_internet_4","signal_wifi_statusbar_null","sim_card_download","splitscreen","sports_score","ssid_chart","storage","storm","summarize","system_security_update","system_security_update_good","system_security_update_warning","task","thermostat","timer_10_select","timer_3_select","tungsten","usb","usb_off","wallpaper","water","widgets","wifi_calling_3","wifi_channel","wifi_find","wifi_lock","wifi_password","wifi_tethering","wifi_tethering_error","wifi_tethering_off"]},{name:"editor",icons:["add_chart","add_comment","align_horizontal_center","align_horizontal_left","align_horizontal_right","align_vertical_bottom","align_vertical_center","align_vertical_top","area_chart","attach_file","attach_money","auto_graph","bar_chart","border_all","border_bottom","border_clear","border_color","border_horizontal","border_inner","border_left","border_outer","border_right","border_style","border_top","border_vertical","bubble_chart","candlestick_chart","checklist","checklist_rtl","data_array","data_object","drag_handle","draw","edit_note","format_align_center","format_align_justify","format_align_left","format_align_right","format_bold","format_clear","format_color_fill","format_color_reset","format_color_text","format_indent_decrease","format_indent_increase","format_italic","format_line_spacing","format_list_bulleted","format_list_numbered","format_list_numbered_rtl","format_paint","format_quote","format_shapes","format_size","format_strikethrough","format_textdirection_l_to_r","format_textdirection_r_to_l","format_underlined","functions","height","hexagon","highlight","horizontal_distribute","horizontal_rule","insert_chart","insert_chart_outlined","insert_comment","insert_drive_file","insert_emoticon","insert_invitation","insert_link","insert_page_break","insert_photo","line_axis","linear_scale","margin","merge_type","mode","mode_comment","mode_edit","mode_edit_outline","monetization_on","money_off","money_off_csred","move_down","move_up","multiline_chart","notes","numbers","padding","pentagon","pie_chart","pie_chart_outline","polyline","post_add","publish","query_stats","rectangle","scatter_plot","schema","score","short_text","show_chart","space_bar","square","stacked_line_chart","strikethrough_s","subscript","superscript","table_chart","table_rows","text_decrease","text_fields","text_increase","title","vertical_align_bottom","vertical_align_center","vertical_align_top","vertical_distribute","wrap_text"]},{name:"file",icons:["approval","attach_email","attachment","cloud","cloud_circle","cloud_done","cloud_download","cloud_off","cloud_queue","cloud_sync","cloud_upload","create_new_folder","difference","download","download_done","download_for_offline","downloading","drive_file_move","drive_file_move_rtl","drive_file_rename_outline","drive_folder_upload","file_download","file_download_done","file_download_off","file_open","file_upload","folder","folder_copy","folder_delete","folder_off","folder_open","folder_shared","folder_zip","format_overline","grid_view","newspaper","request_quote","rule_folder","snippet_folder","text_snippet","topic","upload","upload_file","workspaces"]},{name:"hardware",icons:["adf_scanner","browser_not_supported","browser_updated","cast","cast_connected","cast_for_education","computer","connected_tv","desktop_mac","desktop_windows","developer_board","developer_board_off","device_hub","device_unknown","devices_other","dock","earbuds","earbuds_battery","gamepad","headphones","headphones_battery","headset","headset_mic","headset_off","home_max","home_mini","keyboard","keyboard_alt","keyboard_arrow_down","keyboard_arrow_left","keyboard_arrow_right","keyboard_arrow_up","keyboard_backspace","keyboard_capslock","keyboard_command_key","keyboard_control_key","keyboard_double_arrow_down","keyboard_double_arrow_left","keyboard_double_arrow_right","keyboard_double_arrow_up","keyboard_hide","keyboard_option_key","keyboard_return","keyboard_tab","keyboard_voice","laptop","laptop_chromebook","laptop_mac","laptop_windows","memory","monitor","mouse","phone_android","phone_iphone","phonelink","phonelink_off","point_of_sale","power_input","router","scanner","security","sim_card","smart_display","smart_screen","smart_toy","smartphone","speaker","speaker_group","start","tablet","tablet_android","tablet_mac","toys","tv","videogame_asset","videogame_asset_off","watch","watch_off"]},{name:"home",icons:["sensor_door","sensor_window","shield_moon"]},{name:"image",icons:["10mp","11mp","12mp","13mp","14mp","15mp","16mp","17mp","18mp","19mp","20mp","21mp","22mp","23mp","24mp","2mp","30fps_select","3mp","4mp","5mp","60fps_select","6mp","7mp","8mp","9mp","add_a_photo","add_photo_alternate","add_to_photos","adjust","animation","assistant","assistant_photo","audiotrack","auto_awesome","auto_awesome_mosaic","auto_awesome_motion","auto_fix_high","auto_fix_normal","auto_fix_off","auto_stories","autofps_select","bedtime","bedtime_off","blur_circular","blur_linear","blur_off","blur_on","brightness_1","brightness_2","brightness_3","brightness_4","brightness_5","brightness_6","brightness_7","broken_image","brush","burst_mode","camera","camera_alt","camera_front","camera_rear","camera_roll","cases","center_focus_strong","center_focus_weak","circle","collections","collections_bookmark","color_lens","colorize","compare","contrast","control_point","control_point_duplicate","crop","crop_16_9","crop_3_2","crop_5_4","crop_7_5","crop_din","crop_free","crop_landscape","crop_original","crop_portrait","crop_rotate","crop_square","currency_bitcoin","currency_franc","currency_lira","currency_pound","currency_ruble","currency_rupee","currency_yen","currency_yuan","deblur","dehaze","details","dirty_lens","edit","euro","exposure","exposure_neg_1","exposure_neg_2","exposure_plus_1","exposure_plus_2","exposure_zero","face_retouching_natural","face_retouching_off","filter","filter_1","filter_2","filter_3","filter_4","filter_5","filter_6","filter_7","filter_8","filter_9","filter_9_plus","filter_b_and_w","filter_center_focus","filter_drama","filter_frames","filter_hdr","filter_none","filter_tilt_shift","filter_vintage","flare","flash_auto","flash_off","flash_on","flip","flip_camera_android","flip_camera_ios","gradient","grain","grid_off","grid_on","hdr_enhanced_select","hdr_off","hdr_on","hdr_plus","hdr_strong","hdr_weak","healing","hevc","hide_image","image","image_aspect_ratio","image_not_supported","image_search","incomplete_circle","iso","landscape","leak_add","leak_remove","lens","linked_camera","logo_dev","looks","looks_3","looks_4","looks_5","looks_6","looks_one","looks_two","loupe","mic_external_off","mic_external_on","monochrome_photos","motion_photos_auto","motion_photos_off","motion_photos_on","motion_photos_pause","motion_photos_paused","movie_creation","movie_filter","mp","music_note","music_off","nature","nature_people","navigate_before","navigate_next","palette","panorama","panorama_fish_eye","panorama_horizontal","panorama_horizontal_select","panorama_photosphere","panorama_photosphere_select","panorama_vertical","panorama_vertical_select","panorama_wide_angle","panorama_wide_angle_select","photo","photo_album","photo_camera","photo_camera_back","photo_camera_front","photo_filter","photo_library","photo_size_select_actual","photo_size_select_large","photo_size_select_small","picture_as_pdf","portrait","raw_off","raw_on","receipt_long","remove_red_eye","rotate_90_degrees_ccw","rotate_90_degrees_cw","rotate_left","rotate_right","shutter_speed","slideshow","straighten","style","switch_camera","switch_video","tag_faces","texture","thermostat_auto","timelapse","timer","timer_10","timer_3","timer_off","tonality","transform","tune","video_camera_back","video_camera_front","video_stable","view_comfy","view_compact","vignette","vrpano","wb_auto","wb_cloudy","wb_incandescent","wb_iridescent","wb_shade","wb_sunny","wb_twilight"]},{name:"maps",icons:["360","add_business","add_location","add_location_alt","add_road","agriculture","airline_stops","airlines","alt_route","atm","attractions","badge","bakery_dining","beenhere","bike_scooter","breakfast_dining","brunch_dining","bus_alert","car_rental","car_repair","castle","category","celebration","church","cleaning_services","compass_calibration","connecting_airports","delivery_dining","departure_board","design_services","diamond","dinner_dining","directions","directions_bike","directions_boat","directions_boat_filled","directions_bus","directions_bus_filled","directions_car","directions_car_filled","directions_railway","directions_railway_filled","directions_run","directions_subway","directions_subway_filled","directions_transit","directions_transit_filled","directions_walk","dry_cleaning","edit_attributes","edit_location","edit_location_alt","edit_road","egg","egg_alt","electric_bike","electric_car","electric_moped","electric_rickshaw","electric_scooter","electrical_services","emergency","ev_station","factory","fastfood","festival","flight","flight_class","forest","fork_left","fork_right","fort","hail","handyman","hardware","home_repair_service","hotel","hvac","icecream","kebab_dining","layers","layers_clear","liquor","local_activity","local_airport","local_atm","local_bar","local_cafe","local_car_wash","local_convenience_store","local_dining","local_drink","local_fire_department","local_florist","local_gas_station","local_grocery_store","local_hospital","local_hotel","local_laundry_service","local_library","local_mall","local_movies","local_offer","local_parking","local_pharmacy","local_phone","local_pizza","local_play","local_police","local_post_office","local_printshop","local_see","local_shipping","local_taxi","lunch_dining","map","maps_ugc","medical_services","menu_book","merge","miscellaneous_services","mode_of_travel","money","moped","mosque","moving","multiple_stop","museum","my_location","navigation","near_me","near_me_disabled","nightlife","no_meals","no_transfer","not_listed_location","park","pedal_bike","person_pin","person_pin_circle","pest_control","pest_control_rodent","pin_drop","place","plumbing","railway_alert","ramen_dining","ramp_left","ramp_right","rate_review","restaurant","restaurant_menu","roundabout_left","roundabout_right","route","run_circle","sailing","satellite","set_meal","signpost","snowmobile","soup_kitchen","stadium","store_mall_directory","straight","streetview","subway","synagogue","takeout_dining","taxi_alert","temple_buddhist","temple_hindu","terrain","theater_comedy","tire_repair","traffic","train","tram","transfer_within_a_station","transit_enterexit","trip_origin","turn_left","turn_right","turn_sharp_left","turn_sharp_right","turn_slight_left","turn_slight_right","two_wheeler","u_turn_left","u_turn_right","volunteer_activism","warehouse","wine_bar","wrong_location","zoom_in_map","zoom_out_map"]},{name:"navigation",icons:["app_settings_alt","apps","apps_outage","arrow_back","arrow_back_ios","arrow_back_ios_new","arrow_downward","arrow_drop_down","arrow_drop_down_circle","arrow_drop_up","arrow_forward","arrow_forward_ios","arrow_left","arrow_right","arrow_upward","assistant_direction","campaign","cancel","check","chevron_left","chevron_right","close","double_arrow","east","expand_circle_down","expand_less","expand_more","first_page","fullscreen","fullscreen_exit","home_work","last_page","legend_toggle","maps_home_work","menu","menu_open","more_horiz","more_vert","north","north_east","north_west","offline_share","payments","pivot_table_chart","refresh","south","south_east","south_west","subdirectory_arrow_left","subdirectory_arrow_right","switch_left","switch_right","unfold_less","unfold_more","waterfall_chart","west"]},{name:"notification",icons:["account_tree","adb","airline_seat_flat","airline_seat_flat_angled","airline_seat_individual_suite","airline_seat_legroom_extra","airline_seat_legroom_normal","airline_seat_legroom_reduced","airline_seat_recline_extra","airline_seat_recline_normal","bluetooth_audio","confirmation_number","directions_off","disc_full","do_disturb","do_disturb_alt","do_disturb_off","do_disturb_on","do_not_disturb","do_not_disturb_alt","do_not_disturb_off","do_not_disturb_on","drive_eta","enhanced_encryption","event_available","event_busy","event_note","folder_special","imagesearch_roller","live_tv","mms","more","network_check","network_locked","no_encryption","no_encryption_gmailerrorred","ondemand_video","personal_video","phone_bluetooth_speaker","phone_callback","phone_forwarded","phone_in_talk","phone_locked","phone_missed","phone_paused","power","power_off","priority_high","running_with_errors","sd_card","sd_card_alert","sim_card_alert","sms","sms_failed","support_agent","sync","sync_disabled","sync_lock","sync_problem","system_update","tap_and_play","time_to_leave","tv_off","vibration","voice_chat","vpn_lock","wc","wifi","wifi_off"]},{name:"places",icons:["ac_unit","airport_shuttle","all_inclusive","apartment","baby_changing_station","backpack","balcony","bathtub","beach_access","bento","bungalow","business_center","cabin","carpenter","casino","chalet","charging_station","checkroom","child_care","child_friendly","corporate_fare","cottage","countertops","crib","do_not_step","do_not_touch","dry","elevator","escalator","escalator_warning","family_restroom","fence","fire_extinguisher","fitness_center","food_bank","foundation","free_breakfast","gite","golf_course","grass","holiday_village","hot_tub","house","house_siding","houseboat","iron","kitchen","meeting_room","microwave","night_shelter","no_backpack","no_cell","no_drinks","no_flash","no_food","no_meeting_room","no_photography","no_stroller","other_houses","pool","rice_bowl","roofing","room_preferences","room_service","rv_hookup","smoke_free","smoking_rooms","soap","spa","sports_bar","stairs","storefront","stroller","tapas","tty","umbrella","vape_free","vaping_rooms","villa","wash","water_damage","wheelchair_pickup"]},{name:"search",icons:["bathroom","bed","bedroom_baby","bedroom_child","bedroom_parent","blender","camera_indoor","camera_outdoor","chair","chair_alt","coffee","coffee_maker","dining","door_back","door_front","door_sliding","doorbell","feed","flatware","garage","light","living","manage_search","podcasts","shower","table_bar","table_restaurant","window","yard"]},{name:"social",icons:["6_ft_apart","add_moderator","add_reaction","architecture","back_hand","boy","cake","catching_pokemon","clean_hands","co2","compost","connect_without_contact","construction","cookie","coronavirus","cruelty_free","deck","domain","domain_add","downhill_skiing","edit_notifications","elderly","elderly_woman","emoji_emotions","emoji_events","emoji_food_beverage","emoji_nature","emoji_objects","emoji_people","emoji_symbols","emoji_transportation","engineering","female","fireplace","fitbit","follow_the_signs","front_hand","girl","group","group_add","group_off","group_remove","groups","handshake","health_and_safety","heart_broken","hiking","history_edu","hive","ice_skating","interests","ios_share","kayaking","king_bed","kitesurfing","location_city","luggage","male","man","masks","military_tech","mood","mood_bad","nights_stay","no_luggage","nordic_walking","notification_add","notifications","notifications_active","notifications_none","notifications_off","notifications_paused","outdoor_grill","pages","paragliding","party_mode","people","people_alt","people_outline","person","person_add","person_add_alt","person_add_alt_1","person_off","person_outline","person_remove","person_remove_alt_1","personal_injury","piano","piano_off","pix","plus_one","poll","precision_manufacturing","psychology","public","public_off","real_estate_agent","recommend","recycling","reduce_capacity","remove_moderator","roller_skating","safety_divider","sanitizer","scale","school","science","scoreboard","scuba_diving","self_improvement","sentiment_dissatisfied","sentiment_neutral","sentiment_satisfied","sentiment_very_dissatisfied","sentiment_very_satisfied","share","sick","single_bed","skateboarding","sledding","snowboarding","snowshoeing","social_distance","south_america","sports","sports_baseball","sports_basketball","sports_cricket","sports_esports","sports_football","sports_golf","sports_gymnastics","sports_handball","sports_hockey","sports_kabaddi","sports_martial_arts","sports_mma","sports_motorsports","sports_rugby","sports_soccer","sports_tennis","sports_volleyball","surfing","switch_account","thumb_down_alt","thumb_up_alt","transgender","travel_explore","vaccines","water_drop","waving_hand","whatsapp","whatshot","woman","workspace_premium"]},{name:"toggle",icons:["check_box","check_box_outline_blank","indeterminate_check_box","radio_button_checked","radio_button_unchecked","star","star_border","star_border_purple500","star_half","star_outline","star_purple500","toggle_off","toggle_on"]}];const WJ=z({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},width:{type:String,default:"half"}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),l=E(""),o=F(()=>Cs.map(a=>{if(l.value.length===0)return a;const r=a.icons.filter(s=>s.includes(l.value.toLowerCase()));return Ve(pe({},a),{icons:r,length:r.length})}));return{t:n,icons:Cs,setIcon:u,searchQuery:l,filteredIcons:o,formatTitle:Dt};function u(a){l.value="",t("input",a)}}}),GJ={key:0,class:"icons"};function ZJ(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-input"),s=c("v-divider"),p=c("v-menu");return m(),C(p,{attached:"",disabled:e.disabled},{activator:d(({active:f,activate:_})=>[i(r,{modelValue:e.searchQuery,"onUpdate:modelValue":t[1]||(t[1]=y=>e.searchQuery=y),disabled:e.disabled,placeholder:e.value?e.formatTitle(e.value):e.t("interfaces.select-icon.search_for_icon"),class:ae({"has-value":e.value}),nullable:!1,onFocus:_},xe({append:d(()=>[e.value!==null?(m(),C(a,{key:0,clickable:"",name:"close",onClick:t[0]||(t[0]=y=>e.setIcon(null))})):(m(),C(a,{key:1,clickable:"",name:"expand_more",class:ae(["open-indicator",{open:f}]),onClick:_},null,8,["class","onClick"]))]),_:2},[e.value?{name:"prepend",fn:d(()=>[i(a,{clickable:"",name:e.value,class:ae({active:e.value}),onClick:_},null,8,["name","class","onClick"])])}:void 0]),1032,["modelValue","disabled","placeholder","class","onFocus"])]),default:d(()=>[S("div",{class:ae(["content",e.width])},[(m(!0),I(x,null,$e(e.filteredIcons,(f,_)=>(m(),I(x,{key:f.name},[f.icons.length>0?(m(),I("div",GJ,[(m(!0),I(x,null,$e(f.icons,y=>(m(),C(a,{key:y,name:y,class:ae({active:y===e.value}),clickable:"",onClick:v=>e.setIcon(y)},null,8,["name","class","onClick"]))),128))])):R("",!0),f.icons.length>0&&_!==e.filteredIcons.length-1?(m(),C(s,{key:1})):R("",!0)],64))),128))],2)]),_:1},8,["disabled"])}var JJ=q(WJ,[["render",ZJ],["__scopeId","data-v-80080b9a"]]),QJ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="13" width="120" height="70" rx="6" fill="var(--background-page)" />
	<rect x="19" y="14" width="118" height="68" rx="5" stroke="var(--primary)" stroke-opacity=".25" stroke-width="2" />
	<rect x="18" y="13" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="14" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="23" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<path
		d="M120.966 24a.4.4 0 00-.283.683l3.034 3.034a.4.4 0 00.566 0l3.034-3.034a.4.4 0 00-.283-.683h-6.068zM33 20.176A5.811 5.811 0 0027.176 26 5.811 5.811 0 0033 31.824 5.811 5.811 0 0038.824 26 5.811 5.811 0 0033 20.176zm0 10.5A4.691 4.691 0 0128.324 26 4.691 4.691 0 0133 21.324 4.691 4.691 0 0137.676 26 4.691 4.691 0 0133 30.676zm2.05-5.25a.9.9 0 00.876-.875.881.881 0 00-.875-.875.864.864 0 00-.875.875c0 .465.383.875.875.875zm-4.1 0c.491 0 .874-.41.874-.875a.864.864 0 00-.875-.875.881.881 0 00-.875.875.9.9 0 00.875.875zM33 29.199a3.2 3.2 0 002.98-2.023h-5.96A3.2 3.2 0 0033 29.199z"
		fill="var(--primary)" />
	<path
		d="M33 45.176A5.811 5.811 0 0027.176 51 5.811 5.811 0 0033 56.824 5.811 5.811 0 0038.824 51 5.811 5.811 0 0033 45.176zm0 10.5A4.691 4.691 0 0128.324 51 4.691 4.691 0 0133 46.324 4.691 4.691 0 0137.676 51 4.691 4.691 0 0133 55.676zm.3-7.602h-.874v3.5l3.062 1.86.438-.739-2.625-1.558v-3.063zM48.074 49.824c-1.285 0-2.324 1.067-2.324 2.352a2.322 2.322 0 002.324 2.324c1.285 0 2.352-1.04 2.352-2.324a2.37 2.37 0 00-2.352-2.352zm0 3.5c-.629 0-1.148-.52-1.148-1.148a1.161 1.161 0 112.324 0c0 .629-.52 1.148-1.176 1.148zm4.676-.574c-.957 0-1.75.793-1.75 1.75s.793 1.75 1.75 1.75 1.75-.793 1.75-1.75-.793-1.75-1.75-1.75zm0 2.324a.56.56 0 01-.574-.574.56.56 0 01.574-.574c.328 0 .602.246.602.574 0 .328-.274.574-.602.574zm.875-9.324c-1.777 0-3.2 1.45-3.2 3.2 0 1.777 1.423 3.226 3.2 3.226 1.777 0 3.2-1.45 3.2-3.227 0-1.75-1.423-3.199-3.2-3.199zm0 5.25a2.048 2.048 0 01-2.05-2.05c0-1.122.929-2.024 2.05-2.024 1.121 0 2.05.902 2.05 2.023 0 1.149-.929 2.051-2.05 2.051zM73.676 54.008l-.684-.684h-8.668v-7h9.352v7.684zm0-8.832h-9.352c-.629 0-1.148.52-1.148 1.148v7c0 .657.52 1.176 1.148 1.176H72.5l2.324 2.324v-10.5c0-.629-.52-1.148-1.148-1.148zM87 47.5a3.218 3.218 0 013.144 2.598l.165.875.902.054c.902.055 1.613.82 1.613 1.723 0 .957-.765 1.75-1.75 1.75H83.5a2.322 2.322 0 01-2.324-2.324c0-1.203.875-2.215 2.078-2.324l.602-.055.3-.574A3.178 3.178 0 0187 47.5zm0-1.176c-1.695 0-3.144.957-3.883 2.38-1.75.163-3.117 1.667-3.117 3.472 0 1.914 1.559 3.5 3.5 3.5h7.574A2.93 2.93 0 0094 52.75c0-1.531-1.203-2.79-2.707-2.898-.41-1.996-2.16-3.528-4.293-3.528z"
		fill="var(--primary)" fill-opacity=".25" />
	<path
		d="M105 45.176A5.811 5.811 0 0099.176 51 5.811 5.811 0 00105 56.824 5.811 5.811 0 00110.824 51 5.811 5.811 0 00105 45.176zm0 10.5c-2.57 0-4.676-2.106-4.676-4.676 0-2.57 2.106-4.676 4.676-4.676 2.57 0 4.676 2.106 4.676 4.676 0 2.57-2.106 4.676-4.676 4.676zm2.051-5.25a.9.9 0 00.875-.875.88.88 0 00-.875-.875.864.864 0 00-.875.875c0 .465.383.875.875.875zm-4.102 0c.492 0 .875-.41.875-.875a.864.864 0 00-.875-.875.88.88 0 00-.875.875.9.9 0 00.875.875zM105 54.199a3.199 3.199 0 002.98-2.023h-5.96a3.199 3.199 0 002.98 2.023z"
		fill="var(--primary)" />
	<path
		d="M123.219 47.5l.027.219.192.957h3.062v3.5h-1.969l-.027-.246-.192-.93h-4.238v-3.5h3.145zm.957-1.176h-5.25v9.926h1.148v-4.074h3.281l.219 1.148h4.102V47.5h-3.281l-.219-1.176zM31.414 63.625c-.957 4.402 2.188 7.246 4.457 8.04A4.643 4.643 0 0133 72.674 4.691 4.691 0 0128.324 68a4.623 4.623 0 013.09-4.375zM33 62.175c-3.254 0-5.824 2.653-5.824 5.825A5.811 5.811 0 0033 73.824a5.838 5.838 0 005.059-2.926c-4.375-.136-7.055-4.921-4.868-8.722H33zM55.95 62.75l-.083.027-3.117 1.203-3.5-1.23-3.281 1.121a.266.266 0 00-.219.273v8.805c0 .164.137.301.3.301l.083-.027 3.117-1.204 3.5 1.231 3.281-1.121a.266.266 0 00.219-.273V63.05c0-.164-.137-.301-.3-.301zm-6.126 1.45l2.352.82v6.78l-2.352-.82V64.2zm-2.898.573l1.75-.601v6.836l-1.75.683v-6.918zm8.148 6.454l-1.75.601v-6.836l1.75-.656v6.89zM72.856 64.856c-.848 0-1.641.328-2.215.902l-4.102 3.636c-.355.383-.848.575-1.395.575A1.96 1.96 0 0163.176 68a1.96 1.96 0 011.968-1.969c.547 0 1.04.192 1.422.602l.657.574.902-.766-.738-.656a3.143 3.143 0 00-2.243-.93A3.163 3.163 0 0062 68a3.163 3.163 0 003.144 3.144c.848 0 1.641-.328 2.215-.902l4.102-3.636c.355-.383.848-.575 1.395-.575A1.96 1.96 0 0174.824 68a1.96 1.96 0 01-1.968 1.969c-.52 0-1.04-.192-1.422-.602l-.684-.574-.875.766.738.656c.602.601 1.395.93 2.243.93A3.163 3.163 0 0076 68a3.145 3.145 0 00-3.144-3.144zM87 73.824c.629 0 1.176-.52 1.176-1.148h-2.352c0 .629.547 1.148 1.176 1.148zm3.5-3.5v-2.898c0-1.805-.957-3.309-2.625-3.692v-.41A.881.881 0 0087 62.45a.881.881 0 00-.875.875v.41c-1.668.383-2.625 1.887-2.625 3.692v2.898L82.324 71.5v.574h9.352V71.5L90.5 70.324zm-1.176.602h-4.648v-3.5c0-1.45.875-2.625 2.324-2.625 1.45 0 2.324 1.176 2.324 2.625v3.5zM110.824 66.387l-4.183-.356L105 62.176l-1.641 3.855-4.183.356 3.172 2.761-.957 4.102L105 71.062l3.609 2.188-.957-4.102 3.172-2.761zM105 69.997l-2.188 1.312.575-2.489-1.942-1.695 2.571-.219.984-2.351.984 2.351 2.571.219-1.942 1.695.575 2.489L105 69.996zM128.578 70.379l-.629-4.457a2.324 2.324 0 00-2.297-1.996h-5.304a2.324 2.324 0 00-2.297 1.996l-.629 4.457a1.463 1.463 0 001.449 1.695c.41 0 .793-.136 1.066-.437l1.313-1.313h3.5l1.312 1.313c.274.3.657.437 1.039.437.93 0 1.614-.793 1.477-1.695zm-1.203.437a.348.348 0 01-.246.11.344.344 0 01-.246-.11l-1.641-1.64h-4.484l-1.641 1.64a.348.348 0 01-.246.11.348.348 0 01-.246-.11c-.027-.054-.082-.136-.055-.273l.629-4.457a1.174 1.174 0 011.149-1.012h5.304c.574 0 1.067.438 1.149 1.012l.629 4.457c.027.137-.028.219-.055.273zm-6.125-5.14h-.574v1.148H119.5v.602h1.176v1.148h.574v-1.148h1.176v-.602h-1.176v-1.148zM125.324 68c0-.328.274-.574.602-.574.3 0 .574.246.574.574a.578.578 0 01-.574.574c-.328 0-.602-.246-.602-.574zm-1.148-1.75a.56.56 0 01.574-.574.56.56 0 01.574.574.56.56 0 01-.574.574.56.56 0 01-.574-.574z"
		fill="var(--primary)" fill-opacity=".25" />
</svg>
`,XJ=Ne({id:"select-icon",name:"$t:interfaces.select-icon.icon",description:"$t:interfaces.select-icon.description",icon:"insert_emoticon",component:JJ,types:["string"],group:"selection",options:[],recommendedDisplays:["icon"],preview:QJ}),YJ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:XJ});const xJ=z({props:{disabled:{type:Boolean,default:!1},value:{type:Array,default:null},choices:{type:Array,default:null},allowOther:{type:Boolean,default:!1},width:{type:String,default:null},iconOn:{type:String,default:"check_box"},iconOff:{type:String,default:"check_box_outline_blank"},color:{type:String,default:"var(--primary)"},itemsShown:{type:Number,default:8}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),{choices:l,value:o}=Me(e),u=E(!1),a=F(()=>e.choices.length>e.itemsShown),r=F(()=>u.value||a.value===!1?e.choices:e.choices.slice(0,e.itemsShown)),s=F(()=>e.choices.length-e.itemsShown),p=F(()=>{var h;if(l.value===null)return null;const v=l.value.reduce((w,g)=>(g.text.length>w.length&&(w=g.text),w),"").length;return((h=e.width)==null?void 0:h.startsWith("half"))?v<=10?"grid-2":"grid-1":v<=10?"grid-4":v>10&&v<=15?"grid-3":v>15&&v<=25?"grid-2":"grid-1"}),{otherValues:f,addOtherValue:_,setOtherValue:y}=Gr(o,l,v=>t("input",v));return{t:n,gridClass:p,otherValues:f,addOtherValue:_,setOtherValue:y,choicesDisplayed:r,hideChoices:a,showAll:u,hiddenCount:s}}}),eQ=["disabled"];function tQ(e,t,n,l,o,u){const a=c("v-notice"),r=c("v-checkbox"),s=c("v-detail"),p=c("v-icon");return e.choices?(m(),I("div",{key:1,class:ae(["checkboxes",e.gridClass]),style:Ue({"--v-checkbox-color":e.color})},[(m(!0),I(x,null,$e(e.choicesDisplayed,f=>(m(),C(r,{key:f.value,block:"",value:f.value,label:f.text,disabled:e.disabled,"icon-on":e.iconOn,"icon-off":e.iconOff,"model-value":e.value||[],"onUpdate:modelValue":t[0]||(t[0]=_=>e.$emit("input",_))},null,8,["value","label","disabled","icon-on","icon-off","model-value"]))),128)),e.hideChoices&&e.showAll===!1?(m(),C(s,{key:0,class:ae(e.gridClass),label:e.t("interfaces.select-multiple-checkbox.show_more",{count:e.hiddenCount}),"onUpdate:modelValue":t[1]||(t[1]=f=>e.showAll=!0)},null,8,["class","label"])):R("",!0),e.allowOther?(m(),I(x,{key:1},[(m(!0),I(x,null,$e(e.otherValues,f=>(m(),C(r,{key:f.key,block:"","custom-value":"",value:f.value,disabled:e.disabled,"icon-on":e.iconOn,"icon-off":e.iconOff,"model-value":e.value||[],"onUpdate:value":_=>e.setOtherValue(f.key,_),"onUpdate:modelValue":t[2]||(t[2]=_=>e.$emit("input",_))},null,8,["value","disabled","icon-on","icon-off","model-value","onUpdate:value"]))),128)),e.allowOther?(m(),I("button",{key:0,disabled:e.disabled,class:"add-new custom",align:"left",outlined:"",dashed:"",secondary:"",onClick:t[3]||(t[3]=f=>e.addOtherValue())},[i(p,{name:"add"}),T(" "+b(e.t("other")),1)],8,eQ)):R("",!0)],64)):R("",!0)],6)):(m(),C(a,{key:0,type:"warning"},{default:d(()=>[T(b(e.t("choices_option_configured_incorrectly")),1)]),_:1}))}var nQ=q(xJ,[["render",tQ],["__scopeId","data-v-eb2534aa"]]),lQ=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="54" y="36" width="70" height="6" rx="2" fill="var(--primary)" />
	<path
		d="M43.0742 33.75H34.9258C34.2695 33.75 33.75 34.2695 33.75 34.9258V43.0742C33.75 43.7305 34.2695 44.25 34.9258 44.25H43.0742C43.7305 44.25 44.25 43.7305 44.25 43.0742V34.9258C44.25 34.2695 43.7305 33.75 43.0742 33.75ZM43.0742 43.0742H34.9258V34.9258H43.0742V43.0742ZM42.5 37.25L41.6797 36.4297L37.8242 40.2578L36.3203 38.7539L35.5 39.6016L37.8242 41.9258L42.5 37.25Z"
		fill="var(--primary)" />
	<rect x="54" y="72" width="50" height="6" rx="2" fill="var(--primary)" />
	<path
		d="M43.0742 69.75H34.9258C34.2695 69.75 33.75 70.2695 33.75 70.9258V79.0742C33.75 79.7305 34.2695 80.25 34.9258 80.25H43.0742C43.7305 80.25 44.25 79.7305 44.25 79.0742V70.9258C44.25 70.2695 43.7305 69.75 43.0742 69.75ZM43.0742 79.0742H34.9258V70.9258H43.0742V79.0742ZM42.5 73.25L41.6797 72.4297L37.8242 76.2578L36.3203 74.7539L35.5 75.6016L37.8242 77.9258L42.5 73.25Z"
		fill="var(--primary)" />
	<rect x="54" y="18" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M43.0742 16.9258V25.0742H34.9258V16.9258H43.0742ZM43.0742 15.75H34.9258C34.2695 15.75 33.75 16.2695 33.75 16.9258V25.0742C33.75 25.7305 34.2695 26.25 34.9258 26.25H43.0742C43.7305 26.25 44.25 25.7305 44.25 25.0742V16.9258C44.25 16.2695 43.7305 15.75 43.0742 15.75Z"
		fill="var(--primary)" fill-opacity="0.25" />
	<rect x="54" y="54" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M43.0742 52.9258V61.0742H34.9258V52.9258H43.0742ZM43.0742 51.75H34.9258C34.2695 51.75 33.75 52.2695 33.75 52.9258V61.0742C33.75 61.7305 34.2695 62.25 34.9258 62.25H43.0742C43.7305 62.25 44.25 61.7305 44.25 61.0742V52.9258C44.25 52.2695 43.7305 51.75 43.0742 51.75Z"
		fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,oQ=Ne({id:"select-multiple-checkbox",name:"$t:interfaces.select-multiple-checkbox.checkboxes",icon:"check_box",component:nQ,description:"$t:interfaces.select-multiple-checkbox.description",types:["json","csv"],group:"selection",preview:lQ,options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"input",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:"string",name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}}]}}},{field:"allowOther",name:"$t:interfaces.select-multiple-checkbox.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:enable_custom_values"}},schema:{default_value:!1}},{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-color"},schema:{default_value:"#00C897"}},{field:"iconOn",name:"$t:icon_on",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box"}},{field:"iconOff",name:"$t:icon_off",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box_outline_blank"}},{field:"itemsShown",name:"$t:interfaces.select-multiple-checkbox.items_shown",type:"integer",meta:{width:"half",interface:"input"},schema:{default_value:8}}],recommendedDisplays:["labels"]}),aQ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:oQ});const iQ=z({props:{value:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},choices:{type:Array,default:()=>[]},valueCombining:{type:String,default:"all"}},emits:["input"],setup(){const{t:e}=J(),t=E(""),n=E(!1),l=U.exports.debounce(u=>{o.value=u},250);ye(t,l);const o=E("");return{search:t,t:e,searchDebounced:o,showSelectionOnly:n}}}),rQ={class:"select-multiple-checkbox-tree"},sQ={class:"search"},dQ={class:"footer"},uQ=T(" / ");function cQ(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-input"),s=c("v-checkbox-tree");return m(),I("div",rQ,[S("div",sQ,[i(r,{modelValue:e.search,"onUpdate:modelValue":t[1]||(t[1]=p=>e.search=p),class:"input",type:"text",placeholder:e.t("search")},xe({prepend:d(()=>[i(a,{name:"search"})]),_:2},[e.search?{name:"append",fn:d(()=>[i(a,{name:"clear",clickable:"",onClick:t[0]||(t[0]=p=>e.search="")})])}:void 0]),1032,["modelValue","placeholder"])]),i(s,{"model-value":e.value,search:e.searchDebounced,disabled:e.disabled,choices:e.choices,"value-combining":e.valueCombining,"show-selection-only":e.showSelectionOnly,"onUpdate:modelValue":t[2]||(t[2]=p=>e.$emit("input",p))},null,8,["model-value","search","disabled","choices","value-combining","show-selection-only"]),S("div",dQ,[S("span",{class:ae({active:e.showSelectionOnly===!1}),onClick:t[3]||(t[3]=p=>e.showSelectionOnly=!1)},b(e.t("interfaces.select-multiple-checkbox-tree.show_all")),3),uQ,S("span",{class:ae({active:e.showSelectionOnly===!0}),onClick:t[4]||(t[4]=p=>e.showSelectionOnly=!0)},b(e.t("interfaces.select-multiple-checkbox-tree.show_selected")),3)])])}var pQ=q(iQ,[["render",cQ],["__scopeId","data-v-4588d42a"]]),mQ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="58.25" y="36" width="70" height="6" rx="2" fill="var(--primary)"/>
	<path d="M47.324 33.75h-8.148c-.657 0-1.176.52-1.176 1.176v8.148c0 .657.52 1.176 1.176 1.176h8.148c.657 0 1.176-.52 1.176-1.176v-8.148c0-.657-.52-1.176-1.176-1.176Zm0 9.324h-8.148v-8.148h8.148v8.148Zm-.574-5.824-.82-.82-3.856 3.828-1.504-1.504-.82.848 2.324 2.324 4.676-4.676Z" fill="var(--primary)"/>
	<rect x="58.25" y="72" width="50" height="6" rx="2" fill="var(--primary)"/>
	<path d="M47.324 69.75h-8.148c-.657 0-1.176.52-1.176 1.176v8.148c0 .657.52 1.176 1.176 1.176h8.148c.657 0 1.176-.52 1.176-1.176v-8.148c0-.657-.52-1.176-1.176-1.176Zm0 9.324h-8.148v-8.148h8.148v8.148Zm-.574-5.824-.82-.82-3.856 3.828-1.504-1.504-.82.848 2.324 2.324 4.676-4.676Z" fill="var(--primary)"/>
	<rect x="48.25" y="54" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<path d="M37.324 52.926v8.148h-8.148v-8.148h8.148Zm0-1.176h-8.148c-.656 0-1.176.52-1.176 1.176v8.148c0 .657.52 1.176 1.176 1.176h8.148c.657 0 1.176-.52 1.176-1.176v-8.148c0-.657-.52-1.176-1.176-1.176Z" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="48.5" y="18.25" width="50" height="6" rx="2" fill="var(--primary)"/>
	<path d="M37.574 16h-8.148c-.656 0-1.176.52-1.176 1.176v8.148c0 .656.52 1.176 1.176 1.176h8.148c.657 0 1.176-.52 1.176-1.176v-8.148c0-.656-.52-1.176-1.176-1.176Zm0 9.324h-8.148v-8.148h8.148v8.148ZM37 19.5l-.82-.82-3.856 3.828-1.504-1.504-.82.848 2.324 2.324L37 19.5Z" fill="var(--primary)"/>
</svg>
`;const ta=[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"input",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:"string",name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}}],Vs={field:"children",type:"json",name:"$t:children",meta:{width:"full",interface:"list",options:{fields:ta}}};function Fs(e=0,t=3){return e<t?[...ta,Ve(pe({},Vs),{meta:Ve(pe({},Vs.meta),{options:{fields:Fs(e+1)}})})]:ta}var fQ=Ne({id:"select-multiple-checkbox-tree",name:"$t:interfaces.select-multiple-checkbox-tree.name",icon:"account_tree",component:pQ,description:"$t:interfaces.select-multiple-checkbox-tree.description",types:["json","csv"],group:"selection",options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{template:"{{ text }}",fields:Fs()}}},{field:"valueCombining",type:"string",name:"$t:interfaces.select-multiple-checkbox-tree.value_combining",schema:{default_value:"all"},meta:{note:"$t:interfaces.select-multiple-checkbox-tree.value_combining_note",interface:"select-dropdown",options:{choices:[{text:"$t:all",value:"all"},{text:"$t:branch",value:"branch"},{text:"$t:leaf",value:"leaf"},{text:"$t:indeterminate",value:"indeterminate"},{text:"$t:exclusive",value:"exclusive"}]}}}],recommendedDisplays:["labels"],preview:mQ}),_Q=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:fQ});const vQ=z({props:{disabled:{type:Boolean,default:!1},value:{type:Array,default:null},choices:{type:Array,default:null},icon:{type:String,default:null},allowNone:{type:Boolean,default:!1},placeholder:{type:String,default:null},allowOther:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:n}=J();return{t:n,updateValue:l};function l(o){const u=U.exports.sortBy(o,a=>{const r=e.choices.findIndex(s=>a===s.value);return r!==-1?r:o.length});t("input",u)}}});function yQ(e,t,n,l,o,u){const a=c("v-notice"),r=c("v-icon"),s=c("v-select");return e.choices?(m(),C(s,{key:1,multiple:"","model-value":e.value,items:e.choices,disabled:e.disabled,"show-deselect":e.allowNone,placeholder:e.placeholder,"allow-other":e.allowOther,"close-on-content-click":!1,"onUpdate:modelValue":t[0]||(t[0]=p=>e.updateValue(p))},xe({_:2},[e.icon?{name:"prepend",fn:d(()=>[i(r,{name:e.icon},null,8,["name"])])}:void 0]),1032,["model-value","items","disabled","show-deselect","placeholder","allow-other"])):(m(),C(a,{key:0,type:"warning"},{default:d(()=>[T(b(e.t("choices_option_configured_incorrectly")),1)]),_:1}))}var hQ=q(vQ,[["render",yQ]]),gQ=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="15" width="120" height="66" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="16" width="118" height="64" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="25" width="80" height="6" rx="2" fill="var(--primary)" />
	<rect x="28" y="45.1479" width="70" height="6" rx="2" fill="var(--primary)" />
	<rect x="28" y="55.2222" width="80" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="28" y="65.2959" width="90" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="28" y="35.0737" width="90" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,bQ=Ne({id:"select-multiple-dropdown",name:"$t:interfaces.select-multiple-dropdown.select-multiple-dropdown",description:"$t:interfaces.select-multiple-dropdown.description",icon:"arrow_drop_down_circle",component:hQ,types:["json","csv"],group:"selection",preview:gQ,options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{placeholder:"$t:interfaces.select-dropdown.choices_placeholder",template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"input",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:"string",name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_value_placeholder"}}}]}}},{field:"allowOther",name:"$t:interfaces.select-dropdown.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}},{field:"allowNone",name:"$t:interfaces.select-dropdown.allow_none",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_none_label"}},schema:{default_value:!1}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}}],recommendedDisplays:["labels"]}),wQ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:bQ});const $Q=z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},choices:{type:Array,default:null},allowOther:{type:Boolean,default:!1},width:{type:String,default:null},iconOn:{type:String,default:"radio_button_checked"},iconOff:{type:String,default:"radio_button_unchecked"},color:{type:String,default:"var(--primary)"}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),{choices:l,value:o}=Me(e),u=F(()=>{var f;if(l.value===null)return null;const p=l.value.reduce((_,y)=>(y.text.length>_.length&&(_=y.text),_),"").length;return((f=e.width)==null?void 0:f.startsWith("half"))?p<=10?"grid-2":"grid-1":p<=10?"grid-4":p>10&&p<=15?"grid-3":p>15&&p<=25?"grid-2":"grid-1"}),{otherValue:a,usesOtherValue:r}=Wr(o,l,p=>t("input",p)),s=F(()=>a.value?a.value&&r.value===!0?e.iconOn:e.iconOff:"add");return{t:n,gridClass:u,otherValue:a,usesOtherValue:r,customIcon:s}}}),kQ=["placeholder","disabled"];function SQ(e,t,n,l,o,u){const a=c("v-notice"),r=c("v-radio"),s=c("v-icon");return e.choices?(m(),I("div",{key:1,class:ae(["radio-buttons",e.gridClass]),style:Ue({"--v-radio-color":e.color})},[(m(!0),I(x,null,$e(e.choices,p=>(m(),C(r,{key:p.value,block:"",value:p.value,label:p.text,disabled:e.disabled,"icon-on":e.iconOn,"icon-off":e.iconOff,"model-value":e.value,"onUpdate:modelValue":t[0]||(t[0]=f=>e.$emit("input",f))},null,8,["value","label","disabled","icon-on","icon-off","model-value"]))),128)),e.allowOther?(m(),I("div",{key:0,class:ae(["custom",{active:!e.disabled&&e.usesOtherValue,"has-value":!e.disabled&&e.otherValue,disabled:e.disabled}])},[i(s,{disabled:e.disabled,name:e.customIcon,clickable:"",onClick:t[1]||(t[1]=p=>e.$emit("input",e.otherValue))},null,8,["disabled","name"]),Q(S("input",{"onUpdate:modelValue":t[2]||(t[2]=p=>e.otherValue=p),placeholder:e.t("other"),disabled:e.disabled,onFocus:t[3]||(t[3]=p=>e.$emit("input",e.otherValue))},null,40,kQ),[[to,e.otherValue]])],2)):R("",!0)],6)):(m(),C(a,{key:0,type:"warning"},{default:d(()=>[T(b(e.t("choices_option_configured_incorrectly")),1)]),_:1}))}var CQ=q($Q,[["render",SQ],["__scopeId","data-v-3c9fc610"]]),VQ=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="54" y="36" width="70" height="6" rx="2" fill="var(--primary)" />
	<path
		d="M39 33.1758C35.7734 33.1758 33.1758 35.7734 33.1758 39C33.1758 42.2266 35.7734 44.8242 39 44.8242C42.2266 44.8242 44.8242 42.2266 44.8242 39C44.8242 35.7734 42.2266 33.1758 39 33.1758ZM39 43.6758C36.4297 43.6758 34.3242 41.5703 34.3242 39C34.3242 36.4297 36.4297 34.3242 39 34.3242C41.5703 34.3242 43.6758 36.4297 43.6758 39C43.6758 41.5703 41.5703 43.6758 39 43.6758ZM36.0742 39C36.0742 37.3867 37.3867 36.0742 39 36.0742C40.6133 36.0742 41.9258 37.3867 41.9258 39C41.9258 40.6133 40.6133 41.9258 39 41.9258C37.3867 41.9258 36.0742 40.6133 36.0742 39Z"
		fill="var(--primary)" />
	<rect x="54" y="72" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M39 69.1758C35.7734 69.1758 33.1758 71.7734 33.1758 75C33.1758 78.2266 35.7734 80.8242 39 80.8242C42.2266 80.8242 44.8242 78.2266 44.8242 75C44.8242 71.7734 42.2266 69.1758 39 69.1758ZM39 79.6758C36.4297 79.6758 34.3242 77.5703 34.3242 75C34.3242 72.4297 36.4297 70.3242 39 70.3242C41.5703 70.3242 43.6758 72.4297 43.6758 75C43.6758 77.5703 41.5703 79.6758 39 79.6758Z"
		fill="var(--primary)" fill-opacity="0.25" />
	<rect x="54" y="18" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M39 15.1758C35.7734 15.1758 33.1758 17.7734 33.1758 21C33.1758 24.2266 35.7734 26.8242 39 26.8242C42.2266 26.8242 44.8242 24.2266 44.8242 21C44.8242 17.7734 42.2266 15.1758 39 15.1758ZM39 25.6758C36.4297 25.6758 34.3242 23.5703 34.3242 21C34.3242 18.4297 36.4297 16.3242 39 16.3242C41.5703 16.3242 43.6758 18.4297 43.6758 21C43.6758 23.5703 41.5703 25.6758 39 25.6758Z"
		fill="var(--primary)" fill-opacity="0.25" />
	<rect x="54" y="54" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M39 51.1758C35.7734 51.1758 33.1758 53.7734 33.1758 57C33.1758 60.2266 35.7734 62.8242 39 62.8242C42.2266 62.8242 44.8242 60.2266 44.8242 57C44.8242 53.7734 42.2266 51.1758 39 51.1758ZM39 61.6758C36.4297 61.6758 34.3242 59.5703 34.3242 57C34.3242 54.4297 36.4297 52.3242 39 52.3242C41.5703 52.3242 43.6758 54.4297 43.6758 57C43.6758 59.5703 41.5703 61.6758 39 61.6758Z"
		fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,FQ=Ne({id:"select-radio",name:"$t:interfaces.select-radio.radio-buttons",description:"$t:interfaces.select-radio.description",icon:"radio_button_checked",component:CQ,types:["string","integer","float","bigInteger"],recommendedDisplays:["badge"],group:"selection",preview:VQ,options:({field:e})=>[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"input"}},{field:"value",type:e.type,name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace"}}}]}}},{field:"iconOn",name:"$t:icon_on",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"radio_button_checked"}},{field:"iconOff",name:"$t:icon_off",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"radio_button_unchecked"}},{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-color"}},{field:"allowOther",name:"$t:interfaces.select-dropdown.allow_other",type:"string",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}}]}),AQ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:FQ});const IQ=z({props:{value:{type:Number,default:null},disabled:{type:Boolean,default:!1},minValue:{type:Number,default:0},maxValue:{type:Number,default:100},stepInterval:{type:Number,default:1},alwaysShowValue:{type:Boolean,default:!1}},emits:["input"]});function EQ(e,t,n,l,o,u){const a=c("v-slider");return m(),C(a,{"model-value":e.value,disabled:e.disabled,min:e.minValue,max:e.maxValue,step:e.stepInterval,"always-show-value":e.alwaysShowValue,"show-thumb-label":"","show-ticks":"","onUpdate:modelValue":t[0]||(t[0]=r=>e.$emit("input",r))},null,8,["model-value","disabled","min","max","step","always-show-value"])}var DQ=q(IQ,[["render",EQ],["__scopeId","data-v-26b36e86"]]),TQ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect opacity=".25" x="103" y="52" width="6" height="6" rx="2" fill="var(--primary)"/>
	<rect opacity=".25" x="19" y="52" width="6" height="6" rx="2" fill="var(--primary)"/>
	<rect opacity=".25" x="131" y="52" width="6" height="6" rx="2" fill="var(--primary)"/>
	<rect opacity=".25" x="47" y="52" width="6" height="6" rx="2" fill="var(--primary)"/>
	<rect opacity=".25" x="75" y="52" width="6" height="6" rx="2" fill="var(--primary)"/>
	<rect opacity=".25" x="18" y="42" width="120" height="2" rx="1" fill="var(--primary)"/>
	<rect x="18" y="42" width="81" height="2" rx="1" fill="var(--primary)"/>
	<circle cx="106" cy="43" r="5" fill="var(--primary)"/>
</svg>
`,LQ=Ne({id:"slider",name:"$t:interfaces.slider.slider",description:"$t:interfaces.slider.description",icon:"linear_scale",component:DQ,types:["integer","decimal","float","bigInteger"],group:"other",options:[{field:"minValue",name:"$t:interfaces.input.minimum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"maxValue",name:"$t:interfaces.input.maximum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"stepInterval",name:"$t:interfaces.input.step_interval",type:"integer",meta:{width:"half",interface:"input"}},{field:"alwaysShowValue",name:"$t:interfaces.slider.always_show_value",type:"boolean",meta:{width:"half",interface:"boolean"}}],preview:TQ}),PQ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:LQ});const OQ=z({props:{disabled:{type:Boolean,default:!1},value:{type:Array,default:null},placeholder:{type:String,default:null},whitespace:{type:String,default:null},capitalization:{type:String,default:null},alphabetize:{type:Boolean,default:!1},iconLeft:{type:String,default:null},iconRight:{type:String,default:"local_offer"},presets:{type:Array,default:null},allowCustom:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),l=F(()=>e.presets!==null?r(e.presets):[]),o=E(r(e.value||[]));ye(()=>e.value,v=>{Array.isArray(v)&&(o.value=r(v)),v===null&&(o.value=[])});const u=F(()=>{let v=r(o.value);return e.allowCustom||(v=v.filter(h=>l.value.includes(h))),v}),a=F(()=>u.value.filter(v=>!l.value.includes(v)));function r(v){return v=v.map(h=>{h=h.trim(),e.capitalization==="uppercase"&&(h=h.toUpperCase()),e.capitalization==="lowercase"&&(h=h.toLowerCase());const w=e.whitespace===null?" ":e.whitespace;return e.capitalization==="auto-format"&&(h=Dt(h,new RegExp(w))),h=h.replace(/ +/g,w),h}),e.alphabetize&&(v=v.concat().sort()),v=[...new Set(v)],v}return{t:n,onInput:s,addTag:f,removeTag:_,toggleTag:p,presetVals:l,customVals:a,selectedVals:u};function s(v){v.target&&(v.key==="Enter"||v.key===",")&&(v.preventDefault(),f(v.target.value),v.target.value="")}function p(v){u.value.includes(v)?_(v):f(v)}function f(v){!v||v===""||(v=v.trim(),o.value.push(v),y())}function _(v){o.value=o.value.filter(h=>h!==v),y()}function y(){t("input",u.value)}}}),RQ={class:"interface-tags"},jQ={key:1,class:"tags"},MQ={key:0,class:"presets tag-container"},UQ={key:1,class:"custom tag-container"};function NQ(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-input"),s=c("v-chip");return m(),I("div",RQ,[e.allowCustom?(m(),C(r,{key:0,placeholder:e.placeholder||e.t("interfaces.tags.add_tags"),disabled:e.disabled,onKeydown:e.onInput},xe({append:d(()=>[i(a,{name:e.iconRight},null,8,["name"])]),_:2},[e.iconLeft?{name:"prepend",fn:d(()=>[i(a,{name:e.iconLeft},null,8,["name"])])}:void 0]),1032,["placeholder","disabled","onKeydown"])):R("",!0),e.presetVals.length>0||e.customVals.length>0?(m(),I("div",jQ,[e.presetVals.length>0?(m(),I("span",MQ,[(m(!0),I(x,null,$e(e.presetVals,p=>(m(),C(s,{key:p,class:ae(["tag",{inactive:!e.selectedVals.includes(p)}]),disabled:e.disabled,small:"",label:"",clickable:"",onClick:f=>e.toggleTag(p)},{default:d(()=>[T(b(p),1)]),_:2},1032,["class","disabled","onClick"]))),128))])):R("",!0),e.customVals.length>0&&e.allowCustom?(m(),I("span",UQ,[e.presetVals.length>0?(m(),C(a,{key:0,class:"custom-tags-delimeter",name:"chevron_right"})):R("",!0),(m(!0),I(x,null,$e(e.customVals,p=>(m(),C(s,{key:p,disabled:e.disabled,class:"tag",small:"",label:"",clickable:"",onClick:f=>e.removeTag(p)},{default:d(()=>[T(b(p),1)]),_:2},1032,["disabled","onClick"]))),128))])):R("",!0)])):R("",!0)])}var BQ=q(OQ,[["render",NQ],["__scopeId","data-v-5f85ff84"]]),qQ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="23" width="120" height="26" rx="6" fill="var(--background-page)" class="glow"/>
	<rect x="19" y="24" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2"/>
	<rect x="28" y="33" width="30" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="18" y="57" width="30" height="6" rx="2" fill="var(--primary)"/>
	<rect x="66" y="57" width="40" height="6" rx="2" fill="var(--primary)"/>
	<rect x="42" y="67" width="30" height="6" rx="2" fill="var(--primary)"/>
	<rect x="52" y="57" width="10" height="6" rx="2" fill="var(--primary)"/>
	<rect x="110" y="57" width="20" height="6" rx="2" fill="var(--primary)"/>
	<rect x="76" y="67" width="10" height="6" rx="2" fill="var(--primary)"/>
	<rect x="90" y="67" width="20" height="6" rx="2" fill="var(--primary)"/>
	<rect x="18" y="67" width="20" height="6" rx="2" fill="var(--primary)"/>
</svg>
`,zQ=Ne({id:"tags",name:"$t:interfaces.tags.tags",description:"$t:interfaces.tags.description",icon:"local_offer",component:BQ,types:["json","csv"],group:"standard",options:[{field:"presets",name:"$t:presets",type:"string",meta:{width:"full",interface:"tags"}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"full",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"alphabetize",name:"$t:interfaces.tags.alphabetize",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.tags.alphabetize_label"}},schema:{default_value:!1}},{field:"allowCustom",name:"$t:interfaces.select-dropdown.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!0}},{field:"whitespace",name:"$t:interfaces.tags.whitespace",type:"string",meta:{width:"half",interface:"select-dropdown",options:{allowNone:!0,choices:[{text:"$t:interfaces.tags.hyphen",value:"-"},{text:"$t:interfaces.tags.underscore",value:"_"},{text:"$t:interfaces.tags.remove",value:""}]}}},{field:"capitalization",name:"$t:interfaces.tags.capitalization",type:"string",meta:{width:"half",interface:"select-dropdown",options:{allowNone:!0,choices:[{text:"$t:interfaces.tags.uppercase",value:"uppercase"},{text:"$t:interfaces.tags.lowercase",value:"lowercase"},{text:"$t:interfaces.tags.auto_formatter",value:"auto-format"}]}}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}}],recommendedDisplays:["labels"],preview:qQ}),KQ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:zQ});const HQ=z({components:{},props:{modelValue:{type:String,default:null},items:{type:Array,default:()=>[]},secondary:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){return{displayValue:F(()=>{var l;const n=e.items.find(o=>o.value===e.modelValue);return(l=n==null?void 0:n.text)!=null?l:e.modelValue})}}}),WQ=["onClick"],GQ={class:"display-value"},ZQ={class:"append-slot"},JQ={class:"start"},QQ={class:"end"};function XQ(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-progress-linear"),s=c("v-list-item"),p=c("v-list"),f=c("v-menu"),_=ke("tooltip");return m(),C(f,{attached:"",class:ae(["language-select",{secondary:e.secondary}])},{activator:d(({toggle:y,active:v})=>[S("button",{class:"toggle",onClick:y},[i(a,{class:"translate",name:"translate"}),S("span",GQ,b(e.displayValue),1),i(a,{name:"expand_more",class:ae({active:v})},null,8,["class"]),S("span",ZQ,[be(e.$slots,"append",{},void 0,!0)])],8,WQ)]),default:d(()=>[i(p,null,{default:d(()=>[(m(!0),I(x,null,$e(e.items,(y,v)=>(m(),C(s,{key:v,onClick:h=>e.$emit("update:modelValue",y.value)},{default:d(()=>[S("div",JQ,[S("div",{class:ae(["dot",{show:y.edited}])},null,2),T(" "+b(y.text),1)]),S("div",QQ,[Q(i(r,{value:y.progress,rounded:"",colorful:""},null,8,["value"]),[[_,`${Math.round(y.current/y.max*100)}%`]])])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:3},8,["class"])}var YQ=q(HQ,[["render",XQ],["__scopeId","data-v-0ebb08d8"]]);function xQ(e={throttle:100}){const t=E(0),n=E(0);function l(){t.value=window.innerWidth,n.value=window.innerHeight}const o=U.exports.throttle(l,e.throttle);return da(l),it(()=>{window.addEventListener("resize",o,{passive:!0})}),At(()=>{window.removeEventListener("resize",o)}),{width:t,height:n}}const eX=z({components:{LanguageSelect:YQ},props:{collection:{type:String,required:!0},field:{type:String,required:!0},primaryKey:{type:[Number,String],required:!0},languageField:{type:String,default:null},value:{type:Array,default:null},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{collection:n,field:l}=Me(e),{t:o}=J(),u=Le(),a=Ze(),{width:r}=xQ(),s=E(!1),p=E(),f=E(),{info:_}=ot(n);ye(s,se=>{const ee=V.value;se&&f.value===p.value&&(f.value=ee[0].value===p.value?ee[1].value:ee[0].value)});const{junction:y,junctionCollection:v,junctionPrimaryKeyField:h,relation:w,relationCollection:g,relationPrimaryKeyField:k}=Kl(n,l),A=F(()=>w.value?w.value.field:null),{languageOptions:V,loading:D}=ne(),{items:P,firstItem:L,loading:B,updateValue:O,secondItem:M,firstItemInitial:N,secondItemInitial:K}=le(),G=F(()=>v.value===null?[]:u.getFieldsForCollection(v.value.collection)),ie=F(()=>r.value>960&&V.value.length>1),de=F(()=>ie.value&&s.value);return{collectionInfo:_,splitView:s,firstLang:p,secondLang:f,t:o,languageOptions:V,fields:G,translationsRelation:y,translationsCollection:v,translationsPrimaryKeyField:h,languagesRelation:w,languagesCollection:g,languagesPrimaryKeyField:k,translationsLanguageField:A,items:P,firstItem:L,secondItem:M,updateValue:O,firstItemInitial:N,secondItemInitial:K,splitViewAvailable:ie,splitViewEnabled:de,languagesLoading:D,valuesLoading:B};function ne(){const se=E([]),ee=E(!1),Z=E(null);return ye(g,me,{immediate:!0}),{languageOptions:F(()=>{const H=A.value;if(H===null)return[];const Y=G.value.filter(ve=>{var ue;return ve.type!=="alias"&&((ue=ve.meta)==null?void 0:ue.hidden)===!1&&ve.meta.readonly===!1}),_e=Y.length;return se.value.map(ve=>{var he,ge,we;if(k.value===null)return ve;const ue=ve[k.value.field],W=(he=P.value.find(Ce=>Ce[H]===ue))!=null?he:{},X=(ge=e.value)==null?void 0:ge.find(Ce=>typeof Ce=="object"&&Ce[H]===ue),ce=pe(pe({},W),X!=null?X:{}),oe=Y.filter(Ce=>Ce.field in ce&&qt(ce[Ce.field])).length;return{text:ve[(we=e.languageField)!=null?we:k.value.field],value:ue,edited:X!==void 0,progress:Math.round(oe/_e*100),max:_e,current:oe}})}),loading:ee,error:Z};async function me(){var Y,_e,ve,ue,W,X,ce;if(!g.value||!k.value)return;const H=new Set;e.languageField!==null&&H.add(e.languageField),H.add(k.value.field),ee.value=!0;try{const oe=await re.get(`/items/${g.value.collection}`,{params:{fields:Array.from(H),limit:-1,sort:(Y=e.languageField)!=null?Y:k.value.field}});if(se.value=oe.data.data,!p.value){const he=(ve=(_e=oe.data.data)==null?void 0:_e.find(ge=>ge[k.value.field]===a.currentUser.language))==null?void 0:ve[k.value.field];p.value=he||((W=(ue=oe.data.data)==null?void 0:ue[0])==null?void 0:W[k.value.field])}f.value||(f.value=(ce=(X=oe.data.data)==null?void 0:X[1])==null?void 0:ce[k.value.field])}catch(oe){Se(oe)}finally{ee.value=!1}}}function le(){const se=E([]),ee=E(!1),Z=E(null),te=E(!1),me=F(()=>W(p)),H=F(()=>W(f)),Y=F(()=>ue(p)),_e=F(()=>ue(f));ye(()=>e.value,(oe,he)=>{(oe===null||oe.length===0)&&(se.value=[]),!(!oe&&he)&&(oe&&oe.some(ge=>typeof ge=="object")&&he||U.exports.isEqual(oe,he)||te.value||X())},{immediate:!0});const ve=F(()=>{var ge,we;const oe=(ge=h.value)==null?void 0:ge.field;if(!oe)return[];const he=[...se.value.map(Ce=>Ce[oe])];return(we=e.value)==null||we.forEach(Ce=>{if(typeof Ce=="object")if(oe in Ce){const Fe=he.findIndex(De=>De===Ce[oe]);he[Fe]=Ce}else he.push(Ce)}),he});return{items:se,firstItem:me,updateValue:ce,secondItem:H,firstItemInitial:Y,secondItemInitial:_e,loading:ee,error:Z};function ue(oe){var we;const he=Wn(oe),ge=A.value;return ge===null?{}:(we=se.value.find(Ce=>Ce[ge]===he))!=null?we:{}}function W(oe){var we,Ce;const he=Wn(oe),ge=A.value;return ge===null?{}:(Ce=(we=e.value)==null?void 0:we.find(Fe=>typeof Fe=="object"&&Fe[ge]===he))!=null?Ce:{}}async function X(){var oe;if(!(!((oe=y.value)==null?void 0:oe.field)||e.primaryKey==="+")){ee.value=!0;try{const he=await re.get(`/items/${v.value.collection}`,{params:{fields:"*",limit:-1,filter:{[y.value.field]:{_eq:e.primaryKey}}}});se.value=he.data.data}catch(he){Z.value=he,Se(he)}finally{ee.value=!1}}}function ce(oe,he){var tt,Pe;const ge=(tt=h.value)==null?void 0:tt.field,we=A.value,Ce=ue(he),Fe=U.exports.assign({},Ce,oe);if(!ge||!we)return;te.value=!1;let De=U.exports.cloneDeep((Pe=ve.value)!=null?Pe:[]);if(ge in Fe){const Oe=se.value.find(Te=>Te[we]===he);De=De.map(Te=>typeof Te=="number"||typeof Te=="string"?Fe[ge]===Te?Fe:Te:Fe[ge]===Te[ge]?U.exports.isEqual(Oe,pe(pe({},Oe),Fe))?(te.value=!0,Fe[ge]):Fe:Te)}else{const Oe=De.findIndex(Te=>typeof Te=="object"&&Te[we]===he);Oe!==-1?Object.keys(Fe).length===1&&we in Fe?(te.value=!0,De.splice(Oe,1)):De[Oe]=Fe:De.push(Ve(pe({},Fe),{[we]:he}))}t("input",De)}}}});function tX(e,t,n,l,o,u){var _,y,v,h,w,g;const a=c("v-icon"),r=c("language-select"),s=c("v-form"),p=c("v-divider"),f=ke("tooltip");return m(),I("div",{class:ae(["translations",{split:e.splitViewEnabled}])},[S("div",{class:ae(["primary",e.splitViewEnabled?"half":"full"])},[i(r,{modelValue:e.firstLang,"onUpdate:modelValue":t[1]||(t[1]=k=>e.firstLang=k),items:e.languageOptions},{append:d(()=>[e.splitViewAvailable&&!e.splitViewEnabled?Q((m(),C(a,{key:0,name:"flip",clickable:"",onClick:t[0]||(t[0]=Ae(k=>e.splitView=!0,["stop"]))},null,512)),[[f,e.t("interfaces.translations.toggle_split_view")]]):R("",!0)]),_:1},8,["modelValue","items"]),i(s,{"primary-key":((_=e.translationsPrimaryKeyField)==null?void 0:_.field)?(y=e.firstItemInitial)==null?void 0:y[e.translationsPrimaryKeyField.field]:null,disabled:e.disabled,loading:e.valuesLoading,fields:e.fields,"model-value":e.firstItem,"initial-values":e.firstItemInitial,badge:(v=e.languageOptions.find(k=>k.value===e.firstLang))==null?void 0:v.text,autofocus:e.autofocus,"onUpdate:modelValue":t[2]||(t[2]=k=>e.updateValue(k,e.firstLang))},null,8,["primary-key","disabled","loading","fields","model-value","initial-values","badge","autofocus"]),i(p)],2),e.splitViewEnabled?(m(),I("div",{key:0,class:ae(["secondary",e.splitViewEnabled?"half":"full"])},[i(r,{modelValue:e.secondLang,"onUpdate:modelValue":t[4]||(t[4]=k=>e.secondLang=k),items:e.languageOptions,secondary:""},{append:d(()=>[Q(i(a,{name:"close",clickable:"",onClick:t[3]||(t[3]=Ae(k=>e.splitView=!e.splitView,["stop"]))},null,512),[[f,e.t("interfaces.translations.toggle_split_view")]])]),_:1},8,["modelValue","items"]),i(s,{"primary-key":((h=e.translationsPrimaryKeyField)==null?void 0:h.field)?(w=e.secondItemInitial)==null?void 0:w[e.translationsPrimaryKeyField.field]:null,disabled:e.disabled,loading:e.valuesLoading,"initial-values":e.secondItemInitial,fields:e.fields,badge:(g=e.languageOptions.find(k=>k.value===e.secondLang))==null?void 0:g.text,"model-value":e.secondItem,"onUpdate:modelValue":t[5]||(t[5]=k=>e.updateValue(k,e.secondLang))},null,8,["primary-key","disabled","loading","initial-values","fields","badge","model-value"]),i(p)],2)):R("",!0)],2)}var nX=q(eX,[["render",tX],["__scopeId","data-v-52906eae"]]),lX=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="18" width="120" height="26" rx="6" fill="var(--background-page)" class="glow"/>
	<rect x="19" y="19" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2"/>
	<rect x="28" y="28" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="82" y="28" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect opacity=".25" x="19" y="53" width="118" height="24" rx="5" fill="var(--background-page)" stroke="var(--primary)" stroke-width="2"/>
	<rect x="28" y="62" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="52" y="62" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<path d="m124.52 32.777-1.504-1.449.027-.027a9.996 9.996 0 0 0 2.16-3.801h1.723v-1.176h-4.102v-1.148h-1.148v1.148h-4.102V27.5h6.535c-.41 1.121-1.011 2.188-1.859 3.117a9.14 9.14 0 0 1-1.34-1.941h-1.176a10.89 10.89 0 0 0 1.75 2.652l-2.98 2.926.82.82 2.926-2.898 1.805 1.804.465-1.203Zm3.281-2.953h-1.176l-2.625 7h1.176l.656-1.75h2.762l.656 1.75h1.176l-2.625-7Zm-1.531 4.102.929-2.543.957 2.543h-1.886Z" fill="var(--primary)"/>
	<path opacity=".25" d="m124.52 66.777-1.504-1.449.027-.027a9.996 9.996 0 0 0 2.16-3.801h1.723v-1.176h-4.102v-1.148h-1.148v1.148h-4.102V61.5h6.535c-.41 1.121-1.011 2.188-1.859 3.117a9.14 9.14 0 0 1-1.34-1.941h-1.176a10.89 10.89 0 0 0 1.75 2.652l-2.98 2.926.82.82 2.926-2.898 1.805 1.805.465-1.204Zm3.281-2.953h-1.176l-2.625 7h1.176l.656-1.75h2.762l.656 1.75h1.176l-2.625-7Zm-1.531 4.102.929-2.543.957 2.543h-1.886Z" fill="var(--primary)"/>
</svg>
`,oX=Ne({id:"translations",name:"$t:translations",icon:"translate",types:["alias"],localTypes:["translations"],group:"relational",relational:!0,component:nX,options:({relations:e})=>{var o;const t=Le(),n=(o=e.m2o)==null?void 0:o.related_collection;let l=[];return n&&(l=t.getFieldsForCollection(n).map(u=>({text:u.name,value:u.field}))),[{field:"languageField",type:"string",name:"$t:interfaces.translations.language_field",meta:{interface:"select-dropdown",options:{placeholder:"$t:primary_key",choices:l}}}]},preview:lX}),aX=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:oX});const iX=z({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},includeSystem:{type:Boolean,default:!1}},emits:["input"],setup(e){const{t}=J(),n=Ke(),l=F(()=>[...n.collections.filter(u=>u.collection.startsWith("directus_")===!1),...e.includeSystem?n.crudSafeSystemCollections:[]]);return{items:F(()=>l.value.map(u=>({text:u.name,value:u.collection}))),t}}});function rX(e,t,n,l,o,u){const a=c("v-select");return m(),C(a,{"model-value":e.value,disabled:e.disabled,items:e.items,placeholder:e.t("select_a_collection"),"onUpdate:modelValue":t[0]||(t[0]=r=>e.$emit("input",r))},null,8,["model-value","disabled","items","placeholder"])}var sX=q(iX,[["render",rX]]),dX=Ne({id:"system-collection",name:"$t:interfaces.system-collection.collection",description:"$t:interfaces.system-collection.description",icon:"featured_play_list",component:sX,types:["string"],options:[{field:"includeSystem",name:"$t:system",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.system-collection.include_system_collections"}},schema:{default_value:!1}}],system:!0,recommendedDisplays:["collection"]}),uX=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:dX});const cX=z({props:{value:{type:Array,default:null},disabled:{type:Boolean,default:!1},includeSystem:{type:Boolean,default:!1}},emits:["input"],setup(e){const{t}=J(),n=Ke(),l=F(()=>e.includeSystem?n.collections:n.collections.filter(u=>u.collection.startsWith("directus_")===!1)),o=F(()=>l.value.map(u=>({text:u.name,value:u.collection})));return{t,items:o}}});function pX(e,t,n,l,o,u){const a=c("v-notice"),r=c("interface-select-multiple-checkbox");return e.items.length===0?(m(),C(a,{key:0},{default:d(()=>[T(b(e.t("no_collections")),1)]),_:1})):(m(),C(r,{key:1,choices:e.items,value:e.value,disabled:e.disabled,onInput:t[0]||(t[0]=s=>e.$emit("input",s))},null,8,["choices","value","disabled"]))}var mX=q(cX,[["render",pX]]),fX=Ne({id:"system-collections",name:"$t:interfaces.system-collections.collections",description:"$t:interfaces.system-collections.description",icon:"featured_play_list",component:mX,types:["json","csv"],options:[{field:"includeSystem",name:"$t:system",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.system-collections.include_system_collections"}},schema:{default_value:!1}}],system:!0,recommendedDisplays:["labels"]}),_X=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:fX});const vX=z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},collectionField:{type:String,default:null},collectionName:{type:String,default:null}},emits:["input"],setup(e){const{t}=J(),n=Ke(),l=ct("values",E({})),o=F(()=>{if(!e.collectionField)return e.collectionName?e.collectionName:null;const u=l.value[e.collectionField];return!!n.collections.find(r=>r.collection===u)===!1?null:u});return{t,collection:o}}}),yX={class:"system-display-template"};function hX(e,t,n,l,o,u){const a=c("v-notice"),r=c("v-field-template");return m(),I("div",yX,[e.collection===null?(m(),C(a,{key:0,type:"info"},{default:d(()=>[T(b(e.t("interfaces.system-display-template.select_a_collection")),1)]),_:1})):(m(),C(r,{key:1,collection:e.collection,"model-value":e.value,disabled:e.disabled,"onUpdate:modelValue":t[0]||(t[0]=s=>e.$emit("input",s))},null,8,["collection","model-value","disabled"]))])}var gX=q(vX,[["render",hX]]),bX=Ne({id:"system-display-template",name:"$t:interfaces.system-display-template.display-template",description:"$t:interfaces.system-display-template.description",icon:"arrow_drop_down_circle",component:gX,types:["string"],system:!0,options:[{field:"collectionField",name:"$t:interfaces.system-display-template.collection_field",type:"string",meta:{width:"full",interface:"input"},schema:{default_value:null}}]}),wX=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:bX});const $X=z({props:{collectionField:{type:String,default:null},collection:{type:String,default:null},typeAllowList:{type:Array,default:()=>[]},value:{type:String,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},allowNone:{type:Boolean,default:!1},allowPrimaryKey:{type:Boolean,default:!1},allowForeignKeys:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),l=Le(),o=ct("values",E({})),u=F(()=>o.value[e.collectionField]||e.collection),a=F(()=>!e.collectionField&&!e.collection?[]:l.getFieldsForCollection(u.value));ye(u,(s,p)=>{p!==null&&s!==p&&t("input",null)});const r=F(()=>a.value.map(s=>{var f,_;let p=!1;return e.allowPrimaryKey===!1&&((f=s==null?void 0:s.schema)==null?void 0:f.is_primary_key)===!0&&(p=!0),e.allowForeignKeys===!1&&((_=s==null?void 0:s.schema)==null?void 0:_.foreign_key_table)&&(p=!0),e.typeAllowList.length>0&&e.typeAllowList.includes(s.type)===!1&&(p=!0),{text:s.name,value:s.field,disabled:p}}));return{t:n,selectItems:r,values:o,fields:a}}});function kX(e,t,n,l,o,u){const a=c("v-notice"),r=c("v-select");return!e.collectionField&&!e.collection?(m(),C(a,{key:0,type:"warning"},{default:d(()=>[T(b(e.t("collection_field_not_setup")),1)]),_:1})):e.selectItems.length===0?(m(),C(a,{key:1,type:"warning"},{default:d(()=>[T(b(e.t("select_a_collection")),1)]),_:1})):(m(),C(r,{key:2,"show-deselect":e.allowNone,"model-value":e.value,disabled:e.disabled,items:e.selectItems,placeholder:e.placeholder||e.t("select_a_field"),"onUpdate:modelValue":t[0]||(t[0]=s=>e.$emit("input",s))},null,8,["show-deselect","model-value","disabled","items","placeholder"]))}var SX=q($X,[["render",kX]]),CX=Ne({id:"system-field",name:"$t:field",icon:"box",component:SX,types:["string"],options:[],system:!0}),VX=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:CX});const FX=z({props:{collectionField:{type:String,default:null},collection:{type:String,default:null},value:{type:Array,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},allowNone:{type:Boolean,default:!1}},emits:["input"],setup(e){const{t}=J(),n=ct("values",E({})),l=F(()=>n.value[e.collectionField]||e.collection),{treeList:o,loadFieldRelations:u}=ml(l);return{t,values:n,treeList:o,chosenCollection:l,loadFieldRelations:u}}}),AX={key:2,class:"system-field-tree"};function IX(e,t,n,l,o,u){const a=c("v-notice"),r=c("v-checkbox-tree");return!e.collectionField&&!e.collection?(m(),C(a,{key:0,type:"warning"},{default:d(()=>[T(b(e.t("collection_field_not_setup")),1)]),_:1})):e.chosenCollection?(m(),I("div",AX,[i(r,{"model-value":e.value,disabled:e.disabled,choices:e.treeList,"item-text":"name","item-value":"key","value-combining":"exclusive","onUpdate:modelValue":t[0]||(t[0]=s=>e.$emit("input",s)),onGroupToggle:t[1]||(t[1]=s=>e.loadFieldRelations(s.value))},null,8,["model-value","disabled","choices"])])):(m(),C(a,{key:1,type:"warning"},{default:d(()=>[T(b(e.t("select_a_collection")),1)]),_:1}))}var EX=q(FX,[["render",IX],["__scopeId","data-v-1bd9310a"]]),DX=Ne({id:"system-field-tree",name:"$t:field",icon:"box",component:EX,types:["string"],options:[],system:!0}),TX=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:DX});const LX=z({props:{is:{type:String,required:!0},type:{type:String,required:!0},value:{type:[String,Number,Object,Boolean,Array],default:null},focus:{type:Boolean,default:!0},choices:{type:Array,default:()=>[]}},emits:["input"],setup(e,{emit:t}){const n=E(),{t:l}=J(),o=E(),u=F(()=>e.value===null||e.value===void 0?null:typeof e.value=="string"&&e.value.length>25?e.value.substring(0,22)+"...":e.value),a=F(()=>{var p;return(((p=e.value)==null?void 0:p.toString().length)||2)+1+"ch"}),r=F(()=>{switch(e.type){case"integer":case"bigInteger":return"[+-]?[0-9]+";case"decimal":case"float":return"[+-]?[0-9]+\\.?[0-9]*";case"uuid":return"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}";default:return""}});return it(()=>{var p;e.focus&&((p=n.value)==null||p.focus())}),{displayValue:u,width:a,t:l,emitValue:s,inputEl:n,inputPattern:r,dateTimeMenu:o};function s(p){if(p==="")return t("input",null);if(typeof p=="string"&&["$NOW","$CURRENT_USER","$CURRENT_ROLE"].some(f=>p.startsWith(f))||typeof p!="string"||new RegExp(r.value).test(p))return t("input",p)}}}),PX=["pattern","value"],OX=["pattern","value"],RX={class:"date-input"},jX=["onClick"];function MX(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-select"),s=c("v-date-picker"),p=c("v-menu");return e.type==="boolean"?(m(),C(a,{key:0,name:e.value===null?"indeterminate_check_box":e.value?"check_box":"check_box_outline_blank",clickable:"",class:"preview",small:"",onClick:t[0]||(t[0]=f=>e.$emit("input",!e.value))},null,8,["name"])):e.is==="interface-input"?(m(),I("input",{key:1,ref:"inputEl",type:"text",pattern:e.inputPattern,value:e.value,style:Ue({width:e.width}),placeholder:"--",onInput:t[1]||(t[1]=f=>e.emitValue(f.target.value))},null,44,PX)):e.is==="select"?(m(),C(r,{key:2,inline:"",items:e.choices,"model-value":e.value,placeholder:e.t("select"),"allow-other":"","onUpdate:modelValue":t[2]||(t[2]=f=>e.emitValue(f))},null,8,["items","model-value","placeholder"])):e.is==="interface-datetime"?(m(),I(x,{key:3},[S("input",{ref:"inputEl",type:"text",pattern:e.inputPattern,value:e.value,style:Ue({width:e.width}),placeholder:"--",onInput:t[3]||(t[3]=f=>e.emitValue(f.target.value))},null,44,OX),i(p,{ref:"dateTimeMenu","close-on-content-click":!1,"show-arrow":!0,placement:"bottom-start",seamless:"","full-height":""},{activator:d(({toggle:f})=>[i(a,{class:"preview",name:"event",small:"",onClick:f},null,8,["onClick"])]),default:d(()=>{var f;return[S("div",RX,[i(s,{type:e.type,"model-value":e.value,"onUpdate:modelValue":e.emitValue,onClose:(f=e.dateTimeMenu)==null?void 0:f.deactivate},null,8,["type","model-value","onUpdate:modelValue","onClose"])])]}),_:1},512)],64)):(m(),C(p,{key:4,"close-on-content-click":!1,"show-arrow":!0,placement:"bottom-start"},{activator:d(({toggle:f})=>[e.type.startsWith("geometry")||e.type==="json"?(m(),C(a,{key:0,class:"preview",name:e.type==="json"?"integration_instructions":"map",small:"",onClick:f},null,8,["name","onClick"])):(m(),I("div",{key:1,class:"preview",onClick:f},b(e.displayValue),9,jX))]),default:d(()=>[S("div",{class:ae(["input",e.type])},[(m(),C(qe(e.is),{class:"input-component",small:"",type:e.type,value:e.value,onInput:t[4]||(t[4]=f=>e.emitValue(f))},null,8,["type","value"]))],2)]),_:1}))}var UX=q(LX,[["render",MX],["__scopeId","data-v-bc1d7dfe"]]);function _l(e){return e?Object.keys(e)[0]:""}function on(e){const t=_l(e);if(t.startsWith("_")||!U.exports.isPlainObject(e[t]))return"";const n=on(e[t]);return n!==""?`${t}.${n}`:t}function zn(e){return _l(U.exports.get(e,on(e)))}function na(e,t,n){return l(e.split("."));function l(o){const u=o.shift();return u!==void 0?{[u]:l(o)}:{[t]:n}}}const NX=z({components:{InputComponent:UX},props:{field:{type:Object,required:!0},collection:{type:String,required:!0}},emits:["update:field"],setup(e,{emit:t}){const n=Le(),{t:l}=J(),o=F(()=>n.getField(e.collection,on(e.field))),u=F(()=>{var f,_,y,v;return((y=(_=(f=o.value)==null?void 0:f.meta)==null?void 0:_.options)==null?void 0:y.choices)?"select":"interface-"+{bigInteger:"input",binary:"input",boolean:"boolean",date:"datetime",dateTime:"datetime",decimal:"input",float:"input",integer:"input",json:"input-code",string:"input",text:"input-multiline",time:"datetime",timestamp:"datetime",uuid:"input",csv:"input",hash:"input-hash",geometry:"map"}[((v=o.value)==null?void 0:v.type)||"string"]}),a=F({get(){const p=on(e.field),f=zn(e.field),_=U.exports.get(e.field,`${p}.${f}`);return["_in","_nin"].includes(zn(e.field))?[..._.filter(y=>y!==null&&y!==""),null]:_},set(p){const f=on(e.field),_=zn(e.field);let y;["_in","_nin"].includes(_)?y=p.filter(v=>v!==null&&v!==""):y=p,t("update:field",na(f,_,y))}}),r=F(()=>{var p,f,_,y;return Ft((y=(_=(f=(p=o.value)==null?void 0:p.meta)==null?void 0:f.options)==null?void 0:_.choices)!=null?y:{})});return{t:l,choices:r,fieldInfo:o,interfaceType:u,value:a,setValueAt:s,getComparator:zn};function s(p,f){let _=Array.isArray(a.value)?U.exports.clone(a.value):new Array(p+1);_[p]=f,a.value=_}}}),BX={class:"and"};function qX(e,t,n,l,o,u){var r,s,p,f,_,y;const a=c("input-component");return["_eq","_neq","_lt","_gt","_lte","_gte","_contains","_ncontains","_starts_with","_nstarts_with","_ends_with","_nends_with"].includes(e.getComparator(e.field))?(m(),C(a,{key:0,is:e.interfaceType,choices:e.choices,type:(s=(r=e.fieldInfo)==null?void 0:r.type)!=null?s:"unknown",value:e.value,onInput:t[0]||(t[0]=v=>e.value=v)},null,8,["is","choices","type","value"])):["_in","_nin"].includes(e.getComparator(e.field))?(m(),I("div",{key:1,class:ae(["list",{moveComma:e.interfaceType==="interface-input"}])},[(m(!0),I(x,null,$e(e.value,(v,h)=>{var w,g;return m(),I("div",{key:h,class:"value"},[i(a,{is:e.interfaceType,type:(g=(w=e.fieldInfo)==null?void 0:w.type)!=null?g:"unknown",value:v,focus:!1,choices:e.choices,onInput:k=>e.setValueAt(h,k)},null,8,["is","type","value","choices","onInput"])])}),128))],2)):["_between","_nbetween"].includes(e.getComparator(e.field))?(m(),I(x,{key:2},[i(a,{is:e.interfaceType,choices:e.choices,type:(f=(p=e.fieldInfo)==null?void 0:p.type)!=null?f:"unknown",value:e.value[0],onInput:t[1]||(t[1]=v=>e.setValueAt(0,v))},null,8,["is","choices","type","value"]),S("div",BX,b(e.t("interfaces.filter.and")),1),i(a,{is:e.interfaceType,choices:e.choices,type:(y=(_=e.fieldInfo)==null?void 0:_.type)!=null?y:"unknown",value:e.value[1],onInput:t[2]||(t[2]=v=>e.setValueAt(1,v))},null,8,["is","choices","type","value"])],64)):R("",!0)}var zX=q(NX,[["render",qX],["__scopeId","data-v-21d4a8ae"]]);const KX=z({name:"Nodes",components:{Draggable:It,InputGroup:zX},props:{filter:{type:Object,required:!0},collection:{type:String,required:!0},depth:{type:Number,default:1},inline:{type:Boolean,default:!1}},emits:["remove-node","update:filter","change"],setup(e,{emit:t}){const{collection:n}=Me(e),l=je(e,"filter",t),{treeList:o,loadFieldRelations:u}=ml(n),a=Le(),{t:r}=J(),s=F({get(){return e.filter.map((g,k)=>{const A=_l(g),V=A.startsWith("_")===!1;return V?{id:k,isField:V,name:A,field:on(g),comparator:zn(g),node:g}:{id:k,name:A,isField:V,node:g}})},set(g){t("update:filter",g.map(k=>k.node))}});return{fieldOptions:o,getCompareOptions:w,updateField:v,updateComparator:y,t:r,replaceNode:h,toggleLogic:_,loadFieldRelations:u,getNodeName:_l,getField:on,getComparator:zn,filterInfo:s,getIndex:f,getFieldPreview:p,filterSync:l};function p(g){const A=on(g).split(".");return A.map((D,P)=>{var O;const L=A.slice(0,P),B=a.getField(e.collection,[...L,D].join("."));return(O=B==null?void 0:B.name)!=null?O:D}).join(" -> ")}function f(g){return e.filter.findIndex(k=>k===g)}function _(g){const k=s.value[g];s.value[g].isField||("_and"in k.node?l.value=l.value.map((A,V)=>V===g?{_or:k.node._and}:A):l.value=l.value.map((A,V)=>V===g?{_and:k.node._or}:A))}function y(g,k){const A=s.value[g];if(A.isField===!1)return;const V=A.field+"."+A.comparator;let D=U.exports.get(A.node,V);switch(k){case"_in":case"_nin":P(Fl(D)||[]);break;case"_between":case"_nbetween":P((Fl(D)||[]).slice(0,2));break;case"_null":case"_nnull":case"_empty":case"_nempty":P(!0);break;case"_intersects":case"_nintersects":case"_intersects_bbox":case"_nintersects_bbox":["_intersects","_nintersects","_intersects_bbox","_nintersects_bbox"].includes(A.comparator)?P(D):P(null);break;default:P(Array.isArray(D)?D[0]:D);break}function P(L){A.isField!==!1&&(l.value=l.value.map((B,O)=>O===g?na(A.field,k,L):B))}}function v(g,k){const A=s.value[g],V=a.getField(e.collection,A.name),D=a.getField(e.collection,k);if(A.isField===!1)return;const P=A.field+"."+A.comparator;let L=U.exports.get(A.node,P),B=A.comparator;(V==null?void 0:V.type)!==(D==null?void 0:D.type)&&(L=null,B=w(k)[0].value),l.value=l.value.map((O,M)=>M===g?na(k,B,L):O)}function h(g,k){l.value=l.value.map((A,V)=>V===g?k:A)}function w(g){const k=a.getField(e.collection,g);return k===null?[]:La(k.type).map(A=>({text:r(`operators.${A}`),value:`_${A}`}))}}}),HX={class:"row"},WX={key:0,block:"",class:"node field"},GX={class:"delete"},ZX={key:1,class:"node logic"},JX=["onClick"],QX={class:"text"},XX={class:"delete"};function YX(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-select"),s=c("input-group"),p=c("nodes",!0),f=c("draggable"),_=ke("tooltip");return m(),C(f,{tag:"ul",draggable:".row",handle:".drag-handle",class:"group",list:e.filterSync,group:{name:"g1"},"item-key":e.getIndex,"swap-threshold":.3,"force-fallback":!0,onChange:t[2]||(t[2]=y=>e.$emit("change"))},{item:d(({element:y,index:v})=>[S("li",HX,[e.filterInfo[v].isField?(m(),I("div",WX,[S("div",{class:ae(["header",{inline:e.inline}])},[i(a,{name:"drag_indicator",class:"drag-handle",small:""}),i(r,{inline:"",class:"name","item-text":"name","item-value":"key",placement:"bottom-start","full-width":!1,"model-value":e.filterInfo[v].field,items:e.fieldOptions,mandatory:!1,"groups-clickable":!0,onGroupToggle:t[0]||(t[0]=h=>e.loadFieldRelations(h.value)),"onUpdate:modelValue":h=>e.updateField(v,h)},{preview:d(()=>[T(b(e.getFieldPreview(y)),1)]),_:2},1032,["model-value","items","onUpdate:modelValue"]),i(r,{inline:"",class:"comparator",placement:"bottom-start","model-value":e.filterInfo[v].comparator,items:e.getCompareOptions(e.filterInfo[v].field),"onUpdate:modelValue":h=>e.updateComparator(v,h)},null,8,["model-value","items","onUpdate:modelValue"]),i(s,{field:y,collection:e.collection,"onUpdate:field":h=>e.replaceNode(v,h)},null,8,["field","collection","onUpdate:field"]),S("span",GX,[Q(i(a,{name:"close",small:"",clickable:"",onClick:h=>e.$emit("remove-node",[v])},null,8,["onClick"]),[[_,e.t("delete_label")]])])],2)])):(m(),I("div",ZX,[S("div",{class:ae(["header",{inline:e.inline}])},[i(a,{name:"drag_indicator",class:"drag-handle",small:""}),S("div",{class:ae(["logic-type",{or:e.filterInfo[v].name==="_or"}])},[S("span",{class:"key",onClick:h=>e.toggleLogic(v)},b(e.filterInfo[v].name==="_and"?e.t("interfaces.filter.logic_type_and"):e.t("interfaces.filter.logic_type_or")),9,JX),S("span",QX,b(`\u2014 ${e.filterInfo[v].name==="_and"?e.t("interfaces.filter.all"):e.t("interfaces.filter.any")} ${e.t("interfaces.filter.of_the_following")}`),1)],2),S("span",XX,[Q(i(a,{name:"close",small:"",clickable:"",onClick:h=>e.$emit("remove-node",[v])},null,8,["onClick"]),[[_,e.t("delete_label")]])])],2),i(p,{filter:y[e.filterInfo[v].name],collection:e.collection,depth:e.depth+1,inline:e.inline,onChange:t[1]||(t[1]=h=>e.$emit("change")),onRemoveNode:h=>e.$emit("remove-node",[`${v}.${e.filterInfo[v].name}`,...h]),"onUpdate:filter":h=>e.replaceNode(v,{[e.filterInfo[v].name]:h})},null,8,["filter","collection","depth","inline","onRemoveNode","onUpdate:filter"])]))])]),_:1},8,["list","item-key","swap-threshold"])}var xX=q(KX,[["render",YX],["__scopeId","data-v-45f42d5c"]]);const eY=z({components:{Nodes:xX},props:{value:{type:Object,default:null},disabled:{type:Boolean,default:!1},collectionName:{type:String,default:null},collectionField:{type:String,default:null},inline:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),l=ct("values",E({})),o=F(()=>{var v;return e.collectionName?e.collectionName:(v=l.value[e.collectionField])!=null?v:null}),u=Le(),{treeList:a,loadFieldRelations:r}=ml(o),s=F({get(){return!e.value||U.exports.isEmpty(e.value)?[]:_l(e.value)==="_and"?U.exports.cloneDeep(e.value._and):U.exports.cloneDeep([e.value])},set(v){v.length===0?t("input",null):t("input",{_and:v})}}),p=F(()=>[{key:"$group",name:n("interfaces.filter.add_group")},{divider:!0},...a.value]);return{t:n,addNode:_,removeNode:y,innerValue:s,fieldOptions:p,loadFieldRelations:r,emitValue:f,collection:o};function f(){s.value.length===0?t("input",null):t("input",{_and:s.value})}function _(v){if(v==="$group")s.value=s.value.concat({_and:[]});else{const h=u.getField(o.value,v),w=La(h.type)[0],g=U.exports.set({},v,{["_"+w]:null});s.value=s.value.concat(g)}}function y(v){const h=v.pop();if(v.length===0){s.value=s.value.filter((g,k)=>k!==Number(h));return}let w=U.exports.get(s.value,v.join("."));w=w.filter((g,k)=>k!==Number(h)),s.value=U.exports.set(s.value,v.join("."),w)}}}),tY={key:0,class:"no-rules"},nY={class:"buttons"};function lY(e,t,n,l,o,u){const a=c("v-notice"),r=c("nodes"),s=c("v-list"),p=c("v-icon"),f=c("v-select");return!e.collectionField&&!e.collection?(m(),C(a,{key:0,type:"warning"},{default:d(()=>[T(b(e.t("collection_field_not_setup")),1)]),_:1})):e.collection?(m(),I("div",{key:2,class:ae(["system-filter",{inline:e.inline,empty:e.innerValue.length===0}])},[i(s,{mandatory:!0},{default:d(()=>[e.innerValue.length===0?(m(),I("div",tY,b(e.t("interfaces.filter.no_rules")),1)):(m(),C(r,{key:1,filter:e.innerValue,"onUpdate:filter":t[0]||(t[0]=_=>e.innerValue=_),collection:e.collection,depth:1,onRemoveNode:t[1]||(t[1]=_=>e.removeNode(_)),onChange:e.emitValue},null,8,["filter","collection","onChange"]))]),_:1}),S("div",nY,[i(f,{inline:!e.inline,"item-text":"name","item-value":"key",placement:"bottom-start",class:"add-filter",placeholder:e.t("interfaces.filter.add_filter"),"full-width":e.inline,"model-value":null,items:e.fieldOptions,mandatory:!1,"groups-clickable":!0,onGroupToggle:t[2]||(t[2]=_=>e.loadFieldRelations(_.value)),"onUpdate:modelValue":t[3]||(t[3]=_=>e.addNode(_))},xe({_:2},[e.inline?{name:"prepend",fn:d(()=>[i(p,{name:"add",small:""})])}:void 0]),1032,["inline","placeholder","full-width","items"])])],2)):(m(),C(a,{key:1,type:"warning"},{default:d(()=>[T(b(e.t("select_a_collection")),1)]),_:1}))}var oY=q(eY,[["render",lY],["__scopeId","data-v-7b15f703"]]),aY=Ne({id:"system-filter",name:"$t:interfaces.filter.name",icon:"search",component:oY,types:["json"],options:[],system:!0}),iY=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:aY});const rY=z({name:"FolderListItem",props:{folder:{type:Object,required:!0},currentFolder:{type:String,default:null},disabled:{type:Boolean,default:!1},disabledFolders:{type:Array,default:()=>[]}},emits:["click"]});function sY(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-list-item-icon"),s=c("v-list-item-content"),p=c("v-list-item"),f=c("folder-list-item",!0),_=c("v-list-group");return!e.folder.children||e.folder.children.length===0?(m(),C(p,{key:0,active:e.currentFolder===e.folder.id,disabled:e.disabled,clickable:"",onClick:t[0]||(t[0]=y=>e.$emit("click",e.folder.id))},{default:d(()=>[i(r,null,{default:d(()=>[i(a,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])]),_:1}),i(s,null,{default:d(()=>[T(b(e.folder.name),1)]),_:1})]),_:1},8,["active","disabled"])):(m(),C(_,{key:1,clickable:"",active:e.currentFolder===e.folder.id,disabled:e.disabled,onClick:t[2]||(t[2]=y=>e.$emit("click",e.folder.id))},{activator:d(()=>[i(r,null,{default:d(()=>[i(a,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])]),_:1}),i(s,null,{default:d(()=>[T(b(e.folder.name),1)]),_:1})]),default:d(()=>[(m(!0),I(x,null,$e(e.folder.children,y=>(m(),C(f,{key:y.id,folder:y,"current-folder":e.currentFolder,disabled:e.disabledFolders.includes(y.id),"disabled-folders":e.disabledFolders,onClick:t[1]||(t[1]=v=>e.$emit("click",v))},null,8,["folder","current-folder","disabled","disabled-folders"]))),128))]),_:1},8,["active","disabled"]))}var dY=q(rY,[["render",sY]]);const uY=z({components:{FolderListItem:dY},props:{value:{type:String,default:void 0},disabledFolders:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),{nestedFolders:l,folders:o,loading:u}=el(),a=F(()=>{if(!e.value||!o.value)return n("interfaces.system-folder.root_name");const f=o.value.find(_=>_.id===e.value);return f?s(f,o.value).map(_=>_.name).join(" / "):e.value});return{emitValue:r,loading:u,folderPath:a,nestedFolders:l,onFolderSelect:p,t:n};function r(f){return t("input",f)}function s(f,_){const y=new Map(_.map(h=>[h.id,h])),v=h=>(y.has(h.parent)?v(y.get(h.parent)):[]).concat(h);return v(f)}function p(f){e.disabled||t("input",f)}}});function cY(e,t,n,l,o,u){const a=c("v-skeleton-loader"),r=c("v-icon"),s=c("v-input"),p=c("v-list-item-icon"),f=c("v-list-item-content"),_=c("v-list-item"),y=c("v-divider"),v=c("folder-list-item"),h=c("v-list"),w=c("v-menu");return e.loading?(m(),C(a,{key:0})):(m(),C(w,{key:1,class:"v-select",attached:!0,"show-arrow":!1,disabled:e.disabled,"close-on-content-click":!0},{activator:d(({toggle:g,active:k})=>[i(s,{readonly:"",active:k,"model-value":e.folderPath,placeholder:e.placeholder,disabled:e.disabled,onClick:g},{prepend:d(()=>[i(r,{name:e.value?"folder_open":"folder_special"},null,8,["name"])]),append:d(()=>[i(r,{name:"expand_more",class:ae({active:k})},null,8,["class"])]),_:2},1032,["active","model-value","placeholder","disabled","onClick"])]),default:d(()=>[i(h,null,{default:d(()=>[i(_,{clickable:"",active:!e.value,onClick:t[0]||(t[0]=g=>e.emitValue(null))},{default:d(()=>[i(p,null,{default:d(()=>[i(r,{name:"folder_special"})]),_:1}),i(f,null,{default:d(()=>[T(b(e.t("interfaces.system-folder.root_name")),1)]),_:1})]),_:1},8,["active"]),e.nestedFolders&&e.nestedFolders.length>0?(m(),C(y,{key:0})):R("",!0),(m(!0),I(x,null,$e(e.nestedFolders,g=>(m(),C(v,{key:g.id,clickbable:"",folder:g,"current-folder":e.value,disabled:e.disabledFolders.includes(g.id),"disabled-folders":e.disabledFolders,onClick:e.emitValue},null,8,["folder","current-folder","disabled","disabled-folders","onClick"]))),128))]),_:1})]),_:1},8,["disabled"]))}var pY=q(uY,[["render",cY],["__scopeId","data-v-243bccaf"]]),mY=Ne({id:"system-folder",name:"$t:interfaces.system-folder.folder",description:"$t:interfaces.system-folder.description",icon:"folder",component:pY,types:["uuid"],options:[],system:!0,recommendedDisplays:["raw"]}),fY=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:mY});const _Y=z({props:{value:{type:String,default:null},typeField:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),{interfaces:l}=cn(),o=ct("values",E({})),u=F(()=>{if(!(e.typeField===null||!o.value[e.typeField]))return o.value[e.typeField]});ye(()=>o.value[e.typeField],()=>{t("input",null)});const a=F(()=>l.value.filter(r=>r.relational!==!0&&r.system!==!0).filter(r=>u.value===void 0||r.types.includes(u.value)).map(r=>({text:r.name,value:r.id})));return{t:n,items:a,selectedType:u,values:o}}});function vY(e,t,n,l,o,u){const a=c("v-notice"),r=c("v-select");return e.selectedType===void 0?(m(),C(a,{key:0},{default:d(()=>[T(b(e.t("select_field_type")),1)]),_:1})):(m(),C(r,{key:1,items:e.items,"model-value":e.value,placeholder:e.t("interfaces.system-interface.placeholder"),"onUpdate:modelValue":t[0]||(t[0]=s=>e.$emit("input",s))},null,8,["items","model-value","placeholder"]))}var yY=q(_Y,[["render",vY]]),hY=Ne({id:"system-interface",name:"$t:interfaces.system-interface.interface",description:"$t:interfaces.system-interface.description",icon:"box",component:yY,types:["string"],system:!0,options:[]}),gY=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hY});const bY=z({props:{value:{type:Object,default:null},interfaceField:{type:String,default:null},interface:{type:String,default:null},collection:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),l=F({get(){return e.value},set(s){t("input",s)}}),o=ct("values",E({})),u=F(()=>{if(e.interface)return Et(e.interface);if(!!o.value[e.interfaceField])return Et(o.value[e.interfaceField])}),a=F(()=>u.value?u.value.options&&"render"in u.value.options:!1),r=F(()=>{if(!u.value)return[];if(!u.value.options)return[];if(a.value===!0)return[];let s;return typeof u.value.options=="function"?s=u.value.options({field:{type:"unknown"},editing:"+",collection:e.collection,relations:{o2m:void 0,m2o:void 0,m2a:void 0},collections:{related:void 0,junction:void 0},fields:{corresponding:void 0,junctionCurrent:void 0,junctionRelated:void 0,sort:void 0},items:{},localType:"standard",autoGenerateJunctionRelation:!1,saving:!1}):s=u.value.options,Array.isArray(s)?s:[...s.standard,...s.advanced]});return{t:n,selectedInterface:u,values:o,usesCustomComponent:a,optionsFields:r,options:l}}}),wY={key:2,class:"inset"};function $Y(e,t,n,l,o,u){const a=c("v-notice"),r=c("v-form");return e.selectedInterface?e.usesCustomComponent===!1&&e.optionsFields.length===0?(m(),C(a,{key:1},{default:d(()=>[T(b(e.t("no_options_available")),1)]),_:1})):(m(),I("div",wY,[e.usesCustomComponent===!1?(m(),C(r,{key:0,modelValue:e.options,"onUpdate:modelValue":t[0]||(t[0]=s=>e.options=s),class:"extension-options",fields:e.optionsFields,"primary-key":"+"},null,8,["modelValue","fields"])):(m(),C(qe(`interface-options-${e.selectedInterface.id}`),{key:1,value:e.value,collection:e.collection,onInput:t[1]||(t[1]=s=>e.$emit("input",s))},null,8,["value","collection"]))])):(m(),C(a,{key:0},{default:d(()=>[T(b(e.t("select_interface")),1)]),_:1}))}var kY=q(bY,[["render",$Y],["__scopeId","data-v-001458ae"]]),SY=Ne({id:"system-interface-options",name:"$t:interfaces.system-interface-options.interface-options",description:"$t:interfaces.system-interface-options.description",icon:"box",component:kY,types:["string"],options:[],system:!0}),CY=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:SY});const VY=z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null}},emits:["input"],setup(){return{languages:Object.entries(Ea).map(([t,n])=>({text:n,value:t}))}}});function FY(e,t,n,l,o,u){const a=c("v-select");return m(),C(a,{"model-value":e.value,items:e.languages,disabled:e.disabled,"onUpdate:modelValue":t[0]||(t[0]=r=>e.$emit("input",r))},null,8,["model-value","items","disabled"])}var AY=q(VY,[["render",FY]]),IY=Ne({id:"system-language",name:"$t:language",icon:"translate",component:AY,system:!0,types:["string"],options:[]}),EY=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:IY});const DY=z({props:{value:{type:String,default:null},primaryKey:{type:String,default:null}},setup(e){const{t}=J(),n=Ze(),l=E(!!e.value),o=E(!1),u=E(!1),a=E(!1),r=E(!1),s=yt(),p=E(),f=E(""),_=E(),y=E("");it(()=>{y.value=""}),ye(()=>e.value,()=>{l.value=!!e.value},{immediate:!0});const v=F(()=>{var V;return((V=n.currentUser)==null?void 0:V.id)===e.primaryKey});return{t,tfaEnabled:l,tfaGenerated:o,generateTFA:w,cancelAndClose:g,enableTFA:k,toggle:h,password:y,enableActive:u,disableActive:a,loading:r,canvasID:s,secret:p,disableTFA:A,otp:f,error:_,isCurrentUser:v};function h(){l.value===!1?u.value=!0:a.value=!0}async function w(){if(r.value!==!0){r.value=!0;try{const V=await re.post("/users/me/tfa/generate",{password:y.value}),D=V.data.data.otpauth_url;p.value=V.data.data.secret,await Wd.toCanvas(document.getElementById(s),D),o.value=!0,_.value=null}catch(V){_.value=V}finally{r.value=!1}}}function g(){o.value=!1,u.value=!1,y.value="",f.value="",p.value=""}async function k(){if(r.value!==!0){r.value=!0;try{await re.post("/users/me/tfa/enable",{otp:f.value,secret:p.value}),l.value=!0,o.value=!1,u.value=!1,y.value="",f.value="",p.value="",_.value=null}catch(V){_.value=V}finally{r.value=!1}}}async function A(){r.value=!0;try{await re.post("/users/me/tfa/disable",{otp:f.value}),l.value=!1,a.value=!1,f.value=""}catch(V){_.value=V}finally{r.value=!1}}}}),TY=e=>(He("data-v-855b3ebc"),e=e(),We(),e),LY=TY(()=>S("div",{class:"spacer"},null,-1)),PY=["id"],OY={class:"secret selectable"};function RY(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-checkbox"),s=c("v-card-title"),p=c("v-input"),f=c("v-error"),_=c("v-card-text"),y=c("v-button"),v=c("v-card-actions"),h=c("v-progress-circular"),w=c("v-card"),g=c("v-dialog");return m(),I("div",null,[i(r,{block:"","model-value":e.tfaEnabled,disabled:!e.isCurrentUser,onClick:e.toggle},{append:d(()=>[i(a,{name:"launch",class:ae(["checkbox-icon",{enabled:e.tfaEnabled}])},null,8,["class"])]),default:d(()=>[T(b(e.tfaEnabled?e.t("enabled"):e.t("disabled"))+" ",1),LY]),_:1},8,["model-value","disabled","onClick"]),i(g,{modelValue:e.enableActive,"onUpdate:modelValue":t[4]||(t[4]=k=>e.enableActive=k),persistent:"",onEsc:e.cancelAndClose},{default:d(()=>[i(w,null,{default:d(()=>[e.tfaEnabled===!1&&e.tfaGenerated===!1&&e.loading===!1?(m(),I("form",{key:0,onSubmit:t[1]||(t[1]=Ae((...k)=>e.generateTFA&&e.generateTFA(...k),["prevent"]))},[i(s,null,{default:d(()=>[T(b(e.t("enter_password_to_enable_tfa")),1)]),_:1}),i(_,null,{default:d(()=>[i(p,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=k=>e.password=k),nullable:!1,type:"password",placeholder:e.t("password")},null,8,["modelValue","placeholder"]),e.error?(m(),C(f,{key:0,error:e.error},null,8,["error"])):R("",!0)]),_:1}),i(v,null,{default:d(()=>[i(y,{type:"button",secondary:"",onClick:e.cancelAndClose},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1},8,["onClick"]),i(y,{type:"submit",loading:e.loading},{default:d(()=>[T(b(e.t("next")),1)]),_:1},8,["loading"])]),_:1})],32)):e.loading===!0?(m(),C(h,{key:1,class:"loader",indeterminate:""})):R("",!0),Q(S("div",null,[S("form",{onSubmit:t[3]||(t[3]=Ae((...k)=>e.enableTFA&&e.enableTFA(...k),["prevent"]))},[i(s,null,{default:d(()=>[T(b(e.t("tfa_scan_code")),1)]),_:1}),i(_,null,{default:d(()=>[S("canvas",{id:e.canvasID,class:"qr"},null,8,PY),S("output",OY,b(e.secret),1),i(p,{modelValue:e.otp,"onUpdate:modelValue":t[2]||(t[2]=k=>e.otp=k),type:"text",placeholder:e.t("otp"),nullable:!1},null,8,["modelValue","placeholder"]),e.error?(m(),C(f,{key:0,error:e.error},null,8,["error"])):R("",!0)]),_:1}),i(v,null,{default:d(()=>[i(y,{type:"button",secondary:"",onClick:e.cancelAndClose},{default:d(()=>[T(b(e.t("cancel")),1)]),_:1},8,["onClick"]),i(y,{type:"submit",disabled:e.otp.length!==6,onClick:e.enableTFA},{default:d(()=>[T(b(e.t("done")),1)]),_:1},8,["disabled","onClick"])]),_:1})],32)],512),[[Pt,e.tfaEnabled===!1&&e.tfaGenerated===!0&&e.loading===!1]])]),_:1})]),_:1},8,["modelValue","onEsc"]),i(g,{modelValue:e.disableActive,"onUpdate:modelValue":t[7]||(t[7]=k=>e.disableActive=k),onEsc:t[8]||(t[8]=k=>e.disableActive=!1)},{default:d(()=>[i(w,null,{default:d(()=>[S("form",{onSubmit:t[6]||(t[6]=Ae((...k)=>e.disableTFA&&e.disableTFA(...k),["prevent"]))},[i(s,null,{default:d(()=>[T(b(e.t("enter_otp_to_disable_tfa")),1)]),_:1}),i(_,null,{default:d(()=>[i(p,{modelValue:e.otp,"onUpdate:modelValue":t[5]||(t[5]=k=>e.otp=k),type:"text",placeholder:e.t("otp"),nullable:!1},null,8,["modelValue","placeholder"]),e.error?(m(),C(f,{key:0,error:e.error},null,8,["error"])):R("",!0)]),_:1}),i(v,null,{default:d(()=>[i(y,{type:"submit",kind:"warning",loading:e.loading,disabled:e.otp.length!==6},{default:d(()=>[T(b(e.t("disable_tfa")),1)]),_:1},8,["loading","disabled"])]),_:1})],32)]),_:1})]),_:1},8,["modelValue"])])}var jY=q(DY,[["render",RY],["__scopeId","data-v-855b3ebc"]]),MY=Ne({id:"system-mfa-setup",name:"mfa-setup",icon:"box",component:jY,types:["text"],options:[],system:!0}),UY=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:MY});const NY=[{field:"name",name:"$t:name",meta:{required:!0,interface:"input",width:"half-left",options:{placeholder:"$t:enter_a_name"}}},{field:"icon",name:"$t:icon",meta:{required:!0,interface:"select-icon",width:"half-right"}},{field:"url",name:"$t:url",meta:{required:!0,interface:"input",options:{placeholder:"https://example.com"}}}],BY=z({name:"SystemModules",components:{Draggable:It},props:{value:{type:Array,default:()=>vn}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),l=E(),o=E(),u=E(),{modules:a}=Cl(),r=F(()=>a.value.filter(w=>w.hidden!==!0).map(w=>({type:"module",id:w.id,enabled:!1}))),s=F({get(){var g,k;const w=((g=e.value)!=null?g:vn).filter(A=>A.type==="module").map(A=>A.id);return p([...(k=e.value)!=null?k:vn,...r.value.filter(A=>w.includes(A.id)===!1)])},set(w){t("input",f(w))}});return{t:n,editing:l,valuesWithData:s,hideDragImage:zt,updateItem:_,edit:y,linkFields:NY,save:v,values:o,remove:h,initialValues:u};function p(w){return w.filter(g=>g.type==="link"?!0:!!a.value.find(k=>k.id===g.id)).map(g=>{if(g.type==="link")return Ve(pe({},g),{to:g.url,icon:g.icon,name:g.name});const k=a.value.find(A=>A.id===g.id);return Ve(pe({},g),{to:`/${k.id}`,name:k.name,icon:k.icon})})}function f(w){return w.map(g=>{if(g.type==="link"){const{type:P,id:L,name:B,url:O,icon:M,enabled:N,locked:K}=g;return{type:P,id:L,name:B,url:O,icon:M,enabled:N,locked:K}}const{type:k,id:A,enabled:V,locked:D}=g;return{type:k,id:A,enabled:V,locked:D}})}function _(w,g){s.value=s.value.map(k=>k===w?U.exports.assign({},w,g):k)}function y(w){var k;l.value=w;let g;w!=="+"?g=((k=e.value)!=null?k:vn).find(A=>A.id===w):g={id:yt(),type:"link",enabled:!0,url:"",name:"",icon:""},o.value=g,u.value=g}function v(){var w,g;l.value==="+"?t("input",[...(w=e.value)!=null?w:vn,o.value]):t("input",((g=e.value)!=null?g:vn).map(k=>k.id===l.value?o.value:k)),o.value=null,l.value=null}function h(w){var g;t("input",((g=e.value)!=null?g:vn).filter(k=>k.id!==w))}}}),qY=e=>(He("data-v-006bc8b7"),e=e(),We(),e),zY={class:"system-modules"},KY={class:"info"},HY={class:"name"},WY={class:"to"},GY=qY(()=>S("div",{class:"spacer"},null,-1)),ZY={class:"drawer-content"};function JY(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-list-item"),s=c("draggable"),p=c("v-list"),f=c("v-button"),_=c("v-form"),y=c("v-drawer"),v=ke("tooltip");return m(),I("div",zY,[i(p,{class:"list"},{default:d(()=>[i(s,{modelValue:e.valuesWithData,"onUpdate:modelValue":t[0]||(t[0]=h=>e.valuesWithData=h),"force-fallback":!0,"set-data":e.hideDragImage,"item-key":"id",handle:".drag-handle",animation:150},{item:d(({element:h})=>[i(r,{block:"",class:ae({enabled:h.enabled}),clickable:h.type==="link",onClick:w=>h.type==="link"?e.edit(h.id):void 0},{default:d(()=>[i(a,{class:"drag-handle",name:"drag_handle"}),i(a,{class:"icon",name:h.icon},null,8,["name"]),S("div",KY,[S("div",HY,b(h.name),1),S("div",WY,b(h.to),1)]),GY,h.locked===!0?(m(),C(a,{key:0,name:"lock"})):h.type==="link"?(m(),C(a,{key:1,name:"clear",onClick:Ae(w=>e.remove(h.id),["stop"])},null,8,["onClick"])):(m(),C(a,{key:2,name:h.enabled?"check_box":"check_box_outline_blank",clickable:"",onClick:Ae(w=>e.updateItem(h,{enabled:!h.enabled}),["stop"])},null,8,["name","onClick"]))]),_:2},1032,["class","clickable","onClick"])]),_:1},8,["modelValue","set-data"])]),_:1}),i(f,{onClick:t[1]||(t[1]=h=>e.edit("+"))},{default:d(()=>[T(b(e.t("add_link")),1)]),_:1}),i(y,{title:e.t("custom_link"),"model-value":!!e.editing,icon:"link","onUpdate:modelValue":t[3]||(t[3]=h=>e.editing=null),onCancel:t[4]||(t[4]=h=>e.editing=null)},{actions:d(()=>[Q(i(f,{icon:"",rounded:"",onClick:e.save},{default:d(()=>[i(a,{name:"check"})]),_:1},8,["onClick"]),[[v,e.t("save"),void 0,{bottom:!0}]])]),default:d(()=>[S("div",ZY,[i(_,{modelValue:e.values,"onUpdate:modelValue":t[2]||(t[2]=h=>e.values=h),"initial-values":e.initialValues,fields:e.linkFields},null,8,["modelValue","initial-values","fields"])])]),_:1},8,["title","model-value"])])}var QY=q(BY,[["render",JY],["__scopeId","data-v-006bc8b7"]]),XY=Ne({id:"system-modules",name:"$t:module_bar",icon:"arrow_drop_down_circle",component:QY,types:["json"],options:[],system:!0}),YY=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:XY});const xY=z({components:{DrawerCollection:Xt},props:{value:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=J(),l=E(null),o=E(null),u=E(!1),a=F(()=>e.value!==null&&(e.value.startsWith("role_")||e.value.startsWith("user_")));return ye(()=>e.value,f),f(),{options:F(()=>{let _=[{text:n("global")+": "+n("all_users"),value:"all"},{text:n("user")+": "+n("select"),value:"directus_users"},{text:n("role")+": "+n("select"),value:"directus_roles"}];if(a.value){const[y,v]=e.value.split("_");_=[{text:n(y)+": "+(o.value||v),value:e.value},{divider:!0},..._]}return _}),collection:l,onSelect:s,onSelectItem:p,loading:u};function s(_){if(_==="all")return l.value=null,t("input","all");l.value=_}function p(_){if(l.value==="directus_users")return t("input","user_"+_[0]);if(l.value==="directus_roles")return t("input","role_"+_[0])}async function f(){if(!a.value){o.value=null;return}u.value=!0;const[_,y]=e.value.split("_");if(_==="role"){const v=await re.get("/roles/"+y,{params:{fields:["id","name"]}});o.value=v.data.data.name}else if(_==="user"){const v=await re.get("/users/"+y,{params:{fields:["id","first_name","last_name","email"]}});o.value=wt(v.data.data)}u.value=!1}}});function ex(e,t,n,l,o,u){const a=c("v-skeleton-loader"),r=c("v-select"),s=c("drawer-collection");return m(),I("div",null,[e.loading?(m(),C(a,{key:0})):(m(),C(r,{key:1,"model-value":e.value,items:e.options,"onUpdate:modelValue":e.onSelect},null,8,["model-value","items","onUpdate:modelValue"])),e.collection!==null?(m(),C(s,{key:2,active:e.collection!==null,collection:e.collection,"onUpdate:active":t[0]||(t[0]=p=>e.collection=null),onInput:e.onSelectItem},null,8,["active","collection","onInput"])):R("",!0)])}var tx=q(xY,[["render",ex]]),nx=Ne({id:"system-scope",name:"$t:scope",icon:"arrow_drop_down_circle",component:tx,types:["string"],options:[],system:!0}),lx=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nx});const{interfacesRaw:As}=cn();async function ox(e){const n=Object.values({"./boolean/index.ts":NK,"./datetime/index.ts":WK,"./file/index.ts":tH,"./file-image/index.ts":gH,"./files/index.ts":IH,"./group-accordion/index.ts":NH,"./group-detail/index.ts":GH,"./group-raw/index.ts":eW,"./input/index.ts":iW,"./input-autocomplete-api/index.ts":mW,"./input-code/index.ts":$W,"./input-hash/index.ts":AW,"./input-multiline/index.ts":PW,"./input-rich-text-html/index.ts":MW,"./input-rich-text-md/index.ts":oG,"./list/index.ts":SG,"./list-m2a/index.ts":jG,"./list-m2m/index.ts":GG,"./list-o2m/index.ts":lZ,"./list-o2m-tree-view/index.ts":$Z,"./map/index.ts":tJ,"./presentation-divider/index.ts":rJ,"./presentation-links/index.ts":_J,"./presentation-notice/index.ts":$J,"./select-color/index.ts":DJ,"./select-dropdown/index.ts":jJ,"./select-dropdown-m2o/index.ts":HJ,"./select-icon/index.ts":YJ,"./select-multiple-checkbox/index.ts":aQ,"./select-multiple-checkbox-tree/index.ts":_Q,"./select-multiple-dropdown/index.ts":wQ,"./select-radio/index.ts":AQ,"./slider/index.ts":PQ,"./tags/index.ts":KQ,"./translations/index.ts":aX,"./_system/system-collection/index.ts":uX,"./_system/system-collections/index.ts":_X,"./_system/system-display-template/index.ts":wX,"./_system/system-field/index.ts":VX,"./_system/system-field-tree/index.ts":TX,"./_system/system-filter/index.ts":iY,"./_system/system-folder/index.ts":fY,"./_system/system-interface/index.ts":gY,"./_system/system-interface-options/index.ts":CY,"./_system/system-language/index.ts":EY,"./_system/system-mfa-setup/index.ts":UY,"./_system/system-modules/index.ts":YY,"./_system/system-scope/index.ts":lx}).map(l=>l.default);try{const l=await j(()=>import(`${Ge()}extensions/interfaces/index.js`),[]);n.push(...l.default)}catch(l){console.warn("Couldn't load custom interfaces"),console.warn(l)}As.value=n,As.value.forEach(l=>{e.component(`interface-${l.id}`,l.component),typeof l.options!="function"&&Array.isArray(l.options)===!1&&l.options!==null&&e.component(`interface-options-${l.id}`,l.options)})}function ax(e){switch(e){case"af":return j(()=>import("./af.0ae12dd5.js").then(function(t){return t.a}),[]);case"ar-dz":return j(()=>import("./ar-dz.4def840c.js").then(function(t){return t.a}),[]);case"ar-kw":return j(()=>import("./ar-kw.8e19bfac.js").then(function(t){return t.a}),[]);case"ar-ly":return j(()=>import("./ar-ly.1c517370.js").then(function(t){return t.a}),[]);case"ar-ma":return j(()=>import("./ar-ma.f01598f3.js").then(function(t){return t.a}),[]);case"ar-sa":return j(()=>import("./ar-sa.c5fe14e9.js").then(function(t){return t.a}),[]);case"ar-tn":return j(()=>import("./ar-tn.121f69b2.js").then(function(t){return t.a}),[]);case"ar":return j(()=>import("./ar.bed29460.js").then(function(t){return t.a}),[]);case"az":return j(()=>import("./az.706ff558.js").then(function(t){return t.a}),[]);case"bg":return j(()=>import("./bg.1c68ab52.js").then(function(t){return t.b}),[]);case"bn":return j(()=>import("./bn.52d26e23.js").then(function(t){return t.b}),[]);case"bs":return j(()=>import("./bs.4d20add5.js").then(function(t){return t.b}),[]);case"ca":return j(()=>import("./ca.a79eb6d2.js").then(function(t){return t.c}),[]);case"cs":return j(()=>import("./cs.b1e8bc14.js").then(function(t){return t.c}),[]);case"cy":return j(()=>import("./cy.ac181a59.js").then(function(t){return t.c}),[]);case"da":return j(()=>import("./da.4016bc22.js").then(function(t){return t.d}),[]);case"de-at":return j(()=>import("./de-at.c36ba3d5.js").then(function(t){return t.d}),[]);case"de":return j(()=>import("./de.31ae30a8.js").then(function(t){return t.d}),[]);case"el":return j(()=>import("./el.59a913c2.js").then(function(t){return t.e}),[]);case"en-au":return j(()=>import("./en-au.169355d7.js").then(function(t){return t.e}),[]);case"en-gb":return j(()=>import("./en-gb.0b977da8.js").then(function(t){return t.e}),[]);case"en-nz":return j(()=>import("./en-nz.6296f2b6.js").then(function(t){return t.e}),[]);case"eo":return j(()=>import("./eo.d92d8fbf.js").then(function(t){return t.e}),[]);case"es-us":return j(()=>import("./es-us.35915abe.js").then(function(t){return t.e}),[]);case"es":return j(()=>import("./es.c516dd05.js").then(function(t){return t.e}),[]);case"et":return j(()=>import("./et.420b5f6d.js").then(function(t){return t.e}),[]);case"eu":return j(()=>import("./eu.edaff4b0.js").then(function(t){return t.e}),[]);case"fa":return j(()=>import("./fa.f3993a60.js").then(function(t){return t.f}),[]);case"fi":return j(()=>import("./fi.3ee32d07.js").then(function(t){return t.f}),[]);case"fr-ca":return j(()=>import("./fr-ca.e2e64899.js").then(function(t){return t.f}),[]);case"fr-ch":return j(()=>import("./fr-ch.e9042a4c.js").then(function(t){return t.f}),[]);case"fr":return j(()=>import("./fr.9d599b24.js").then(function(t){return t.f}),[]);case"gl":return j(()=>import("./gl.b8341ed4.js").then(function(t){return t.g}),[]);case"he":return j(()=>import("./he.18403882.js").then(function(t){return t.h}),[]);case"hi":return j(()=>import("./hi.e2a17765.js").then(function(t){return t.h}),[]);case"hr":return j(()=>import("./hr.57f77dc3.js").then(function(t){return t.h}),[]);case"hu":return j(()=>import("./hu.adb9ccdc.js").then(function(t){return t.h}),[]);case"hy-am":return j(()=>import("./hy-am.59b7a75e.js").then(function(t){return t.h}),[]);case"id":return j(()=>import("./id.bc299c4a.js").then(function(t){return t.i}),[]);case"is":return j(()=>import("./is.2eb43668.js").then(function(t){return t.i}),[]);case"it":return j(()=>import("./it.e663f69e.js").then(function(t){return t.i}),[]);case"ja":return j(()=>import("./ja.21755c02.js").then(function(t){return t.j}),[]);case"ka":return j(()=>import("./ka.09267484.js").then(function(t){return t.k}),[]);case"kk":return j(()=>import("./kk.c27d7d0f.js").then(function(t){return t.k}),[]);case"ko":return j(()=>import("./ko.86462d08.js").then(function(t){return t.k}),[]);case"lb":return j(()=>import("./lb.b4fb4102.js").then(function(t){return t.l}),[]);case"lt":return j(()=>import("./lt.bec1e735.js").then(function(t){return t.l}),[]);case"lv":return j(()=>import("./lv.1d9eac62.js").then(function(t){return t.l}),[]);case"mk":return j(()=>import("./mk.ac873732.js").then(function(t){return t.m}),[]);case"ms":return j(()=>import("./ms.a8caaf33.js").then(function(t){return t.m}),[]);case"nb":return j(()=>import("./nb.c4e12345.js").then(function(t){return t.n}),[]);case"ne":return j(()=>import("./ne.8c2e7d13.js").then(function(t){return t.n}),[]);case"nl":return j(()=>import("./nl.15edef36.js").then(function(t){return t.n}),[]);case"nn":return j(()=>import("./nn.33ea37c6.js").then(function(t){return t.n}),[]);case"pl":return j(()=>import("./pl.8a0826b3.js").then(function(t){return t.p}),[]);case"pt-br":return j(()=>import("./pt-br.e87cb008.js").then(function(t){return t.p}),[]);case"pt":return j(()=>import("./pt.de450764.js").then(function(t){return t.p}),[]);case"ro":return j(()=>import("./ro.1786958f.js").then(function(t){return t.r}),[]);case"ru":return j(()=>import("./ru.2c0e4894.js").then(function(t){return t.r}),[]);case"sk":return j(()=>import("./sk.e174a41b.js").then(function(t){return t.s}),[]);case"sl":return j(()=>import("./sl.34422efd.js").then(function(t){return t.s}),[]);case"sq":return j(()=>import("./sq.ee367a13.js").then(function(t){return t.s}),[]);case"sr-cyrl":return j(()=>import("./sr-cyrl.0abb2793.js").then(function(t){return t.s}),[]);case"sr":return j(()=>import("./sr.efb7e3ec.js").then(function(t){return t.s}),[]);case"sv":return j(()=>import("./sv.b9d19aa9.js").then(function(t){return t.s}),[]);case"ta-in":return j(()=>import("./ta-in.8c88aa82.js").then(function(t){return t.t}),[]);case"th":return j(()=>import("./th.d0e24ade.js").then(function(t){return t.t}),[]);case"tr":return j(()=>import("./tr.d887c301.js").then(function(t){return t.t}),[]);case"ug":return j(()=>import("./ug.2ae6849b.js").then(function(t){return t.u}),[]);case"uk":return j(()=>import("./uk.69d22b7d.js").then(function(t){return t.u}),[]);case"uz":return j(()=>import("./uz.a2abf7be.js").then(function(t){return t.u}),[]);case"vi":return j(()=>import("./vi.cc30f87c.js").then(function(t){return t.v}),[]);case"zh-cn":return j(()=>import("./zh-cn.f12689f7.js").then(function(t){return t.z}),[]);case"zh-tw":return j(()=>import("./zh-tw.c5aeda5a.js").then(function(t){return t.z}),[]);default:return Promise.resolve()}}async function ix(e){const t=[e,e.split("-")[0],"en-US"];let n;for(const l of t)try{const o=await ax(l);n=o.default.default||o.default;break}catch{continue}return n}const rx=z({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,default:null}}}),sx={key:0,class:"item-count"};function dx(e,t,n,l,o,u){return m(),C(Ot,{name:"fade"},{default:d(()=>[e.itemCount?(m(),I("span",sx,b(e.showingCount),1)):R("",!0)]),_:1})}var ux=q(rx,[["render",dx],["__scopeId","data-v-ceefb89c"]]);const cx=z({inheritAttrs:!1,props:{createCalendar:{type:Function,required:!0},destroyCalendar:{type:Function,required:!0}},emits:["update:selection"],setup(e){const t=E();return it(()=>{e.createCalendar(t.value)}),At(()=>{e.destroyCalendar()}),{calendarElement:t}}}),px={class:"calendar-layout"},mx={ref:"calendarElement"};function fx(e,t,n,l,o,u){return m(),I("div",px,[S("div",mx,null,512)])}var _x=q(cx,[["render",fx],["__scopeId","data-v-028014b2"]]);const vx=z({inheritAttrs:!1,props:{collection:{type:String,required:!0},template:{type:String,default:null},dateFields:{type:Array,required:!0},startDateField:{type:String,default:null},endDateField:{type:String,default:null}},emits:["update:template","update:startDateField","update:endDateField"],setup(e,{emit:t}){const{t:n}=J(),l=je(e,"template",t),o=je(e,"startDateField",t),u=je(e,"endDateField",t);return{t:n,templateWritable:l,startDateFieldWritable:o,endDateFieldWritable:u}}}),yx={class:"field"},hx={class:"type-label"},gx={class:"field"},bx={class:"type-label"},wx={class:"field"},$x={class:"type-label"};function kx(e,t,n,l,o,u){const a=c("v-field-template"),r=c("v-select");return m(),I(x,null,[S("div",yx,[S("div",hx,b(e.t("display_template")),1),i(a,{modelValue:e.templateWritable,"onUpdate:modelValue":t[0]||(t[0]=s=>e.templateWritable=s),collection:e.collection},null,8,["modelValue","collection"])]),S("div",gx,[S("div",bx,b(e.t("layouts.calendar.start_date_field")),1),i(r,{modelValue:e.startDateFieldWritable,"onUpdate:modelValue":t[1]||(t[1]=s=>e.startDateFieldWritable=s),"show-deselect":"",items:e.dateFields,"item-text":"name","item-value":"field"},null,8,["modelValue","items"])]),S("div",wx,[S("div",$x,b(e.t("layouts.calendar.end_date_field")),1),i(r,{modelValue:e.endDateFieldWritable,"onUpdate:modelValue":t[2]||(t[2]=s=>e.endDateFieldWritable=s),"show-deselect":"",items:e.dateFields,"item-text":"name","item-value":"field"},null,8,["modelValue","items"])])],64)}var Sx=q(vx,[["render",kx]]),Cx=$l({id:"calendar",name:"$t:layouts.calendar.calendar",icon:"event",component:_x,slots:{options:Sx,sidebar:()=>{},actions:ux},setup(e,{emit:t}){const{t:n,locale:l}=J(),o=E(),u=bt(),a=je(e,"selection",t),r=je(e,"layoutOptions",t),{collection:s,filter:p,search:f}=Me(e),{primaryKeyField:_,fields:y}=ot(s),v=F(()=>y.value.filter(H=>["timestamp","dateTime","date"].includes(H.type))),h=F(()=>{if(!o.value||!A.value)return;const H=Gn(o.value.view.activeStart),Y=Gn(o.value.view.activeEnd),_e={[A.value]:{_between:[H,Y]}};if(!D.value)return _e;const ve={[D.value]:{_between:[H,Y]}},ue={[A.value]:{_lte:H}},W={[D.value]:{_gte:Y}};return{_or:[_e,ve,{_and:[ue,W]}]}}),w=F(()=>h.value?p.value?{_and:[p.value,h.value]}:null:p.value),g=ft(r,"template",void 0),k=ft(r,"viewInfo",void 0),A=ft(r,"startDateField",void 0),V=F(()=>y.value.find(H=>H.field===A.value)),D=ft(r,"endDateField",void 0),P=F(()=>y.value.find(H=>H.field===D.value)),{items:L,loading:B,error:O,totalPages:M,itemCount:N,totalCount:K,changeManualSort:G,getItems:ie}=kl(s,{sort:F(()=>{var H;return[((H=_.value)==null?void 0:H.field)||""]}),page:E(1),limit:E(-1),fields:F(()=>{if(!_.value)return[];const H=[_.value.field];return g.value&&H.push(...ht(g.value)),A.value&&H.push(A.value),D.value&&H.push(D.value),H}),filter:w,search:f},!1),de=F(()=>L.value.map(H=>te(H)).filter(H=>H)||[]),ne=F(()=>{var Y,_e,ve,ue,W,X;const H={editable:!0,eventStartEditable:!0,eventResizableFromStart:!0,eventDurationEditable:!0,dayMaxEventRows:!0,height:"100%",nextDayThreshold:"01:00:00",plugins:[Gd,Zd,Jd,Qd],initialView:(_e=(Y=k.value)==null?void 0:Y.type)!=null?_e:"dayGridMonth",headerToolbar:{left:"prevYear,prev,next,nextYear today",center:"title",right:"dayGridMonth,dayGridWeek,dayGridDay,listWeek"},events:de.value,initialDate:(ue=(ve=k.value)==null?void 0:ve.startDateStr)!=null?ue:Gn(new Date),eventClick(ce){var oe;if(!!s.value)if(e.selectMode||((oe=a.value)==null?void 0:oe.length)>0){const he=L.value.find(ge=>ge[_.value.field]==ce.event.id);if(he){const ge=he[_.value.field];a.value.includes(ge)?a.value=a.value.filter(we=>we!==ge):a.value=[...a.value,ge],se()}}else{const he=ce.event.id,ge=s.value.startsWith("directus")?s.value.substring(9):`content/${s.value}`;Mt.push(`/${ge}/${he}`)}},async eventChange(ce){if(!s.value||!A.value||!V.value)return;const oe={[A.value]:me(ce.event.startStr,V.value.type)};D.value&&P.value&&ce.event.endStr&&(oe[D.value]=me(ce.event.endStr,P.value.type));const he=s.value.startsWith("directus")?s.value.substring(9):`/items/${s.value}`;try{await re.patch(`${he}/${ce.event.id}`,oe)}catch(ge){Se(ge)}}};return(((W=V.value)==null?void 0:W.type)==="dateTime"||((X=V.value)==null?void 0:X.type)==="timestamp")&&(H.headerToolbar=Ve(pe({},H.headerToolbar),{right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"})),H});ye(()=>u.sidebarOpen,()=>setTimeout(()=>{var H;return(H=o.value)==null?void 0:H.updateSize()},300)),ye(ne,()=>se(),{deep:!0,immediate:!0}),ye([o,l],async()=>{if(o.value){const H=await ix(l.value);o.value.setOption("locale",H)}},{immediate:!0});const le=F(()=>N.value?n("item_count",N.value):null);return{items:L,loading:B,error:O,totalPages:M,itemCount:N,totalCount:K,changeManualSort:G,getItems:ie,filterWithCalendarView:w,template:g,dateFields:v,startDateField:A,endDateField:D,showingCount:le,createCalendar:ee,destroyCalendar:Z};function se(){o.value&&(o.value.pauseRendering(),o.value.resetOptions(ne.value),o.value.resumeRendering(),o.value.render())}function ee(H){o.value=new Xd(H,ne.value),o.value.on("datesSet",Y=>{k.value={type:Y.view.type,startDateStr:Gn(Y.view.currentStart)}}),o.value.render()}function Z(){var H;(H=o.value)==null||H.destroy()}function te(H){if(!A.value||!_.value)return null;let Y;const _e=P.value&&P.value.type==="date";if(D.value)if(_e){const ue=sn(H[D.value],"yyyy-MM-dd",new Date);ue.setDate(ue.getDate()+1),Y=xt(ue,"yyyy-MM-dd")}else Y=H[D.value];const ve=H[_.value.field];return{id:ve,title:V3(g.value||`{{ ${_.value.field} }}`,H)||void 0,start:H[A.value],end:Y,allDay:_e,className:a.value.includes(ve)?"selected":void 0}}function me(H,Y){return Y==="dateTime"?H.substring(0,19):H}}}),Vx=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Cx});const Fx=z({props:{icon:{type:String,default:"box"},file:{type:Object,default:null},crop:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},item:{type:Object,default:null},modelValue:{type:Array,default:()=>[]},selectMode:{type:Boolean,default:!1},to:{type:String,default:""},readonly:{type:Boolean,default:!1},itemKey:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=Xe(),l=E(!1),o=F(()=>!e.file||!e.file.type||!l.value&&e.file.type.startsWith("image")?null:Ln(e.file.type,!0)),u=F(()=>{if(!e.file||!e.file.type||e.file.type.startsWith("image")===!1||e.file.type.includes("svg"))return null;let f="system-medium-cover";e.crop===!1&&(f="system-medium-contain");const _=Ge()+`assets/${e.file.id}?key=${f}&modified=${e.file.modified_on}`;return ut(_)}),a=F(()=>{if(!e.file||!e.file.type||e.file.type.startsWith("image")===!1||e.file.type.includes("svg")===!1)return null;const f=Ge()+`assets/${e.file.id}?modified=${e.file.modified_on}`;return ut(f)}),r=F(()=>e.item&&e.modelValue.includes(e.item[e.itemKey])?"check_circle":"radio_button_unchecked");return{imageSource:u,svgSource:a,type:o,selectionIcon:r,toggleSelection:s,handleClick:p,imgError:l};function s(){if(!e.item)return null;e.modelValue.includes(e.item[e.itemKey])?t("update:modelValue",e.modelValue.filter(f=>f!==e.item[e.itemKey])):t("update:modelValue",[...e.modelValue,e.item[e.itemKey]])}function p(){e.selectMode===!0?s():n.push(e.to)}}}),Ax=e=>(He("data-v-2f2457e2"),e=e(),We(),e),Ix={class:"header"},Ex=Ax(()=>S("div",{class:"selection-fade"},null,-1)),Dx={key:0,class:"type type-title"},Tx=["src"],Lx=["src"],Px={key:0,class:"title"},Ox={key:1,class:"subtitle"};function Rx(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-skeleton-loader");return m(),I("div",{class:ae(["card",{loading:e.loading,readonly:e.readonly,selected:e.item&&e.modelValue.includes(e.item[e.itemKey]),"select-mode":e.selectMode}]),onClick:t[2]||(t[2]=(...s)=>e.handleClick&&e.handleClick(...s))},[i(a,{class:"selector",name:e.selectionIcon,onClick:Ae(e.toggleSelection,["stop"])},null,8,["name","onClick"]),S("div",Ix,[Ex,e.loading?(m(),C(r,{key:0})):(m(),I(x,{key:1},[e.type||e.imgError?(m(),I("p",Dx,b(e.type),1)):(m(),I(x,{key:1},[e.imageSource?(m(),I("img",{key:0,class:"image",loading:"lazy",src:e.imageSource,alt:"",role:"presentation",onError:t[0]||(t[0]=s=>e.imgError=!0)},null,40,Tx)):e.svgSource?(m(),I("img",{key:1,class:"svg",src:e.svgSource,alt:"",role:"presentation",onError:t[1]||(t[1]=s=>e.imgError=!0)},null,40,Lx)):(m(),C(a,{key:2,large:"",name:e.icon},null,8,["name"]))],64))],64))]),e.loading?(m(),C(r,{key:0,type:"text"})):(m(),I(x,{key:1},[e.$slots.title?(m(),I("div",Px,[be(e.$slots,"title",{},void 0,!0)])):R("",!0),e.$slots.subtitle?(m(),I("div",Ox,[be(e.$slots,"subtitle",{},void 0,!0)])):R("",!0)],64))],2)}var jx=q(Fx,[["render",Rx],["__scopeId","data-v-2f2457e2"]]);const Mx=z({props:{fields:{type:Array,required:!0},size:{type:Number,required:!0},sort:{type:Array,required:!0},showSelect:{type:String,default:"multiple"},selection:{type:Array,default:()=>[]}},emits:["select-all","update:size","update:sort","update:selection"],setup(e,{emit:t}){const{t:n}=J(),l=je(e,"size",t),o=je(e,"sort",t),u=je(e,"selection",t),a=F(()=>e.sort[0].startsWith("-")),r=F(()=>e.sort[0].startsWith("-")?e.sort[0].substring(1):e.sort[0]),s=F(()=>e.fields.find(y=>y.field===r.value)),p=F(()=>e.fields.filter(y=>y.field.startsWith("$")===!1).map(y=>({field:y.field,name:y.name,disabled:["json","o2m","m2o","m2a","file","files","alias","presentation"].includes(y.type)})));return{t:n,toggleSize:f,descending:a,toggleDescending:_,sortField:s,sizeSync:l,sortSync:o,selectionSync:u,sortKey:r,fieldsWithoutFake:p};function f(){e.size>=2&&e.size<5?l.value++:l.value=2}function _(){a.value===!0?o.value=[o.value[0].substring(1)]:o.value=["-"+o.value]}}}),Ux={class:"cards-header"},Nx={class:"start"},Bx={class:"label"},qx={class:"label"},zx={class:"end"},Kx=["onClick"];function Hx(e,t,n,l,o,u){const a=c("v-icon"),r=c("v-list-item-content"),s=c("v-list-item"),p=c("v-list"),f=c("v-menu"),_=ke("tooltip");return m(),I("div",Ux,[S("div",Nx,[e.selectionSync.length>0?(m(),I("div",{key:0,class:"selected",onClick:t[0]||(t[0]=y=>e.selectionSync=[])},[i(a,{name:"cancel",outline:""}),S("span",Bx,b(e.t("n_items_selected",e.selectionSync.length)),1)])):(m(),I("button",{key:1,class:"select-all",onClick:t[1]||(t[1]=y=>e.showSelect==="multiple"?e.$emit("select-all"):void 0)},[i(a,{name:"check_circle",outline:""}),S("span",qx,b(e.t(e.showSelect==="multiple"?"select_all":"select_an_item")),1)]))]),S("div",zx,[Q(i(a,{class:"size-selector",name:`grid_${7-e.size}`,clickable:"",onClick:e.toggleSize},null,8,["name","onClick"]),[[_,e.t("card_size"),void 0,{top:!0}]]),i(f,{"show-arrow":"",placement:"bottom"},{activator:d(({toggle:y})=>[Q(S("div",{class:"sort-selector",onClick:y},[T(b(e.sortField&&e.sortField.name),1)],8,Kx),[[_,e.t("sort_field"),void 0,{top:!0}]])]),default:d(()=>[i(p,null,{default:d(()=>[(m(!0),I(x,null,$e(e.fieldsWithoutFake,y=>(m(),C(s,{key:y.field,disabled:y.disabled,active:y.field===e.sortKey,clickable:"",onClick:v=>e.sortSync=[y.field]},{default:d(()=>[i(r,null,{default:d(()=>[T(b(y.name),1)]),_:2},1024)]),_:2},1032,["disabled","active","onClick"]))),128))]),_:1})]),_:1}),Q(i(a,{class:ae(["sort-direction",{descending:e.descending}]),name:"sort",clickable:"",onClick:e.toggleDescending},null,8,["class","onClick"]),[[_,e.t("sort_direction"),void 0,{top:!0}]])])])}var Wx=q(Mx,[["render",Hx],["__scopeId","data-v-e1acf4b8"]]);const Gx=z({components:{Card:jx,CardsHeader:Wx},inheritAttrs:!1,props:{collection:{type:String,required:!0},selection:{type:Array,required:!0},showSelect:{type:String,default:"multiple"},selectMode:{type:Boolean,required:!0},readonly:{type:Boolean,required:!0},items:{type:Array,required:!0},loading:{type:Boolean,required:!0},error:{type:Object,default:null},totalPages:{type:Number,required:!0},page:{type:Number,required:!0},toPage:{type:Function,required:!0},itemCount:{type:Number,default:null},fieldsInCollection:{type:Array,required:!0},limit:{type:Number,required:!0},size:{type:Number,required:!0},primaryKeyField:{type:Object,default:null},icon:{type:String,required:!0},imageSource:{type:String,default:null},title:{type:String,default:null},subtitle:{type:String,default:null},getLinkForItem:{type:Function,required:!0},imageFit:{type:String,required:!0},sort:{type:Array,required:!0},info:{type:Object,default:null},isSingleRow:{type:Boolean,required:!0},width:{type:Number,required:!0},selectAll:{type:Function,required:!0},resetPresetAndRefresh:{type:Function,required:!0},filter:{type:Object,default:null},search:{type:String,default:null}},emits:["update:selection","update:limit","update:size","update:sort","update:width"],setup(e,{emit:t}){const{t:n}=J(),l=je(e,"selection",t),o=je(e,"limit",t),u=je(e,"size",t),a=je(e,"sort",t),r=ct("main-element"),s=E(),{width:p}=mn(s);return ye(()=>e.page,()=>{var f;return(f=r.value)==null?void 0:f.scrollTo({top:0,behavior:"smooth"})}),ye(p,()=>{t("update:width",p.value)}),{t:n,selectionWritable:l,limitWritable:o,sizeWritable:u,sortWritable:a,layoutElement:s}}}),Zx={class:"footer"},Jx={class:"pagination"},Qx={key:0,class:"per-page"};function Xx(e,t,n,l,o,u){const a=c("cards-header"),r=c("render-template"),s=c("card"),p=c("v-pagination"),f=c("v-select"),_=c("v-error"),y=c("v-button"),v=c("v-info");return m(),I("div",{ref:"layoutElement",class:"layout-cards",style:Ue({"--size":e.size*40+"px"})},[e.loading||e.itemCount>0?(m(),I(x,{key:0},[i(a,{size:e.sizeWritable,"onUpdate:size":t[0]||(t[0]=h=>e.sizeWritable=h),selection:e.selectionWritable,"onUpdate:selection":t[1]||(t[1]=h=>e.selectionWritable=h),sort:e.sortWritable,"onUpdate:sort":t[2]||(t[2]=h=>e.sortWritable=h),fields:e.fieldsInCollection,"show-select":e.showSelect,onSelectAll:e.selectAll},null,8,["size","selection","sort","fields","show-select","onSelectAll"]),S("div",{class:ae(["grid",{"single-row":e.isSingleRow}])},[(m(!0),I(x,null,$e(e.items,h=>(m(),C(s,{key:h[e.primaryKeyField.field],modelValue:e.selectionWritable,"onUpdate:modelValue":t[3]||(t[3]=w=>e.selectionWritable=w),"item-key":e.primaryKeyField.field,crop:e.imageFit==="crop",icon:e.icon,file:e.imageSource?h[e.imageSource]:null,item:h,"select-mode":e.selectMode||e.selection&&e.selection.length>0,to:e.getLinkForItem(h),readonly:e.readonly},xe({_:2},[e.title?{name:"title",fn:d(()=>[i(r,{collection:e.collection,item:h,template:e.title},null,8,["collection","item","template"])])}:void 0,e.subtitle?{name:"subtitle",fn:d(()=>[i(r,{collection:e.collection,item:h,template:e.subtitle},null,8,["collection","item","template"])])}:void 0]),1032,["modelValue","item-key","crop","icon","file","item","select-mode","to","readonly"]))),128))],2),S("div",Zx,[S("div",Jx,[e.totalPages>1?(m(),C(p,{key:0,length:e.totalPages,"total-visible":7,"show-first-last":"","model-value":e.page,"onUpdate:modelValue":e.toPage},null,8,["length","model-value","onUpdate:modelValue"])):R("",!0)]),e.loading===!1&&e.items.length>=25?(m(),I("div",Qx,[S("span",null,b(e.t("per_page")),1),i(f,{"model-value":`${e.limit}`,items:["25","50","100","250","500","1000"],inline:"","onUpdate:modelValue":t[4]||(t[4]=h=>e.limitWritable=+h)},null,8,["model-value"])])):R("",!0)])],64)):e.error?(m(),C(v,{key:1,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:d(()=>[i(_,{error:e.error},null,8,["error"]),i(y,{small:"",class:"reset-preset",onClick:e.resetPresetAndRefresh},{default:d(()=>[T(b(e.t("reset_page_preferences")),1)]),_:1},8,["onClick"])]),default:d(()=>[T(b(e.t("unexpected_error_copy"))+" ",1)]),_:1},8,["title"])):e.itemCount===0&&(e.filter||e.search)?be(e.$slots,"no-results",{key:2},void 0,!0):e.itemCount===0?be(e.$slots,"no-items",{key:3},void 0,!0):R("",!0)],4)}var Yx=q(Gx,[["render",Xx],["__scopeId","data-v-49bc126c"]]);const xx=z({inheritAttrs:!1,props:{collection:{type:String,required:!0},icon:{type:String,required:!0},fileFields:{type:Array,required:!0},imageSource:{type:String,default:null},title:{type:String,default:null},subtitle:{type:String,default:null},imageFit:{type:String,required:!0}},emits:["update:icon","update:imageSource","update:title","update:subtitle","update:imageFit"],setup(e,{emit:t}){const{t:n}=J(),l=je(e,"icon",t),o=je(e,"imageSource",t),u=je(e,"title",t),a=je(e,"subtitle",t),r=je(e,"imageFit",t);return{t:n,iconWritable:l,imageSourceWritable:o,titleWritable:u,subtitleWritable:a,imageFitWritable:r}}}),eee={class:"field"},tee={class:"type-label"},nee={class:"field"},lee={class:"type-label"},oee={class:"field"},aee={class:"type-label"},iee={class:"nested-options"},ree={class:"field"},see={class:"type-label"},dee={class:"field"},uee={class:"type-label"};function cee(e,t,n,l,o,u){const a=c("v-select"),r=c("v-field-template"),s=c("interface-select-icon"),p=c("v-detail");return m(),I(x,null,[S("div",eee,[S("div",tee,b(e.t("layouts.cards.image_source")),1),i(a,{modelValue:e.imageSourceWritable,"onUpdate:modelValue":t[0]||(t[0]=f=>e.imageSourceWritable=f),"show-deselect":"","item-value":"field","item-text":"name",items:e.fileFields},null,8,["modelValue","items"])]),S("div",nee,[S("div",lee,b(e.t("layouts.cards.title")),1),i(r,{modelValue:e.titleWritable,"onUpdate:modelValue":t[1]||(t[1]=f=>e.titleWritable=f),collection:e.collection},null,8,["modelValue","collection"])]),S("div",oee,[S("div",aee,b(e.t("layouts.cards.subtitle")),1),i(r,{modelValue:e.subtitleWritable,"onUpdate:modelValue":t[2]||(t[2]=f=>e.subtitleWritable=f),collection:e.collection},null,8,["modelValue","collection"])]),i(p,{class:"field"},{title:d(()=>[T(b(e.t("layout_setup")),1)]),default:d(()=>[S("div",iee,[S("div",ree,[S("div",see,b(e.t("layouts.cards.image_fit")),1),i(a,{modelValue:e.imageFitWritable,"onUpdate:modelValue":t[3]||(t[3]=f=>e.imageFitWritable=f),disabled:e.imageSource===null,items:[{text:e.t("layouts.cards.crop"),value:"crop"},{text:e.t("layouts.cards.contain"),value:"contain"}]},null,8,["modelValue","disabled","items"])]),S("div",dee,[S("div",uee,b(e.t("fallback_icon")),1),i(s,{value:e.icon,onInput:t[4]||(t[4]=f=>e.iconWritable=f)},null,8,["value"])])])]),_:1})],64)}var pee=q(xx,[["render",cee],["__scopeId","data-v-1167aeea"]]);const mee=z({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,required:!0}}}),fee={key:0,class:"item-count"};function _ee(e,t,n,l,o,u){return m(),C(Ot,{name:"fade"},{default:d(()=>[e.itemCount?(m(),I("span",fee,b(e.showingCount),1)):R("",!0)]),_:1})}var vee=q(mee,[["render",_ee],["__scopeId","data-v-4039d1ee"]]),yee=$l({id:"cards",name:"$t:layouts.cards.cards",icon:"grid_4",component:Yx,slots:{options:pee,sidebar:()=>{},actions:vee},setup(e,{emit:t}){const{t:n,n:l}=J(),o=pt(),u=je(e,"selection",t),a=je(e,"layoutOptions",t),r=je(e,"layoutQuery",t),{collection:s,filter:p,search:f,filterUser:_}=Me(e),{info:y,primaryKeyField:v,fields:h}=ot(s),w=F(()=>h.value.filter(W=>W.field==="$thumbnail"?!0:!!o.relations.find(ce=>ce.collection===e.collection&&ce.field===W.field&&ce.related_collection==="directus_files"))),{size:g,icon:k,imageSource:A,title:V,subtitle:D,imageFit:P}=Y(),{sort:L,limit:B,page:O,fields:M}=_e(),{items:N,loading:K,error:G,totalPages:ie,itemCount:de,totalCount:ne,getItems:le}=kl(s,{sort:L,limit:B,page:O,fields:M,filter:p,search:f}),se=F(()=>(de.value||0)<(ne.value||0)&&_.value?de.value===1?n("one_filtered_item"):n("start_end_of_count_filtered_items",{start:l((+O.value-1)*B.value+1),end:l(Math.min(O.value*B.value,de.value||0)),count:l(de.value||0)}):de.value===1?n("one_item"):n("start_end_of_count_items",{start:l((+O.value-1)*B.value+1),end:l(Math.min(O.value*B.value,de.value||0)),count:l(de.value||0)})),ee=E(0),Z=F(()=>N.value.length*(g.value*40)+(N.value.length-1)*24<=ee.value);return{items:N,loading:K,error:G,totalPages:ie,page:O,toPage:H,itemCount:de,totalCount:ne,fieldsInCollection:h,limit:B,size:g,primaryKeyField:v,icon:k,fileFields:w,imageSource:A,title:V,subtitle:D,getLinkForItem:ve,imageFit:P,sort:L,info:y,showingCount:se,isSingleRow:Z,width:ee,refresh:me,selectAll:ue,resetPresetAndRefresh:te,filter:p,search:f};async function te(){var W;await((W=e==null?void 0:e.resetPreset)==null?void 0:W.call(e)),me()}function me(){le()}function H(W){O.value=W}function Y(){var Ce,Fe;const W=we("size",4),X=we("icon","box"),ce=we("title",null),oe=we("subtitle",null),he=we("imageSource",(Fe=(Ce=w.value[0])==null?void 0:Ce.field)!=null?Fe:null),ge=we("imageFit","crop");return{size:W,icon:X,imageSource:he,title:ce,subtitle:oe,imageFit:ge};function we(De,tt){return F({get(){var Pe,Oe;return((Pe=a.value)==null?void 0:Pe[De])!==void 0?(Oe=a.value)==null?void 0:Oe[De]:tt},set(Pe){a.value=Ve(pe({},a.value),{[De]:Pe})}})}}function _e(){const W=ft(r,"page",1),X=ft(r,"limit",25),ce=F(()=>{var ge;return v.value?[(ge=v.value)==null?void 0:ge.field]:[]}),oe=ft(r,"sort",ce),he=F(()=>{if(!v.value||!e.collection)return[];const ge=[v.value.field];A.value&&(ge.push(`${A.value}.modified_on`),ge.push(`${A.value}.type`),ge.push(`${A.value}.filename_disk`),ge.push(`${A.value}.storage`),ge.push(`${A.value}.id`)),e.collection==="directus_files"&&A.value==="$thumbnail"&&(ge.push("modified_on"),ge.push("type"));const we=[];return V.value&&we.push(...ht(V.value)),D.value&&we.push(...ht(D.value)),[...ge,...Yt(we,e.collection)]});return{sort:oe,limit:X,page:W,fields:he}}function ve(W){if(!!v.value)return`/content/${e.collection}/${encodeURIComponent(W[v.value.field])}`}function ue(){if(!v.value)return;const W=v.value;u.value=U.exports.clone(N.value).map(X=>X[W.field])}}}),hee=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yee});const gee=z({components:{},props:{data:{type:Object,required:!0},source:{type:Object,required:!0},layers:{type:Array,default:()=>[]},camera:{type:Object,default:()=>({})},bounds:{type:Array,default:void 0},featureId:{type:String,default:void 0},selection:{type:Array,default:()=>[]},showSelect:{type:String,default:"multiple"}},emits:["moveend","featureclick","featureselect","fitdata","updateitempopup"],setup(e,{emit:t}){const{t:n}=J(),l=bt();let o;const u=E(),a=E(),r=E(),s=E(),p=[],{sidebarOpen:f,basemap:_}=Me(l),y=Un("mapbox_key"),v=al(),h=F(()=>{var Z;const ee=(Z=v.find(te=>te.name===_.value))!=null?Z:v[0];return No(ee)}),w=new Bt.exports.AttributionControl,g=new Bt.exports.NavigationControl({showCompass:!1}),k=new Bt.exports.GeolocateControl,A=new Yo("mapboxgl-ctrl-fitdata",()=>{t("fitdata")}),V=new kZ({boxElementClass:"map-selection-box",selectButtonClass:"mapboxgl-ctrl-select",layers:["__directus_polygons","__directus_points","__directus_lines"]});let D;if(y){const ee=document.createElement("div");ee.className="mapboxgl-user-location-dot mapboxgl-search-location-dot",D=new ba({accessToken:y,collapsed:!0,marker:{element:ee},flyTo:{speed:1.4},mapboxgl:Yl,placeholder:n("layouts.map.find_location")})}return it(()=>{P()}),At(()=>{o.remove()}),{container:s,hoveredFeature:u,hoveredCluster:a,selectMode:r};function P(){o=new Bt.exports.Map(pe(pe({container:"map-container",style:h.value,dragRotate:!1,attributionControl:!1},e.camera),y?{accessToken:y}:{})),D&&o.addControl(D,"top-right"),o.addControl(w,"bottom-left"),o.addControl(g,"top-left"),o.addControl(k,"top-left"),o.addControl(A,"top-left"),o.addControl(V,"top-left"),o.on("load",()=>{ye(()=>h.value,B),ye(()=>e.bounds,L);const ee=["__directus_polygons","__directus_points","__directus_lines"];for(const Z of ee)o.on("click",Z,ie),o.on("mousemove",Z,de),o.on("mouseleave",Z,de);o.on("move",ne),o.on("click","__directus_clusters",le),o.on("mousemove","__directus_clusters",se),o.on("mouseleave","__directus_clusters",se),o.on("select.enable",()=>r.value=!0),o.on("select.disable",()=>r.value=!1),o.on("select.end",Z=>{var me;const te=(me=Z.features)==null?void 0:me.map(H=>H.id);t("featureselect",{ids:te,replace:!Z.alt})}),o.on("moveend",Z=>{!Z.originalEvent||t("moveend",{center:o.getCenter(),zoom:o.getZoom(),bearing:o.getBearing(),pitch:o.getPitch(),bbox:o.getBounds().toArray().flat()})}),O()}),ye(()=>f.value,ee=>{ee||setTimeout(()=>o.resize(),300)}),setTimeout(()=>o.resize(),300)}function L(){const ee=e.data.bbox;o&&ee&&o.fitBounds(ee,{padding:100,speed:1.3,maxZoom:14})}function B(ee){p.forEach(Z=>Z()),p.length=0,o.setStyle(ee,{diff:!1}),o.once("styledata",O)}function O(){p.push(ye(()=>e.source,N,{immediate:!0}),ye(()=>e.selection,G,{immediate:!0}),ye(()=>e.layers,K),ye(()=>e.data,M))}function M(ee){o.getSource("__directus").setData(ee),G(e.selection,void 0)}function N(ee){var te,me;const Z=new Set((te=o.getStyle().layers)==null?void 0:te.map(({id:H})=>H));for(const H of e.layers)Z.has(H.id)&&o.removeLayer(H.id);e.featureId?ee.promoteId=e.featureId:ee.generateId=!0,((me=o.getStyle().sources)==null?void 0:me.__directus)&&o.removeSource("__directus"),o.addSource("__directus",Ve(pe({},ee),{data:e.data})),o.once("sourcedata",()=>{setTimeout(()=>e.layers.forEach(H=>o.addLayer(H)))})}function K(ee,Z){var me;const te=new Set((me=o.getStyle().layers)==null?void 0:me.map(({id:H})=>H));Z==null||Z.forEach(H=>{te.has(H.id)&&o.removeLayer(H.id)}),ee==null||ee.forEach(H=>{o.addLayer(H)})}function G(ee,Z){Z==null||Z.forEach(te=>{o.setFeatureState({id:te,source:"__directus"},{selected:!1}),o.removeFeatureState({id:te,source:"__directus"})}),ee==null||ee.forEach(te=>{o.setFeatureState({id:te,source:"__directus"},{selected:!0})})}function ie(ee){var me;const Z=(me=ee.features)==null?void 0:me[0],te=e.showSelect==="multiple"?!1:!ee.originalEvent.altKey;Z&&e.featureId&&(V.active()?t("featureselect",{ids:[Z.id],replace:te}):t("featureclick",{id:Z.id,replace:te}))}function de(ee){var H;const Z=o.queryRenderedFeatures(ee.point,{layers:["__directus_polygons","__directus_points","__directus_lines"]})[0],te=(H=u.value)==null?void 0:H.id,me=te!==(Z==null?void 0:Z.id);if(te&&me&&o.setFeatureState({id:te,source:"__directus"},{hovered:!1}),Z&&Z.properties){if(Z.geometry.type==="Point"){const{x:Y,y:_e}=o.project(Z.geometry.coordinates),ve=o.getContainer().getBoundingClientRect();t("updateitempopup",{position:{x:ve.x+Y,y:ve.y+_e}})}else{const{clientX:Y,clientY:_e}=ee.originalEvent;t("updateitempopup",{position:{x:Y,y:_e}})}me&&(o.setFeatureState({id:Z.id,source:"__directus"},{hovered:!0}),u.value=Z,t("updateitempopup",{item:Z.id}))}else me&&(u.value=Z,t("updateitempopup",{item:null}))}function ne(ee){if(u.value&&ee.originalEvent){const{x:Z,y:te}=ee.originalEvent;t("updateitempopup",{position:{x:Z,y:te}})}}function le(ee){var H,Y;const Z=o.queryRenderedFeatures(ee.point,{layers:["__directus_clusters"]}),te=(Y=(H=Z[0])==null?void 0:H.properties)==null?void 0:Y.cluster_id;o.getSource("__directus").getClusterExpansionZoom(te,(_e,ve)=>{_e||o.flyTo({center:Z[0].geometry.coordinates,zoom:ve,speed:1.3})})}function se(ee){ee.type=="mousemove"?a.value=!0:a.value=!1}}});function bee(e,t,n,l,o,u){return m(),I("div",{id:"map-container",ref:"container",class:ae({select:e.selectMode,hover:e.hoveredFeature||e.hoveredCluster})},null,2)}var wee=q(gee,[["render",bee],["__scopeId","data-v-79e17d14"]]);const $ee=z({components:{MapComponent:wee},inheritAttrs:!1,props:{collection:{type:String,required:!0},selection:{type:Array,default:()=>[]},loading:{type:Boolean,required:!0},error:{type:Object,default:null},geojsonError:{type:String,default:null},geometryOptions:{type:Object,default:void 0},geojson:{type:Object,required:!0},featureId:{type:String,default:null},geojsonBounds:{type:Object,default:void 0},directusSource:{type:Object,required:!0},directusLayers:{type:Array,required:!0},handleClick:{type:Function,required:!0},handleSelect:{type:Function,required:!0},cameraOptions:{type:Object,default:void 0},resetPresetAndRefresh:{type:Function,required:!0},geojsonLoading:{type:Boolean,required:!0},itemCount:{type:Number,default:null},totalPages:{type:Number,required:!0},page:{type:Number,required:!0},toPage:{type:Function,required:!0},limit:{type:Number,required:!0},autoLocationFilter:{type:Boolean,default:void 0},fitDataBounds:{type:Function,required:!0},template:{type:String,default:()=>{}},itemPopup:{type:Object,default:()=>{}},updateItemPopup:{type:Function,required:!0}},emits:["update:cameraOptions","update:limit"],setup(e,{emit:t}){const{t:n,n:l}=J(),o=je(e,"cameraOptions",t),u=je(e,"limit",t);return{t:n,n:l,cameraOptionsWritable:o,limitWritable:u}}}),kee={class:"layout-map"},See={key:0,class:"footer"},Cee={key:0,class:"pagination"},Vee={class:"mapboxgl-ctrl-dropdown"};function Fee(e,t,n,l,o,u){const a=c("map-component"),r=c("render-template"),s=c("v-error"),p=c("v-button"),f=c("v-info"),_=c("v-progress-circular"),y=c("v-pagination"),v=c("v-select");return m(),I("div",kee,[i(a,{ref:"map",class:ae(["mapboxgl-map",{loading:e.loading,error:e.error||e.geojsonError||!e.geometryOptions}]),data:e.geojson,"feature-id":e.featureId,selection:e.selection,camera:e.cameraOptions,bounds:e.geojsonBounds,source:e.directusSource,layers:e.directusLayers,onFeatureclick:e.handleClick,onFeatureselect:e.handleSelect,onMoveend:t[0]||(t[0]=h=>e.cameraOptionsWritable=h),onFitdata:e.fitDataBounds,onUpdateitempopup:e.updateItemPopup},null,8,["class","data","feature-id","selection","camera","bounds","source","layers","onFeatureclick","onFeatureselect","onFitdata","onUpdateitempopup"]),i(Ot,{name:"fade"},{default:d(()=>[e.itemPopup.item?(m(),I("div",{key:0,class:"popup",style:Ue({top:e.itemPopup.position.y+"px",left:e.itemPopup.position.x+"px"})},[i(r,{template:e.template,item:e.itemPopup.item,collection:e.collection},null,8,["template","item","collection"])],4)):R("",!0)]),_:1}),i(Ot,{name:"fade"},{default:d(()=>[e.error?(m(),C(f,{key:0,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:d(()=>[i(s,{error:e.error},null,8,["error"]),i(p,{small:"",class:"reset-preset",onClick:e.resetPresetAndRefresh},{default:d(()=>[T(b(e.t("reset_page_preferences")),1)]),_:1},8,["onClick"])]),default:d(()=>[T(b(e.t("unexpected_error_copy"))+" ",1)]),_:1},8,["title"])):e.geojsonError?(m(),C(f,{key:1,type:"warning",icon:"wrong_location",center:"",title:e.t("layouts.map.invalid_geometry")},{default:d(()=>[T(b(e.geojsonError),1)]),_:1},8,["title"])):e.loading||e.geojsonLoading?(m(),C(_,{key:2,indeterminate:"","x-large":"",class:"center"})):R("",!0)]),_:1}),e.loading||e.itemCount>0?(m(),I("div",See,[e.totalPages>1?(m(),I("div",Cee,[i(y,{length:e.totalPages,"total-visible":7,"show-first-last":"","model-value":e.page,"onUpdate:modelValue":e.toPage},null,8,["length","model-value","onUpdate:modelValue"])])):R("",!0),S("div",Vee,[S("span",null,b(e.t("limit")),1),i(v,{"model-value":e.limit,items:[{text:e.n(100),value:100},{text:e.n(1e3),value:1e3},{text:e.n(1e4),value:1e4},{text:e.n(1e5),value:1e5}],inline:"","onUpdate:modelValue":t[1]||(t[1]=h=>e.limitWritable=+h)},null,8,["model-value","items"])])])):R("",!0)])}var Aee=q($ee,[["render",Fee],["__scopeId","data-v-36f76c2e"]]);const Iee=z({inheritAttrs:!1,props:{collection:{type:String,required:!0},geometryFields:{type:Array,required:!0},geometryField:{type:String,default:void 0},geometryOptions:{type:Object,default:void 0},clusterData:{type:Boolean,default:void 0},displayTemplate:{type:String,default:void 0}},emits:["update:geometryField","update:autoLocationFilter","update:clusterData"],setup(e,{emit:t}){const{t:n}=J(),l=bt(),o=je(e,"geometryField",t),u=je(e,"clusterData",t),a=je(e,"displayTemplate",t),r=al(),{basemap:s}=Me(l);return{t:n,geometryFieldWritable:o,clusterDataWritable:u,displayTemplateWritable:a,basemaps:r,basemap:s}}}),Eee={class:"field"},Dee={class:"type-label"},Tee={key:0,class:"field"},Lee={key:1,class:"field"},Pee={class:"type-label"},Oee={class:"field"},Ree={class:"type-label"},jee={class:"field"};function Mee(e,t,n,l,o,u){const a=c("v-select"),r=c("v-input"),s=c("v-field-template"),p=c("v-checkbox");return m(),I(x,null,[S("div",Eee,[S("div",Dee,b(e.t("layouts.map.basemap")),1),i(a,{modelValue:e.basemap,"onUpdate:modelValue":t[0]||(t[0]=f=>e.basemap=f),items:e.basemaps.map(f=>({text:f.name,value:f.name}))},null,8,["modelValue","items"])]),e.geometryFields.length==0?(m(),I("div",Tee,[i(r,{type:"text",disabled:"",prefix:e.t("layouts.map.no_compatible_fields")},null,8,["prefix"])])):(m(),I("div",Lee,[S("div",Pee,b(e.t("layouts.map.field")),1),i(a,{modelValue:e.geometryFieldWritable,"onUpdate:modelValue":t[1]||(t[1]=f=>e.geometryFieldWritable=f),items:e.geometryFields.map(({name:f,field:_})=>({text:f,value:_}))},null,8,["modelValue","items"])])),S("div",Oee,[S("div",Ree,b(e.t("display_template")),1),i(s,{modelValue:e.displayTemplateWritable,"onUpdate:modelValue":t[2]||(t[2]=f=>e.displayTemplateWritable=f),collection:e.collection,placeholder:e.t("layouts.map.default_template")},null,8,["modelValue","collection","placeholder"])]),S("div",jee,[i(p,{modelValue:e.clusterDataWritable,"onUpdate:modelValue":t[3]||(t[3]=f=>e.clusterDataWritable=f),label:e.t("layouts.map.cluster"),disabled:e.geometryOptions&&e.geometryOptions.geometryType!=="Point"},null,8,["modelValue","label","disabled"])])],64)}var Uee=q(Iee,[["render",Mee]]);const Nee=z({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,required:!0}}}),Bee={key:0,class:"item-count"};function qee(e,t,n,l,o,u){return m(),C(Ot,{name:"fade"},{default:d(()=>[e.itemCount?(m(),I("span",Bee,b(e.showingCount),1)):R("",!0)]),_:1})}var zee=q(Nee,[["render",qee],["__scopeId","data-v-08898882"]]);const{green:Gl,orange:Kn,yellow:Is,black:Kee,white:Hee}=ks,Wee=[{id:"__directus_polygons_outline",type:"line",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Polygon"]],paint:{"line-color":["case",["boolean",["feature-state","selected"],!1],Kn,["boolean",["feature-state","hovered"],!1],Kn,Gl],"line-width":2},layout:{"line-join":"round"}},{id:"__directus_polygons",type:"fill",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Polygon"]],paint:{"fill-color":["case",["boolean",["feature-state","selected"],!1],Is,["boolean",["feature-state","hovered"],!1],Is,Gl],"fill-opacity":.15}},{id:"__directus_lines",type:"line",source:"__directus",filter:["all",["!has","point_count"],["==","$type","LineString"]],paint:{"line-color":["case",["boolean",["feature-state","selected"],!1],Kn,["boolean",["feature-state","hovered"],!1],Kn,Gl],"line-width":2}},{id:"__directus_points_shadow",type:"circle",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Point"]],layout:{},paint:{"circle-radius":10,"circle-blur":1,"circle-opacity":.9,"circle-color":Kee}},{id:"__directus_points",type:"circle",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Point"]],layout:{},paint:{"circle-radius":6,"circle-color":["case",["boolean",["feature-state","selected"],!1],Kn,["boolean",["feature-state","hovered"],!1],Kn,Gl],"circle-stroke-color":Hee,"circle-stroke-width":2}},{id:"__directus_clusters",type:"circle",source:"__directus",filter:["has","point_count"],paint:{"circle-radius":["step",["get","point_count"],20,100,30,750,40],"circle-color":["step",["get","point_count"],"#7fe3ca",100,"#fde2a7",750,"#f0a7b3"],"circle-opacity":.7}},{id:"__directus_cluster_count",type:"symbol",source:"__directus",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Semibold"],"text-size":["step",["get","point_count"],15,100,17,750,19]},paint:{"text-opacity":.85}}];var Gee=$l({id:"map",name:"$t:layouts.map.map",icon:"map",smallHeader:!0,component:Aee,slots:{options:Uee,sidebar:()=>{},actions:zee},setup(e,{emit:t}){const{t:n,n:l}=J(),o=Xe(),u=je(e,"selection",t),a=je(e,"layoutOptions",t),r=je(e,"layoutQuery",t),{collection:s,filter:p,filterUser:f,search:_}=Me(e),{info:y,primaryKeyField:v,fields:h}=ot(s),w=ft(r,"page",1),g=ft(r,"limit",1e3),k=F(()=>{var fe;return v.value?[(fe=v.value)==null?void 0:fe.field]:[]}),A=ft(r,"sort",k),V=E(),D=F(()=>V.value?p.value?{_and:[p.value,V.value]}:V.value:p.value),P=ft(a,"displayTemplate",void 0),L=ft(a,"cameraOptions",void 0),B=ft(a,"clusterData",!1),O=ft(a,"geometryField",void 0),M=F(()=>h.value.find(fe=>fe.field==O.value)),N=F(()=>h.value.filter(({type:fe,meta:Re})=>fe.startsWith("geometry")||(Re==null?void 0:Re.interface)=="map"));ye(N,fe=>{!O.value&&fe.length>0&&(O.value=fe[0].field)},{immediate:!0});const K=F(()=>{var at,rt,_t;const fe=M.value;if(!fe)return;const Re=fe.field,Ye=bs(fe.type),lt=(_t=fe.type.split(".")[1])!=null?_t:(rt=(at=fe.meta)==null?void 0:at.options)==null?void 0:rt.geometryType;if(!!Ye)return{geometryField:Re,geometryFormat:Ye,geometryType:lt}}),G=F(()=>{var fe;return((fe=K.value)==null?void 0:fe.geometryFormat)==="native"}),ie=F(()=>{var fe,Re,Ye;return P.value||((Re=(fe=y.value)==null?void 0:fe.meta)==null?void 0:Re.display_template)||`{{ ${(Ye=v.value)==null?void 0:Ye.field} }}`}),de=F(()=>{var fe;return[O.value,...ht(ie.value)].concat((fe=v.value)==null?void 0:fe.field).filter(Re=>!!Re)});function ne(){if(!G.value||!L.value||!O.value)return;const fe=L.value.bbox,Re=[[fe[0],fe[1]],[fe[2],fe[1]],[fe[2],fe[3]],[fe[0],fe[3]],[fe[0],fe[1]]];return{[O.value]:{_intersects_bbox:{type:"Polygon",coordinates:[Re]}}}}const le=E(!1);function se(){var fe;if(le.value=!0,G.value){V.value=void 0;return}((fe=ve.value)==null?void 0:fe.features.length)&&(ue.value=U.exports.cloneDeep(ve.value.bbox))}ye(L,()=>{le.value=!1,V.value=ne()});const{items:ee,loading:Z,error:te,totalPages:me,itemCount:H,totalCount:Y,getItems:_e}=kl(s,{sort:A,limit:g,page:w,search:_,filter:D,fields:de}),ve=E({type:"FeatureCollection",features:[]}),ue=E(),W=E(null),X=E(!1);ye([_,s,g,A],ce),ye(ee,oe),ye(O,()=>le.value=!0);function ce(){le.value=!0,X.value=!1}function oe(){if(K.value)try{ve.value={type:"FeatureCollection",features:[]},X.value=!0,W.value=null,ve.value=VZ(ee.value,K.value),X.value=!1,(!L.value||le.value)&&(ue.value=ve.value.bbox)}catch(fe){X.value=!1,W.value=fe,ve.value={type:"FeatureCollection",features:[]}}else ve.value={type:"FeatureCollection",features:[]}}const he=E({type:"geojson",data:{type:"FeatureCollection",features:[]}});ye(B,ge,{immediate:!0});function ge(){he.value=U.exports.merge({},he.value,{cluster:B.value})}function we(fe){u.value=Array.from(new Set(fe))}function Ce(fe){u.value=Array.from(new Set(u.value.concat(fe)))}function Fe({ids:fe,replace:Re}){Re?we(fe):Ce(fe)}function De({id:fe,replace:Re}){e.selectMode?Fe({ids:[fe],replace:Re}):o.push(`/content/${s.value}/${fe}`)}const tt=F(()=>{var fe,Re;return e.readonly?null:(Re=(fe=v.value)==null?void 0:fe.field)!=null?Re:null}),Pe=F(()=>(H.value||0)<(Y.value||0)&&f.value?H.value===1?n("one_filtered_item"):n("start_end_of_count_filtered_items",{start:l((+w.value-1)*g.value+1),end:l(Math.min(w.value*g.value,H.value||0)),count:l(H.value||0)}):H.value===1?n("one_item"):n("start_end_of_count_items",{start:l((+w.value-1)*g.value+1),end:l(Math.min(w.value*g.value,H.value||0)),count:l(H.value||0)})),Oe=E({item:null});function Te(fe){var Re,Ye;if("item"in fe){const lt=(Re=v.value)==null?void 0:Re.field;fe.item=lt&&(Ye=ee.value.find(at=>at[lt]===fe.item))!=null?Ye:null}Oe.value=U.exports.merge({},Oe.value,fe)}return{collection:s,geojson:ve,directusSource:he,directusLayers:Wee,featureId:tt,geojsonBounds:ue,geojsonLoading:X,geojsonError:W,geometryOptions:K,handleClick:De,handleSelect:Fe,geometryField:O,displayTemplate:P,isGeometryFieldNative:G,cameraOptions:L,clusterData:B,items:ee,loading:Z,error:te,totalPages:me,page:w,toPage:Ie,itemCount:H,fieldsInCollection:h,limit:g,filter:p,primaryKeyField:v,sort:A,info:y,showingCount:Pe,refresh:Be,resetPresetAndRefresh:Qe,geometryFields:N,fitDataBounds:se,template:ie,itemPopup:Oe,updateItemPopup:Te};async function Qe(){var fe;await((fe=e==null?void 0:e.resetPreset)==null?void 0:fe.call(e)),Be()}function Be(){_e()}function Ie(fe){w.value=fe}}}),Zee=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Gee});const Jee=z({inheritAttrs:!1,props:{collection:{type:String,required:!0},selection:{type:Array,default:()=>[]},readonly:{type:Boolean,required:!0},tableHeaders:{type:Array,required:!0},showSelect:{type:String,default:"none"},items:{type:Array,required:!0},loading:{type:Boolean,required:!0},error:{type:Object,default:null},totalPages:{type:Number,required:!0},tableSort:{type:Object,required:!0},onRowClick:{type:Function,required:!0},onSortChange:{type:Function,required:!0},tableRowHeight:{type:Number,required:!0},page:{type:Number,required:!0},toPage:{type:Function,required:!0},itemCount:{type:Number,default:null},fields:{type:Array,required:!0},limit:{type:Number,required:!0},primaryKeyField:{type:Object,default:null},info:{type:Object,default:null},sortField:{type:String,default:null},changeManualSort:{type:Function,required:!0},resetPresetAndRefresh:{type:Function,required:!0},selectAll:{type:Function,required:!0},filterUser:{type:Object,default:null},search:{type:String,default:null}},emits:["update:selection","update:tableHeaders","update:limit"],setup(e,{emit:t}){const{t:n}=J(),l=je(e,"selection",t),o=je(e,"tableHeaders",t),u=je(e,"limit",t),a=ct("main-element"),r=E();return ye(()=>e.page,()=>{var s;return(s=a.value)==null?void 0:s.scrollTo({top:0,behavior:"smooth"})}),nt("meta+a",()=>{e.selectAll()},r),{t:n,selectionWritable:l,tableHeadersWritable:o,limitWritable:u,table:r}}}),Qee={class:"layout-tabular"},Xee={class:"footer"},Yee={class:"pagination"},xee={key:0,class:"per-page"};function ete(e,t,n,l,o,u){const a=c("render-display"),r=c("v-pagination"),s=c("v-select"),p=c("v-table"),f=c("v-error"),_=c("v-button"),y=c("v-info");return m(),I("div",Qee,[e.loading||e.itemCount>0?(m(),C(p,{key:0,ref:"table",modelValue:e.selectionWritable,"onUpdate:modelValue":t[1]||(t[1]=v=>e.selectionWritable=v),headers:e.tableHeadersWritable,"onUpdate:headers":t[2]||(t[2]=v=>e.tableHeadersWritable=v),class:"table","fixed-header":"","show-select":e.showSelect?e.showSelect:e.selection!==void 0,"show-resize":"","must-sort":"",sort:e.tableSort,items:e.items,loading:e.loading,"row-height":e.tableRowHeight,"server-sort":e.itemCount===e.limit||e.totalPages>1,"item-key":e.primaryKeyField.field,"show-manual-sort":e.sortField!==null,"manual-sort-key":e.sortField,"selection-use-keys":"","onClick:row":e.onRowClick,"onUpdate:sort":e.onSortChange,onManualSort:e.changeManualSort},xe({footer:d(()=>[S("div",Xee,[S("div",Yee,[e.totalPages>1?(m(),C(r,{key:0,length:e.totalPages,"total-visible":7,"show-first-last":"","model-value":e.page,"onUpdate:modelValue":e.toPage},null,8,["length","model-value","onUpdate:modelValue"])):R("",!0)]),e.loading===!1&&e.items.length>=25?(m(),I("div",xee,[S("span",null,b(e.t("per_page")),1),i(s,{"model-value":`${e.limit}`,items:["25","50","100","250","500"," 1000"],inline:"","onUpdate:modelValue":t[0]||(t[0]=v=>e.limitWritable=+v)},null,8,["model-value"])])):R("",!0)])]),_:2},[$e(e.tableHeaders,v=>({name:`item.${v.value}`,fn:d(({item:h})=>[i(a,{value:h[v.value],display:v.field.display,options:v.field.displayOptions,interface:v.field.interface,"interface-options":v.field.interfaceOptions,type:v.field.type,collection:e.collection,field:v.field.field},null,8,["value","display","options","interface","interface-options","type","collection","field"])])}))]),1032,["modelValue","headers","show-select","sort","items","loading","row-height","server-sort","item-key","show-manual-sort","manual-sort-key","onClick:row","onUpdate:sort","onManualSort"])):e.error?(m(),C(y,{key:1,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:d(()=>[i(f,{error:e.error},null,8,["error"]),i(_,{small:"",class:"reset-preset",onClick:e.resetPresetAndRefresh},{default:d(()=>[T(b(e.t("reset_page_preferences")),1)]),_:1},8,["onClick"])]),default:d(()=>[T(b(e.t("unexpected_error_copy"))+" ",1)]),_:1},8,["title"])):e.itemCount===0&&(e.filterUser||e.search)?be(e.$slots,"no-results",{key:2},void 0,!0):e.itemCount===0?be(e.$slots,"no-items",{key:3},void 0,!0):R("",!0)])}var tte=q(Jee,[["render",ete],["__scopeId","data-v-8bf67ae6"]]);const nte=z({components:{Draggable:It},inheritAttrs:!1,props:{fields:{type:Array,required:!0},activeFields:{type:Array,required:!0},tableSpacing:{type:String,required:!0},hideDragImage:{type:Function,required:!0},availableFields:{type:Array,required:!0}},emits:["update:tableSpacing","update:activeFields","update:fields"],setup(e,{emit:t}){const{t:n}=J(),l=je(e,"fields",t),o=je(e,"activeFields",t),u=je(e,"tableSpacing",t);return{t:n,fieldsWritable:l,activeFieldsWritable:o,tableSpacingWritable:u}}}),lte=e=>(He("data-v-4a9cb74e"),e=e(),We(),e),ote={class:"field"},ate={class:"type-label"},ite={class:"field"},rte={class:"type-label"},ste=lte(()=>S("div",{class:"spacer"},null,-1));function dte(e,t,n,l,o,u){const a=c("v-select"),r=c("v-icon"),s=c("v-checkbox"),p=c("draggable");return m(),I(x,null,[S("div",ote,[S("div",ate,b(e.t("layouts.tabular.spacing")),1),i(a,{modelValue:e.tableSpacingWritable,"onUpdate:modelValue":t[0]||(t[0]=f=>e.tableSpacingWritable=f),items:[{text:e.t("layouts.tabular.compact"),value:"compact"},{text:e.t("layouts.tabular.cozy"),value:"cozy"},{text:e.t("layouts.tabular.comfortable"),value:"comfortable"}]},null,8,["modelValue","items"])]),S("div",ite,[S("div",rte,b(e.t("layouts.tabular.fields")),1),i(p,{modelValue:e.activeFieldsWritable,"onUpdate:modelValue":t[3]||(t[3]=f=>e.activeFieldsWritable=f),"item-key":"field",handle:".drag-handle","set-data":e.hideDragImage,"force-fallback":!0},{item:d(({element:f})=>[i(s,{modelValue:e.fieldsWritable,"onUpdate:modelValue":t[2]||(t[2]=_=>e.fieldsWritable=_),value:f.field,label:f.name},{append:d(()=>[ste,i(r,{name:"drag_handle",class:"drag-handle",onClick:t[1]||(t[1]=Ae(()=>{},["stop"]))})]),_:2},1032,["modelValue","value","label"])]),_:1},8,["modelValue","set-data"]),(m(!0),I(x,null,$e(e.availableFields.filter(f=>e.fields.includes(f.field)===!1),f=>(m(),C(s,{key:f.field,modelValue:e.fieldsWritable,"onUpdate:modelValue":t[4]||(t[4]=_=>e.fieldsWritable=_),value:f.field,label:f.name},null,8,["modelValue","value","label"]))),128))])],64)}var ute=q(nte,[["render",dte],["__scopeId","data-v-4a9cb74e"]]);const cte=z({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,required:!0}}}),pte={key:0,class:"item-count"};function mte(e,t,n,l,o,u){return m(),C(Ot,{name:"fade"},{default:d(()=>[e.itemCount?(m(),I("span",pte,b(e.showingCount),1)):R("",!0)]),_:1})}var fte=q(cte,[["render",mte],["__scopeId","data-v-34941803"]]),_te=$l({id:"tabular",name:"$t:layouts.tabular.tabular",icon:"reorder",component:tte,slots:{options:ute,sidebar:()=>{},actions:fte},setup(e,{emit:t}){const{t:n,n:l}=J(),o=Xe(),u=je(e,"selection",t),a=je(e,"layoutOptions",t),r=je(e,"layoutQuery",t),{collection:s,filter:p,filterUser:f,search:_}=Me(e),{info:y,primaryKeyField:v,fields:h,sortField:w}=ot(s),{sort:g,limit:k,page:A,fields:V,fieldsWithRelational:D}=ue(),{items:P,loading:L,error:B,totalPages:O,itemCount:M,totalCount:N,changeManualSort:K,getItems:G}=kl(s,{sort:g,limit:k,page:A,fields:D,filter:p,search:_}),{tableSort:ie,tableHeaders:de,tableRowHeight:ne,onRowClick:le,onSortChange:se,activeFields:ee,tableSpacing:Z}=W(),te=F(()=>(M.value||0)<(N.value||0)&&f.value?M.value===1?n("one_filtered_item"):n("start_end_of_count_filtered_items",{start:l((+A.value-1)*k.value+1),end:l(Math.min(A.value*k.value,M.value||0)),count:l(M.value||0)}):M.value===1?n("one_item"):n("start_end_of_count_items",{start:l((+A.value-1)*k.value+1),end:l(Math.min(A.value*k.value,M.value||0)),count:l(M.value||0)})),me=F(()=>h.value.filter(X=>{var ce,oe;return((oe=(ce=X.meta)==null?void 0:ce.special)==null?void 0:oe.includes("no-data"))!==!0}));return{tableHeaders:de,items:P,loading:L,error:B,totalPages:O,tableSort:ie,onRowClick:le,onSortChange:se,tableRowHeight:ne,page:A,toPage:_e,itemCount:M,totalCount:N,fieldsInCollection:h,fields:V,limit:k,activeFields:ee,tableSpacing:Z,primaryKeyField:v,info:y,showingCount:te,sortField:w,changeManualSort:K,hideDragImage:zt,refresh:Y,resetPresetAndRefresh:H,selectAll:ve,availableFields:me,filter:p,search:_};async function H(){var X;await((X=e==null?void 0:e.resetPreset)==null?void 0:X.call(e)),Y()}function Y(){G()}function _e(X){A.value=X}function ve(){if(!v.value)return;const X=v.value;u.value=U.exports.clone(P.value).map(ce=>ce[X.field])}function ue(){const X=ft(r,"page",1),ce=ft(r,"limit",25),oe=F(()=>{var Fe;return v.value?[(Fe=v.value)==null?void 0:Fe.field]:[]}),he=ft(r,"sort",oe),ge=F(()=>h.value.filter(Fe=>{var De;return!((De=Fe.meta)==null?void 0:De.hidden)}).slice(0,4).map(({field:Fe})=>Fe).sort()),we=ft(r,"fields",ge),Ce=F(()=>e.collection?Yt(we.value,e.collection):[]);return{sort:he,limit:ce,page:X,fields:we,fieldsWithRelational:Ce}}function W(){const X=F(()=>{var Pe,Oe;return((Pe=g.value)==null?void 0:Pe[0])?((Oe=g.value)==null?void 0:Oe[0].startsWith("-"))?{by:g.value[0].substring(1),desc:!0}:{by:g.value[0],desc:!1}:null}),ce=E({});ye(()=>a.value,()=>{ce.value={}});const oe=U.exports.debounce(()=>{a.value=Object.assign({},a.value,{widths:ce.value})},350),he=F({get(){return V.value.map(Pe=>h.value.find(Oe=>Oe.field===Pe)).filter(Pe=>Pe)},set(Pe){V.value=Pe.map(Oe=>Oe.field)}}),ge=F({get(){return he.value.map(Pe=>{var Oe,Te,Qe,Be,Ie,fe;return{text:Pe.name,value:Pe.field,width:ce.value[Pe.field]||((Te=(Oe=a.value)==null?void 0:Oe.widths)==null?void 0:Te[Pe.field])||null,field:{display:((Qe=Pe.meta)==null?void 0:Qe.display)||Kr(Pe.type),displayOptions:(Be=Pe.meta)==null?void 0:Be.display_options,interface:(Ie=Pe.meta)==null?void 0:Ie.interface,interfaceOptions:(fe=Pe.meta)==null?void 0:fe.options,type:Pe.type,field:Pe.field},sortable:["json","o2m","m2o","m2m","m2a","file","files","alias","presentation","translations"].includes(Pe.type)===!1}})},set(Pe){const Oe={};Pe.forEach(Te=>{Te.width&&(Oe[Te.value]=Te.width)}),ce.value=Oe,oe()}}),we=ft(a,"spacing","cozy"),Ce=F(()=>{switch(we.value){case"compact":return 32;case"cozy":default:return 48;case"comfortable":return 64}});return{tableSort:X,tableHeaders:ge,tableSpacing:we,tableRowHeight:Ce,onRowClick:Fe,onSortChange:De,activeFields:he,getFieldDisplay:tt};function Fe({item:Pe,event:Oe}){var Qe,Be;if(e.readonly===!0||!v.value)return;const Te=Pe[v.value.field];if(e.selectMode||((Qe=u.value)==null?void 0:Qe.length)>0)((Be=u.value)==null?void 0:Be.includes(Te))===!1?u.value=u.value.concat(Te):u.value=u.value.filter(Ie=>Ie!==Te);else{const Ie=o.resolve(`/content/${s.value}/${encodeURIComponent(Te)}`);Oe.ctrlKey||Oe.metaKey?window.open(Ie.href,"_blank"):o.push(Ie)}}function De(Pe){let Oe=Pe.by;if(!Pe.by){g.value=[];return}Pe.desc===!0&&(Oe="-"+Oe),g.value=[Oe]}function tt(Pe){var Te;const Oe=h.value.find(Qe=>Qe.field===Pe);return((Te=Oe==null?void 0:Oe.meta)==null?void 0:Te.display)?{display:Oe.meta.display,options:Oe.meta.display_options}:null}}}}),vte=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_te});const{layoutsRaw:Es}=An();async function yte(e){const n=Object.values({"./calendar/index.ts":Vx,"./cards/index.ts":hee,"./map/index.ts":Zee,"./tabular/index.ts":vte}).map(l=>l.default);try{const l=await j(()=>import(`${Ge()}extensions/layouts/index.js`),[]);n.push(...l.default)}catch(l){console.warn("Couldn't load custom layouts"),console.warn(l)}Es.value=n,Es.value.forEach(l=>{e.component(`layout-${l.id}`,l.component),e.component(`layout-options-${l.id}`,l.slots.options),e.component(`layout-sidebar-${l.id}`,l.slots.sidebar),e.component(`layout-actions-${l.id}`,l.slots.actions)})}var hte="assets/logo-light.7a327cdd.svg";const gte=z({props:{wide:{type:Boolean,default:!1}},setup(){var r;const{t:e}=J(),t=Sn(),n=F(()=>{var s,p;return!!((p=(s=t.info)==null?void 0:s.project)==null?void 0:p.project_color)}),l=F(()=>{var p,f,_,y,v;const s="#263238";return((f=(p=t.info)==null?void 0:p.project)==null?void 0:f.public_background)?`url(${Ge()+`assets/${(_=t.info.project)==null?void 0:_.public_background}`})`:((v=(y=t.info)==null?void 0:y.project)==null?void 0:v.project_color)||s}),o=F(()=>({background:l.value,backgroundSize:"cover",backgroundPosition:"center center"})),u=F(()=>{var s,p,f;return((p=(s=t.info)==null?void 0:s.project)==null?void 0:p.public_foreground)?Ge()+`assets/${(f=t.info.project)==null?void 0:f.public_foreground}`:null}),a=F(()=>{var s,p,f;return((p=(s=t.info)==null?void 0:s.project)==null?void 0:p.project_logo)?Ge()+`assets/${(f=t.info.project)==null?void 0:f.project_logo}`:null});return{version:wa,artStyles:o,branding:(r=t.info)==null?void 0:r.project,foregroundURL:u,logoURL:a,isBranded:n,t:e}}}),bte=e=>(He("data-v-6271dfe4"),e=e(),We(),e),wte={class:"title-box"},$te=["src","alt"],kte=bte(()=>S("img",{src:hte,alt:"Directus",class:"directus-logo"},null,-1)),Ste=[kte],Cte={class:"title"},Vte={class:"type-title"},Fte={class:"subtitle"},Ate={class:"content"},Ite={class:"notice"},Ete=["src","alt"],Dte={class:"note-container"},Tte={key:0,class:"note"};function Lte(e,t,n,l,o,u){var r,s,p,f,_;const a=ke("md");return m(),I("div",{class:ae(["public-view",{branded:e.isBranded}])},[S("div",{class:ae(["container",{wide:e.wide}])},[S("div",wte,[((r=e.branding)==null?void 0:r.project_logo)?(m(),I("div",{key:0,class:"logo",style:Ue({backgroundColor:e.branding.project_color})},[S("img",{src:e.logoURL,alt:e.branding.project_name||"Logo"},null,8,$te)],4)):(m(),I("div",{key:1,class:"logo",style:Ue({backgroundColor:e.branding.project_color})},Ste,4)),S("div",Cte,[S("h1",Vte,b((s=e.branding)==null?void 0:s.project_name),1),S("p",Fte,b((f=(p=e.branding)==null?void 0:p.project_descriptor)!=null?f:e.t("application")),1)])]),S("div",Ate,[be(e.$slots,"default")]),S("div",Ite,[be(e.$slots,"notice")])],2),S("div",{class:"art",style:Ue(e.artStyles)},[i(Ot,{name:"scale"},{default:d(()=>{var y;return[e.foregroundURL?(m(),I("img",{key:0,class:"foreground",src:e.foregroundURL,alt:(y=e.branding)==null?void 0:y.project_name},null,8,Ete)):R("",!0)]}),_:1}),S("div",Dte,[((_=e.branding)==null?void 0:_.public_note)?Q((m(),I("div",Tte,null,512)),[[a,e.branding.public_note]]):R("",!0)])],4)],2)}var Pte=q(gte,[["render",Lte],["__scopeId","data-v-6271dfe4"]]),Ote="assets/logo.eba1b355.svg";const Rte=z({name:"SharedView",props:{title:{type:String,default:null},inline:{type:Boolean,default:!1}},setup(){const e=Sn(),{info:t}=Vt(e),{t:n}=J(),l=F(()=>{var o,u,a;return((u=(o=e.info)==null?void 0:o.project)==null?void 0:u.project_logo)?Ge()+`assets/${(a=e.info.project)==null?void 0:a.project_logo}`:null});return{serverInfo:t,t:n,logoURL:l}}}),jte=e=>(He("data-v-6d8a8b35"),e=e(),We(),e),Mte={class:"inline-container"},Ute={class:"container"},Nte={class:"title-box"},Bte=["src","alt"],qte=jte(()=>S("img",{src:Ote,alt:"Directus",class:"directus-logo"},null,-1)),zte=[qte],Kte={class:"title"},Hte={class:"subtitle"},Wte={class:"type-title"},Gte={class:"container"},Zte={class:"content"};function Jte(e,t,n,l,o,u){var a,r,s,p,f;return m(),I("div",{class:ae(["shared",{inline:e.inline}])},[S("div",Mte,[S("header",null,[S("div",Ute,[S("div",Nte,[((a=e.serverInfo)==null?void 0:a.project.project_logo)?(m(),I("div",{key:0,class:"logo",style:Ue({backgroundColor:(r=e.serverInfo)==null?void 0:r.project.project_color})},[S("img",{src:e.logoURL,alt:((s=e.serverInfo)==null?void 0:s.project.project_name)||"Logo"},null,8,Bte)],4)):(m(),I("div",{key:1,class:"logo",style:Ue({backgroundColor:(p=e.serverInfo)==null?void 0:p.project.project_color})},zte,4)),S("div",Kte,[S("p",Hte,b((f=e.serverInfo)==null?void 0:f.project.project_name),1),be(e.$slots,"title",{},()=>{var _;return[S("h1",Wte,b((_=e.title)!=null?_:e.t("share_access_page")),1)]},!0)])])])]),S("div",Gte,[S("div",Zte,[be(e.$slots,"default",{},void 0,!0)])])])],2)}var Qte=q(Rte,[["render",Jte],["__scopeId","data-v-6d8a8b35"]]);const Xte=ga(()=>j(()=>import("./index.6944de49.js"),["assets/index.6944de49.js","assets/index.71a497d6.css","assets/vendor.f59145b7.js","assets/vendor.fe7856f0.css","assets/use-sync.04f09f9e.js"]));function Yte(e){e.component("PublicView",Pte),e.component("PrivateView",Xte),e.component("SharedView",Qte)}xte();async function xte(){console.log(v8),console.info(`Hey! Interested in helping build this open-source data management platform?
If so, join our growing team of contributors at: https://directus.chat`),console.info("%c\u{1F430} Starting Directus...","color:Green"),console.time("\u{1F553} Application Loaded");const e=Yd(JL);e.use(Mt),e.use(ze),e.use(xd()),sq(e),JB(e),Yte(e),await Promise.all([ox(e),Mq(e),PK(e),yte(e),SL()]),e.mount("#app"),console.timeEnd("\u{1F553} Application Loaded"),console.group("%c\u2728 Project Information","color:DodgerBlue"),console.info("%cEnvironment: production","color:DodgerBlue"),console.groupEnd(),window.addEventListener("dragover",t=>t.preventDefault(),!1),window.addEventListener("drop",t=>t.preventDefault(),!1)}export{aO as H,vn as M,q as _,Nl as a,ut as b,bt as c,dl as d,Ze as e,Cl as f,Ge as g,Wo as h,Sn as i,ni as j,Ke as k,re as l,lz as m,S3 as n,ze as o,NL as p,Wk as q,ro as r,BW as s,Ft as t,ul as u};
